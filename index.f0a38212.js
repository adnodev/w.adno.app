function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},i={},o=n.parcelRequire5d42;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in i){var t=i[e];delete i[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){i[e]=t},n.parcelRequire5d42=o),o.register("1b2ls",(function(t,n){
/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var r,i,a;e(t.exports,"Fragment",(()=>r),(e=>r=e)),e(t.exports,"jsx",(()=>i),(e=>i=e)),e(t.exports,"jsxs",(()=>a),(e=>a=e)),o("8coUR");var s=o("acw62"),l=60103;if(r=60107,"function"==typeof Symbol&&Symbol.for){var c=Symbol.for;l=c("react.element"),r=c("react.fragment")}var u=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p=Object.prototype.hasOwnProperty,d={key:!0,ref:!0,__self:!0,__source:!0};function h(e,t,n){var r,i={},o=null,a=null;for(r in void 0!==n&&(o=""+n),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(a=t.ref),t)p.call(t,r)&&!d.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:l,type:e,key:o,ref:a,props:i,_owner:u.current}}i=h,a=h})),o.register("8coUR",(function(e,t){var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var o,a,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))r.call(o,c)&&(s[c]=o[c]);if(n){a=n(o);for(var u=0;u<a.length;u++)i.call(o,a[u])&&(s[a[u]]=o[a[u]])}}return s}})),o.register("acw62",(function(e,t){e.exports=o("2pUnB")})),o.register("2pUnB",(function(t,n){
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var r,i,a,s,l,c,u,p,d,h,f,m,g,v,y,b,w,x,k,S,C,E,T,_,A,O,N,M;e(t.exports,"Fragment",(()=>r),(e=>r=e)),e(t.exports,"StrictMode",(()=>i),(e=>i=e)),e(t.exports,"Profiler",(()=>a),(e=>a=e)),e(t.exports,"Suspense",(()=>s),(e=>s=e)),e(t.exports,"Children",(()=>l),(e=>l=e)),e(t.exports,"Component",(()=>c),(e=>c=e)),e(t.exports,"PureComponent",(()=>u),(e=>u=e)),e(t.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",(()=>p),(e=>p=e)),e(t.exports,"cloneElement",(()=>d),(e=>d=e)),e(t.exports,"createContext",(()=>h),(e=>h=e)),e(t.exports,"createElement",(()=>f),(e=>f=e)),e(t.exports,"createFactory",(()=>m),(e=>m=e)),e(t.exports,"createRef",(()=>g),(e=>g=e)),e(t.exports,"forwardRef",(()=>v),(e=>v=e)),e(t.exports,"isValidElement",(()=>y),(e=>y=e)),e(t.exports,"lazy",(()=>b),(e=>b=e)),e(t.exports,"memo",(()=>w),(e=>w=e)),e(t.exports,"useCallback",(()=>x),(e=>x=e)),e(t.exports,"useContext",(()=>k),(e=>k=e)),e(t.exports,"useDebugValue",(()=>S),(e=>S=e)),e(t.exports,"useEffect",(()=>C),(e=>C=e)),e(t.exports,"useImperativeHandle",(()=>E),(e=>E=e)),e(t.exports,"useLayoutEffect",(()=>T),(e=>T=e)),e(t.exports,"useMemo",(()=>_),(e=>_=e)),e(t.exports,"useReducer",(()=>A),(e=>A=e)),e(t.exports,"useRef",(()=>O),(e=>O=e)),e(t.exports,"useState",(()=>N),(e=>N=e)),e(t.exports,"version",(()=>M),(e=>M=e));var P=o("8coUR"),D=60103,L=60106;r=60107,i=60108,a=60114;var R=60109,I=60110,B=60112;s=60113;var j=60115,F=60116;if("function"==typeof Symbol&&Symbol.for){var z=Symbol.for;D=z("react.element"),L=z("react.portal"),r=z("react.fragment"),i=z("react.strict_mode"),a=z("react.profiler"),R=z("react.provider"),I=z("react.context"),B=z("react.forward_ref"),s=z("react.suspense"),j=z("react.memo"),F=z("react.lazy")}var H="function"==typeof Symbol&&Symbol.iterator;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U={};function W(e,t,n){this.props=e,this.context=t,this.refs=U,this.updater=n||V}function $(){}function G(e,t,n){this.props=e,this.context=t,this.refs=U,this.updater=n||V}W.prototype.isReactComponent={},W.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(q(85));this.updater.enqueueSetState(this,e,t,"setState")},W.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},$.prototype=W.prototype;var X=G.prototype=new $;X.constructor=G,P(X,W.prototype),X.isPureReactComponent=!0;var Y={current:null},Z=Object.prototype.hasOwnProperty,K={key:!0,ref:!0,__self:!0,__source:!0};function J(e,t,n){var r,i={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)Z.call(t,r)&&!K.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:D,type:e,key:o,ref:a,props:i,_owner:Y.current}}function Q(e){return"object"==typeof e&&null!==e&&e.$$typeof===D}var ee=/\/+/g;function te(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function ne(e,t,n,r,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var a=!1;if(null===e)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case D:case L:a=!0}}if(a)return i=i(a=e),e=""===r?"."+te(a,0):r,Array.isArray(i)?(n="",null!=e&&(n=e.replace(ee,"$&/")+"/"),ne(i,t,n,"",(function(e){return e}))):null!=i&&(Q(i)&&(i=function(e,t){return{$$typeof:D,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(ee,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=""===r?".":r+":",Array.isArray(e))for(var s=0;s<e.length;s++){var l=r+te(o=e[s],s);a+=ne(o,t,n,l,i)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=H&&e[H]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),s=0;!(o=e.next()).done;)a+=ne(o=o.value,t,n,l=r+te(o,s++),i);else if("object"===o)throw t=""+e,Error(q(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return a}function re(e,t,n){if(null==e)return e;var r=[],i=0;return ne(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function ie(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var oe={current:null};function ae(){var e=oe.current;if(null===e)throw Error(q(321));return e}l={map:re,forEach:function(e,t,n){re(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return re(e,(function(){t++})),t},toArray:function(e){return re(e,(function(e){return e}))||[]},only:function(e){if(!Q(e))throw Error(q(143));return e}},c=W,u=G,p={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Y,IsSomeRendererActing:{current:!1},assign:P},d=function(e,t,n){if(null==e)throw Error(q(267,e));var r=P({},e.props),i=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=Y.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)Z.call(t,l)&&!K.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==s?s[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:D,type:e.type,key:i,ref:o,props:r,_owner:a}},h=function(e,t){return void 0===t&&(t=null),(e={$$typeof:I,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:R,_context:e},e.Consumer=e},f=J,m=function(e){var t=J.bind(null,e);return t.type=e,t},g=function(){return{current:null}},v=function(e){return{$$typeof:B,render:e}},y=Q,b=function(e){return{$$typeof:F,_payload:{_status:-1,_result:e},_init:ie}},w=function(e,t){return{$$typeof:j,type:e,compare:void 0===t?null:t}},x=function(e,t){return ae().useCallback(e,t)},k=function(e,t){return ae().useContext(e,t)},S=function(){},C=function(e,t){return ae().useEffect(e,t)},E=function(e,t,n){return ae().useImperativeHandle(e,t,n)},T=function(e,t){return ae().useLayoutEffect(e,t)},_=function(e,t){return ae().useMemo(e,t)},A=function(e,t,n){return ae().useReducer(e,t,n)},O=function(e){return ae().useRef(e)},N=function(e){return ae().useState(e)},M="17.0.2"})),o.register("Xw6Mv",(function(t,n){
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var r,i,a,s,l,c,u,p,d,h,f;e(t.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",(()=>r),(e=>r=e)),e(t.exports,"createPortal",(()=>i),(e=>i=e)),e(t.exports,"findDOMNode",(()=>a),(e=>a=e)),e(t.exports,"flushSync",(()=>s),(e=>s=e)),e(t.exports,"hydrate",(()=>l),(e=>l=e)),e(t.exports,"render",(()=>c),(e=>c=e)),e(t.exports,"unmountComponentAtNode",(()=>u),(e=>u=e)),e(t.exports,"unstable_batchedUpdates",(()=>p),(e=>p=e)),e(t.exports,"unstable_createPortal",(()=>d),(e=>d=e)),e(t.exports,"unstable_renderSubtreeIntoContainer",(()=>h),(e=>h=e)),e(t.exports,"version",(()=>f),(e=>f=e));var m=o("acw62"),g=o("8coUR"),v=o("fO90s");function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!m)throw Error(y(227));var b=new Set,w={};function x(e,t){k(e,t),k(e+"Capture",t)}function k(e,t){for(w[e]=t,e=0;e<t.length;e++)b.add(t[e])}var S=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),C=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E=Object.prototype.hasOwnProperty,T={},_={};function A(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){O[e]=new A(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];O[t]=new A(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){O[e]=new A(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){O[e]=new A(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){O[e]=new A(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){O[e]=new A(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){O[e]=new A(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){O[e]=new A(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){O[e]=new A(e,5,!1,e.toLowerCase(),null,!1,!1)}));var N=/[\-:]([a-z])/g;function M(e){return e[1].toUpperCase()}function P(e,t,n,r){var i=O.hasOwnProperty(t)?O[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!E.call(_,e)||!E.call(T,e)&&(C.test(e)?_[e]=!0:(T[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(N,M);O[t]=new A(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(N,M);O[t]=new A(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(N,M);O[t]=new A(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){O[e]=new A(e,1,!1,e.toLowerCase(),null,!1,!1)})),O.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){O[e]=new A(e,1,!1,e.toLowerCase(),null,!0,!0)}));var D=m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=60103,R=60106,I=60107,B=60108,j=60114,F=60109,z=60110,H=60112,q=60113,V=60120,U=60115,W=60116,$=60121,G=60128,X=60129,Y=60130,Z=60131;if("function"==typeof Symbol&&Symbol.for){var K=Symbol.for;L=K("react.element"),R=K("react.portal"),I=K("react.fragment"),B=K("react.strict_mode"),j=K("react.profiler"),F=K("react.provider"),z=K("react.context"),H=K("react.forward_ref"),q=K("react.suspense"),V=K("react.suspense_list"),U=K("react.memo"),W=K("react.lazy"),$=K("react.block"),K("react.scope"),G=K("react.opaque.id"),X=K("react.debug_trace_mode"),Y=K("react.offscreen"),Z=K("react.legacy_hidden")}var J,Q="function"==typeof Symbol&&Symbol.iterator;function ee(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Q&&e[Q]||e["@@iterator"])?e:null}function te(e){if(void 0===J)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);J=t&&t[1]||""}return"\n"+J+e}var ne=!1;function re(e,t){if(!e||ne)return"";ne=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{ne=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?te(e):""}function ie(e){switch(e.tag){case 5:return te(e.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return e=re(e.type,!1);case 11:return e=re(e.type.render,!1);case 22:return e=re(e.type._render,!1);case 1:return e=re(e.type,!0);default:return""}}function oe(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case I:return"Fragment";case R:return"Portal";case j:return"Profiler";case B:return"StrictMode";case q:return"Suspense";case V:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case z:return(e.displayName||"Context")+".Consumer";case F:return(e._context.displayName||"Context")+".Provider";case H:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case U:return oe(e.type);case $:return oe(e._render);case W:t=e._payload,e=e._init;try{return oe(e(t))}catch(e){}}return null}function ae(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function se(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function le(e){e._valueTracker||(e._valueTracker=function(e){var t=se(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ce(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=se(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ue(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function pe(e,t){var n=t.checked;return g({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function de(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ae(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function he(e,t){null!=(t=t.checked)&&P(e,"checked",t,!1)}function fe(e,t){he(e,t);var n=ae(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ge(e,t.type,n):t.hasOwnProperty("defaultValue")&&ge(e,t.type,ae(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function me(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ge(e,t,n){"number"===t&&ue(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ve(e,t){return e=g({children:void 0},t),(t=function(e){var t="";return m.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ye(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ae(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function be(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(y(91));return g({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function we(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(y(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(y(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ae(n)}}function xe(e,t){var n=ae(t.value),r=ae(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ke(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Se={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Ce(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ee(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Ce(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Te,_e,Ae=(_e=function(e,t){if(e.namespaceURI!==Se.svg||"innerHTML"in e)e.innerHTML=t;else{for((Te=Te||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Te.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return _e(e,t)}))}:_e);function Oe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ne={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Me=["Webkit","ms","Moz","O"];function Pe(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Ne.hasOwnProperty(e)&&Ne[e]?(""+t).trim():t+"px"}function De(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Ne).forEach((function(e){Me.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ne[t]=Ne[e]}))}));var Le=g({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Re(e,t){if(t){if(Le[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(y(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(y(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(y(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(y(62))}}function Ie(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,Fe=null,ze=null;function He(e){if(e=fi(e)){if("function"!=typeof je)throw Error(y(280));var t=e.stateNode;t&&(t=gi(t),je(e.stateNode,e.type,t))}}function qe(e){Fe?ze?ze.push(e):ze=[e]:Fe=e}function Ve(){if(Fe){var e=Fe,t=ze;if(ze=Fe=null,He(e),t)for(e=0;e<t.length;e++)He(t[e])}}function Ue(e,t){return e(t)}function We(e,t,n,r,i){return e(t,n,r,i)}function $e(){}var Ge=Ue,Xe=!1,Ye=!1;function Ze(){null===Fe&&null===ze||($e(),Ve())}function Ke(e,t){var n=e.stateNode;if(null===n)return null;var r=gi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(y(231,t,typeof n));return n}var Je=!1;if(S)try{var Qe={};Object.defineProperty(Qe,"passive",{get:function(){Je=!0}}),window.addEventListener("test",Qe,Qe),window.removeEventListener("test",Qe,Qe)}catch(_e){Je=!1}function et(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var tt=!1,nt=null,rt=!1,it=null,ot={onError:function(e){tt=!0,nt=e}};function at(e,t,n,r,i,o,a,s,l){tt=!1,nt=null,et.apply(ot,arguments)}function st(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function lt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ct(e){if(st(e)!==e)throw Error(y(188))}function ut(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=st(e)))throw Error(y(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ct(i),e;if(o===r)return ct(i),t;o=o.sibling}throw Error(y(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(y(189))}}if(n.alternate!==r)throw Error(y(190))}if(3!==n.tag)throw Error(y(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function pt(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var dt,ht,ft,mt,gt=!1,vt=[],yt=null,bt=null,wt=null,xt=new Map,kt=new Map,St=[],Ct="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Et(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function Tt(e,t){switch(e){case"focusin":case"focusout":yt=null;break;case"dragenter":case"dragleave":bt=null;break;case"mouseover":case"mouseout":wt=null;break;case"pointerover":case"pointerout":xt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kt.delete(t.pointerId)}}function _t(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=Et(t,n,r,i,o),null!==t&&(null!==(t=fi(t))&&ht(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function At(e){var t=hi(e.target);if(null!==t){var n=st(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=lt(n)))return e.blockedOn=t,void mt(e.lanePriority,(function(){v.unstable_runWithPriority(e.priority,(function(){ft(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ot(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=pn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=fi(n))&&ht(t),e.blockedOn=n,!1;t.shift()}return!0}function Nt(e,t,n){Ot(e)&&n.delete(t)}function Mt(){for(gt=!1;0<vt.length;){var e=vt[0];if(null!==e.blockedOn){null!==(e=fi(e.blockedOn))&&dt(e);break}for(var t=e.targetContainers;0<t.length;){var n=pn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&vt.shift()}null!==yt&&Ot(yt)&&(yt=null),null!==bt&&Ot(bt)&&(bt=null),null!==wt&&Ot(wt)&&(wt=null),xt.forEach(Nt),kt.forEach(Nt)}function Pt(e,t){e.blockedOn===t&&(e.blockedOn=null,gt||(gt=!0,v.unstable_scheduleCallback(v.unstable_NormalPriority,Mt)))}function Dt(e){function t(t){return Pt(t,e)}if(0<vt.length){Pt(vt[0],e);for(var n=1;n<vt.length;n++){var r=vt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==yt&&Pt(yt,e),null!==bt&&Pt(bt,e),null!==wt&&Pt(wt,e),xt.forEach(t),kt.forEach(t),n=0;n<St.length;n++)(r=St[n]).blockedOn===e&&(r.blockedOn=null);for(;0<St.length&&null===(n=St[0]).blockedOn;)At(n),null===n.blockedOn&&St.shift()}function Lt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Rt={animationend:Lt("Animation","AnimationEnd"),animationiteration:Lt("Animation","AnimationIteration"),animationstart:Lt("Animation","AnimationStart"),transitionend:Lt("Transition","TransitionEnd")},It={},Bt={};function jt(e){if(It[e])return It[e];if(!Rt[e])return e;var t,n=Rt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Bt)return It[e]=n[t];return e}S&&(Bt=document.createElement("div").style,"AnimationEvent"in window||(delete Rt.animationend.animation,delete Rt.animationiteration.animation,delete Rt.animationstart.animation),"TransitionEvent"in window||delete Rt.transitionend.transition);var Ft=jt("animationend"),zt=jt("animationiteration"),Ht=jt("animationstart"),qt=jt("transitionend"),Vt=new Map,Ut=new Map,Wt=["abort","abort",Ft,"animationEnd",zt,"animationIteration",Ht,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",qt,"transitionEnd","waiting","waiting"];function $t(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ut.set(r,t),Vt.set(r,i),x(i,[r])}}(0,v.unstable_now)();var Gt=8;function Xt(e){if(0!=(1&e))return Gt=15,1;if(0!=(2&e))return Gt=14,2;if(0!=(4&e))return Gt=13,4;var t=24&e;return 0!==t?(Gt=12,t):0!=(32&e)?(Gt=11,32):0!==(t=192&e)?(Gt=10,t):0!=(256&e)?(Gt=9,256):0!==(t=3584&e)?(Gt=8,t):0!=(4096&e)?(Gt=7,4096):0!==(t=4186112&e)?(Gt=6,t):0!==(t=62914560&e)?(Gt=5,t):67108864&e?(Gt=4,67108864):0!=(134217728&e)?(Gt=3,134217728):0!==(t=805306368&e)?(Gt=2,t):0!=(1073741824&e)?(Gt=1,1073741824):(Gt=8,e)}function Yt(e,t){var n=e.pendingLanes;if(0===n)return Gt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Gt=15;else if(0!==(o=134217727&n)){var l=o&~a;0!==l?(r=Xt(l),i=Gt):0!==(s&=o)&&(r=Xt(s),i=Gt)}else 0!==(o=n&~a)?(r=Xt(o),i=Gt):0!==s&&(r=Xt(s),i=Gt);if(0===r)return 0;if(r=n&((0>(r=31-tn(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&a)){if(Xt(t),i<=Gt)return t;Gt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-tn(t)),r|=e[n],t&=~i;return r}function Zt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Kt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Jt(24&~t))?Kt(10,t):e;case 10:return 0===(e=Jt(192&~t))?Kt(8,t):e;case 8:return 0===(e=Jt(3584&~t))&&(0===(e=Jt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Jt(805306368&~t))&&(t=268435456),t}throw Error(y(358,e))}function Jt(e){return e&-e}function Qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function en(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-tn(t)]=n}var tn=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(nn(e)/rn|0)|0},nn=Math.log,rn=Math.LN2;var on=v.unstable_UserBlockingPriority,an=v.unstable_runWithPriority,sn=!0;function ln(e,t,n,r){Xe||$e();var i=un,o=Xe;Xe=!0;try{We(i,e,t,n,r)}finally{(Xe=o)||Ze()}}function cn(e,t,n,r){an(on,un.bind(null,e,t,n,r))}function un(e,t,n,r){var i;if(sn)if((i=0==(4&t))&&0<vt.length&&-1<Ct.indexOf(e))e=Et(null,e,t,n,r),vt.push(e);else{var o=pn(e,t,n,r);if(null===o)i&&Tt(e,r);else{if(i){if(-1<Ct.indexOf(e))return e=Et(o,e,t,n,r),void vt.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return yt=_t(yt,e,t,n,r,i),!0;case"dragenter":return bt=_t(bt,e,t,n,r,i),!0;case"mouseover":return wt=_t(wt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return xt.set(o,_t(xt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,kt.set(o,_t(kt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;Tt(e,r)}$r(e,t,r,null,n)}}}function pn(e,t,n,r){var i=Be(r);if(null!==(i=hi(i))){var o=st(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=lt(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return $r(e,t,r,i,n),null}var dn=null,hn=null,fn=null;function mn(){if(fn)return fn;var e,t,n=hn,r=n.length,i="value"in dn?dn.value:dn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return fn=i.slice(e,1<t?1-t:void 0)}function gn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function vn(){return!0}function yn(){return!1}function bn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?vn:yn,this.isPropagationStopped=yn,this}return g(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=vn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=vn)},persist:function(){},isPersistent:vn}),t}var wn,xn,kn,Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cn=bn(Sn),En=g({},Sn,{view:0,detail:0}),Tn=bn(En),_n=g({},En,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==kn&&(kn&&"mousemove"===e.type?(wn=e.screenX-kn.screenX,xn=e.screenY-kn.screenY):xn=wn=0,kn=e),wn)},movementY:function(e){return"movementY"in e?e.movementY:xn}}),An=bn(_n),On=bn(g({},_n,{dataTransfer:0})),Nn=bn(g({},En,{relatedTarget:0})),Mn=bn(g({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0})),Pn=g({},Sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dn=bn(Pn),Ln=bn(g({},Sn,{data:0})),Rn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Bn[e])&&!!t[e]}function Fn(){return jn}var zn=g({},En,{key:function(e){if(e.key){var t=Rn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=gn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fn,charCode:function(e){return"keypress"===e.type?gn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?gn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Hn=bn(zn),qn=bn(g({},_n,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Vn=bn(g({},En,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fn})),Un=bn(g({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Wn=g({},_n,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$n=bn(Wn),Gn=[9,13,27,32],Xn=S&&"CompositionEvent"in window,Yn=null;S&&"documentMode"in document&&(Yn=document.documentMode);var Zn=S&&"TextEvent"in window&&!Yn,Kn=S&&(!Xn||Yn&&8<Yn&&11>=Yn),Jn=String.fromCharCode(32),Qn=!1;function er(e,t){switch(e){case"keyup":return-1!==Gn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var nr=!1;var rr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!rr[e.type]:"textarea"===t}function or(e,t,n,r){qe(r),0<(t=Xr(t,"onChange")).length&&(n=new Cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ar=null,sr=null;function lr(e){zr(e,0)}function cr(e){if(ce(mi(e)))return e}function ur(e,t){if("change"===e)return t}var pr=!1;if(S){var dr;if(S){var hr="oninput"in document;if(!hr){var fr=document.createElement("div");fr.setAttribute("oninput","return;"),hr="function"==typeof fr.oninput}dr=hr}else dr=!1;pr=dr&&(!document.documentMode||9<document.documentMode)}function mr(){ar&&(ar.detachEvent("onpropertychange",gr),sr=ar=null)}function gr(e){if("value"===e.propertyName&&cr(sr)){var t=[];if(or(t,sr,e,Be(e)),e=lr,Xe)e(t);else{Xe=!0;try{Ue(e,t)}finally{Xe=!1,Ze()}}}}function vr(e,t,n){"focusin"===e?(mr(),sr=n,(ar=t).attachEvent("onpropertychange",gr)):"focusout"===e&&mr()}function yr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return cr(sr)}function br(e,t){if("click"===e)return cr(t)}function wr(e,t){if("input"===e||"change"===e)return cr(t)}var xr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},kr=Object.prototype.hasOwnProperty;function Sr(e,t){if(xr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!kr.call(t,n[r])||!xr(e[n[r]],t[n[r]]))return!1;return!0}function Cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Er(e,t){var n,r=Cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Cr(r)}}function Tr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Tr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function _r(){for(var e=window,t=ue();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=ue((e=t.contentWindow).document)}return t}function Ar(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Or=S&&"documentMode"in document&&11>=document.documentMode,Nr=null,Mr=null,Pr=null,Dr=!1;function Lr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Dr||null==Nr||Nr!==ue(r)||("selectionStart"in(r=Nr)&&Ar(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Pr&&Sr(Pr,r)||(Pr=r,0<(r=Xr(Mr,"onSelect")).length&&(t=new Cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Nr)))}$t("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),$t("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),$t(Wt,2);for(var Rr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ir=0;Ir<Rr.length;Ir++)Ut.set(Rr[Ir],0);k("onMouseEnter",["mouseout","mouseover"]),k("onMouseLeave",["mouseout","mouseover"]),k("onPointerEnter",["pointerout","pointerover"]),k("onPointerLeave",["pointerout","pointerover"]),x("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),x("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),x("onBeforeInput",["compositionend","keypress","textInput","paste"]),x("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),x("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),x("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Br));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,s,l){if(at.apply(this,arguments),tt){if(!tt)throw Error(y(198));var c=nt;tt=!1,nt=null,rt||(rt=!0,it=c)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,s,c),o=l}}}if(rt)throw e=it,rt=!1,it=null,e}function Hr(e,t){var n=vi(t),r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}var qr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){e[qr]||(e[qr]=!0,b.forEach((function(t){jr.has(t)||Ur(t,!1,e,null),Ur(t,!0,e,null)})))}function Ur(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&jr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=vi(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Wr(o,e,i,t),a.add(s))}function Wr(e,t,n,r){var i=Ut.get(t);switch(void 0===i?2:i){case 0:i=ln;break;case 1:i=cn;break;default:i=un}n=i.bind(null,t,n,e),i=void 0,!Je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $r(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=hi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Ye)return e(t,n);Ye=!0;try{return Ge(e,t,n)}finally{Ye=!1,Ze()}}((function(){var r=o,i=Be(n),a=[];e:{var s=Vt.get(e);if(void 0!==s){var l=Cn,c=e;switch(e){case"keypress":if(0===gn(n))break e;case"keydown":case"keyup":l=Hn;break;case"focusin":c="focus",l=Nn;break;case"focusout":c="blur",l=Nn;break;case"beforeblur":case"afterblur":l=Nn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=On;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Vn;break;case Ft:case zt:case Ht:l=Mn;break;case qt:l=Un;break;case"scroll":l=Tn;break;case"wheel":l=$n;break;case"copy":case"cut":case"paste":l=Dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=qn}var u=0!=(4&t),p=!u&&"scroll"===e,d=u?null!==s?s+"Capture":null:s;u=[];for(var h,f=r;null!==f;){var m=(h=f).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==d&&(null!=(m=Ke(f,d))&&u.push(Gr(f,m,h)))),p)break;f=f.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(c=n.relatedTarget||n.fromElement)||!hi(c)&&!c[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?hi(c):null)&&(c!==(p=st(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=An,m="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=qn,m="onPointerLeave",d="onPointerEnter",f="pointer"),p=null==l?s:mi(l),h=null==c?s:mi(c),(s=new u(m,f+"leave",l,n,i)).target=p,s.relatedTarget=h,m=null,hi(i)===r&&((u=new u(d,f+"enter",c,n,i)).target=h,u.relatedTarget=p,m=u),p=m,l&&c)e:{for(d=c,f=0,h=u=l;h;h=Yr(h))f++;for(h=0,m=d;m;m=Yr(m))h++;for(;0<f-h;)u=Yr(u),f--;for(;0<h-f;)d=Yr(d),h--;for(;f--;){if(u===d||null!==d&&u===d.alternate)break e;u=Yr(u),d=Yr(d)}u=null}else u=null;null!==l&&Zr(a,s,l,u,!1),null!==c&&null!==p&&Zr(a,p,c,u,!0)}if("select"===(l=(s=r?mi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=ur;else if(ir(s))if(pr)g=wr;else{g=yr;var v=vr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=br);switch(g&&(g=g(e,r))?or(a,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ge(s,"number",s.value)),v=r?mi(r):window,e){case"focusin":(ir(v)||"true"===v.contentEditable)&&(Nr=v,Mr=r,Pr=null);break;case"focusout":Pr=Mr=Nr=null;break;case"mousedown":Dr=!0;break;case"contextmenu":case"mouseup":case"dragend":Dr=!1,Lr(a,n,i);break;case"selectionchange":if(Or)break;case"keydown":case"keyup":Lr(a,n,i)}var y;if(Xn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else nr?er(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Kn&&"ko"!==n.locale&&(nr||"onCompositionStart"!==b?"onCompositionEnd"===b&&nr&&(y=mn()):(hn="value"in(dn=i)?dn.value:dn.textContent,nr=!0)),0<(v=Xr(r,b)).length&&(b=new Ln(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=tr(n))&&(b.data=y))),(y=Zn?function(e,t){switch(e){case"compositionend":return tr(t);case"keypress":return 32!==t.which?null:(Qn=!0,Jn);case"textInput":return(e=t.data)===Jn&&Qn?null:e;default:return null}}(e,n):function(e,t){if(nr)return"compositionend"===e||!Xn&&er(e,t)?(e=mn(),fn=hn=dn=null,nr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Xr(r,"onBeforeInput")).length&&(i=new Ln("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}zr(a,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ke(e,n))&&r.unshift(Gr(e,o,i)),null!=(o=Ke(e,t))&&r.push(Gr(e,o,i))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Zr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Ke(n,o))&&a.unshift(Gr(n,l,s)):i||null!=(l=Ke(n,o))&&a.push(Gr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Kr(){}var Jr=null,Qr=null;function ei(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function ti(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ni="function"==typeof setTimeout?setTimeout:void 0,ri="function"==typeof clearTimeout?clearTimeout:void 0;function ii(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function oi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function ai(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var si=0;var li=Math.random().toString(36).slice(2),ci="__reactFiber$"+li,ui="__reactProps$"+li,pi="__reactContainer$"+li,di="__reactEvents$"+li;function hi(e){var t=e[ci];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[ci]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ai(e);null!==e;){if(n=e[ci])return n;e=ai(e)}return t}n=(e=n).parentNode}return null}function fi(e){return!(e=e[ci]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function mi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(y(33))}function gi(e){return e[ui]||null}function vi(e){var t=e[di];return void 0===t&&(t=e[di]=new Set),t}var yi=[],bi=-1;function wi(e){return{current:e}}function xi(e){0>bi||(e.current=yi[bi],yi[bi]=null,bi--)}function ki(e,t){bi++,yi[bi]=e.current,e.current=t}var Si={},Ci=wi(Si),Ei=wi(!1),Ti=Si;function _i(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ai(e){return null!=(e=e.childContextTypes)}function Oi(){xi(Ei),xi(Ci)}function Ni(e,t,n){if(Ci.current!==Si)throw Error(y(168));ki(Ci,t),ki(Ei,n)}function Mi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(y(108,oe(t)||"Unknown",i));return g({},n,r)}function Pi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ti=Ci.current,ki(Ci,e),ki(Ei,Ei.current),!0}function Di(e,t,n){var r=e.stateNode;if(!r)throw Error(y(169));n?(e=Mi(e,t,Ti),r.__reactInternalMemoizedMergedChildContext=e,xi(Ei),xi(Ci),ki(Ci,e)):xi(Ei),ki(Ei,n)}var Li=null,Ri=null,Ii=v.unstable_runWithPriority,Bi=v.unstable_scheduleCallback,ji=v.unstable_cancelCallback,Fi=v.unstable_shouldYield,zi=v.unstable_requestPaint,Hi=v.unstable_now,qi=v.unstable_getCurrentPriorityLevel,Vi=v.unstable_ImmediatePriority,Ui=v.unstable_UserBlockingPriority,Wi=v.unstable_NormalPriority,$i=v.unstable_LowPriority,Gi=v.unstable_IdlePriority,Xi={},Yi=void 0!==zi?zi:function(){},Zi=null,Ki=null,Ji=!1,Qi=Hi(),eo=1e4>Qi?Hi:function(){return Hi()-Qi};function to(){switch(qi()){case Vi:return 99;case Ui:return 98;case Wi:return 97;case $i:return 96;case Gi:return 95;default:throw Error(y(332))}}function no(e){switch(e){case 99:return Vi;case 98:return Ui;case 97:return Wi;case 96:return $i;case 95:return Gi;default:throw Error(y(332))}}function ro(e,t){return e=no(e),Ii(e,t)}function io(e,t,n){return e=no(e),Bi(e,t,n)}function oo(){if(null!==Ki){var e=Ki;Ki=null,ji(e)}ao()}function ao(){if(!Ji&&null!==Zi){Ji=!0;var e=0;try{var t=Zi;ro(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Zi=null}catch(t){throw null!==Zi&&(Zi=Zi.slice(e+1)),Bi(Vi,oo),t}finally{Ji=!1}}}var so=D.ReactCurrentBatchConfig;function lo(e,t){if(e&&e.defaultProps){for(var n in t=g({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var co=wi(null),uo=null,po=null,ho=null;function fo(){ho=po=uo=null}function mo(e){var t=co.current;xi(co),e.type._context._currentValue=t}function go(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function vo(e,t){uo=e,ho=po=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Xa=!0),e.firstContext=null)}function yo(e,t){if(ho!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(ho=e,t=1073741823),t={context:e,observedBits:t,next:null},null===po){if(null===uo)throw Error(y(308));po=t,uo.dependencies={lanes:0,firstContext:t,responders:null}}else po=po.next=t;return e._currentValue}var bo=!1;function wo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function xo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ko(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function So(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function Co(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Eo(e,t,n,r){var i=e.updateQueue;bo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;if(null!==u){var p=(u=u.updateQueue).lastBaseUpdate;p!==a&&(null===p?u.firstBaseUpdate=c:p.next=c,u.lastBaseUpdate=l)}}if(null!==o){for(p=i.baseState,a=0,u=c=l=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==u&&(u=u.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=e,f=o;switch(s=t,d=n,f.tag){case 1:if("function"==typeof(h=f.payload)){p=h.call(d,p,s);break e}p=h;break e;case 3:h.flags=-4097&h.flags|64;case 0:if(null==(s="function"==typeof(h=f.payload)?h.call(d,p,s):h))break e;p=g({},p,s);break e;case 2:bo=!0}}null!==o.callback&&(e.flags|=32,null===(s=i.effects)?i.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=d,l=p):u=u.next=d,a|=s;if(null===(o=o.next)){if(null===(s=i.shared.pending))break;o=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}null===u&&(l=p),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,Qs|=a,e.lanes=a,e.memoizedState=p}}function To(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(y(191,i));i.call(r)}}}var _o=(new m.Component).refs;function Ao(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:g({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Oo={isMounted:function(e){return!!(e=e._reactInternals)&&st(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Cl(),i=El(e),o=ko(r,i);o.payload=t,null!=n&&(o.callback=n),So(e,o),Tl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Cl(),i=El(e),o=ko(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),So(e,o),Tl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Cl(),r=El(e),i=ko(n,r);i.tag=2,null!=t&&(i.callback=t),So(e,i),Tl(e,r,n)}};function No(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Sr(n,r)||!Sr(i,o))}function Mo(e,t,n){var r=!1,i=Si,o=t.contextType;return"object"==typeof o&&null!==o?o=yo(o):(i=Ai(t)?Ti:Ci.current,o=(r=null!=(r=t.contextTypes))?_i(e,i):Si),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Oo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Po(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Oo.enqueueReplaceState(t,t.state,null)}function Do(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=_o,wo(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=yo(o):(o=Ai(t)?Ti:Ci.current,i.context=_i(e,o)),Eo(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(Ao(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Oo.enqueueReplaceState(i,i.state,null),Eo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var Lo=Array.isArray;function Ro(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(y(309));var r=n.stateNode}if(!r)throw Error(y(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===_o&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(y(284));if(!n._owner)throw Error(y(290,e))}return e}function Io(e,t){if("textarea"!==e.type)throw Error(y(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Bo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=ic(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ro(e,t,n),r.return=e,r):((r=oc(n.type,n.key,n.props,null,e.mode,r)).ref=Ro(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=cc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function u(e,t,n,r,o){return null===t||7!==t.tag?((t=ac(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=lc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case L:return(n=oc(t.type,t.key,t.props,null,e.mode,n)).ref=Ro(e,null,t),n.return=e,n;case R:return(t=cc(t,e.mode,n)).return=e,t}if(Lo(t)||ee(t))return(t=ac(t,e.mode,n,null)).return=e,t;Io(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case L:return n.key===i?n.type===I?u(e,t,n.props.children,r,i):l(e,t,n,r):null;case R:return n.key===i?c(e,t,n,r):null}if(Lo(n)||ee(n))return null!==i?null:u(e,t,n,r,null);Io(e,n)}return null}function h(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case L:return e=e.get(null===r.key?n:r.key)||null,r.type===I?u(t,e,r.props.children,i,r.key):l(t,e,r,i);case R:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Lo(r)||ee(r))return u(t,e=e.get(n)||null,r,i,null);Io(t,r)}return null}function f(i,a,s,l){for(var c=null,u=null,f=a,m=a=0,g=null;null!==f&&m<s.length;m++){f.index>m?(g=f,f=null):g=f.sibling;var v=d(i,f,s[m],l);if(null===v){null===f&&(f=g);break}e&&f&&null===v.alternate&&t(i,f),a=o(v,a,m),null===u?c=v:u.sibling=v,u=v,f=g}if(m===s.length)return n(i,f),c;if(null===f){for(;m<s.length;m++)null!==(f=p(i,s[m],l))&&(a=o(f,a,m),null===u?c=f:u.sibling=f,u=f);return c}for(f=r(i,f);m<s.length;m++)null!==(g=h(f,i,m,s[m],l))&&(e&&null!==g.alternate&&f.delete(null===g.key?m:g.key),a=o(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,a,s,l){var c=ee(s);if("function"!=typeof c)throw Error(y(150));if(null==(s=c.call(s)))throw Error(y(151));for(var u=c=null,f=a,m=a=0,g=null,v=s.next();null!==f&&!v.done;m++,v=s.next()){f.index>m?(g=f,f=null):g=f.sibling;var b=d(i,f,v.value,l);if(null===b){null===f&&(f=g);break}e&&f&&null===b.alternate&&t(i,f),a=o(b,a,m),null===u?c=b:u.sibling=b,u=b,f=g}if(v.done)return n(i,f),c;if(null===f){for(;!v.done;m++,v=s.next())null!==(v=p(i,v.value,l))&&(a=o(v,a,m),null===u?c=v:u.sibling=v,u=v);return c}for(f=r(i,f);!v.done;m++,v=s.next())null!==(v=h(f,i,m,v.value,l))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),a=o(v,a,m),null===u?c=v:u.sibling=v,u=v);return e&&f.forEach((function(e){return t(i,e)})),c}return function(e,r,o,s){var l="object"==typeof o&&null!==o&&o.type===I&&null===o.key;l&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case L:e:{for(c=o.key,l=r;null!==l;){if(l.key===c){if(7===l.tag){if(o.type===I){n(e,l.sibling),(r=i(l,o.props.children)).return=e,e=r;break e}}else if(l.elementType===o.type){n(e,l.sibling),(r=i(l,o.props)).ref=Ro(e,l,o),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}o.type===I?((r=ac(o.props.children,e.mode,s,o.key)).return=e,e=r):((s=oc(o.type,o.key,o.props,null,e.mode,s)).ref=Ro(e,r,o),s.return=e,e=s)}return a(e);case R:e:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=cc(o,e.mode,s)).return=e,e=r}return a(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=lc(o,e.mode,s)).return=e,e=r),a(e);if(Lo(o))return f(e,r,o,s);if(ee(o))return m(e,r,o,s);if(c&&Io(e,o),void 0===o&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(y(152,oe(e.type)||"Component"))}return n(e,r)}}var jo=Bo(!0),Fo=Bo(!1),zo={},Ho=wi(zo),qo=wi(zo),Vo=wi(zo);function Uo(e){if(e===zo)throw Error(y(174));return e}function Wo(e,t){switch(ki(Vo,t),ki(qo,e),ki(Ho,zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ee(null,"");break;default:t=Ee(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Ho),ki(Ho,t)}function $o(){xi(Ho),xi(qo),xi(Vo)}function Go(e){Uo(Vo.current);var t=Uo(Ho.current),n=Ee(t,e.type);t!==n&&(ki(qo,e),ki(Ho,n))}function Xo(e){qo.current===e&&(xi(Ho),xi(qo))}var Yo=wi(0);function Zo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ko=null,Jo=null,Qo=!1;function ea(e,t){var n=nc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function ta(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function na(e){if(Qo){var t=Jo;if(t){var n=t;if(!ta(e,t)){if(!(t=oi(n.nextSibling))||!ta(e,t))return e.flags=-1025&e.flags|2,Qo=!1,void(Ko=e);ea(Ko,n)}Ko=e,Jo=oi(t.firstChild)}else e.flags=-1025&e.flags|2,Qo=!1,Ko=e}}function ra(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ko=e}function ia(e){if(e!==Ko)return!1;if(!Qo)return ra(e),Qo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!ti(t,e.memoizedProps))for(t=Jo;t;)ea(e,t),t=oi(t.nextSibling);if(ra(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(y(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Jo=oi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Jo=null}}else Jo=Ko?oi(e.stateNode.nextSibling):null;return!0}function oa(){Jo=Ko=null,Qo=!1}var aa=[];function sa(){for(var e=0;e<aa.length;e++)aa[e]._workInProgressVersionPrimary=null;aa.length=0}var la=D.ReactCurrentDispatcher,ca=D.ReactCurrentBatchConfig,ua=0,pa=null,da=null,ha=null,fa=!1,ma=!1;function ga(){throw Error(y(321))}function va(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xr(e[n],t[n]))return!1;return!0}function ya(e,t,n,r,i,o){if(ua=o,pa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,la.current=null===e||null===e.memoizedState?Ua:Wa,e=n(r,i),ma){o=0;do{if(ma=!1,!(25>o))throw Error(y(301));o+=1,ha=da=null,t.updateQueue=null,la.current=$a,e=n(r,i)}while(ma)}if(la.current=Va,t=null!==da&&null!==da.next,ua=0,ha=da=pa=null,fa=!1,t)throw Error(y(300));return e}function ba(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ha?pa.memoizedState=ha=e:ha=ha.next=e,ha}function wa(){if(null===da){var e=pa.alternate;e=null!==e?e.memoizedState:null}else e=da.next;var t=null===ha?pa.memoizedState:ha.next;if(null!==t)ha=t,da=e;else{if(null===e)throw Error(y(310));e={memoizedState:(da=e).memoizedState,baseState:da.baseState,baseQueue:da.baseQueue,queue:da.queue,next:null},null===ha?pa.memoizedState=ha=e:ha=ha.next=e}return ha}function xa(e,t){return"function"==typeof t?t(e):t}function ka(e){var t=wa(),n=t.queue;if(null===n)throw Error(y(311));n.lastRenderedReducer=e;var r=da,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=a=o=null,l=i;do{var c=l.lane;if((ua&c)===c)null!==s&&(s=s.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var u={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===s?(a=s=u,o=r):s=s.next=u,pa.lanes|=c,Qs|=c}l=l.next}while(null!==l&&l!==i);null===s?o=r:s.next=a,xr(r,t.memoizedState)||(Xa=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Sa(e){var t=wa(),n=t.queue;if(null===n)throw Error(y(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);xr(o,t.memoizedState)||(Xa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ca(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(ua&e)===e)&&(t._workInProgressVersionPrimary=r,aa.push(t))),e)return n(t._source);throw aa.push(t),Error(y(350))}function Ea(e,t,n,r){var i=Ws;if(null===i)throw Error(y(349));var o=t._getVersion,a=o(t._source),s=la.current,l=s.useState((function(){return Ca(i,t,n)})),c=l[1],u=l[0];l=ha;var p=e.memoizedState,d=p.refs,h=d.getSnapshot,f=p.source;p=p.subscribe;var m=pa;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=c;var e=o(t._source);if(!xr(a,e)){e=n(t._source),xr(u,e)||(c(e),e=El(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,s=e;0<s;){var l=31-tn(s),p=1<<l;r[l]|=e,s&=~p}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=El(m);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),xr(h,n)&&xr(f,t)&&xr(p,r)||((e={pending:null,dispatch:null,lastRenderedReducer:xa,lastRenderedState:u}).dispatch=c=qa.bind(null,pa,e),l.queue=e,l.baseQueue=null,u=Ca(i,t,n),l.memoizedState=l.baseState=u),u}function Ta(e,t,n){return Ea(wa(),e,t,n)}function _a(e){var t=ba();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:xa,lastRenderedState:e}).dispatch=qa.bind(null,pa,e),[t.memoizedState,e]}function Aa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=pa.updateQueue)?(t={lastEffect:null},pa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Oa(e){return e={current:e},ba().memoizedState=e}function Na(){return wa().memoizedState}function Ma(e,t,n,r){var i=ba();pa.flags|=e,i.memoizedState=Aa(1|t,n,void 0,void 0===r?null:r)}function Pa(e,t,n,r){var i=wa();r=void 0===r?null:r;var o=void 0;if(null!==da){var a=da.memoizedState;if(o=a.destroy,null!==r&&va(r,a.deps))return void Aa(t,n,o,r)}pa.flags|=e,i.memoizedState=Aa(1|t,n,o,r)}function Da(e,t){return Ma(516,4,e,t)}function La(e,t){return Pa(516,4,e,t)}function Ra(e,t){return Pa(4,2,e,t)}function Ia(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ba(e,t,n){return n=null!=n?n.concat([e]):null,Pa(4,2,Ia.bind(null,t,e),n)}function ja(){}function Fa(e,t){var n=wa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&va(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function za(e,t){var n=wa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&va(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ha(e,t){var n=to();ro(98>n?98:n,(function(){e(!0)})),ro(97<n?97:n,(function(){var n=ca.transition;ca.transition=1;try{e(!1),t()}finally{ca.transition=n}}))}function qa(e,t,n){var r=Cl(),i=El(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===pa||null!==a&&a===pa)ma=fa=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=a(s,n);if(o.eagerReducer=a,o.eagerState=l,xr(l,s))return}catch(e){}Tl(e,i,r)}}var Va={readContext:yo,useCallback:ga,useContext:ga,useEffect:ga,useImperativeHandle:ga,useLayoutEffect:ga,useMemo:ga,useReducer:ga,useRef:ga,useState:ga,useDebugValue:ga,useDeferredValue:ga,useTransition:ga,useMutableSource:ga,useOpaqueIdentifier:ga,unstable_isNewReconciler:!1},Ua={readContext:yo,useCallback:function(e,t){return ba().memoizedState=[e,void 0===t?null:t],e},useContext:yo,useEffect:Da,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ma(4,2,Ia.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ma(4,2,e,t)},useMemo:function(e,t){var n=ba();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ba();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=qa.bind(null,pa,e),[r.memoizedState,e]},useRef:Oa,useState:_a,useDebugValue:ja,useDeferredValue:function(e){var t=_a(e),n=t[0],r=t[1];return Da((function(){var t=ca.transition;ca.transition=1;try{r(e)}finally{ca.transition=t}}),[e]),n},useTransition:function(){var e=_a(!1),t=e[0];return Oa(e=Ha.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ba();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},Ea(r,e,t,n)},useOpaqueIdentifier:function(){if(Qo){var e=!1,t=function(e){return{$$typeof:G,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(si++).toString(36))),Error(y(355))})),n=_a(t)[1];return 0==(2&pa.mode)&&(pa.flags|=516,Aa(5,(function(){n("r:"+(si++).toString(36))}),void 0,null)),t}return _a(t="r:"+(si++).toString(36)),t},unstable_isNewReconciler:!1},Wa={readContext:yo,useCallback:Fa,useContext:yo,useEffect:La,useImperativeHandle:Ba,useLayoutEffect:Ra,useMemo:za,useReducer:ka,useRef:Na,useState:function(){return ka(xa)},useDebugValue:ja,useDeferredValue:function(e){var t=ka(xa),n=t[0],r=t[1];return La((function(){var t=ca.transition;ca.transition=1;try{r(e)}finally{ca.transition=t}}),[e]),n},useTransition:function(){var e=ka(xa)[0];return[Na().current,e]},useMutableSource:Ta,useOpaqueIdentifier:function(){return ka(xa)[0]},unstable_isNewReconciler:!1},$a={readContext:yo,useCallback:Fa,useContext:yo,useEffect:La,useImperativeHandle:Ba,useLayoutEffect:Ra,useMemo:za,useReducer:Sa,useRef:Na,useState:function(){return Sa(xa)},useDebugValue:ja,useDeferredValue:function(e){var t=Sa(xa),n=t[0],r=t[1];return La((function(){var t=ca.transition;ca.transition=1;try{r(e)}finally{ca.transition=t}}),[e]),n},useTransition:function(){var e=Sa(xa)[0];return[Na().current,e]},useMutableSource:Ta,useOpaqueIdentifier:function(){return Sa(xa)[0]},unstable_isNewReconciler:!1},Ga=D.ReactCurrentOwner,Xa=!1;function Ya(e,t,n,r){t.child=null===e?Fo(t,null,n,r):jo(t,e.child,n,r)}function Za(e,t,n,r,i){n=n.render;var o=t.ref;return vo(t,i),r=ya(e,t,n,r,o,i),null===e||Xa?(t.flags|=1,Ya(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,vs(e,t,i))}function Ka(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=oc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ja(e,t,a,r,i,o))}return a=e.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Sr)(i,r)&&e.ref===t.ref)?vs(e,t,o):(t.flags|=1,(e=ic(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ja(e,t,n,r,i,o){if(null!==e&&Sr(e.memoizedProps,r)&&e.ref===t.ref){if(Xa=!1,0==(o&i))return t.lanes=e.lanes,vs(e,t,o);0!=(16384&e.flags)&&(Xa=!0)}return ts(e,t,n,r,o)}function Qa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},Ll(t,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Ll(t,e),null;t.memoizedState={baseLanes:0},Ll(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ll(t,r);return Ya(e,t,i,n),t.child}function es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function ts(e,t,n,r,i){var o=Ai(n)?Ti:Ci.current;return o=_i(t,o),vo(t,i),n=ya(e,t,n,r,o,i),null===e||Xa?(t.flags|=1,Ya(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,vs(e,t,i))}function ns(e,t,n,r,i){if(Ai(n)){var o=!0;Pi(t)}else o=!1;if(vo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Mo(t,n,r),Do(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=yo(c):c=_i(t,c=Ai(n)?Ti:Ci.current);var u=n.getDerivedStateFromProps,p="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;p||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==c)&&Po(t,a,r,c),bo=!1;var d=t.memoizedState;a.state=d,Eo(t,r,a,i),l=t.memoizedState,s!==r||d!==l||Ei.current||bo?("function"==typeof u&&(Ao(t,n,u,r),l=t.memoizedState),(s=bo||No(t,n,s,r,d,l,c))?(p||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,xo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:lo(t.type,s),a.props=c,p=t.pendingProps,d=a.context,"object"==typeof(l=n.contextType)&&null!==l?l=yo(l):l=_i(t,l=Ai(n)?Ti:Ci.current);var h=n.getDerivedStateFromProps;(u="function"==typeof h||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==p||d!==l)&&Po(t,a,r,l),bo=!1,d=t.memoizedState,a.state=d,Eo(t,r,a,i);var f=t.memoizedState;s!==p||d!==f||Ei.current||bo?("function"==typeof h&&(Ao(t,n,h,r),f=t.memoizedState),(c=bo||No(t,n,c,r,d,f,l))?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return rs(e,t,n,r,o,i)}function rs(e,t,n,r,i,o){es(e,t);var a=0!=(64&t.flags);if(!r&&!a)return i&&Di(t,n,!1),vs(e,t,o);r=t.stateNode,Ga.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=jo(t,e.child,null,o),t.child=jo(t,null,s,o)):Ya(e,t,s,o),t.memoizedState=r.state,i&&Di(t,n,!0),t.child}function is(e){var t=e.stateNode;t.pendingContext?Ni(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ni(0,t.context,!1),Wo(e,t.containerInfo)}var os,as,ss,ls,cs={dehydrated:null,retryLane:0};function us(e,t,n){var r,i=t.pendingProps,o=Yo.current,a=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ki(Yo,1&o),null===e?(void 0!==i.fallback&&na(t),e=i.children,o=i.fallback,a?(e=ps(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=cs,e):"number"==typeof i.unstable_expectedLoadTime?(e=ps(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=cs,t.lanes=33554432,e):((n=sc({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=hs(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=cs,i):(n=ds(e,t,i.children,n),t.memoizedState=null,n))}function ps(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=sc(t,i,0,null),n=ac(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function ds(e,t,n,r){var i=e.child;return e=i.sibling,n=ic(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function hs(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=ic(a,s),null!==e?r=ic(e,r):(r=ac(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function fs(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),go(e.return,t)}function ms(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function gs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ya(e,t,r.children,n),0!=(2&(r=Yo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&fs(e,n);else if(19===e.tag)fs(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(Yo,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Zo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ms(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Zo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ms(t,!0,n,null,o,t.lastEffect);break;case"together":ms(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function vs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Qs|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(y(153));if(null!==t.child){for(n=ic(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ic(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ys(e,t){if(!Qo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function bs(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return Ai(t.type)&&Oi(),null;case 3:return $o(),xi(Ei),xi(Ci),sa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ia(t)?t.flags|=4:r.hydrate||(t.flags|=256)),as(t),null;case 5:Xo(t);var i=Uo(Vo.current);if(n=t.type,null!==e&&null!=t.stateNode)ss(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(y(166));return null}if(e=Uo(Ho.current),ia(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ci]=t,r[ui]=o,n){case"dialog":Hr("cancel",r),Hr("close",r);break;case"iframe":case"object":case"embed":Hr("load",r);break;case"video":case"audio":for(e=0;e<Br.length;e++)Hr(Br[e],r);break;case"source":Hr("error",r);break;case"img":case"image":case"link":Hr("error",r),Hr("load",r);break;case"details":Hr("toggle",r);break;case"input":de(r,o),Hr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Hr("invalid",r);break;case"textarea":we(r,o),Hr("invalid",r)}for(var a in Re(n,o),e=null,o)o.hasOwnProperty(a)&&(i=o[a],"children"===a?"string"==typeof i?r.textContent!==i&&(e=["children",i]):"number"==typeof i&&r.textContent!==""+i&&(e=["children",""+i]):w.hasOwnProperty(a)&&null!=i&&"onScroll"===a&&Hr("scroll",r));switch(n){case"input":le(r),me(r,o,!0);break;case"textarea":le(r),ke(r);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(r.onclick=Kr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(a=9===i.nodeType?i:i.ownerDocument,e===Se.html&&(e=Ce(n)),e===Se.html?"script"===n?((e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),"select"===n&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[ci]=t,e[ui]=r,os(e,t,!1,!1),t.stateNode=e,a=Ie(n,r),n){case"dialog":Hr("cancel",e),Hr("close",e),i=r;break;case"iframe":case"object":case"embed":Hr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Br.length;i++)Hr(Br[i],e);i=r;break;case"source":Hr("error",e),i=r;break;case"img":case"image":case"link":Hr("error",e),Hr("load",e),i=r;break;case"details":Hr("toggle",e),i=r;break;case"input":de(e,r),i=pe(e,r),Hr("invalid",e);break;case"option":i=ve(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=g({},r,{value:void 0}),Hr("invalid",e);break;case"textarea":we(e,r),i=be(e,r),Hr("invalid",e);break;default:i=r}Re(n,i);var s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];"style"===o?De(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&Ae(e,l):"children"===o?"string"==typeof l?("textarea"!==n||""!==l)&&Oe(e,l):"number"==typeof l&&Oe(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(w.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Hr("scroll",e):null!=l&&P(e,o,l,a))}switch(n){case"input":le(e),me(e,r,!1);break;case"textarea":le(e),ke(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ae(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ye(e,!!r.multiple,o,!1):null!=r.defaultValue&&ye(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Kr)}ei(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)ls(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(y(166));n=Uo(Vo.current),Uo(Ho.current),ia(t)?(r=t.stateNode,n=t.memoizedProps,r[ci]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ci]=t,t.stateNode=r)}return null;case 13:return xi(Yo),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&ia(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Yo.current)?0===Zs&&(Zs=3):(0!==Zs&&3!==Zs||(Zs=4),null===Ws||0==(134217727&Qs)&&0==(134217727&el)||Nl(Ws,Gs))),(r||n)&&(t.flags|=4),null);case 4:return $o(),as(t),null===e&&Vr(t.stateNode.containerInfo),null;case 10:return mo(t),null;case 19:if(xi(Yo),null===(r=t.memoizedState))return null;if(o=0!=(64&t.flags),null===(a=r.rendering))if(o)ys(r,!1);else{if(0!==Zs||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(a=Zo(e))){for(t.flags|=64,ys(r,!1),null!==(o=a.updateQueue)&&(t.updateQueue=o,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(a=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(Yo,1&Yo.current|2),t.child}e=e.sibling}null!==r.tail&&eo()>il&&(t.flags|=64,o=!0,ys(r,!1),t.lanes=33554432)}else{if(!o)if(null!==(e=Zo(a))){if(t.flags|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ys(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!Qo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*eo()-r.renderingStartTime>il&&1073741824!==n&&(t.flags|=64,o=!0,ys(r,!1),t.lanes=33554432);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(n=r.last)?n.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=eo(),n.sibling=null,t=Yo.current,ki(Yo,o?1&t|2:1&t),n):null;case 23:case 24:return Rl(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(y(156,t.tag))}function ws(e){switch(e.tag){case 1:Ai(e.type)&&Oi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if($o(),xi(Ei),xi(Ci),sa(),0!=(64&(t=e.flags)))throw Error(y(285));return e.flags=-4097&t|64,e;case 5:return Xo(e),null;case 13:return xi(Yo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return xi(Yo),null;case 4:return $o(),null;case 10:return mo(e),null;case 23:case 24:return Rl(),null;default:return null}}function xs(e,t){try{var n="",r=t;do{n+=ie(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function ks(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}os=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},as=function(){},ss=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Uo(Ho.current);var o,a=null;switch(n){case"input":i=pe(e,i),r=pe(e,r),a=[];break;case"option":i=ve(e,i),r=ve(e,r),a=[];break;case"select":i=g({},i,{value:void 0}),r=g({},r,{value:void 0}),a=[];break;case"textarea":i=be(e,i),r=be(e,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Kr)}for(c in Re(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(w.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(s=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(null!=l||null!=s))if("style"===c)if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(a=a||[]).push(c,l)):"children"===c?"string"!=typeof l&&"number"!=typeof l||(a=a||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(w.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Hr("scroll",e),a||s===l||(a=[])):"object"==typeof l&&null!==l&&l.$$typeof===G?l.toString():(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ss="function"==typeof WeakMap?WeakMap:Map;function Cs(e,t,n){(n=ko(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ll||(ll=!0,cl=r),ks(0,t)},n}function Es(e,t,n){(n=ko(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return ks(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===ul?ul=new Set([this]):ul.add(this),ks(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var Ts="function"==typeof WeakSet?WeakSet:Set;function _s(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Jl(e,t)}else t.current=null}function As(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:lo(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&ii(t.stateNode.containerInfo))}throw Error(y(163))}function Os(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Yl(n,e),Xl(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:lo(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&To(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}To(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&ei(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Dt(n)))))}throw Error(y(163))}function Ns(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=Pe("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Ms(e,t){if(Ri&&"function"==typeof Ri.onCommitFiberUnmount)try{Ri.onCommitFiberUnmount(Li,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Yl(t,n);else{r=t;try{i()}catch(e){Jl(r,e)}}n=n.next}while(n!==e)}break;case 1:if(_s(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Jl(t,e)}break;case 5:_s(t);break;case 4:Bs(e,t)}}function Ps(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Ds(e){return 5===e.tag||3===e.tag||4===e.tag}function Ls(e){e:{for(var t=e.return;null!==t;){if(Ds(t))break e;t=t.return}throw Error(y(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(y(161))}16&n.flags&&(Oe(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Ds(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Rs(e,n,t):Is(e,n,t)}function Rs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Kr));else if(4!==r&&null!==(e=e.child))for(Rs(e,t,n),e=e.sibling;null!==e;)Rs(e,t,n),e=e.sibling}function Is(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Is(e,t,n),e=e.sibling;null!==e;)Is(e,t,n),e=e.sibling}function Bs(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(y(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var a=e,s=i,l=s;;)if(Ms(a,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===s)break e;for(;null===l.sibling;){if(null===l.return||l.return===s)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(a=n,s=i.stateNode,8===a.nodeType?a.parentNode.removeChild(s):a.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(Ms(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function js(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[ui]=r,"input"===e&&"radio"===r.type&&null!=r.name&&he(n,r),Ie(e,i),t=Ie(e,r),i=0;i<o.length;i+=2){var a=o[i],s=o[i+1];"style"===a?De(n,s):"dangerouslySetInnerHTML"===a?Ae(n,s):"children"===a?Oe(n,s):P(n,a,s,t)}switch(e){case"input":fe(n,r);break;case"textarea":xe(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ye(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ye(n,!!r.multiple,r.defaultValue,!0):ye(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(y(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Dt(n.containerInfo)));case 13:return null!==t.memoizedState&&(rl=eo(),Ns(t.child,!0)),void Fs(t);case 19:return void Fs(t);case 23:case 24:return void Ns(t,null!==t.memoizedState)}throw Error(y(163))}function Fs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ts),t.forEach((function(t){var r=ec.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function zs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Hs=Math.ceil,qs=D.ReactCurrentDispatcher,Vs=D.ReactCurrentOwner,Us=0,Ws=null,$s=null,Gs=0,Xs=0,Ys=wi(0),Zs=0,Ks=null,Js=0,Qs=0,el=0,tl=0,nl=null,rl=0,il=1/0;function ol(){il=eo()+500}var al,sl=null,ll=!1,cl=null,ul=null,pl=!1,dl=null,hl=90,fl=[],ml=[],gl=null,vl=0,yl=null,bl=-1,wl=0,xl=0,kl=null,Sl=!1;function Cl(){return 0!=(48&Us)?eo():-1!==bl?bl:bl=eo()}function El(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===to()?1:2;if(0===wl&&(wl=Js),0!==so.transition){0!==xl&&(xl=null!==nl?nl.pendingLanes:0),e=wl;var t=4186112&~xl;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=to(),0!=(4&Us)&&98===e?e=Kt(12,wl):e=Kt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),wl),e}function Tl(e,t,n){if(50<vl)throw vl=0,yl=null,Error(y(185));if(null===(e=_l(e,t)))return null;en(e,t,n),e===Ws&&(el|=t,4===Zs&&Nl(e,Gs));var r=to();1===t?0!=(8&Us)&&0==(48&Us)?Ml(e):(Al(e,n),0===Us&&(ol(),oo())):(0==(4&Us)||98!==r&&99!==r||(null===gl?gl=new Set([e]):gl.add(e)),Al(e,n)),nl=e}function _l(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Al(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-tn(a),l=1<<s,c=o[s];if(-1===c){if(0==(l&r)||0!=(l&i)){c=t,Xt(l);var u=Gt;o[s]=10<=u?c+250:6<=u?c+5e3:-1}}else c<=t&&(e.expiredLanes|=l);a&=~l}if(r=Yt(e,e===Ws?Gs:0),t=Gt,0===r)null!==n&&(n!==Xi&&ji(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Xi&&ji(n)}15===t?(n=Ml.bind(null,e),null===Zi?(Zi=[n],Ki=Bi(Vi,ao)):Zi.push(n),n=Xi):14===t?n=io(99,Ml.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(y(358,e))}}(t),n=io(n,Ol.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function Ol(e){if(bl=-1,xl=wl=0,0!=(48&Us))throw Error(y(327));var t=e.callbackNode;if(Gl()&&e.callbackNode!==t)return null;var n=Yt(e,e===Ws?Gs:0);if(0===n)return null;var r=n,i=Us;Us|=16;var o=jl();for(Ws===e&&Gs===r||(ol(),Il(e,r));;)try{Hl();break}catch(t){Bl(e,t)}if(fo(),qs.current=o,Us=i,null!==$s?r=0:(Ws=null,Gs=0,r=Zs),0!=(Js&el))Il(e,0);else if(0!==r){if(2===r&&(Us|=64,e.hydrate&&(e.hydrate=!1,ii(e.containerInfo)),0!==(n=Zt(e))&&(r=Fl(e,n))),1===r)throw t=Ks,Il(e,0),Nl(e,n),Al(e,eo()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(y(345));case 2:case 5:Ul(e);break;case 3:if(Nl(e,n),(62914560&n)===n&&10<(r=rl+500-eo())){if(0!==Yt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){Cl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ni(Ul.bind(null,e),r);break}Ul(e);break;case 4:if(Nl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-tn(n);o=1<<a,(a=r[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=eo()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Hs(n/1960))-n)){e.timeoutHandle=ni(Ul.bind(null,e),n);break}Ul(e);break;default:throw Error(y(329))}}return Al(e,eo()),e.callbackNode===t?Ol.bind(null,e):null}function Nl(e,t){for(t&=~tl,t&=~el,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-tn(t),r=1<<n;e[n]=-1,t&=~r}}function Ml(e){if(0!=(48&Us))throw Error(y(327));if(Gl(),e===Ws&&0!=(e.expiredLanes&Gs)){var t=Gs,n=Fl(e,t);0!=(Js&el)&&(n=Fl(e,t=Yt(e,t)))}else n=Fl(e,t=Yt(e,0));if(0!==e.tag&&2===n&&(Us|=64,e.hydrate&&(e.hydrate=!1,ii(e.containerInfo)),0!==(t=Zt(e))&&(n=Fl(e,t))),1===n)throw n=Ks,Il(e,0),Nl(e,t),Al(e,eo()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ul(e),Al(e,eo()),null}function Pl(e,t){var n=Us;Us|=1;try{return e(t)}finally{0===(Us=n)&&(ol(),oo())}}function Dl(e,t){var n=Us;Us&=-2,Us|=8;try{return e(t)}finally{0===(Us=n)&&(ol(),oo())}}function Ll(e,t){ki(Ys,Xs),Xs|=t,Js|=t}function Rl(){Xs=Ys.current,xi(Ys)}function Il(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ri(n)),null!==$s)for(n=$s.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&Oi();break;case 3:$o(),xi(Ei),xi(Ci),sa();break;case 5:Xo(r);break;case 4:$o();break;case 13:case 19:xi(Yo);break;case 10:mo(r);break;case 23:case 24:Rl()}n=n.return}Ws=e,$s=ic(e.current,null),Gs=Xs=Js=t,Zs=0,Ks=null,tl=el=Qs=0}function Bl(e,t){for(;;){var n=$s;try{if(fo(),la.current=Va,fa){for(var r=pa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}fa=!1}if(ua=0,ha=da=pa=null,ma=!1,Vs.current=null,null===n||null===n.return){Zs=1,Ks=t,$s=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=Gs,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l;if(0==(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var p=0!=(1&Yo.current),d=a;do{var h;if(h=13===d.tag){var f=d.memoizedState;if(null!==f)h=null!==f.dehydrated;else{var m=d.memoizedProps;h=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!p)}}if(h){var g=d.updateQueue;if(null===g){var v=new Set;v.add(c),d.updateQueue=v}else g.add(c);if(0==(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=ko(-1,1);y.tag=2,So(s,y)}s.lanes|=1;break e}l=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new Ss,l=new Set,b.set(c,l)):void 0===(l=b.get(c))&&(l=new Set,b.set(c,l)),!l.has(s)){l.add(s);var w=Ql.bind(null,o,c,s);c.then(w,w)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);l=Error((oe(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Zs&&(Zs=2),l=xs(l,s),d=a;do{switch(d.tag){case 3:o=l,d.flags|=4096,t&=-t,d.lanes|=t,Co(d,Cs(0,o,t));break e;case 1:o=l;var x=d.type,k=d.stateNode;if(0==(64&d.flags)&&("function"==typeof x.getDerivedStateFromError||null!==k&&"function"==typeof k.componentDidCatch&&(null===ul||!ul.has(k)))){d.flags|=4096,t&=-t,d.lanes|=t,Co(d,Es(d,o,t));break e}}d=d.return}while(null!==d)}Vl(n)}catch(e){t=e,$s===n&&null!==n&&($s=n=n.return);continue}break}}function jl(){var e=qs.current;return qs.current=Va,null===e?Va:e}function Fl(e,t){var n=Us;Us|=16;var r=jl();for(Ws===e&&Gs===t||Il(e,t);;)try{zl();break}catch(t){Bl(e,t)}if(fo(),Us=n,qs.current=r,null!==$s)throw Error(y(261));return Ws=null,Gs=0,Zs}function zl(){for(;null!==$s;)ql($s)}function Hl(){for(;null!==$s&&!Fi();)ql($s)}function ql(e){var t=al(e.alternate,e,Xs);e.memoizedProps=e.pendingProps,null===t?Vl(e):$s=t,Vs.current=null}function Vl(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=bs(n,t,Xs)))return void($s=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Xs)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ws(t)))return n.flags&=2047,void($s=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void($s=t);$s=t=e}while(null!==t);0===Zs&&(Zs=5)}function Ul(e){var t=to();return ro(99,Wl.bind(null,e,t)),null}function Wl(e,t){do{Gl()}while(null!==dl);if(0!=(48&Us))throw Error(y(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(y(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,s=e.expirationTimes;0<o;){var l=31-tn(o),c=1<<l;i[l]=0,a[l]=-1,s[l]=-1,o&=~c}if(null!==gl&&0==(24&r)&&gl.has(e)&&gl.delete(e),e===Ws&&($s=Ws=null,Gs=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Us,Us|=32,Vs.current=null,Jr=sn,Ar(a=_r())){if("selectionStart"in a)s={start:a.selectionStart,end:a.selectionEnd};else e:if(s=(s=a.ownerDocument)&&s.defaultView||window,(c=s.getSelection&&s.getSelection())&&0!==c.rangeCount){s=c.anchorNode,o=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{s.nodeType,l.nodeType}catch(e){s=null;break e}var u=0,p=-1,d=-1,h=0,f=0,m=a,g=null;t:for(;;){for(var v;m!==s||0!==o&&3!==m.nodeType||(p=u+o),m!==l||0!==c&&3!==m.nodeType||(d=u+c),3===m.nodeType&&(u+=m.nodeValue.length),null!==(v=m.firstChild);)g=m,m=v;for(;;){if(m===a)break t;if(g===s&&++h===o&&(p=u),g===l&&++f===c&&(d=u),null!==(v=m.nextSibling))break;g=(m=g).parentNode}m=v}s=-1===p||-1===d?null:{start:p,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;Qr={focusedElem:a,selectionRange:s},sn=!1,kl=null,Sl=!1,sl=r;do{try{$l()}catch(e){if(null===sl)throw Error(y(330));Jl(sl,e),sl=sl.nextEffect}}while(null!==sl);kl=null,sl=r;do{try{for(a=e;null!==sl;){var b=sl.flags;if(16&b&&Oe(sl.stateNode,""),128&b){var w=sl.alternate;if(null!==w){var x=w.ref;null!==x&&("function"==typeof x?x(null):x.current=null)}}switch(1038&b){case 2:Ls(sl),sl.flags&=-3;break;case 6:Ls(sl),sl.flags&=-3,js(sl.alternate,sl);break;case 1024:sl.flags&=-1025;break;case 1028:sl.flags&=-1025,js(sl.alternate,sl);break;case 4:js(sl.alternate,sl);break;case 8:Bs(a,s=sl);var k=s.alternate;Ps(s),null!==k&&Ps(k)}sl=sl.nextEffect}}catch(e){if(null===sl)throw Error(y(330));Jl(sl,e),sl=sl.nextEffect}}while(null!==sl);if(x=Qr,w=_r(),b=x.focusedElem,a=x.selectionRange,w!==b&&b&&b.ownerDocument&&Tr(b.ownerDocument.documentElement,b)){null!==a&&Ar(b)&&(w=a.start,void 0===(x=a.end)&&(x=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(x,b.value.length)):(x=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(x=x.getSelection(),s=b.textContent.length,k=Math.min(a.start,s),a=void 0===a.end?k:Math.min(a.end,s),!x.extend&&k>a&&(s=a,a=k,k=s),s=Er(b,k),o=Er(b,a),s&&o&&(1!==x.rangeCount||x.anchorNode!==s.node||x.anchorOffset!==s.offset||x.focusNode!==o.node||x.focusOffset!==o.offset)&&((w=w.createRange()).setStart(s.node,s.offset),x.removeAllRanges(),k>a?(x.addRange(w),x.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),x.addRange(w))))),w=[];for(x=b;x=x.parentNode;)1===x.nodeType&&w.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(x=w[b]).element.scrollLeft=x.left,x.element.scrollTop=x.top}sn=!!Jr,Qr=Jr=null,e.current=n,sl=r;do{try{for(b=e;null!==sl;){var S=sl.flags;if(36&S&&Os(b,sl.alternate,sl),128&S){w=void 0;var C=sl.ref;if(null!==C){var E=sl.stateNode;sl.tag,w=E,"function"==typeof C?C(w):C.current=w}}sl=sl.nextEffect}}catch(e){if(null===sl)throw Error(y(330));Jl(sl,e),sl=sl.nextEffect}}while(null!==sl);sl=null,Yi(),Us=i}else e.current=n;if(pl)pl=!1,dl=e,hl=t;else for(sl=r;null!==sl;)t=sl.nextEffect,sl.nextEffect=null,8&sl.flags&&((S=sl).sibling=null,S.stateNode=null),sl=t;if(0===(r=e.pendingLanes)&&(ul=null),1===r?e===yl?vl++:(vl=0,yl=e):vl=0,n=n.stateNode,Ri&&"function"==typeof Ri.onCommitFiberRoot)try{Ri.onCommitFiberRoot(Li,n,void 0,64==(64&n.current.flags))}catch(e){}if(Al(e,eo()),ll)throw ll=!1,e=cl,cl=null,e;return 0!=(8&Us)||oo(),null}function $l(){for(;null!==sl;){var e=sl.alternate;Sl||null===kl||(0!=(8&sl.flags)?pt(sl,kl)&&(Sl=!0):13===sl.tag&&zs(e,sl)&&pt(sl,kl)&&(Sl=!0));var t=sl.flags;0!=(256&t)&&As(e,sl),0==(512&t)||pl||(pl=!0,io(97,(function(){return Gl(),null}))),sl=sl.nextEffect}}function Gl(){if(90!==hl){var e=97<hl?97:hl;return hl=90,ro(e,Zl)}return!1}function Xl(e,t){fl.push(t,e),pl||(pl=!0,io(97,(function(){return Gl(),null})))}function Yl(e,t){ml.push(t,e),pl||(pl=!0,io(97,(function(){return Gl(),null})))}function Zl(){if(null===dl)return!1;var e=dl;if(dl=null,0!=(48&Us))throw Error(y(331));var t=Us;Us|=32;var n=ml;ml=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(e){if(null===o)throw Error(y(330));Jl(o,e)}}for(n=fl,fl=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var s=i.create;i.destroy=s()}catch(e){if(null===o)throw Error(y(330));Jl(o,e)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Us=t,oo(),!0}function Kl(e,t,n){So(e,t=Cs(0,t=xs(n,t),1)),t=Cl(),null!==(e=_l(e,1))&&(en(e,1,t),Al(e,t))}function Jl(e,t){if(3===e.tag)Kl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Kl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ul||!ul.has(r))){var i=Es(n,e=xs(t,e),1);if(So(n,i),i=Cl(),null!==(n=_l(n,1)))en(n,1,i),Al(n,i);else if("function"==typeof r.componentDidCatch&&(null===ul||!ul.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Ql(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Cl(),e.pingedLanes|=e.suspendedLanes&n,Ws===e&&(Gs&n)===n&&(4===Zs||3===Zs&&(62914560&Gs)===Gs&&500>eo()-rl?Il(e,0):tl|=n),Al(e,t)}function ec(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===to()?1:2:(0===wl&&(wl=Js),0===(t=Jt(62914560&~wl))&&(t=4194304))),n=Cl(),null!==(e=_l(e,t))&&(en(e,t,n),Al(e,n))}function tc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function nc(e,t,n,r){return new tc(e,t,n,r)}function rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ic(e,t){var n=e.alternate;return null===n?((n=nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function oc(e,t,n,r,i,o){var a=2;if(r=e,"function"==typeof e)rc(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case I:return ac(n.children,i,o,t);case X:a=8,i|=16;break;case B:a=8,i|=1;break;case j:return(e=nc(12,n,t,8|i)).elementType=j,e.type=j,e.lanes=o,e;case q:return(e=nc(13,n,t,i)).type=q,e.elementType=q,e.lanes=o,e;case V:return(e=nc(19,n,t,i)).elementType=V,e.lanes=o,e;case Y:return sc(n,i,o,t);case Z:return(e=nc(24,n,t,i)).elementType=Z,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case F:a=10;break e;case z:a=9;break e;case H:a=11;break e;case U:a=14;break e;case W:a=16,r=null;break e;case $:a=22;break e}throw Error(y(130,null==e?e:typeof e,""))}return(t=nc(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function ac(e,t,n,r){return(e=nc(7,e,r,t)).lanes=n,e}function sc(e,t,n,r){return(e=nc(23,e,r,t)).elementType=Y,e.lanes=n,e}function lc(e,t,n){return(e=nc(6,e,null,t)).lanes=n,e}function cc(e,t,n){return(t=nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function uc(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Qt(0),this.expirationTimes=Qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qt(0),this.mutableSourceEagerHydrationData=null}function pc(e,t,n,r){var i=t.current,o=Cl(),a=El(i);e:if(n){t:{if(st(n=n._reactInternals)!==n||1!==n.tag)throw Error(y(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Ai(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(y(171))}if(1===n.tag){var l=n.type;if(Ai(l)){n=Mi(n,l,s);break e}}n=s}else n=Si;return null===t.context?t.context=n:t.pendingContext=n,(t=ko(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),So(i,t),Tl(i,a,o),a}function dc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function fc(e,t){hc(e,t),(e=e.alternate)&&hc(e,t)}function mc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new uc(e,t,null!=n&&!0===n.hydrate),t=nc(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,wo(t),e[pi]=n.current,Vr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function gc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function vc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=dc(a);s.call(e)}}pc(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new mc(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var l=i;i=function(){var e=dc(a);l.call(e)}}Dl((function(){pc(t,a,e,i)}))}return dc(a)}function yc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!gc(t))throw Error(y(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:R,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}al=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||Ei.current)Xa=!0;else{if(0==(n&r)){switch(Xa=!1,t.tag){case 3:is(t),oa();break;case 5:Go(t);break;case 1:Ai(t.type)&&Pi(t);break;case 4:Wo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ki(co,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?us(e,t,n):(ki(Yo,1&Yo.current),null!==(t=vs(e,t,n))?t.sibling:null);ki(Yo,1&Yo.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return gs(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(Yo,Yo.current),r)break;return null;case 23:case 24:return t.lanes=0,Qa(e,t,n)}return vs(e,t,n)}Xa=0!=(16384&e.flags)}else Xa=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=_i(t,Ci.current),vo(t,n),i=ya(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)){var o=!0;Pi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,wo(t);var a=r.getDerivedStateFromProps;"function"==typeof a&&Ao(t,r,a,e),i.updater=Oo,t.stateNode=i,i._reactInternals=t,Do(t,r,e,n),t=rs(null,t,r,!0,o,n)}else t.tag=0,Ya(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return rc(e)?1:0;if(null!=e){if((e=e.$$typeof)===H)return 11;if(e===U)return 14}return 2}(i),e=lo(i,e),o){case 0:t=ts(null,t,i,e,n);break e;case 1:t=ns(null,t,i,e,n);break e;case 11:t=Za(null,t,i,e,n);break e;case 14:t=Ka(null,t,i,lo(i.type,e),r,n);break e}throw Error(y(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,ts(e,t,r,i=t.elementType===r?i:lo(r,i),n);case 1:return r=t.type,i=t.pendingProps,ns(e,t,r,i=t.elementType===r?i:lo(r,i),n);case 3:if(is(t),r=t.updateQueue,null===e||null===r)throw Error(y(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,xo(e,t),Eo(t,r,null,n),(r=t.memoizedState.element)===i)oa(),t=vs(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Jo=oi(t.stateNode.containerInfo.firstChild),Ko=t,o=Qo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],aa.push(o);for(n=Fo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ya(e,t,r,n),oa();t=t.child}return t;case 5:return Go(t),null===e&&na(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ti(r,i)?a=null:null!==o&&ti(r,o)&&(t.flags|=16),es(e,t),Ya(e,t,a,n),t.child;case 6:return null===e&&na(t),null;case 13:return us(e,t,n);case 4:return Wo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=jo(t,null,r,n):Ya(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Za(e,t,r,i=t.elementType===r?i:lo(r,i),n);case 7:return Ya(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ya(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var s=t.type._context;if(ki(co,s._currentValue),s._currentValue=o,null!==a)if(s=a.value,0===(o=xr(s,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(s,o):1073741823))){if(a.children===i.children&&!Ei.current){t=vs(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===s.tag&&((c=ko(-1,n&-n)).tag=2,So(s,c)),s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),go(s.return,n),l.lanes|=n;break}c=c.next}}else a=10===s.tag&&s.type===t.type?null:s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}Ya(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,vo(t,n),r=r(i=yo(i,o.unstable_observedBits)),t.flags|=1,Ya(e,t,r,n),t.child;case 14:return o=lo(i=t.type,t.pendingProps),Ka(e,t,i,o=lo(i.type,o),r,n);case 15:return Ja(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:lo(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ai(r)?(e=!0,Pi(t)):e=!1,vo(t,n),Mo(t,r,i),Do(t,r,i,n),rs(null,t,r,!0,e,n);case 19:return gs(e,t,n);case 23:case 24:return Qa(e,t,n)}throw Error(y(156,t.tag))},mc.prototype.render=function(e){pc(e,this._internalRoot,null,null)},mc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;pc(null,e,null,(function(){t[pi]=null}))},dt=function(e){13===e.tag&&(Tl(e,4,Cl()),fc(e,4))},ht=function(e){13===e.tag&&(Tl(e,67108864,Cl()),fc(e,67108864))},ft=function(e){if(13===e.tag){var t=Cl(),n=El(e);Tl(e,n,t),fc(e,n)}},mt=function(e,t){return t()},je=function(e,t,n){switch(t){case"input":if(fe(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=gi(r);if(!i)throw Error(y(90));ce(r),fe(r,i)}}}break;case"textarea":xe(e,n);break;case"select":null!=(t=n.value)&&ye(e,!!n.multiple,t,!1)}},Ue=Pl,We=function(e,t,n,r,i){var o=Us;Us|=4;try{return ro(98,e.bind(null,t,n,r,i))}finally{0===(Us=o)&&(ol(),oo())}},$e=function(){0==(49&Us)&&(function(){if(null!==gl){var e=gl;gl=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,Al(e,eo())}))}oo()}(),Gl())},Ge=function(e,t){var n=Us;Us|=2;try{return e(t)}finally{0===(Us=n)&&(ol(),oo())}};var bc={Events:[fi,mi,gi,qe,Ve,Gl,{current:!1}]},wc={findFiberByHostInstance:hi,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},xc={bundleType:wc.bundleType,version:wc.version,rendererPackageName:wc.rendererPackageName,rendererConfig:wc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=ut(e))?null:e.stateNode},findFiberByHostInstance:wc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{Li=kc.inject(xc),Ri=kc}catch(e){}}r=bc,i=yc,a=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(y(188));throw Error(y(268,Object.keys(e)))}return e=null===(e=ut(t))?null:e.stateNode},s=function(e,t){var n=Us;if(0!=(48&n))return e(t);Us|=1;try{if(e)return ro(99,e.bind(null,t))}finally{Us=n,oo()}},l=function(e,t,n){if(!gc(t))throw Error(y(200));return vc(null,e,t,!0,n)},c=function(e,t,n){if(!gc(t))throw Error(y(200));return vc(null,e,t,!1,n)},u=function(e){if(!gc(e))throw Error(y(40));return!!e._reactRootContainer&&(Dl((function(){vc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},p=Pl,d=function(e,t){return yc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},h=function(e,t,n,r){if(!gc(n))throw Error(y(200));if(null==e||void 0===e._reactInternals)throw Error(y(38));return vc(e,t,n,!1,r)},f="17.0.2"})),o.register("fO90s",(function(e,t){e.exports=o("gcnCG")})),o.register("gcnCG",(function(t,n){
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var r,i,o,a,s,l,c,u,p,d,h,f,m,g,v,y,b,w,x,k,S,C,E;if(e(t.exports,"unstable_now",(()=>r),(e=>r=e)),e(t.exports,"unstable_shouldYield",(()=>i),(e=>i=e)),e(t.exports,"unstable_forceFrameRate",(()=>o),(e=>o=e)),e(t.exports,"unstable_IdlePriority",(()=>a),(e=>a=e)),e(t.exports,"unstable_ImmediatePriority",(()=>s),(e=>s=e)),e(t.exports,"unstable_LowPriority",(()=>l),(e=>l=e)),e(t.exports,"unstable_NormalPriority",(()=>c),(e=>c=e)),e(t.exports,"unstable_Profiling",(()=>u),(e=>u=e)),e(t.exports,"unstable_UserBlockingPriority",(()=>p),(e=>p=e)),e(t.exports,"unstable_cancelCallback",(()=>d),(e=>d=e)),e(t.exports,"unstable_continueExecution",(()=>h),(e=>h=e)),e(t.exports,"unstable_getCurrentPriorityLevel",(()=>f),(e=>f=e)),e(t.exports,"unstable_getFirstCallbackNode",(()=>m),(e=>m=e)),e(t.exports,"unstable_next",(()=>g),(e=>g=e)),e(t.exports,"unstable_pauseExecution",(()=>v),(e=>v=e)),e(t.exports,"unstable_requestPaint",(()=>y),(e=>y=e)),e(t.exports,"unstable_runWithPriority",(()=>b),(e=>b=e)),e(t.exports,"unstable_scheduleCallback",(()=>w),(e=>w=e)),e(t.exports,"unstable_wrapCallback",(()=>x),(e=>x=e)),"object"==typeof performance&&"function"==typeof performance.now){var T=performance;r=function(){return T.now()}}else{var _=Date,A=_.now();r=function(){return _.now()-A}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var O=null,N=null,M=function(){if(null!==O)try{var e=r();O(!0,e),O=null}catch(e){throw setTimeout(M,0),e}};k=function(e){null!==O?setTimeout(k,0,e):(O=e,setTimeout(M,0))},S=function(e,t){N=setTimeout(e,t)},C=function(){clearTimeout(N)},i=function(){return!1},E=o=function(){}}else{var P=window.setTimeout,D=window.clearTimeout;if("undefined"!=typeof console){var L=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof L&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var R=!1,I=null,B=-1,j=5,F=0;i=function(){return r()>=F},E=function(){},o=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<e?Math.floor(1e3/e):5};var z=new MessageChannel,H=z.port2;z.port1.onmessage=function(){if(null!==I){var e=r();F=e+j;try{I(!0,e)?H.postMessage(null):(R=!1,I=null)}catch(e){throw H.postMessage(null),e}}else R=!1},k=function(e){I=e,R||(R=!0,H.postMessage(null))},S=function(e,t){B=P((function(){e(r())}),t)},C=function(){D(B),B=-1}}function q(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<W(i,t)))break e;e[r]=t,e[n]=i,n=r}}function V(e){return void 0===(e=e[0])?null:e}function U(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>W(a,n))void 0!==l&&0>W(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==l&&0>W(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function W(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var $=[],G=[],X=1,Y=null,Z=3,K=!1,J=!1,Q=!1;function ee(e){for(var t=V(G);null!==t;){if(null===t.callback)U(G);else{if(!(t.startTime<=e))break;U(G),t.sortIndex=t.expirationTime,q($,t)}t=V(G)}}function te(e){if(Q=!1,ee(e),!J)if(null!==V($))J=!0,k(ne);else{var t=V(G);null!==t&&S(te,t.startTime-e)}}function ne(e,t){J=!1,Q&&(Q=!1,C()),K=!0;var n=Z;try{for(ee(t),Y=V($);null!==Y&&(!(Y.expirationTime>t)||e&&!i());){var o=Y.callback;if("function"==typeof o){Y.callback=null,Z=Y.priorityLevel;var a=o(Y.expirationTime<=t);t=r(),"function"==typeof a?Y.callback=a:Y===V($)&&U($),ee(t)}else U($);Y=V($)}if(null!==Y)var s=!0;else{var l=V(G);null!==l&&S(te,l.startTime-t),s=!1}return s}finally{Y=null,Z=n,K=!1}}a=5,s=1,l=4,c=3,u=null,p=2,d=function(e){e.callback=null},h=function(){J||K||(J=!0,k(ne))},f=function(){return Z},m=function(){return V($)},g=function(e){switch(Z){case 1:case 2:case 3:var t=3;break;default:t=Z}var n=Z;Z=t;try{return e()}finally{Z=n}},v=function(){},y=E,b=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=Z;Z=e;try{return t()}finally{Z=n}},w=function(e,t,n){var i=r();switch("object"==typeof n&&null!==n?n="number"==typeof(n=n.delay)&&0<n?i+n:i:n=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:X++,callback:t,priorityLevel:e,startTime:n,expirationTime:o=n+o,sortIndex:-1},n>i?(e.sortIndex=n,q(G,e),null===V($)&&e===V(G)&&(Q?C():Q=!0,S(te,n-i))):(e.sortIndex=o,q($,e),J||K||(J=!0,k(ne))),e},x=function(e){var t=Z;return function(){var n=Z;Z=t;try{return e.apply(this,arguments)}finally{Z=n}}}})),o.register("hOzOt",(function(e,t){var n=o("kZO5c");function r(){}function i(){}i.resetWarningCache=r,e.exports=function(){function e(e,t,r,i,o,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var o={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return o.PropTypes=o,o}})),o.register("kZO5c",(function(e,t){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"})),o.register("9cCWX",(function(t,n){
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var r,i,o,a,s,l,c,u,p,d,h,f,m,g,v,y,b,w,x,k,S,C,E,T,_,A,O,N;e(t.exports,"AsyncMode",(()=>r),(e=>r=e)),e(t.exports,"ConcurrentMode",(()=>i),(e=>i=e)),e(t.exports,"ContextConsumer",(()=>o),(e=>o=e)),e(t.exports,"ContextProvider",(()=>a),(e=>a=e)),e(t.exports,"Element",(()=>s),(e=>s=e)),e(t.exports,"ForwardRef",(()=>l),(e=>l=e)),e(t.exports,"Fragment",(()=>c),(e=>c=e)),e(t.exports,"Lazy",(()=>u),(e=>u=e)),e(t.exports,"Memo",(()=>p),(e=>p=e)),e(t.exports,"Portal",(()=>d),(e=>d=e)),e(t.exports,"Profiler",(()=>h),(e=>h=e)),e(t.exports,"StrictMode",(()=>f),(e=>f=e)),e(t.exports,"Suspense",(()=>m),(e=>m=e)),e(t.exports,"isAsyncMode",(()=>g),(e=>g=e)),e(t.exports,"isConcurrentMode",(()=>v),(e=>v=e)),e(t.exports,"isContextConsumer",(()=>y),(e=>y=e)),e(t.exports,"isContextProvider",(()=>b),(e=>b=e)),e(t.exports,"isElement",(()=>w),(e=>w=e)),e(t.exports,"isForwardRef",(()=>x),(e=>x=e)),e(t.exports,"isFragment",(()=>k),(e=>k=e)),e(t.exports,"isLazy",(()=>S),(e=>S=e)),e(t.exports,"isMemo",(()=>C),(e=>C=e)),e(t.exports,"isPortal",(()=>E),(e=>E=e)),e(t.exports,"isProfiler",(()=>T),(e=>T=e)),e(t.exports,"isStrictMode",(()=>_),(e=>_=e)),e(t.exports,"isSuspense",(()=>A),(e=>A=e)),e(t.exports,"isValidElementType",(()=>O),(e=>O=e)),e(t.exports,"typeOf",(()=>N),(e=>N=e));var M="function"==typeof Symbol&&Symbol.for,P=M?Symbol.for("react.element"):60103,D=M?Symbol.for("react.portal"):60106,L=M?Symbol.for("react.fragment"):60107,R=M?Symbol.for("react.strict_mode"):60108,I=M?Symbol.for("react.profiler"):60114,B=M?Symbol.for("react.provider"):60109,j=M?Symbol.for("react.context"):60110,F=M?Symbol.for("react.async_mode"):60111,z=M?Symbol.for("react.concurrent_mode"):60111,H=M?Symbol.for("react.forward_ref"):60112,q=M?Symbol.for("react.suspense"):60113,V=M?Symbol.for("react.suspense_list"):60120,U=M?Symbol.for("react.memo"):60115,W=M?Symbol.for("react.lazy"):60116,$=M?Symbol.for("react.block"):60121,G=M?Symbol.for("react.fundamental"):60117,X=M?Symbol.for("react.responder"):60118,Y=M?Symbol.for("react.scope"):60119;function Z(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case P:switch(e=e.type){case F:case z:case L:case I:case R:case q:return e;default:switch(e=e&&e.$$typeof){case j:case H:case W:case U:case B:return e;default:return t}}case D:return t}}}function K(e){return Z(e)===z}r=F,i=z,o=j,a=B,s=P,l=H,c=L,u=W,p=U,d=D,h=I,f=R,m=q,g=function(e){return K(e)||Z(e)===F},v=K,y=function(e){return Z(e)===j},b=function(e){return Z(e)===B},w=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===P},x=function(e){return Z(e)===H},k=function(e){return Z(e)===L},S=function(e){return Z(e)===W},C=function(e){return Z(e)===U},E=function(e){return Z(e)===D},T=function(e){return Z(e)===I},_=function(e){return Z(e)===R},A=function(e){return Z(e)===q},O=function(e){return"string"==typeof e||"function"==typeof e||e===L||e===z||e===I||e===R||e===q||e===V||"object"==typeof e&&null!==e&&(e.$$typeof===W||e.$$typeof===U||e.$$typeof===B||e.$$typeof===j||e.$$typeof===H||e.$$typeof===G||e.$$typeof===X||e.$$typeof===Y||e.$$typeof===$)},N=Z})),o.register("3gokF",(function(e,t){e.exports=ge;var n=o("1PdUY"),r=o("l5phZ"),i=o("ivtrQ"),a=o("dyj5W"),s=0,l=s++,c=s++,u=s++,p=s++,d=s++,h=s++,f=s++,m=s++,g=s++,v=s++,y=s++,b=s++,w=s++,x=s++,k=s++,S=s++,C=s++,E=s++,T=s++,_=s++,A=s++,O=s++,N=s++,M=s++,P=s++,D=s++,L=s++,R=s++,I=s++,B=s++,j=s++,F=s++,z=s++,H=s++,q=s++,V=s++,U=s++,W=s++,$=s++,G=s++,X=s++,Y=s++,Z=s++,K=s++,J=s++,Q=s++,ee=s++,te=s++,ne=s++,re=s++,ie=s++,oe=s++,ae=s++,se=s++,le=s++,ce=0,ue=ce++,pe=ce++,de=ce++;function he(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function fe(e,t,n){var r=e.toLowerCase();return e===r?function(e){e===r?this._state=t:(this._state=n,this._index--)}:function(i){i===r||i===e?this._state=t:(this._state=n,this._index--)}}function me(e,t){var n=e.toLowerCase();return function(r){r===n||r===e?this._state=t:(this._state=u,this._index--)}}function ge(e,t){this._state=l,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=l,this._special=ue,this._cbs=t,this._running=!0,this._ended=!1,this._xmlMode=!(!e||!e.xmlMode),this._decodeEntities=!(!e||!e.decodeEntities)}ge.prototype._stateText=function(e){"<"===e?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=c,this._sectionStart=this._index):this._decodeEntities&&this._special===ue&&"&"===e&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=l,this._state=ie,this._sectionStart=this._index)},ge.prototype._stateBeforeTagName=function(e){"/"===e?this._state=d:"<"===e?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===e||this._special!==ue||he(e)?this._state=l:"!"===e?(this._state=k,this._sectionStart=this._index+1):"?"===e?(this._state=C,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==e&&"S"!==e?u:j,this._sectionStart=this._index)},ge.prototype._stateInTagName=function(e){("/"===e||">"===e||he(e))&&(this._emitToken("onopentagname"),this._state=m,this._index--)},ge.prototype._stateBeforeCloseingTagName=function(e){he(e)||(">"===e?this._state=l:this._special!==ue?"s"===e||"S"===e?this._state=F:(this._state=l,this._index--):(this._state=h,this._sectionStart=this._index))},ge.prototype._stateInCloseingTagName=function(e){(">"===e||he(e))&&(this._emitToken("onclosetag"),this._state=f,this._index--)},ge.prototype._stateAfterCloseingTagName=function(e){">"===e&&(this._state=l,this._sectionStart=this._index+1)},ge.prototype._stateBeforeAttributeName=function(e){">"===e?(this._cbs.onopentagend(),this._state=l,this._sectionStart=this._index+1):"/"===e?this._state=p:he(e)||(this._state=g,this._sectionStart=this._index)},ge.prototype._stateInSelfClosingTag=function(e){">"===e?(this._cbs.onselfclosingtag(),this._state=l,this._sectionStart=this._index+1):he(e)||(this._state=m,this._index--)},ge.prototype._stateInAttributeName=function(e){("="===e||"/"===e||">"===e||he(e))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=v,this._index--)},ge.prototype._stateAfterAttributeName=function(e){"="===e?this._state=y:"/"===e||">"===e?(this._cbs.onattribend(),this._state=m,this._index--):he(e)||(this._cbs.onattribend(),this._state=g,this._sectionStart=this._index)},ge.prototype._stateBeforeAttributeValue=function(e){'"'===e?(this._state=b,this._sectionStart=this._index+1):"'"===e?(this._state=w,this._sectionStart=this._index+1):he(e)||(this._state=x,this._sectionStart=this._index,this._index--)},ge.prototype._stateInAttributeValueDoubleQuotes=function(e){'"'===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=m):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ie,this._sectionStart=this._index)},ge.prototype._stateInAttributeValueSingleQuotes=function(e){"'"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=m):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ie,this._sectionStart=this._index)},ge.prototype._stateInAttributeValueNoQuotes=function(e){he(e)||">"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=m,this._index--):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ie,this._sectionStart=this._index)},ge.prototype._stateBeforeDeclaration=function(e){this._state="["===e?O:"-"===e?E:S},ge.prototype._stateInDeclaration=function(e){">"===e&&(this._cbs.ondeclaration(this._getSection()),this._state=l,this._sectionStart=this._index+1)},ge.prototype._stateInProcessingInstruction=function(e){">"===e&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=l,this._sectionStart=this._index+1)},ge.prototype._stateBeforeComment=function(e){"-"===e?(this._state=T,this._sectionStart=this._index+1):this._state=S},ge.prototype._stateInComment=function(e){"-"===e&&(this._state=_)},ge.prototype._stateAfterComment1=function(e){this._state="-"===e?A:T},ge.prototype._stateAfterComment2=function(e){">"===e?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=l,this._sectionStart=this._index+1):"-"!==e&&(this._state=T)},ge.prototype._stateBeforeCdata1=fe("C",N,S),ge.prototype._stateBeforeCdata2=fe("D",M,S),ge.prototype._stateBeforeCdata3=fe("A",P,S),ge.prototype._stateBeforeCdata4=fe("T",D,S),ge.prototype._stateBeforeCdata5=fe("A",L,S),ge.prototype._stateBeforeCdata6=function(e){"["===e?(this._state=R,this._sectionStart=this._index+1):(this._state=S,this._index--)},ge.prototype._stateInCdata=function(e){"]"===e&&(this._state=I)},ge.prototype._stateAfterCdata1=function(e){this._state="]"===e?B:R},ge.prototype._stateAfterCdata2=function(e){">"===e?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=l,this._sectionStart=this._index+1):"]"!==e&&(this._state=R)},ge.prototype._stateBeforeSpecial=function(e){"c"===e||"C"===e?this._state=z:"t"===e||"T"===e?this._state=Z:(this._state=u,this._index--)},ge.prototype._stateBeforeSpecialEnd=function(e){this._special!==pe||"c"!==e&&"C"!==e?this._special!==de||"t"!==e&&"T"!==e?this._state=l:this._state=ee:this._state=W},ge.prototype._stateBeforeScript1=me("R",H),ge.prototype._stateBeforeScript2=me("I",q),ge.prototype._stateBeforeScript3=me("P",V),ge.prototype._stateBeforeScript4=me("T",U),ge.prototype._stateBeforeScript5=function(e){("/"===e||">"===e||he(e))&&(this._special=pe),this._state=u,this._index--},ge.prototype._stateAfterScript1=fe("R",$,l),ge.prototype._stateAfterScript2=fe("I",G,l),ge.prototype._stateAfterScript3=fe("P",X,l),ge.prototype._stateAfterScript4=fe("T",Y,l),ge.prototype._stateAfterScript5=function(e){">"===e||he(e)?(this._special=ue,this._state=h,this._sectionStart=this._index-6,this._index--):this._state=l},ge.prototype._stateBeforeStyle1=me("Y",K),ge.prototype._stateBeforeStyle2=me("L",J),ge.prototype._stateBeforeStyle3=me("E",Q),ge.prototype._stateBeforeStyle4=function(e){("/"===e||">"===e||he(e))&&(this._special=de),this._state=u,this._index--},ge.prototype._stateAfterStyle1=fe("Y",te,l),ge.prototype._stateAfterStyle2=fe("L",ne,l),ge.prototype._stateAfterStyle3=fe("E",re,l),ge.prototype._stateAfterStyle4=function(e){">"===e||he(e)?(this._special=ue,this._state=h,this._sectionStart=this._index-5,this._index--):this._state=l},ge.prototype._stateBeforeEntity=fe("#",oe,ae),ge.prototype._stateBeforeNumericEntity=fe("X",le,se),ge.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var e=this._buffer.substring(this._sectionStart+1,this._index),t=this._xmlMode?a:r;t.hasOwnProperty(e)&&(this._emitPartial(t[e]),this._sectionStart=this._index+1)}},ge.prototype._parseLegacyEntity=function(){var e=this._sectionStart+1,t=this._index-e;for(t>6&&(t=6);t>=2;){var n=this._buffer.substr(e,t);if(i.hasOwnProperty(n))return this._emitPartial(i[n]),void(this._sectionStart+=t+1);t--}},ge.prototype._stateInNamedEntity=function(e){";"===e?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(e<"a"||e>"z")&&(e<"A"||e>"Z")&&(e<"0"||e>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==l?"="!==e&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},ge.prototype._decodeNumericEntity=function(e,t){var r=this._sectionStart+e;if(r!==this._index){var i=this._buffer.substring(r,this._index),o=parseInt(i,t);this._emitPartial(n(o)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},ge.prototype._stateInNumericEntity=function(e){";"===e?(this._decodeNumericEntity(2,10),this._sectionStart++):(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},ge.prototype._stateInHexEntity=function(e){";"===e?(this._decodeNumericEntity(3,16),this._sectionStart++):(e<"a"||e>"f")&&(e<"A"||e>"F")&&(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},ge.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===l?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},ge.prototype.write=function(e){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=e,this._parse()},ge.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var e=this._buffer.charAt(this._index);this._state===l?this._stateText(e):this._state===c?this._stateBeforeTagName(e):this._state===u?this._stateInTagName(e):this._state===d?this._stateBeforeCloseingTagName(e):this._state===h?this._stateInCloseingTagName(e):this._state===f?this._stateAfterCloseingTagName(e):this._state===p?this._stateInSelfClosingTag(e):this._state===m?this._stateBeforeAttributeName(e):this._state===g?this._stateInAttributeName(e):this._state===v?this._stateAfterAttributeName(e):this._state===y?this._stateBeforeAttributeValue(e):this._state===b?this._stateInAttributeValueDoubleQuotes(e):this._state===w?this._stateInAttributeValueSingleQuotes(e):this._state===x?this._stateInAttributeValueNoQuotes(e):this._state===k?this._stateBeforeDeclaration(e):this._state===S?this._stateInDeclaration(e):this._state===C?this._stateInProcessingInstruction(e):this._state===E?this._stateBeforeComment(e):this._state===T?this._stateInComment(e):this._state===_?this._stateAfterComment1(e):this._state===A?this._stateAfterComment2(e):this._state===O?this._stateBeforeCdata1(e):this._state===N?this._stateBeforeCdata2(e):this._state===M?this._stateBeforeCdata3(e):this._state===P?this._stateBeforeCdata4(e):this._state===D?this._stateBeforeCdata5(e):this._state===L?this._stateBeforeCdata6(e):this._state===R?this._stateInCdata(e):this._state===I?this._stateAfterCdata1(e):this._state===B?this._stateAfterCdata2(e):this._state===j?this._stateBeforeSpecial(e):this._state===F?this._stateBeforeSpecialEnd(e):this._state===z?this._stateBeforeScript1(e):this._state===H?this._stateBeforeScript2(e):this._state===q?this._stateBeforeScript3(e):this._state===V?this._stateBeforeScript4(e):this._state===U?this._stateBeforeScript5(e):this._state===W?this._stateAfterScript1(e):this._state===$?this._stateAfterScript2(e):this._state===G?this._stateAfterScript3(e):this._state===X?this._stateAfterScript4(e):this._state===Y?this._stateAfterScript5(e):this._state===Z?this._stateBeforeStyle1(e):this._state===K?this._stateBeforeStyle2(e):this._state===J?this._stateBeforeStyle3(e):this._state===Q?this._stateBeforeStyle4(e):this._state===ee?this._stateAfterStyle1(e):this._state===te?this._stateAfterStyle2(e):this._state===ne?this._stateAfterStyle3(e):this._state===re?this._stateAfterStyle4(e):this._state===ie?this._stateBeforeEntity(e):this._state===oe?this._stateBeforeNumericEntity(e):this._state===ae?this._stateInNamedEntity(e):this._state===se?this._stateInNumericEntity(e):this._state===le?this._stateInHexEntity(e):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},ge.prototype.pause=function(){this._running=!1},ge.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},ge.prototype.end=function(e){this._ended&&this._cbs.onerror(Error(".end() after done!")),e&&this.write(e),this._ended=!0,this._running&&this._finish()},ge.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},ge.prototype._handleTrailingData=function(){var e=this._buffer.substr(this._sectionStart);this._state===R||this._state===I||this._state===B?this._cbs.oncdata(e):this._state===T||this._state===_||this._state===A?this._cbs.oncomment(e):this._state!==ae||this._xmlMode?this._state!==se||this._xmlMode?this._state!==le||this._xmlMode?this._state!==u&&this._state!==m&&this._state!==y&&this._state!==v&&this._state!==g&&this._state!==w&&this._state!==b&&this._state!==x&&this._state!==h&&this._cbs.ontext(e):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},ge.prototype.reset=function(){ge.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},ge.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},ge.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},ge.prototype._emitToken=function(e){this._cbs[e](this._getSection()),this._sectionStart=-1},ge.prototype._emitPartial=function(e){this._baseState!==l?this._cbs.onattribdata(e):this._cbs.ontext(e)}})),o.register("1PdUY",(function(e,t){var n=o("cimJD");e.exports=function(e){if(e>=55296&&e<=57343||e>1114111)return"";e in n&&(e=n[e]);var t="";e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e);return t+=String.fromCharCode(e)}})),o.register("cimJD",(function(e,t){e.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')})),o.register("l5phZ",(function(e,t){e.exports=JSON.parse('{"Aacute":"","aacute":"","Abreve":"","abreve":"","ac":"","acd":"","acE":"","Acirc":"","acirc":"","acute":"","Acy":"","acy":"","AElig":"","aelig":"","af":"","Afr":"","afr":"","Agrave":"","agrave":"","alefsym":"","aleph":"","Alpha":"","alpha":"","Amacr":"","amacr":"","amalg":"","amp":"&","AMP":"&","andand":"","And":"","and":"","andd":"","andslope":"","andv":"","ang":"","ange":"","angle":"","angmsdaa":"","angmsdab":"","angmsdac":"","angmsdad":"","angmsdae":"","angmsdaf":"","angmsdag":"","angmsdah":"","angmsd":"","angrt":"","angrtvb":"","angrtvbd":"","angsph":"","angst":"","angzarr":"","Aogon":"","aogon":"","Aopf":"","aopf":"","apacir":"","ap":"","apE":"","ape":"","apid":"","apos":"\'","ApplyFunction":"","approx":"","approxeq":"","Aring":"","aring":"","Ascr":"","ascr":"","Assign":"","ast":"*","asymp":"","asympeq":"","Atilde":"","atilde":"","Auml":"","auml":"","awconint":"","awint":"","backcong":"","backepsilon":"","backprime":"","backsim":"","backsimeq":"","Backslash":"","Barv":"","barvee":"","barwed":"","Barwed":"","barwedge":"","bbrk":"","bbrktbrk":"","bcong":"","Bcy":"","bcy":"","bdquo":"","becaus":"","because":"","Because":"","bemptyv":"","bepsi":"","bernou":"","Bernoullis":"","Beta":"","beta":"","beth":"","between":"","Bfr":"","bfr":"","bigcap":"","bigcirc":"","bigcup":"","bigodot":"","bigoplus":"","bigotimes":"","bigsqcup":"","bigstar":"","bigtriangledown":"","bigtriangleup":"","biguplus":"","bigvee":"","bigwedge":"","bkarow":"","blacklozenge":"","blacksquare":"","blacktriangle":"","blacktriangledown":"","blacktriangleleft":"","blacktriangleright":"","blank":"","blk12":"","blk14":"","blk34":"","block":"","bne":"=","bnequiv":"","bNot":"","bnot":"","Bopf":"","bopf":"","bot":"","bottom":"","bowtie":"","boxbox":"","boxdl":"","boxdL":"","boxDl":"","boxDL":"","boxdr":"","boxdR":"","boxDr":"","boxDR":"","boxh":"","boxH":"","boxhd":"","boxHd":"","boxhD":"","boxHD":"","boxhu":"","boxHu":"","boxhU":"","boxHU":"","boxminus":"","boxplus":"","boxtimes":"","boxul":"","boxuL":"","boxUl":"","boxUL":"","boxur":"","boxuR":"","boxUr":"","boxUR":"","boxv":"","boxV":"","boxvh":"","boxvH":"","boxVh":"","boxVH":"","boxvl":"","boxvL":"","boxVl":"","boxVL":"","boxvr":"","boxvR":"","boxVr":"","boxVR":"","bprime":"","breve":"","Breve":"","brvbar":"","bscr":"","Bscr":"","bsemi":"","bsim":"","bsime":"","bsolb":"","bsol":"\\\\","bsolhsub":"","bull":"","bullet":"","bump":"","bumpE":"","bumpe":"","Bumpeq":"","bumpeq":"","Cacute":"","cacute":"","capand":"","capbrcup":"","capcap":"","cap":"","Cap":"","capcup":"","capdot":"","CapitalDifferentialD":"","caps":"","caret":"","caron":"","Cayleys":"","ccaps":"","Ccaron":"","ccaron":"","Ccedil":"","ccedil":"","Ccirc":"","ccirc":"","Cconint":"","ccups":"","ccupssm":"","Cdot":"","cdot":"","cedil":"","Cedilla":"","cemptyv":"","cent":"","centerdot":"","CenterDot":"","cfr":"","Cfr":"","CHcy":"","chcy":"","check":"","checkmark":"","Chi":"","chi":"","circ":"","circeq":"","circlearrowleft":"","circlearrowright":"","circledast":"","circledcirc":"","circleddash":"","CircleDot":"","circledR":"","circledS":"","CircleMinus":"","CirclePlus":"","CircleTimes":"","cir":"","cirE":"","cire":"","cirfnint":"","cirmid":"","cirscir":"","ClockwiseContourIntegral":"","CloseCurlyDoubleQuote":"","CloseCurlyQuote":"","clubs":"","clubsuit":"","colon":":","Colon":"","Colone":"","colone":"","coloneq":"","comma":",","commat":"@","comp":"","compfn":"","complement":"","complexes":"","cong":"","congdot":"","Congruent":"","conint":"","Conint":"","ContourIntegral":"","copf":"","Copf":"","coprod":"","Coproduct":"","copy":"","COPY":"","copysr":"","CounterClockwiseContourIntegral":"","crarr":"","cross":"","Cross":"","Cscr":"","cscr":"","csub":"","csube":"","csup":"","csupe":"","ctdot":"","cudarrl":"","cudarrr":"","cuepr":"","cuesc":"","cularr":"","cularrp":"","cupbrcap":"","cupcap":"","CupCap":"","cup":"","Cup":"","cupcup":"","cupdot":"","cupor":"","cups":"","curarr":"","curarrm":"","curlyeqprec":"","curlyeqsucc":"","curlyvee":"","curlywedge":"","curren":"","curvearrowleft":"","curvearrowright":"","cuvee":"","cuwed":"","cwconint":"","cwint":"","cylcty":"","dagger":"","Dagger":"","daleth":"","darr":"","Darr":"","dArr":"","dash":"","Dashv":"","dashv":"","dbkarow":"","dblac":"","Dcaron":"","dcaron":"","Dcy":"","dcy":"","ddagger":"","ddarr":"","DD":"","dd":"","DDotrahd":"","ddotseq":"","deg":"","Del":"","Delta":"","delta":"","demptyv":"","dfisht":"","Dfr":"","dfr":"","dHar":"","dharl":"","dharr":"","DiacriticalAcute":"","DiacriticalDot":"","DiacriticalDoubleAcute":"","DiacriticalGrave":"`","DiacriticalTilde":"","diam":"","diamond":"","Diamond":"","diamondsuit":"","diams":"","die":"","DifferentialD":"","digamma":"","disin":"","div":"","divide":"","divideontimes":"","divonx":"","DJcy":"","djcy":"","dlcorn":"","dlcrop":"","dollar":"$","Dopf":"","dopf":"","Dot":"","dot":"","DotDot":"","doteq":"","doteqdot":"","DotEqual":"","dotminus":"","dotplus":"","dotsquare":"","doublebarwedge":"","DoubleContourIntegral":"","DoubleDot":"","DoubleDownArrow":"","DoubleLeftArrow":"","DoubleLeftRightArrow":"","DoubleLeftTee":"","DoubleLongLeftArrow":"","DoubleLongLeftRightArrow":"","DoubleLongRightArrow":"","DoubleRightArrow":"","DoubleRightTee":"","DoubleUpArrow":"","DoubleUpDownArrow":"","DoubleVerticalBar":"","DownArrowBar":"","downarrow":"","DownArrow":"","Downarrow":"","DownArrowUpArrow":"","DownBreve":"","downdownarrows":"","downharpoonleft":"","downharpoonright":"","DownLeftRightVector":"","DownLeftTeeVector":"","DownLeftVectorBar":"","DownLeftVector":"","DownRightTeeVector":"","DownRightVectorBar":"","DownRightVector":"","DownTeeArrow":"","DownTee":"","drbkarow":"","drcorn":"","drcrop":"","Dscr":"","dscr":"","DScy":"","dscy":"","dsol":"","Dstrok":"","dstrok":"","dtdot":"","dtri":"","dtrif":"","duarr":"","duhar":"","dwangle":"","DZcy":"","dzcy":"","dzigrarr":"","Eacute":"","eacute":"","easter":"","Ecaron":"","ecaron":"","Ecirc":"","ecirc":"","ecir":"","ecolon":"","Ecy":"","ecy":"","eDDot":"","Edot":"","edot":"","eDot":"","ee":"","efDot":"","Efr":"","efr":"","eg":"","Egrave":"","egrave":"","egs":"","egsdot":"","el":"","Element":"","elinters":"","ell":"","els":"","elsdot":"","Emacr":"","emacr":"","empty":"","emptyset":"","EmptySmallSquare":"","emptyv":"","EmptyVerySmallSquare":"","emsp13":"","emsp14":"","emsp":"","ENG":"","eng":"","ensp":"","Eogon":"","eogon":"","Eopf":"","eopf":"","epar":"","eparsl":"","eplus":"","epsi":"","Epsilon":"","epsilon":"","epsiv":"","eqcirc":"","eqcolon":"","eqsim":"","eqslantgtr":"","eqslantless":"","Equal":"","equals":"=","EqualTilde":"","equest":"","Equilibrium":"","equiv":"","equivDD":"","eqvparsl":"","erarr":"","erDot":"","escr":"","Escr":"","esdot":"","Esim":"","esim":"","Eta":"","eta":"","ETH":"","eth":"","Euml":"","euml":"","euro":"","excl":"!","exist":"","Exists":"","expectation":"","exponentiale":"","ExponentialE":"","fallingdotseq":"","Fcy":"","fcy":"","female":"","ffilig":"","fflig":"","ffllig":"","Ffr":"","ffr":"","filig":"","FilledSmallSquare":"","FilledVerySmallSquare":"","fjlig":"fj","flat":"","fllig":"","fltns":"","fnof":"","Fopf":"","fopf":"","forall":"","ForAll":"","fork":"","forkv":"","Fouriertrf":"","fpartint":"","frac12":"","frac13":"","frac14":"","frac15":"","frac16":"","frac18":"","frac23":"","frac25":"","frac34":"","frac35":"","frac38":"","frac45":"","frac56":"","frac58":"","frac78":"","frasl":"","frown":"","fscr":"","Fscr":"","gacute":"","Gamma":"","gamma":"","Gammad":"","gammad":"","gap":"","Gbreve":"","gbreve":"","Gcedil":"","Gcirc":"","gcirc":"","Gcy":"","gcy":"","Gdot":"","gdot":"","ge":"","gE":"","gEl":"","gel":"","geq":"","geqq":"","geqslant":"","gescc":"","ges":"","gesdot":"","gesdoto":"","gesdotol":"","gesl":"","gesles":"","Gfr":"","gfr":"","gg":"","Gg":"","ggg":"","gimel":"","GJcy":"","gjcy":"","gla":"","gl":"","glE":"","glj":"","gnap":"","gnapprox":"","gne":"","gnE":"","gneq":"","gneqq":"","gnsim":"","Gopf":"","gopf":"","grave":"`","GreaterEqual":"","GreaterEqualLess":"","GreaterFullEqual":"","GreaterGreater":"","GreaterLess":"","GreaterSlantEqual":"","GreaterTilde":"","Gscr":"","gscr":"","gsim":"","gsime":"","gsiml":"","gtcc":"","gtcir":"","gt":">","GT":">","Gt":"","gtdot":"","gtlPar":"","gtquest":"","gtrapprox":"","gtrarr":"","gtrdot":"","gtreqless":"","gtreqqless":"","gtrless":"","gtrsim":"","gvertneqq":"","gvnE":"","Hacek":"","hairsp":"","half":"","hamilt":"","HARDcy":"","hardcy":"","harrcir":"","harr":"","hArr":"","harrw":"","Hat":"^","hbar":"","Hcirc":"","hcirc":"","hearts":"","heartsuit":"","hellip":"","hercon":"","hfr":"","Hfr":"","HilbertSpace":"","hksearow":"","hkswarow":"","hoarr":"","homtht":"","hookleftarrow":"","hookrightarrow":"","hopf":"","Hopf":"","horbar":"","HorizontalLine":"","hscr":"","Hscr":"","hslash":"","Hstrok":"","hstrok":"","HumpDownHump":"","HumpEqual":"","hybull":"","hyphen":"","Iacute":"","iacute":"","ic":"","Icirc":"","icirc":"","Icy":"","icy":"","Idot":"","IEcy":"","iecy":"","iexcl":"","iff":"","ifr":"","Ifr":"","Igrave":"","igrave":"","ii":"","iiiint":"","iiint":"","iinfin":"","iiota":"","IJlig":"","ijlig":"","Imacr":"","imacr":"","image":"","ImaginaryI":"","imagline":"","imagpart":"","imath":"","Im":"","imof":"","imped":"","Implies":"","incare":"","in":"","infin":"","infintie":"","inodot":"","intcal":"","int":"","Int":"","integers":"","Integral":"","intercal":"","Intersection":"","intlarhk":"","intprod":"","InvisibleComma":"","InvisibleTimes":"","IOcy":"","iocy":"","Iogon":"","iogon":"","Iopf":"","iopf":"","Iota":"","iota":"","iprod":"","iquest":"","iscr":"","Iscr":"","isin":"","isindot":"","isinE":"","isins":"","isinsv":"","isinv":"","it":"","Itilde":"","itilde":"","Iukcy":"","iukcy":"","Iuml":"","iuml":"","Jcirc":"","jcirc":"","Jcy":"","jcy":"","Jfr":"","jfr":"","jmath":"","Jopf":"","jopf":"","Jscr":"","jscr":"","Jsercy":"","jsercy":"","Jukcy":"","jukcy":"","Kappa":"","kappa":"","kappav":"","Kcedil":"","kcedil":"","Kcy":"","kcy":"","Kfr":"","kfr":"","kgreen":"","KHcy":"","khcy":"","KJcy":"","kjcy":"","Kopf":"","kopf":"","Kscr":"","kscr":"","lAarr":"","Lacute":"","lacute":"","laemptyv":"","lagran":"","Lambda":"","lambda":"","lang":"","Lang":"","langd":"","langle":"","lap":"","Laplacetrf":"","laquo":"","larrb":"","larrbfs":"","larr":"","Larr":"","lArr":"","larrfs":"","larrhk":"","larrlp":"","larrpl":"","larrsim":"","larrtl":"","latail":"","lAtail":"","lat":"","late":"","lates":"","lbarr":"","lBarr":"","lbbrk":"","lbrace":"{","lbrack":"[","lbrke":"","lbrksld":"","lbrkslu":"","Lcaron":"","lcaron":"","Lcedil":"","lcedil":"","lceil":"","lcub":"{","Lcy":"","lcy":"","ldca":"","ldquo":"","ldquor":"","ldrdhar":"","ldrushar":"","ldsh":"","le":"","lE":"","LeftAngleBracket":"","LeftArrowBar":"","leftarrow":"","LeftArrow":"","Leftarrow":"","LeftArrowRightArrow":"","leftarrowtail":"","LeftCeiling":"","LeftDoubleBracket":"","LeftDownTeeVector":"","LeftDownVectorBar":"","LeftDownVector":"","LeftFloor":"","leftharpoondown":"","leftharpoonup":"","leftleftarrows":"","leftrightarrow":"","LeftRightArrow":"","Leftrightarrow":"","leftrightarrows":"","leftrightharpoons":"","leftrightsquigarrow":"","LeftRightVector":"","LeftTeeArrow":"","LeftTee":"","LeftTeeVector":"","leftthreetimes":"","LeftTriangleBar":"","LeftTriangle":"","LeftTriangleEqual":"","LeftUpDownVector":"","LeftUpTeeVector":"","LeftUpVectorBar":"","LeftUpVector":"","LeftVectorBar":"","LeftVector":"","lEg":"","leg":"","leq":"","leqq":"","leqslant":"","lescc":"","les":"","lesdot":"","lesdoto":"","lesdotor":"","lesg":"","lesges":"","lessapprox":"","lessdot":"","lesseqgtr":"","lesseqqgtr":"","LessEqualGreater":"","LessFullEqual":"","LessGreater":"","lessgtr":"","LessLess":"","lesssim":"","LessSlantEqual":"","LessTilde":"","lfisht":"","lfloor":"","Lfr":"","lfr":"","lg":"","lgE":"","lHar":"","lhard":"","lharu":"","lharul":"","lhblk":"","LJcy":"","ljcy":"","llarr":"","ll":"","Ll":"","llcorner":"","Lleftarrow":"","llhard":"","lltri":"","Lmidot":"","lmidot":"","lmoustache":"","lmoust":"","lnap":"","lnapprox":"","lne":"","lnE":"","lneq":"","lneqq":"","lnsim":"","loang":"","loarr":"","lobrk":"","longleftarrow":"","LongLeftArrow":"","Longleftarrow":"","longleftrightarrow":"","LongLeftRightArrow":"","Longleftrightarrow":"","longmapsto":"","longrightarrow":"","LongRightArrow":"","Longrightarrow":"","looparrowleft":"","looparrowright":"","lopar":"","Lopf":"","lopf":"","loplus":"","lotimes":"","lowast":"","lowbar":"_","LowerLeftArrow":"","LowerRightArrow":"","loz":"","lozenge":"","lozf":"","lpar":"(","lparlt":"","lrarr":"","lrcorner":"","lrhar":"","lrhard":"","lrm":"","lrtri":"","lsaquo":"","lscr":"","Lscr":"","lsh":"","Lsh":"","lsim":"","lsime":"","lsimg":"","lsqb":"[","lsquo":"","lsquor":"","Lstrok":"","lstrok":"","ltcc":"","ltcir":"","lt":"<","LT":"<","Lt":"","ltdot":"","lthree":"","ltimes":"","ltlarr":"","ltquest":"","ltri":"","ltrie":"","ltrif":"","ltrPar":"","lurdshar":"","luruhar":"","lvertneqq":"","lvnE":"","macr":"","male":"","malt":"","maltese":"","Map":"","map":"","mapsto":"","mapstodown":"","mapstoleft":"","mapstoup":"","marker":"","mcomma":"","Mcy":"","mcy":"","mdash":"","mDDot":"","measuredangle":"","MediumSpace":"","Mellintrf":"","Mfr":"","mfr":"","mho":"","micro":"","midast":"*","midcir":"","mid":"","middot":"","minusb":"","minus":"","minusd":"","minusdu":"","MinusPlus":"","mlcp":"","mldr":"","mnplus":"","models":"","Mopf":"","mopf":"","mp":"","mscr":"","Mscr":"","mstpos":"","Mu":"","mu":"","multimap":"","mumap":"","nabla":"","Nacute":"","nacute":"","nang":"","nap":"","napE":"","napid":"","napos":"","napprox":"","natural":"","naturals":"","natur":"","nbsp":"","nbump":"","nbumpe":"","ncap":"","Ncaron":"","ncaron":"","Ncedil":"","ncedil":"","ncong":"","ncongdot":"","ncup":"","Ncy":"","ncy":"","ndash":"","nearhk":"","nearr":"","neArr":"","nearrow":"","ne":"","nedot":"","NegativeMediumSpace":"","NegativeThickSpace":"","NegativeThinSpace":"","NegativeVeryThinSpace":"","nequiv":"","nesear":"","nesim":"","NestedGreaterGreater":"","NestedLessLess":"","NewLine":"\\n","nexist":"","nexists":"","Nfr":"","nfr":"","ngE":"","nge":"","ngeq":"","ngeqq":"","ngeqslant":"","nges":"","nGg":"","ngsim":"","nGt":"","ngt":"","ngtr":"","nGtv":"","nharr":"","nhArr":"","nhpar":"","ni":"","nis":"","nisd":"","niv":"","NJcy":"","njcy":"","nlarr":"","nlArr":"","nldr":"","nlE":"","nle":"","nleftarrow":"","nLeftarrow":"","nleftrightarrow":"","nLeftrightarrow":"","nleq":"","nleqq":"","nleqslant":"","nles":"","nless":"","nLl":"","nlsim":"","nLt":"","nlt":"","nltri":"","nltrie":"","nLtv":"","nmid":"","NoBreak":"","NonBreakingSpace":"","nopf":"","Nopf":"","Not":"","not":"","NotCongruent":"","NotCupCap":"","NotDoubleVerticalBar":"","NotElement":"","NotEqual":"","NotEqualTilde":"","NotExists":"","NotGreater":"","NotGreaterEqual":"","NotGreaterFullEqual":"","NotGreaterGreater":"","NotGreaterLess":"","NotGreaterSlantEqual":"","NotGreaterTilde":"","NotHumpDownHump":"","NotHumpEqual":"","notin":"","notindot":"","notinE":"","notinva":"","notinvb":"","notinvc":"","NotLeftTriangleBar":"","NotLeftTriangle":"","NotLeftTriangleEqual":"","NotLess":"","NotLessEqual":"","NotLessGreater":"","NotLessLess":"","NotLessSlantEqual":"","NotLessTilde":"","NotNestedGreaterGreater":"","NotNestedLessLess":"","notni":"","notniva":"","notnivb":"","notnivc":"","NotPrecedes":"","NotPrecedesEqual":"","NotPrecedesSlantEqual":"","NotReverseElement":"","NotRightTriangleBar":"","NotRightTriangle":"","NotRightTriangleEqual":"","NotSquareSubset":"","NotSquareSubsetEqual":"","NotSquareSuperset":"","NotSquareSupersetEqual":"","NotSubset":"","NotSubsetEqual":"","NotSucceeds":"","NotSucceedsEqual":"","NotSucceedsSlantEqual":"","NotSucceedsTilde":"","NotSuperset":"","NotSupersetEqual":"","NotTilde":"","NotTildeEqual":"","NotTildeFullEqual":"","NotTildeTilde":"","NotVerticalBar":"","nparallel":"","npar":"","nparsl":"","npart":"","npolint":"","npr":"","nprcue":"","nprec":"","npreceq":"","npre":"","nrarrc":"","nrarr":"","nrArr":"","nrarrw":"","nrightarrow":"","nRightarrow":"","nrtri":"","nrtrie":"","nsc":"","nsccue":"","nsce":"","Nscr":"","nscr":"","nshortmid":"","nshortparallel":"","nsim":"","nsime":"","nsimeq":"","nsmid":"","nspar":"","nsqsube":"","nsqsupe":"","nsub":"","nsubE":"","nsube":"","nsubset":"","nsubseteq":"","nsubseteqq":"","nsucc":"","nsucceq":"","nsup":"","nsupE":"","nsupe":"","nsupset":"","nsupseteq":"","nsupseteqq":"","ntgl":"","Ntilde":"","ntilde":"","ntlg":"","ntriangleleft":"","ntrianglelefteq":"","ntriangleright":"","ntrianglerighteq":"","Nu":"","nu":"","num":"#","numero":"","numsp":"","nvap":"","nvdash":"","nvDash":"","nVdash":"","nVDash":"","nvge":"","nvgt":">","nvHarr":"","nvinfin":"","nvlArr":"","nvle":"","nvlt":"<","nvltrie":"","nvrArr":"","nvrtrie":"","nvsim":"","nwarhk":"","nwarr":"","nwArr":"","nwarrow":"","nwnear":"","Oacute":"","oacute":"","oast":"","Ocirc":"","ocirc":"","ocir":"","Ocy":"","ocy":"","odash":"","Odblac":"","odblac":"","odiv":"","odot":"","odsold":"","OElig":"","oelig":"","ofcir":"","Ofr":"","ofr":"","ogon":"","Ograve":"","ograve":"","ogt":"","ohbar":"","ohm":"","oint":"","olarr":"","olcir":"","olcross":"","oline":"","olt":"","Omacr":"","omacr":"","Omega":"","omega":"","Omicron":"","omicron":"","omid":"","ominus":"","Oopf":"","oopf":"","opar":"","OpenCurlyDoubleQuote":"","OpenCurlyQuote":"","operp":"","oplus":"","orarr":"","Or":"","or":"","ord":"","order":"","orderof":"","ordf":"","ordm":"","origof":"","oror":"","orslope":"","orv":"","oS":"","Oscr":"","oscr":"","Oslash":"","oslash":"","osol":"","Otilde":"","otilde":"","otimesas":"","Otimes":"","otimes":"","Ouml":"","ouml":"","ovbar":"","OverBar":"","OverBrace":"","OverBracket":"","OverParenthesis":"","para":"","parallel":"","par":"","parsim":"","parsl":"","part":"","PartialD":"","Pcy":"","pcy":"","percnt":"%","period":".","permil":"","perp":"","pertenk":"","Pfr":"","pfr":"","Phi":"","phi":"","phiv":"","phmmat":"","phone":"","Pi":"","pi":"","pitchfork":"","piv":"","planck":"","planckh":"","plankv":"","plusacir":"","plusb":"","pluscir":"","plus":"+","plusdo":"","plusdu":"","pluse":"","PlusMinus":"","plusmn":"","plussim":"","plustwo":"","pm":"","Poincareplane":"","pointint":"","popf":"","Popf":"","pound":"","prap":"","Pr":"","pr":"","prcue":"","precapprox":"","prec":"","preccurlyeq":"","Precedes":"","PrecedesEqual":"","PrecedesSlantEqual":"","PrecedesTilde":"","preceq":"","precnapprox":"","precneqq":"","precnsim":"","pre":"","prE":"","precsim":"","prime":"","Prime":"","primes":"","prnap":"","prnE":"","prnsim":"","prod":"","Product":"","profalar":"","profline":"","profsurf":"","prop":"","Proportional":"","Proportion":"","propto":"","prsim":"","prurel":"","Pscr":"","pscr":"","Psi":"","psi":"","puncsp":"","Qfr":"","qfr":"","qint":"","qopf":"","Qopf":"","qprime":"","Qscr":"","qscr":"","quaternions":"","quatint":"","quest":"?","questeq":"","quot":"\\"","QUOT":"\\"","rAarr":"","race":"","Racute":"","racute":"","radic":"","raemptyv":"","rang":"","Rang":"","rangd":"","range":"","rangle":"","raquo":"","rarrap":"","rarrb":"","rarrbfs":"","rarrc":"","rarr":"","Rarr":"","rArr":"","rarrfs":"","rarrhk":"","rarrlp":"","rarrpl":"","rarrsim":"","Rarrtl":"","rarrtl":"","rarrw":"","ratail":"","rAtail":"","ratio":"","rationals":"","rbarr":"","rBarr":"","RBarr":"","rbbrk":"","rbrace":"}","rbrack":"]","rbrke":"","rbrksld":"","rbrkslu":"","Rcaron":"","rcaron":"","Rcedil":"","rcedil":"","rceil":"","rcub":"}","Rcy":"","rcy":"","rdca":"","rdldhar":"","rdquo":"","rdquor":"","rdsh":"","real":"","realine":"","realpart":"","reals":"","Re":"","rect":"","reg":"","REG":"","ReverseElement":"","ReverseEquilibrium":"","ReverseUpEquilibrium":"","rfisht":"","rfloor":"","rfr":"","Rfr":"","rHar":"","rhard":"","rharu":"","rharul":"","Rho":"","rho":"","rhov":"","RightAngleBracket":"","RightArrowBar":"","rightarrow":"","RightArrow":"","Rightarrow":"","RightArrowLeftArrow":"","rightarrowtail":"","RightCeiling":"","RightDoubleBracket":"","RightDownTeeVector":"","RightDownVectorBar":"","RightDownVector":"","RightFloor":"","rightharpoondown":"","rightharpoonup":"","rightleftarrows":"","rightleftharpoons":"","rightrightarrows":"","rightsquigarrow":"","RightTeeArrow":"","RightTee":"","RightTeeVector":"","rightthreetimes":"","RightTriangleBar":"","RightTriangle":"","RightTriangleEqual":"","RightUpDownVector":"","RightUpTeeVector":"","RightUpVectorBar":"","RightUpVector":"","RightVectorBar":"","RightVector":"","ring":"","risingdotseq":"","rlarr":"","rlhar":"","rlm":"","rmoustache":"","rmoust":"","rnmid":"","roang":"","roarr":"","robrk":"","ropar":"","ropf":"","Ropf":"","roplus":"","rotimes":"","RoundImplies":"","rpar":")","rpargt":"","rppolint":"","rrarr":"","Rrightarrow":"","rsaquo":"","rscr":"","Rscr":"","rsh":"","Rsh":"","rsqb":"]","rsquo":"","rsquor":"","rthree":"","rtimes":"","rtri":"","rtrie":"","rtrif":"","rtriltri":"","RuleDelayed":"","ruluhar":"","rx":"","Sacute":"","sacute":"","sbquo":"","scap":"","Scaron":"","scaron":"","Sc":"","sc":"","sccue":"","sce":"","scE":"","Scedil":"","scedil":"","Scirc":"","scirc":"","scnap":"","scnE":"","scnsim":"","scpolint":"","scsim":"","Scy":"","scy":"","sdotb":"","sdot":"","sdote":"","searhk":"","searr":"","seArr":"","searrow":"","sect":"","semi":";","seswar":"","setminus":"","setmn":"","sext":"","Sfr":"","sfr":"","sfrown":"","sharp":"","SHCHcy":"","shchcy":"","SHcy":"","shcy":"","ShortDownArrow":"","ShortLeftArrow":"","shortmid":"","shortparallel":"","ShortRightArrow":"","ShortUpArrow":"","shy":"","Sigma":"","sigma":"","sigmaf":"","sigmav":"","sim":"","simdot":"","sime":"","simeq":"","simg":"","simgE":"","siml":"","simlE":"","simne":"","simplus":"","simrarr":"","slarr":"","SmallCircle":"","smallsetminus":"","smashp":"","smeparsl":"","smid":"","smile":"","smt":"","smte":"","smtes":"","SOFTcy":"","softcy":"","solbar":"","solb":"","sol":"/","Sopf":"","sopf":"","spades":"","spadesuit":"","spar":"","sqcap":"","sqcaps":"","sqcup":"","sqcups":"","Sqrt":"","sqsub":"","sqsube":"","sqsubset":"","sqsubseteq":"","sqsup":"","sqsupe":"","sqsupset":"","sqsupseteq":"","square":"","Square":"","SquareIntersection":"","SquareSubset":"","SquareSubsetEqual":"","SquareSuperset":"","SquareSupersetEqual":"","SquareUnion":"","squarf":"","squ":"","squf":"","srarr":"","Sscr":"","sscr":"","ssetmn":"","ssmile":"","sstarf":"","Star":"","star":"","starf":"","straightepsilon":"","straightphi":"","strns":"","sub":"","Sub":"","subdot":"","subE":"","sube":"","subedot":"","submult":"","subnE":"","subne":"","subplus":"","subrarr":"","subset":"","Subset":"","subseteq":"","subseteqq":"","SubsetEqual":"","subsetneq":"","subsetneqq":"","subsim":"","subsub":"","subsup":"","succapprox":"","succ":"","succcurlyeq":"","Succeeds":"","SucceedsEqual":"","SucceedsSlantEqual":"","SucceedsTilde":"","succeq":"","succnapprox":"","succneqq":"","succnsim":"","succsim":"","SuchThat":"","sum":"","Sum":"","sung":"","sup1":"","sup2":"","sup3":"","sup":"","Sup":"","supdot":"","supdsub":"","supE":"","supe":"","supedot":"","Superset":"","SupersetEqual":"","suphsol":"","suphsub":"","suplarr":"","supmult":"","supnE":"","supne":"","supplus":"","supset":"","Supset":"","supseteq":"","supseteqq":"","supsetneq":"","supsetneqq":"","supsim":"","supsub":"","supsup":"","swarhk":"","swarr":"","swArr":"","swarrow":"","swnwar":"","szlig":"","Tab":"\\t","target":"","Tau":"","tau":"","tbrk":"","Tcaron":"","tcaron":"","Tcedil":"","tcedil":"","Tcy":"","tcy":"","tdot":"","telrec":"","Tfr":"","tfr":"","there4":"","therefore":"","Therefore":"","Theta":"","theta":"","thetasym":"","thetav":"","thickapprox":"","thicksim":"","ThickSpace":"","ThinSpace":"","thinsp":"","thkap":"","thksim":"","THORN":"","thorn":"","tilde":"","Tilde":"","TildeEqual":"","TildeFullEqual":"","TildeTilde":"","timesbar":"","timesb":"","times":"","timesd":"","tint":"","toea":"","topbot":"","topcir":"","top":"","Topf":"","topf":"","topfork":"","tosa":"","tprime":"","trade":"","TRADE":"","triangle":"","triangledown":"","triangleleft":"","trianglelefteq":"","triangleq":"","triangleright":"","trianglerighteq":"","tridot":"","trie":"","triminus":"","TripleDot":"","triplus":"","trisb":"","tritime":"","trpezium":"","Tscr":"","tscr":"","TScy":"","tscy":"","TSHcy":"","tshcy":"","Tstrok":"","tstrok":"","twixt":"","twoheadleftarrow":"","twoheadrightarrow":"","Uacute":"","uacute":"","uarr":"","Uarr":"","uArr":"","Uarrocir":"","Ubrcy":"","ubrcy":"","Ubreve":"","ubreve":"","Ucirc":"","ucirc":"","Ucy":"","ucy":"","udarr":"","Udblac":"","udblac":"","udhar":"","ufisht":"","Ufr":"","ufr":"","Ugrave":"","ugrave":"","uHar":"","uharl":"","uharr":"","uhblk":"","ulcorn":"","ulcorner":"","ulcrop":"","ultri":"","Umacr":"","umacr":"","uml":"","UnderBar":"_","UnderBrace":"","UnderBracket":"","UnderParenthesis":"","Union":"","UnionPlus":"","Uogon":"","uogon":"","Uopf":"","uopf":"","UpArrowBar":"","uparrow":"","UpArrow":"","Uparrow":"","UpArrowDownArrow":"","updownarrow":"","UpDownArrow":"","Updownarrow":"","UpEquilibrium":"","upharpoonleft":"","upharpoonright":"","uplus":"","UpperLeftArrow":"","UpperRightArrow":"","upsi":"","Upsi":"","upsih":"","Upsilon":"","upsilon":"","UpTeeArrow":"","UpTee":"","upuparrows":"","urcorn":"","urcorner":"","urcrop":"","Uring":"","uring":"","urtri":"","Uscr":"","uscr":"","utdot":"","Utilde":"","utilde":"","utri":"","utrif":"","uuarr":"","Uuml":"","uuml":"","uwangle":"","vangrt":"","varepsilon":"","varkappa":"","varnothing":"","varphi":"","varpi":"","varpropto":"","varr":"","vArr":"","varrho":"","varsigma":"","varsubsetneq":"","varsubsetneqq":"","varsupsetneq":"","varsupsetneqq":"","vartheta":"","vartriangleleft":"","vartriangleright":"","vBar":"","Vbar":"","vBarv":"","Vcy":"","vcy":"","vdash":"","vDash":"","Vdash":"","VDash":"","Vdashl":"","veebar":"","vee":"","Vee":"","veeeq":"","vellip":"","verbar":"|","Verbar":"","vert":"|","Vert":"","VerticalBar":"","VerticalLine":"|","VerticalSeparator":"","VerticalTilde":"","VeryThinSpace":"","Vfr":"","vfr":"","vltri":"","vnsub":"","vnsup":"","Vopf":"","vopf":"","vprop":"","vrtri":"","Vscr":"","vscr":"","vsubnE":"","vsubne":"","vsupnE":"","vsupne":"","Vvdash":"","vzigzag":"","Wcirc":"","wcirc":"","wedbar":"","wedge":"","Wedge":"","wedgeq":"","weierp":"","Wfr":"","wfr":"","Wopf":"","wopf":"","wp":"","wr":"","wreath":"","Wscr":"","wscr":"","xcap":"","xcirc":"","xcup":"","xdtri":"","Xfr":"","xfr":"","xharr":"","xhArr":"","Xi":"","xi":"","xlarr":"","xlArr":"","xmap":"","xnis":"","xodot":"","Xopf":"","xopf":"","xoplus":"","xotime":"","xrarr":"","xrArr":"","Xscr":"","xscr":"","xsqcup":"","xuplus":"","xutri":"","xvee":"","xwedge":"","Yacute":"","yacute":"","YAcy":"","yacy":"","Ycirc":"","ycirc":"","Ycy":"","ycy":"","yen":"","Yfr":"","yfr":"","YIcy":"","yicy":"","Yopf":"","yopf":"","Yscr":"","yscr":"","YUcy":"","yucy":"","yuml":"","Yuml":"","Zacute":"","zacute":"","Zcaron":"","zcaron":"","Zcy":"","zcy":"","Zdot":"","zdot":"","zeetrf":"","ZeroWidthSpace":"","Zeta":"","zeta":"","zfr":"","Zfr":"","ZHcy":"","zhcy":"","zigrarr":"","zopf":"","Zopf":"","Zscr":"","zscr":"","zwj":"","zwnj":""}')})),o.register("ivtrQ",(function(e,t){e.exports=JSON.parse('{"Aacute":"","aacute":"","Acirc":"","acirc":"","acute":"","AElig":"","aelig":"","Agrave":"","agrave":"","amp":"&","AMP":"&","Aring":"","aring":"","Atilde":"","atilde":"","Auml":"","auml":"","brvbar":"","Ccedil":"","ccedil":"","cedil":"","cent":"","copy":"","COPY":"","curren":"","deg":"","divide":"","Eacute":"","eacute":"","Ecirc":"","ecirc":"","Egrave":"","egrave":"","ETH":"","eth":"","Euml":"","euml":"","frac12":"","frac14":"","frac34":"","gt":">","GT":">","Iacute":"","iacute":"","Icirc":"","icirc":"","iexcl":"","Igrave":"","igrave":"","iquest":"","Iuml":"","iuml":"","laquo":"","lt":"<","LT":"<","macr":"","micro":"","middot":"","nbsp":"","not":"","Ntilde":"","ntilde":"","Oacute":"","oacute":"","Ocirc":"","ocirc":"","Ograve":"","ograve":"","ordf":"","ordm":"","Oslash":"","oslash":"","Otilde":"","otilde":"","Ouml":"","ouml":"","para":"","plusmn":"","pound":"","quot":"\\"","QUOT":"\\"","raquo":"","reg":"","REG":"","sect":"","shy":"","sup1":"","sup2":"","sup3":"","szlig":"","THORN":"","thorn":"","times":"","Uacute":"","uacute":"","Ucirc":"","ucirc":"","Ugrave":"","ugrave":"","uml":"","Uuml":"","uuml":"","Yacute":"","yacute":"","yen":"","yuml":""}')})),o.register("dyj5W",(function(e,t){e.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')})),o.register("dlqwk",(function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}})),o.register("7etJZ",(function(e,t){var n,r="object"==typeof Reflect?Reflect:null,i=r&&"function"==typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};n=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&g(e,"error",t,n)}(e,i,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var i,o,a,s;if(l(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=c(e))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return e}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=p.bind(r);return i.listener=n,r.wrapFn=i,i}function h(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):m(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)i(l,this,t);else{var c=l.length,u=m(l,c);for(n=0;n<c;++n)i(u[n],this,t)}return!0},a.prototype.addListener=function(e,t){return u(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return u(this,e,t,!0)},a.prototype.once=function(e,t){return l(t),this.on(e,d(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,d(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,i,o,a;if(l(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return h(this,e,!0)},a.prototype.rawListeners=function(e){return h(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},a.prototype.listenerCount=f,a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}})),o.register("kQzea",(function(e,t){e.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(e){return"tag"===e.type||"script"===e.type||"style"===e.type}}})),o.register("imwtL",(function(e,t){var n=o("6D9Hx"),r=o("3zpl0");function i(e,t){this.init(e,t)}function a(e,t){return r.getElementsByTagName(e,t,!0)}function s(e,t){return r.getElementsByTagName(e,t,!0,1)[0]}function l(e,t,n){return r.getText(r.getElementsByTagName(e,t,n,1)).trim()}function c(e,t,n,r,i){var o=l(n,r,i);o&&(e[t]=o)}o("dlqwk")(i,n),i.prototype.init=n;var u=function(e){return"rss"===e||"feed"===e||"rdf:RDF"===e};i.prototype.onend=function(){var e,t,r={},i=s(u,this.dom);i&&("feed"===i.name?(t=i.children,r.type="atom",c(r,"id","id",t),c(r,"title","title",t),(e=s("link",t))&&(e=e.attribs)&&(e=e.href)&&(r.link=e),c(r,"description","subtitle",t),(e=l("updated",t))&&(r.updated=new Date(e)),c(r,"author","email",t,!0),r.items=a("entry",t).map((function(e){var t,n={};return c(n,"id","id",e=e.children),c(n,"title","title",e),(t=s("link",e))&&(t=t.attribs)&&(t=t.href)&&(n.link=t),(t=l("summary",e)||l("content",e))&&(n.description=t),(t=l("updated",e))&&(n.pubDate=new Date(t)),n}))):(t=s("channel",i.children).children,r.type=i.name.substr(0,3),r.id="",c(r,"title","title",t),c(r,"link","link",t),c(r,"description","description",t),(e=l("lastBuildDate",t))&&(r.updated=new Date(e)),c(r,"author","managingEditor",t,!0),r.items=a("item",i.children).map((function(e){var t,n={};return c(n,"id","guid",e=e.children),c(n,"title","title",e),c(n,"link","link",e),c(n,"description","description",e),(t=l("pubDate",e))&&(n.pubDate=new Date(t)),n})))),this.dom=r,n.prototype._handleCallback.call(this,i?null:Error("couldn't find root of feed"))},e.exports=i})),o.register("6D9Hx",(function(e,t){var n=o("kQzea"),r=/\s+/g,i=o("exW6V"),a=o("dJIZK");function s(e,t,n){"object"==typeof e?(n=t,t=e,e=null):"function"==typeof t&&(n=t,t=l),this._callback=e,this._options=t||l,this._elementCB=n,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var l={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1};s.prototype.onparserinit=function(e){this._parser=e},s.prototype.onreset=function(){s.call(this,this._callback,this._options,this._elementCB)},s.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))},s.prototype._handleCallback=s.prototype.onerror=function(e){if("function"==typeof this._callback)this._callback(e,this.dom);else if(e)throw e},s.prototype.onclosetag=function(){var e=this._tagStack.pop();this._options.withEndIndices&&e&&(e.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(e)},s.prototype._createDomElement=function(e){if(!this._options.withDomLvl1)return e;var t;for(var n in t="tag"===e.type?Object.create(a):Object.create(i),e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},s.prototype._addDomElement=function(e){var t=this._tagStack[this._tagStack.length-1],n=t?t.children:this.dom,r=n[n.length-1];e.next=null,this._options.withStartIndices&&(e.startIndex=this._parser.startIndex),this._options.withEndIndices&&(e.endIndex=this._parser.endIndex),r?(e.prev=r,r.next=e):e.prev=null,n.push(e),e.parent=t||null},s.prototype.onopentag=function(e,t){var r={type:"script"===e?n.Script:"style"===e?n.Style:n.Tag,name:e,attribs:t,children:[]},i=this._createDomElement(r);this._addDomElement(i),this._tagStack.push(i)},s.prototype.ontext=function(e){var t,i=this._options.normalizeWhitespace||this._options.ignoreWhitespace;if(!this._tagStack.length&&this.dom.length&&(t=this.dom[this.dom.length-1]).type===n.Text)i?t.data=(t.data+e).replace(r," "):t.data+=e;else if(this._tagStack.length&&(t=this._tagStack[this._tagStack.length-1])&&(t=t.children[t.children.length-1])&&t.type===n.Text)i?t.data=(t.data+e).replace(r," "):t.data+=e;else{i&&(e=e.replace(r," "));var o=this._createDomElement({data:e,type:n.Text});this._addDomElement(o)}},s.prototype.oncomment=function(e){var t=this._tagStack[this._tagStack.length-1];if(t&&t.type===n.Comment)t.data+=e;else{var r={data:e,type:n.Comment},i=this._createDomElement(r);this._addDomElement(i),this._tagStack.push(i)}},s.prototype.oncdatastart=function(){var e={children:[{data:"",type:n.Text}],type:n.CDATA},t=this._createDomElement(e);this._addDomElement(t),this._tagStack.push(t)},s.prototype.oncommentend=s.prototype.oncdataend=function(){this._tagStack.pop()},s.prototype.onprocessinginstruction=function(e,t){var r=this._createDomElement({name:e,data:t,type:n.Directive});this._addDomElement(r)},e.exports=s})),o.register("exW6V",(function(e,t){var n=e.exports={get firstChild(){var e=this.children;return e&&e[0]||null},get lastChild(){var e=this.children;return e&&e[e.length-1]||null},get nodeType(){return i[this.type]||i.element}},r={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},i={element:1,text:3,cdata:4,comment:8};Object.keys(r).forEach((function(e){var t=r[e];Object.defineProperty(n,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})}))})),o.register("dJIZK",(function(e,t){var n=o("exW6V"),r=e.exports=Object.create(n),i={tagName:"name"};Object.keys(i).forEach((function(e){var t=i[e];Object.defineProperty(r,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})}))})),o.register("3zpl0",(function(e,t){var n=e.exports;[o("gDZ9z"),o("aoZc2"),o("1nHDw"),o("5O0nP"),o("efO6G"),o("bH1sx")].forEach((function(e){Object.keys(e).forEach((function(t){n[t]=e[t].bind(n)}))}))})),o.register("gDZ9z",(function(e,t){var n=o("kQzea"),r=o("8t7ge"),i=n.isTag;e.exports={getInnerHTML:function(e,t){return e.children?e.children.map((function(e){return r(e,t)})).join(""):""},getOuterHTML:r,getText:function e(t){return Array.isArray(t)?t.map(e).join(""):i(t)?"br"===t.name?"\n":e(t.children):t.type===n.CDATA?e(t.children):t.type===n.Text?t.data:""}}})),o.register("8t7ge",(function(e,t){var n=o("51H8L"),r=o("bhURx"),i=o("7IC8N");i.elementNames.__proto__=null,i.attributeNames.__proto__=null;var a={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0};var s={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},l=e.exports=function(e,t){Array.isArray(e)||e.cheerio||(e=[e]),t=t||{};for(var r="",i=0;i<e.length;i++){var o=e[i];"root"===o.type?r+=l(o.children,t):n.isTag(o)?r+=u(o,t):o.type===n.Directive?r+=p(o):o.type===n.Comment?r+=f(o):o.type===n.CDATA?r+=h(o):r+=d(o,t)}return r},c=["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"];function u(e,t){"foreign"===t.xmlMode&&(e.name=i.elementNames[e.name]||e.name,e.parent&&c.indexOf(e.parent.name)>=0&&(t=Object.assign({},t,{xmlMode:!1}))),!t.xmlMode&&["svg","math"].indexOf(e.name)>=0&&(t=Object.assign({},t,{xmlMode:"foreign"}));var n="<"+e.name,o=function(e,t){if(e){var n,o="";for(var a in e)n=e[a],o&&(o+=" "),"foreign"===t.xmlMode&&(a=i.attributeNames[a]||a),o+=a,(null!==n&&""!==n||t.xmlMode)&&(o+='="'+(t.decodeEntities?r.encodeXML(n):n.replace(/\"/g,"&quot;"))+'"');return o}}(e.attribs,t);return o&&(n+=" "+o),!t.xmlMode||e.children&&0!==e.children.length?(n+=">",e.children&&(n+=l(e.children,t)),s[e.name]&&!t.xmlMode||(n+="</"+e.name+">")):n+="/>",n}function p(e){return"<"+e.data+">"}function d(e,t){var n=e.data||"";return!t.decodeEntities||e.parent&&e.parent.name in a||(n=r.encodeXML(n)),n}function h(e){return"<![CDATA["+e.children[0].data+"]]>"}function f(e){return"\x3c!--"+e.data+"--\x3e"}})),o.register("51H8L",(function(t,n){var r,i;function o(e){return e.type===r.Tag||e.type===r.Script||e.type===r.Style}e(t.exports,"isTag",(()=>o)),e(t.exports,"Directive",(()=>a)),e(t.exports,"Comment",(()=>s)),e(t.exports,"CDATA",(()=>l)),(i=r||(r={})).Root="root",i.Text="text",i.Directive="directive",i.Comment="comment",i.Script="script",i.Style="style",i.Tag="tag",i.CDATA="cdata",i.Doctype="doctype";r.Root,r.Text;const a=r.Directive,s=r.Comment,l=(r.Script,r.Style,r.Tag,r.CDATA);r.Doctype})),o.register("bhURx",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.decodeXMLStrict=e.exports.decodeHTML5Strict=e.exports.decodeHTML4Strict=e.exports.decodeHTML5=e.exports.decodeHTML4=e.exports.decodeHTMLStrict=e.exports.decodeHTML=e.exports.decodeXML=e.exports.encodeHTML5=e.exports.encodeHTML4=e.exports.escapeUTF8=e.exports.escape=e.exports.encodeNonAsciiHTML=e.exports.encodeHTML=e.exports.encodeXML=e.exports.encode=e.exports.decodeStrict=e.exports.decode=void 0;var n=o("1emtS"),r=o("2Uh6P");e.exports.decode=function(e,t){return(!t||t<=0?n.decodeXML:n.decodeHTML)(e)},e.exports.decodeStrict=function(e,t){return(!t||t<=0?n.decodeXML:n.decodeHTMLStrict)(e)},e.exports.encode=function(e,t){return(!t||t<=0?r.encodeXML:r.encodeHTML)(e)};r=o("2Uh6P");Object.defineProperty(e.exports,"encodeXML",{enumerable:!0,get:function(){return r.encodeXML}}),Object.defineProperty(e.exports,"encodeHTML",{enumerable:!0,get:function(){return r.encodeHTML}}),Object.defineProperty(e.exports,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return r.encodeNonAsciiHTML}}),Object.defineProperty(e.exports,"escape",{enumerable:!0,get:function(){return r.escape}}),Object.defineProperty(e.exports,"escapeUTF8",{enumerable:!0,get:function(){return r.escapeUTF8}}),Object.defineProperty(e.exports,"encodeHTML4",{enumerable:!0,get:function(){return r.encodeHTML}}),Object.defineProperty(e.exports,"encodeHTML5",{enumerable:!0,get:function(){return r.encodeHTML}});n=o("1emtS");Object.defineProperty(e.exports,"decodeXML",{enumerable:!0,get:function(){return n.decodeXML}}),Object.defineProperty(e.exports,"decodeHTML",{enumerable:!0,get:function(){return n.decodeHTML}}),Object.defineProperty(e.exports,"decodeHTMLStrict",{enumerable:!0,get:function(){return n.decodeHTMLStrict}}),Object.defineProperty(e.exports,"decodeHTML4",{enumerable:!0,get:function(){return n.decodeHTML}}),Object.defineProperty(e.exports,"decodeHTML5",{enumerable:!0,get:function(){return n.decodeHTML}}),Object.defineProperty(e.exports,"decodeHTML4Strict",{enumerable:!0,get:function(){return n.decodeHTMLStrict}}),Object.defineProperty(e.exports,"decodeHTML5Strict",{enumerable:!0,get:function(){return n.decodeHTMLStrict}}),Object.defineProperty(e.exports,"decodeXMLStrict",{enumerable:!0,get:function(){return n.decodeXML}})})),o.register("1emtS",(function(e,t){var n=e.exports&&e.exports.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.decodeHTML=e.exports.decodeHTMLStrict=e.exports.decodeXML=void 0;var r=n(o("gZZP1")),i=n(o("aEjBd")),a=n(o("9l3fh")),s=n(o("8yyhw")),l=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;function c(e){var t=p(e);return function(e){return String(e).replace(l,t)}}e.exports.decodeXML=c(a.default),e.exports.decodeHTMLStrict=c(r.default);var u=function(e,t){return e<t?1:-1};function p(e){return function(t){if("#"===t.charAt(1)){var n=t.charAt(2);return"X"===n||"x"===n?s.default(parseInt(t.substr(3),16)):s.default(parseInt(t.substr(2),10))}return e[t.slice(1,-1)]||t}}e.exports.decodeHTML=function(){for(var e=Object.keys(i.default).sort(u),t=Object.keys(r.default).sort(u),n=0,o=0;n<t.length;n++)e[o]===t[n]?(t[n]+=";?",o++):t[n]+=";";var a=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),s=p(r.default);function l(e){return";"!==e.substr(-1)&&(e+=";"),s(e)}return function(e){return String(e).replace(a,l)}}()})),o.register("gZZP1",(function(e,t){e.exports=JSON.parse('{"Aacute":"","aacute":"","Abreve":"","abreve":"","ac":"","acd":"","acE":"","Acirc":"","acirc":"","acute":"","Acy":"","acy":"","AElig":"","aelig":"","af":"","Afr":"","afr":"","Agrave":"","agrave":"","alefsym":"","aleph":"","Alpha":"","alpha":"","Amacr":"","amacr":"","amalg":"","amp":"&","AMP":"&","andand":"","And":"","and":"","andd":"","andslope":"","andv":"","ang":"","ange":"","angle":"","angmsdaa":"","angmsdab":"","angmsdac":"","angmsdad":"","angmsdae":"","angmsdaf":"","angmsdag":"","angmsdah":"","angmsd":"","angrt":"","angrtvb":"","angrtvbd":"","angsph":"","angst":"","angzarr":"","Aogon":"","aogon":"","Aopf":"","aopf":"","apacir":"","ap":"","apE":"","ape":"","apid":"","apos":"\'","ApplyFunction":"","approx":"","approxeq":"","Aring":"","aring":"","Ascr":"","ascr":"","Assign":"","ast":"*","asymp":"","asympeq":"","Atilde":"","atilde":"","Auml":"","auml":"","awconint":"","awint":"","backcong":"","backepsilon":"","backprime":"","backsim":"","backsimeq":"","Backslash":"","Barv":"","barvee":"","barwed":"","Barwed":"","barwedge":"","bbrk":"","bbrktbrk":"","bcong":"","Bcy":"","bcy":"","bdquo":"","becaus":"","because":"","Because":"","bemptyv":"","bepsi":"","bernou":"","Bernoullis":"","Beta":"","beta":"","beth":"","between":"","Bfr":"","bfr":"","bigcap":"","bigcirc":"","bigcup":"","bigodot":"","bigoplus":"","bigotimes":"","bigsqcup":"","bigstar":"","bigtriangledown":"","bigtriangleup":"","biguplus":"","bigvee":"","bigwedge":"","bkarow":"","blacklozenge":"","blacksquare":"","blacktriangle":"","blacktriangledown":"","blacktriangleleft":"","blacktriangleright":"","blank":"","blk12":"","blk14":"","blk34":"","block":"","bne":"=","bnequiv":"","bNot":"","bnot":"","Bopf":"","bopf":"","bot":"","bottom":"","bowtie":"","boxbox":"","boxdl":"","boxdL":"","boxDl":"","boxDL":"","boxdr":"","boxdR":"","boxDr":"","boxDR":"","boxh":"","boxH":"","boxhd":"","boxHd":"","boxhD":"","boxHD":"","boxhu":"","boxHu":"","boxhU":"","boxHU":"","boxminus":"","boxplus":"","boxtimes":"","boxul":"","boxuL":"","boxUl":"","boxUL":"","boxur":"","boxuR":"","boxUr":"","boxUR":"","boxv":"","boxV":"","boxvh":"","boxvH":"","boxVh":"","boxVH":"","boxvl":"","boxvL":"","boxVl":"","boxVL":"","boxvr":"","boxvR":"","boxVr":"","boxVR":"","bprime":"","breve":"","Breve":"","brvbar":"","bscr":"","Bscr":"","bsemi":"","bsim":"","bsime":"","bsolb":"","bsol":"\\\\","bsolhsub":"","bull":"","bullet":"","bump":"","bumpE":"","bumpe":"","Bumpeq":"","bumpeq":"","Cacute":"","cacute":"","capand":"","capbrcup":"","capcap":"","cap":"","Cap":"","capcup":"","capdot":"","CapitalDifferentialD":"","caps":"","caret":"","caron":"","Cayleys":"","ccaps":"","Ccaron":"","ccaron":"","Ccedil":"","ccedil":"","Ccirc":"","ccirc":"","Cconint":"","ccups":"","ccupssm":"","Cdot":"","cdot":"","cedil":"","Cedilla":"","cemptyv":"","cent":"","centerdot":"","CenterDot":"","cfr":"","Cfr":"","CHcy":"","chcy":"","check":"","checkmark":"","Chi":"","chi":"","circ":"","circeq":"","circlearrowleft":"","circlearrowright":"","circledast":"","circledcirc":"","circleddash":"","CircleDot":"","circledR":"","circledS":"","CircleMinus":"","CirclePlus":"","CircleTimes":"","cir":"","cirE":"","cire":"","cirfnint":"","cirmid":"","cirscir":"","ClockwiseContourIntegral":"","CloseCurlyDoubleQuote":"","CloseCurlyQuote":"","clubs":"","clubsuit":"","colon":":","Colon":"","Colone":"","colone":"","coloneq":"","comma":",","commat":"@","comp":"","compfn":"","complement":"","complexes":"","cong":"","congdot":"","Congruent":"","conint":"","Conint":"","ContourIntegral":"","copf":"","Copf":"","coprod":"","Coproduct":"","copy":"","COPY":"","copysr":"","CounterClockwiseContourIntegral":"","crarr":"","cross":"","Cross":"","Cscr":"","cscr":"","csub":"","csube":"","csup":"","csupe":"","ctdot":"","cudarrl":"","cudarrr":"","cuepr":"","cuesc":"","cularr":"","cularrp":"","cupbrcap":"","cupcap":"","CupCap":"","cup":"","Cup":"","cupcup":"","cupdot":"","cupor":"","cups":"","curarr":"","curarrm":"","curlyeqprec":"","curlyeqsucc":"","curlyvee":"","curlywedge":"","curren":"","curvearrowleft":"","curvearrowright":"","cuvee":"","cuwed":"","cwconint":"","cwint":"","cylcty":"","dagger":"","Dagger":"","daleth":"","darr":"","Darr":"","dArr":"","dash":"","Dashv":"","dashv":"","dbkarow":"","dblac":"","Dcaron":"","dcaron":"","Dcy":"","dcy":"","ddagger":"","ddarr":"","DD":"","dd":"","DDotrahd":"","ddotseq":"","deg":"","Del":"","Delta":"","delta":"","demptyv":"","dfisht":"","Dfr":"","dfr":"","dHar":"","dharl":"","dharr":"","DiacriticalAcute":"","DiacriticalDot":"","DiacriticalDoubleAcute":"","DiacriticalGrave":"`","DiacriticalTilde":"","diam":"","diamond":"","Diamond":"","diamondsuit":"","diams":"","die":"","DifferentialD":"","digamma":"","disin":"","div":"","divide":"","divideontimes":"","divonx":"","DJcy":"","djcy":"","dlcorn":"","dlcrop":"","dollar":"$","Dopf":"","dopf":"","Dot":"","dot":"","DotDot":"","doteq":"","doteqdot":"","DotEqual":"","dotminus":"","dotplus":"","dotsquare":"","doublebarwedge":"","DoubleContourIntegral":"","DoubleDot":"","DoubleDownArrow":"","DoubleLeftArrow":"","DoubleLeftRightArrow":"","DoubleLeftTee":"","DoubleLongLeftArrow":"","DoubleLongLeftRightArrow":"","DoubleLongRightArrow":"","DoubleRightArrow":"","DoubleRightTee":"","DoubleUpArrow":"","DoubleUpDownArrow":"","DoubleVerticalBar":"","DownArrowBar":"","downarrow":"","DownArrow":"","Downarrow":"","DownArrowUpArrow":"","DownBreve":"","downdownarrows":"","downharpoonleft":"","downharpoonright":"","DownLeftRightVector":"","DownLeftTeeVector":"","DownLeftVectorBar":"","DownLeftVector":"","DownRightTeeVector":"","DownRightVectorBar":"","DownRightVector":"","DownTeeArrow":"","DownTee":"","drbkarow":"","drcorn":"","drcrop":"","Dscr":"","dscr":"","DScy":"","dscy":"","dsol":"","Dstrok":"","dstrok":"","dtdot":"","dtri":"","dtrif":"","duarr":"","duhar":"","dwangle":"","DZcy":"","dzcy":"","dzigrarr":"","Eacute":"","eacute":"","easter":"","Ecaron":"","ecaron":"","Ecirc":"","ecirc":"","ecir":"","ecolon":"","Ecy":"","ecy":"","eDDot":"","Edot":"","edot":"","eDot":"","ee":"","efDot":"","Efr":"","efr":"","eg":"","Egrave":"","egrave":"","egs":"","egsdot":"","el":"","Element":"","elinters":"","ell":"","els":"","elsdot":"","Emacr":"","emacr":"","empty":"","emptyset":"","EmptySmallSquare":"","emptyv":"","EmptyVerySmallSquare":"","emsp13":"","emsp14":"","emsp":"","ENG":"","eng":"","ensp":"","Eogon":"","eogon":"","Eopf":"","eopf":"","epar":"","eparsl":"","eplus":"","epsi":"","Epsilon":"","epsilon":"","epsiv":"","eqcirc":"","eqcolon":"","eqsim":"","eqslantgtr":"","eqslantless":"","Equal":"","equals":"=","EqualTilde":"","equest":"","Equilibrium":"","equiv":"","equivDD":"","eqvparsl":"","erarr":"","erDot":"","escr":"","Escr":"","esdot":"","Esim":"","esim":"","Eta":"","eta":"","ETH":"","eth":"","Euml":"","euml":"","euro":"","excl":"!","exist":"","Exists":"","expectation":"","exponentiale":"","ExponentialE":"","fallingdotseq":"","Fcy":"","fcy":"","female":"","ffilig":"","fflig":"","ffllig":"","Ffr":"","ffr":"","filig":"","FilledSmallSquare":"","FilledVerySmallSquare":"","fjlig":"fj","flat":"","fllig":"","fltns":"","fnof":"","Fopf":"","fopf":"","forall":"","ForAll":"","fork":"","forkv":"","Fouriertrf":"","fpartint":"","frac12":"","frac13":"","frac14":"","frac15":"","frac16":"","frac18":"","frac23":"","frac25":"","frac34":"","frac35":"","frac38":"","frac45":"","frac56":"","frac58":"","frac78":"","frasl":"","frown":"","fscr":"","Fscr":"","gacute":"","Gamma":"","gamma":"","Gammad":"","gammad":"","gap":"","Gbreve":"","gbreve":"","Gcedil":"","Gcirc":"","gcirc":"","Gcy":"","gcy":"","Gdot":"","gdot":"","ge":"","gE":"","gEl":"","gel":"","geq":"","geqq":"","geqslant":"","gescc":"","ges":"","gesdot":"","gesdoto":"","gesdotol":"","gesl":"","gesles":"","Gfr":"","gfr":"","gg":"","Gg":"","ggg":"","gimel":"","GJcy":"","gjcy":"","gla":"","gl":"","glE":"","glj":"","gnap":"","gnapprox":"","gne":"","gnE":"","gneq":"","gneqq":"","gnsim":"","Gopf":"","gopf":"","grave":"`","GreaterEqual":"","GreaterEqualLess":"","GreaterFullEqual":"","GreaterGreater":"","GreaterLess":"","GreaterSlantEqual":"","GreaterTilde":"","Gscr":"","gscr":"","gsim":"","gsime":"","gsiml":"","gtcc":"","gtcir":"","gt":">","GT":">","Gt":"","gtdot":"","gtlPar":"","gtquest":"","gtrapprox":"","gtrarr":"","gtrdot":"","gtreqless":"","gtreqqless":"","gtrless":"","gtrsim":"","gvertneqq":"","gvnE":"","Hacek":"","hairsp":"","half":"","hamilt":"","HARDcy":"","hardcy":"","harrcir":"","harr":"","hArr":"","harrw":"","Hat":"^","hbar":"","Hcirc":"","hcirc":"","hearts":"","heartsuit":"","hellip":"","hercon":"","hfr":"","Hfr":"","HilbertSpace":"","hksearow":"","hkswarow":"","hoarr":"","homtht":"","hookleftarrow":"","hookrightarrow":"","hopf":"","Hopf":"","horbar":"","HorizontalLine":"","hscr":"","Hscr":"","hslash":"","Hstrok":"","hstrok":"","HumpDownHump":"","HumpEqual":"","hybull":"","hyphen":"","Iacute":"","iacute":"","ic":"","Icirc":"","icirc":"","Icy":"","icy":"","Idot":"","IEcy":"","iecy":"","iexcl":"","iff":"","ifr":"","Ifr":"","Igrave":"","igrave":"","ii":"","iiiint":"","iiint":"","iinfin":"","iiota":"","IJlig":"","ijlig":"","Imacr":"","imacr":"","image":"","ImaginaryI":"","imagline":"","imagpart":"","imath":"","Im":"","imof":"","imped":"","Implies":"","incare":"","in":"","infin":"","infintie":"","inodot":"","intcal":"","int":"","Int":"","integers":"","Integral":"","intercal":"","Intersection":"","intlarhk":"","intprod":"","InvisibleComma":"","InvisibleTimes":"","IOcy":"","iocy":"","Iogon":"","iogon":"","Iopf":"","iopf":"","Iota":"","iota":"","iprod":"","iquest":"","iscr":"","Iscr":"","isin":"","isindot":"","isinE":"","isins":"","isinsv":"","isinv":"","it":"","Itilde":"","itilde":"","Iukcy":"","iukcy":"","Iuml":"","iuml":"","Jcirc":"","jcirc":"","Jcy":"","jcy":"","Jfr":"","jfr":"","jmath":"","Jopf":"","jopf":"","Jscr":"","jscr":"","Jsercy":"","jsercy":"","Jukcy":"","jukcy":"","Kappa":"","kappa":"","kappav":"","Kcedil":"","kcedil":"","Kcy":"","kcy":"","Kfr":"","kfr":"","kgreen":"","KHcy":"","khcy":"","KJcy":"","kjcy":"","Kopf":"","kopf":"","Kscr":"","kscr":"","lAarr":"","Lacute":"","lacute":"","laemptyv":"","lagran":"","Lambda":"","lambda":"","lang":"","Lang":"","langd":"","langle":"","lap":"","Laplacetrf":"","laquo":"","larrb":"","larrbfs":"","larr":"","Larr":"","lArr":"","larrfs":"","larrhk":"","larrlp":"","larrpl":"","larrsim":"","larrtl":"","latail":"","lAtail":"","lat":"","late":"","lates":"","lbarr":"","lBarr":"","lbbrk":"","lbrace":"{","lbrack":"[","lbrke":"","lbrksld":"","lbrkslu":"","Lcaron":"","lcaron":"","Lcedil":"","lcedil":"","lceil":"","lcub":"{","Lcy":"","lcy":"","ldca":"","ldquo":"","ldquor":"","ldrdhar":"","ldrushar":"","ldsh":"","le":"","lE":"","LeftAngleBracket":"","LeftArrowBar":"","leftarrow":"","LeftArrow":"","Leftarrow":"","LeftArrowRightArrow":"","leftarrowtail":"","LeftCeiling":"","LeftDoubleBracket":"","LeftDownTeeVector":"","LeftDownVectorBar":"","LeftDownVector":"","LeftFloor":"","leftharpoondown":"","leftharpoonup":"","leftleftarrows":"","leftrightarrow":"","LeftRightArrow":"","Leftrightarrow":"","leftrightarrows":"","leftrightharpoons":"","leftrightsquigarrow":"","LeftRightVector":"","LeftTeeArrow":"","LeftTee":"","LeftTeeVector":"","leftthreetimes":"","LeftTriangleBar":"","LeftTriangle":"","LeftTriangleEqual":"","LeftUpDownVector":"","LeftUpTeeVector":"","LeftUpVectorBar":"","LeftUpVector":"","LeftVectorBar":"","LeftVector":"","lEg":"","leg":"","leq":"","leqq":"","leqslant":"","lescc":"","les":"","lesdot":"","lesdoto":"","lesdotor":"","lesg":"","lesges":"","lessapprox":"","lessdot":"","lesseqgtr":"","lesseqqgtr":"","LessEqualGreater":"","LessFullEqual":"","LessGreater":"","lessgtr":"","LessLess":"","lesssim":"","LessSlantEqual":"","LessTilde":"","lfisht":"","lfloor":"","Lfr":"","lfr":"","lg":"","lgE":"","lHar":"","lhard":"","lharu":"","lharul":"","lhblk":"","LJcy":"","ljcy":"","llarr":"","ll":"","Ll":"","llcorner":"","Lleftarrow":"","llhard":"","lltri":"","Lmidot":"","lmidot":"","lmoustache":"","lmoust":"","lnap":"","lnapprox":"","lne":"","lnE":"","lneq":"","lneqq":"","lnsim":"","loang":"","loarr":"","lobrk":"","longleftarrow":"","LongLeftArrow":"","Longleftarrow":"","longleftrightarrow":"","LongLeftRightArrow":"","Longleftrightarrow":"","longmapsto":"","longrightarrow":"","LongRightArrow":"","Longrightarrow":"","looparrowleft":"","looparrowright":"","lopar":"","Lopf":"","lopf":"","loplus":"","lotimes":"","lowast":"","lowbar":"_","LowerLeftArrow":"","LowerRightArrow":"","loz":"","lozenge":"","lozf":"","lpar":"(","lparlt":"","lrarr":"","lrcorner":"","lrhar":"","lrhard":"","lrm":"","lrtri":"","lsaquo":"","lscr":"","Lscr":"","lsh":"","Lsh":"","lsim":"","lsime":"","lsimg":"","lsqb":"[","lsquo":"","lsquor":"","Lstrok":"","lstrok":"","ltcc":"","ltcir":"","lt":"<","LT":"<","Lt":"","ltdot":"","lthree":"","ltimes":"","ltlarr":"","ltquest":"","ltri":"","ltrie":"","ltrif":"","ltrPar":"","lurdshar":"","luruhar":"","lvertneqq":"","lvnE":"","macr":"","male":"","malt":"","maltese":"","Map":"","map":"","mapsto":"","mapstodown":"","mapstoleft":"","mapstoup":"","marker":"","mcomma":"","Mcy":"","mcy":"","mdash":"","mDDot":"","measuredangle":"","MediumSpace":"","Mellintrf":"","Mfr":"","mfr":"","mho":"","micro":"","midast":"*","midcir":"","mid":"","middot":"","minusb":"","minus":"","minusd":"","minusdu":"","MinusPlus":"","mlcp":"","mldr":"","mnplus":"","models":"","Mopf":"","mopf":"","mp":"","mscr":"","Mscr":"","mstpos":"","Mu":"","mu":"","multimap":"","mumap":"","nabla":"","Nacute":"","nacute":"","nang":"","nap":"","napE":"","napid":"","napos":"","napprox":"","natural":"","naturals":"","natur":"","nbsp":"","nbump":"","nbumpe":"","ncap":"","Ncaron":"","ncaron":"","Ncedil":"","ncedil":"","ncong":"","ncongdot":"","ncup":"","Ncy":"","ncy":"","ndash":"","nearhk":"","nearr":"","neArr":"","nearrow":"","ne":"","nedot":"","NegativeMediumSpace":"","NegativeThickSpace":"","NegativeThinSpace":"","NegativeVeryThinSpace":"","nequiv":"","nesear":"","nesim":"","NestedGreaterGreater":"","NestedLessLess":"","NewLine":"\\n","nexist":"","nexists":"","Nfr":"","nfr":"","ngE":"","nge":"","ngeq":"","ngeqq":"","ngeqslant":"","nges":"","nGg":"","ngsim":"","nGt":"","ngt":"","ngtr":"","nGtv":"","nharr":"","nhArr":"","nhpar":"","ni":"","nis":"","nisd":"","niv":"","NJcy":"","njcy":"","nlarr":"","nlArr":"","nldr":"","nlE":"","nle":"","nleftarrow":"","nLeftarrow":"","nleftrightarrow":"","nLeftrightarrow":"","nleq":"","nleqq":"","nleqslant":"","nles":"","nless":"","nLl":"","nlsim":"","nLt":"","nlt":"","nltri":"","nltrie":"","nLtv":"","nmid":"","NoBreak":"","NonBreakingSpace":"","nopf":"","Nopf":"","Not":"","not":"","NotCongruent":"","NotCupCap":"","NotDoubleVerticalBar":"","NotElement":"","NotEqual":"","NotEqualTilde":"","NotExists":"","NotGreater":"","NotGreaterEqual":"","NotGreaterFullEqual":"","NotGreaterGreater":"","NotGreaterLess":"","NotGreaterSlantEqual":"","NotGreaterTilde":"","NotHumpDownHump":"","NotHumpEqual":"","notin":"","notindot":"","notinE":"","notinva":"","notinvb":"","notinvc":"","NotLeftTriangleBar":"","NotLeftTriangle":"","NotLeftTriangleEqual":"","NotLess":"","NotLessEqual":"","NotLessGreater":"","NotLessLess":"","NotLessSlantEqual":"","NotLessTilde":"","NotNestedGreaterGreater":"","NotNestedLessLess":"","notni":"","notniva":"","notnivb":"","notnivc":"","NotPrecedes":"","NotPrecedesEqual":"","NotPrecedesSlantEqual":"","NotReverseElement":"","NotRightTriangleBar":"","NotRightTriangle":"","NotRightTriangleEqual":"","NotSquareSubset":"","NotSquareSubsetEqual":"","NotSquareSuperset":"","NotSquareSupersetEqual":"","NotSubset":"","NotSubsetEqual":"","NotSucceeds":"","NotSucceedsEqual":"","NotSucceedsSlantEqual":"","NotSucceedsTilde":"","NotSuperset":"","NotSupersetEqual":"","NotTilde":"","NotTildeEqual":"","NotTildeFullEqual":"","NotTildeTilde":"","NotVerticalBar":"","nparallel":"","npar":"","nparsl":"","npart":"","npolint":"","npr":"","nprcue":"","nprec":"","npreceq":"","npre":"","nrarrc":"","nrarr":"","nrArr":"","nrarrw":"","nrightarrow":"","nRightarrow":"","nrtri":"","nrtrie":"","nsc":"","nsccue":"","nsce":"","Nscr":"","nscr":"","nshortmid":"","nshortparallel":"","nsim":"","nsime":"","nsimeq":"","nsmid":"","nspar":"","nsqsube":"","nsqsupe":"","nsub":"","nsubE":"","nsube":"","nsubset":"","nsubseteq":"","nsubseteqq":"","nsucc":"","nsucceq":"","nsup":"","nsupE":"","nsupe":"","nsupset":"","nsupseteq":"","nsupseteqq":"","ntgl":"","Ntilde":"","ntilde":"","ntlg":"","ntriangleleft":"","ntrianglelefteq":"","ntriangleright":"","ntrianglerighteq":"","Nu":"","nu":"","num":"#","numero":"","numsp":"","nvap":"","nvdash":"","nvDash":"","nVdash":"","nVDash":"","nvge":"","nvgt":">","nvHarr":"","nvinfin":"","nvlArr":"","nvle":"","nvlt":"<","nvltrie":"","nvrArr":"","nvrtrie":"","nvsim":"","nwarhk":"","nwarr":"","nwArr":"","nwarrow":"","nwnear":"","Oacute":"","oacute":"","oast":"","Ocirc":"","ocirc":"","ocir":"","Ocy":"","ocy":"","odash":"","Odblac":"","odblac":"","odiv":"","odot":"","odsold":"","OElig":"","oelig":"","ofcir":"","Ofr":"","ofr":"","ogon":"","Ograve":"","ograve":"","ogt":"","ohbar":"","ohm":"","oint":"","olarr":"","olcir":"","olcross":"","oline":"","olt":"","Omacr":"","omacr":"","Omega":"","omega":"","Omicron":"","omicron":"","omid":"","ominus":"","Oopf":"","oopf":"","opar":"","OpenCurlyDoubleQuote":"","OpenCurlyQuote":"","operp":"","oplus":"","orarr":"","Or":"","or":"","ord":"","order":"","orderof":"","ordf":"","ordm":"","origof":"","oror":"","orslope":"","orv":"","oS":"","Oscr":"","oscr":"","Oslash":"","oslash":"","osol":"","Otilde":"","otilde":"","otimesas":"","Otimes":"","otimes":"","Ouml":"","ouml":"","ovbar":"","OverBar":"","OverBrace":"","OverBracket":"","OverParenthesis":"","para":"","parallel":"","par":"","parsim":"","parsl":"","part":"","PartialD":"","Pcy":"","pcy":"","percnt":"%","period":".","permil":"","perp":"","pertenk":"","Pfr":"","pfr":"","Phi":"","phi":"","phiv":"","phmmat":"","phone":"","Pi":"","pi":"","pitchfork":"","piv":"","planck":"","planckh":"","plankv":"","plusacir":"","plusb":"","pluscir":"","plus":"+","plusdo":"","plusdu":"","pluse":"","PlusMinus":"","plusmn":"","plussim":"","plustwo":"","pm":"","Poincareplane":"","pointint":"","popf":"","Popf":"","pound":"","prap":"","Pr":"","pr":"","prcue":"","precapprox":"","prec":"","preccurlyeq":"","Precedes":"","PrecedesEqual":"","PrecedesSlantEqual":"","PrecedesTilde":"","preceq":"","precnapprox":"","precneqq":"","precnsim":"","pre":"","prE":"","precsim":"","prime":"","Prime":"","primes":"","prnap":"","prnE":"","prnsim":"","prod":"","Product":"","profalar":"","profline":"","profsurf":"","prop":"","Proportional":"","Proportion":"","propto":"","prsim":"","prurel":"","Pscr":"","pscr":"","Psi":"","psi":"","puncsp":"","Qfr":"","qfr":"","qint":"","qopf":"","Qopf":"","qprime":"","Qscr":"","qscr":"","quaternions":"","quatint":"","quest":"?","questeq":"","quot":"\\"","QUOT":"\\"","rAarr":"","race":"","Racute":"","racute":"","radic":"","raemptyv":"","rang":"","Rang":"","rangd":"","range":"","rangle":"","raquo":"","rarrap":"","rarrb":"","rarrbfs":"","rarrc":"","rarr":"","Rarr":"","rArr":"","rarrfs":"","rarrhk":"","rarrlp":"","rarrpl":"","rarrsim":"","Rarrtl":"","rarrtl":"","rarrw":"","ratail":"","rAtail":"","ratio":"","rationals":"","rbarr":"","rBarr":"","RBarr":"","rbbrk":"","rbrace":"}","rbrack":"]","rbrke":"","rbrksld":"","rbrkslu":"","Rcaron":"","rcaron":"","Rcedil":"","rcedil":"","rceil":"","rcub":"}","Rcy":"","rcy":"","rdca":"","rdldhar":"","rdquo":"","rdquor":"","rdsh":"","real":"","realine":"","realpart":"","reals":"","Re":"","rect":"","reg":"","REG":"","ReverseElement":"","ReverseEquilibrium":"","ReverseUpEquilibrium":"","rfisht":"","rfloor":"","rfr":"","Rfr":"","rHar":"","rhard":"","rharu":"","rharul":"","Rho":"","rho":"","rhov":"","RightAngleBracket":"","RightArrowBar":"","rightarrow":"","RightArrow":"","Rightarrow":"","RightArrowLeftArrow":"","rightarrowtail":"","RightCeiling":"","RightDoubleBracket":"","RightDownTeeVector":"","RightDownVectorBar":"","RightDownVector":"","RightFloor":"","rightharpoondown":"","rightharpoonup":"","rightleftarrows":"","rightleftharpoons":"","rightrightarrows":"","rightsquigarrow":"","RightTeeArrow":"","RightTee":"","RightTeeVector":"","rightthreetimes":"","RightTriangleBar":"","RightTriangle":"","RightTriangleEqual":"","RightUpDownVector":"","RightUpTeeVector":"","RightUpVectorBar":"","RightUpVector":"","RightVectorBar":"","RightVector":"","ring":"","risingdotseq":"","rlarr":"","rlhar":"","rlm":"","rmoustache":"","rmoust":"","rnmid":"","roang":"","roarr":"","robrk":"","ropar":"","ropf":"","Ropf":"","roplus":"","rotimes":"","RoundImplies":"","rpar":")","rpargt":"","rppolint":"","rrarr":"","Rrightarrow":"","rsaquo":"","rscr":"","Rscr":"","rsh":"","Rsh":"","rsqb":"]","rsquo":"","rsquor":"","rthree":"","rtimes":"","rtri":"","rtrie":"","rtrif":"","rtriltri":"","RuleDelayed":"","ruluhar":"","rx":"","Sacute":"","sacute":"","sbquo":"","scap":"","Scaron":"","scaron":"","Sc":"","sc":"","sccue":"","sce":"","scE":"","Scedil":"","scedil":"","Scirc":"","scirc":"","scnap":"","scnE":"","scnsim":"","scpolint":"","scsim":"","Scy":"","scy":"","sdotb":"","sdot":"","sdote":"","searhk":"","searr":"","seArr":"","searrow":"","sect":"","semi":";","seswar":"","setminus":"","setmn":"","sext":"","Sfr":"","sfr":"","sfrown":"","sharp":"","SHCHcy":"","shchcy":"","SHcy":"","shcy":"","ShortDownArrow":"","ShortLeftArrow":"","shortmid":"","shortparallel":"","ShortRightArrow":"","ShortUpArrow":"","shy":"","Sigma":"","sigma":"","sigmaf":"","sigmav":"","sim":"","simdot":"","sime":"","simeq":"","simg":"","simgE":"","siml":"","simlE":"","simne":"","simplus":"","simrarr":"","slarr":"","SmallCircle":"","smallsetminus":"","smashp":"","smeparsl":"","smid":"","smile":"","smt":"","smte":"","smtes":"","SOFTcy":"","softcy":"","solbar":"","solb":"","sol":"/","Sopf":"","sopf":"","spades":"","spadesuit":"","spar":"","sqcap":"","sqcaps":"","sqcup":"","sqcups":"","Sqrt":"","sqsub":"","sqsube":"","sqsubset":"","sqsubseteq":"","sqsup":"","sqsupe":"","sqsupset":"","sqsupseteq":"","square":"","Square":"","SquareIntersection":"","SquareSubset":"","SquareSubsetEqual":"","SquareSuperset":"","SquareSupersetEqual":"","SquareUnion":"","squarf":"","squ":"","squf":"","srarr":"","Sscr":"","sscr":"","ssetmn":"","ssmile":"","sstarf":"","Star":"","star":"","starf":"","straightepsilon":"","straightphi":"","strns":"","sub":"","Sub":"","subdot":"","subE":"","sube":"","subedot":"","submult":"","subnE":"","subne":"","subplus":"","subrarr":"","subset":"","Subset":"","subseteq":"","subseteqq":"","SubsetEqual":"","subsetneq":"","subsetneqq":"","subsim":"","subsub":"","subsup":"","succapprox":"","succ":"","succcurlyeq":"","Succeeds":"","SucceedsEqual":"","SucceedsSlantEqual":"","SucceedsTilde":"","succeq":"","succnapprox":"","succneqq":"","succnsim":"","succsim":"","SuchThat":"","sum":"","Sum":"","sung":"","sup1":"","sup2":"","sup3":"","sup":"","Sup":"","supdot":"","supdsub":"","supE":"","supe":"","supedot":"","Superset":"","SupersetEqual":"","suphsol":"","suphsub":"","suplarr":"","supmult":"","supnE":"","supne":"","supplus":"","supset":"","Supset":"","supseteq":"","supseteqq":"","supsetneq":"","supsetneqq":"","supsim":"","supsub":"","supsup":"","swarhk":"","swarr":"","swArr":"","swarrow":"","swnwar":"","szlig":"","Tab":"\\t","target":"","Tau":"","tau":"","tbrk":"","Tcaron":"","tcaron":"","Tcedil":"","tcedil":"","Tcy":"","tcy":"","tdot":"","telrec":"","Tfr":"","tfr":"","there4":"","therefore":"","Therefore":"","Theta":"","theta":"","thetasym":"","thetav":"","thickapprox":"","thicksim":"","ThickSpace":"","ThinSpace":"","thinsp":"","thkap":"","thksim":"","THORN":"","thorn":"","tilde":"","Tilde":"","TildeEqual":"","TildeFullEqual":"","TildeTilde":"","timesbar":"","timesb":"","times":"","timesd":"","tint":"","toea":"","topbot":"","topcir":"","top":"","Topf":"","topf":"","topfork":"","tosa":"","tprime":"","trade":"","TRADE":"","triangle":"","triangledown":"","triangleleft":"","trianglelefteq":"","triangleq":"","triangleright":"","trianglerighteq":"","tridot":"","trie":"","triminus":"","TripleDot":"","triplus":"","trisb":"","tritime":"","trpezium":"","Tscr":"","tscr":"","TScy":"","tscy":"","TSHcy":"","tshcy":"","Tstrok":"","tstrok":"","twixt":"","twoheadleftarrow":"","twoheadrightarrow":"","Uacute":"","uacute":"","uarr":"","Uarr":"","uArr":"","Uarrocir":"","Ubrcy":"","ubrcy":"","Ubreve":"","ubreve":"","Ucirc":"","ucirc":"","Ucy":"","ucy":"","udarr":"","Udblac":"","udblac":"","udhar":"","ufisht":"","Ufr":"","ufr":"","Ugrave":"","ugrave":"","uHar":"","uharl":"","uharr":"","uhblk":"","ulcorn":"","ulcorner":"","ulcrop":"","ultri":"","Umacr":"","umacr":"","uml":"","UnderBar":"_","UnderBrace":"","UnderBracket":"","UnderParenthesis":"","Union":"","UnionPlus":"","Uogon":"","uogon":"","Uopf":"","uopf":"","UpArrowBar":"","uparrow":"","UpArrow":"","Uparrow":"","UpArrowDownArrow":"","updownarrow":"","UpDownArrow":"","Updownarrow":"","UpEquilibrium":"","upharpoonleft":"","upharpoonright":"","uplus":"","UpperLeftArrow":"","UpperRightArrow":"","upsi":"","Upsi":"","upsih":"","Upsilon":"","upsilon":"","UpTeeArrow":"","UpTee":"","upuparrows":"","urcorn":"","urcorner":"","urcrop":"","Uring":"","uring":"","urtri":"","Uscr":"","uscr":"","utdot":"","Utilde":"","utilde":"","utri":"","utrif":"","uuarr":"","Uuml":"","uuml":"","uwangle":"","vangrt":"","varepsilon":"","varkappa":"","varnothing":"","varphi":"","varpi":"","varpropto":"","varr":"","vArr":"","varrho":"","varsigma":"","varsubsetneq":"","varsubsetneqq":"","varsupsetneq":"","varsupsetneqq":"","vartheta":"","vartriangleleft":"","vartriangleright":"","vBar":"","Vbar":"","vBarv":"","Vcy":"","vcy":"","vdash":"","vDash":"","Vdash":"","VDash":"","Vdashl":"","veebar":"","vee":"","Vee":"","veeeq":"","vellip":"","verbar":"|","Verbar":"","vert":"|","Vert":"","VerticalBar":"","VerticalLine":"|","VerticalSeparator":"","VerticalTilde":"","VeryThinSpace":"","Vfr":"","vfr":"","vltri":"","vnsub":"","vnsup":"","Vopf":"","vopf":"","vprop":"","vrtri":"","Vscr":"","vscr":"","vsubnE":"","vsubne":"","vsupnE":"","vsupne":"","Vvdash":"","vzigzag":"","Wcirc":"","wcirc":"","wedbar":"","wedge":"","Wedge":"","wedgeq":"","weierp":"","Wfr":"","wfr":"","Wopf":"","wopf":"","wp":"","wr":"","wreath":"","Wscr":"","wscr":"","xcap":"","xcirc":"","xcup":"","xdtri":"","Xfr":"","xfr":"","xharr":"","xhArr":"","Xi":"","xi":"","xlarr":"","xlArr":"","xmap":"","xnis":"","xodot":"","Xopf":"","xopf":"","xoplus":"","xotime":"","xrarr":"","xrArr":"","Xscr":"","xscr":"","xsqcup":"","xuplus":"","xutri":"","xvee":"","xwedge":"","Yacute":"","yacute":"","YAcy":"","yacy":"","Ycirc":"","ycirc":"","Ycy":"","ycy":"","yen":"","Yfr":"","yfr":"","YIcy":"","yicy":"","Yopf":"","yopf":"","Yscr":"","yscr":"","YUcy":"","yucy":"","yuml":"","Yuml":"","Zacute":"","zacute":"","Zcaron":"","zcaron":"","Zcy":"","zcy":"","Zdot":"","zdot":"","zeetrf":"","ZeroWidthSpace":"","Zeta":"","zeta":"","zfr":"","Zfr":"","ZHcy":"","zhcy":"","zigrarr":"","zopf":"","Zopf":"","Zscr":"","zscr":"","zwj":"","zwnj":""}')})),o.register("aEjBd",(function(e,t){e.exports=JSON.parse('{"Aacute":"","aacute":"","Acirc":"","acirc":"","acute":"","AElig":"","aelig":"","Agrave":"","agrave":"","amp":"&","AMP":"&","Aring":"","aring":"","Atilde":"","atilde":"","Auml":"","auml":"","brvbar":"","Ccedil":"","ccedil":"","cedil":"","cent":"","copy":"","COPY":"","curren":"","deg":"","divide":"","Eacute":"","eacute":"","Ecirc":"","ecirc":"","Egrave":"","egrave":"","ETH":"","eth":"","Euml":"","euml":"","frac12":"","frac14":"","frac34":"","gt":">","GT":">","Iacute":"","iacute":"","Icirc":"","icirc":"","iexcl":"","Igrave":"","igrave":"","iquest":"","Iuml":"","iuml":"","laquo":"","lt":"<","LT":"<","macr":"","micro":"","middot":"","nbsp":"","not":"","Ntilde":"","ntilde":"","Oacute":"","oacute":"","Ocirc":"","ocirc":"","Ograve":"","ograve":"","ordf":"","ordm":"","Oslash":"","oslash":"","Otilde":"","otilde":"","Ouml":"","ouml":"","para":"","plusmn":"","pound":"","quot":"\\"","QUOT":"\\"","raquo":"","reg":"","REG":"","sect":"","shy":"","sup1":"","sup2":"","sup3":"","szlig":"","THORN":"","thorn":"","times":"","Uacute":"","uacute":"","Ucirc":"","ucirc":"","Ugrave":"","ugrave":"","uml":"","Uuml":"","uuml":"","Yacute":"","yacute":"","yen":"","yuml":""}')})),o.register("9l3fh",(function(e,t){e.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')})),o.register("8yyhw",(function(e,t){var n=e.exports&&e.exports.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e.exports,"__esModule",{value:!0});var r=n(o("1Spoj")),i=String.fromCodePoint||function(e){var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e)};e.exports.default=function(e){return e>=55296&&e<=57343||e>1114111?"":(e in r.default&&(e=r.default[e]),i(e))}})),o.register("1Spoj",(function(e,t){e.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')})),o.register("2Uh6P",(function(e,t){var n=e.exports&&e.exports.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.escapeUTF8=e.exports.escape=e.exports.encodeNonAsciiHTML=e.exports.encodeHTML=e.exports.encodeXML=void 0;var r=u(n(o("9l3fh")).default),i=p(r);e.exports.encodeXML=g(r);var a,s,l=u(n(o("gZZP1")).default),c=p(l);function u(e){return Object.keys(e).sort().reduce((function(t,n){return t[e[n]]="&"+n+";",t}),{})}function p(e){for(var t=[],n=[],r=0,i=Object.keys(e);r<i.length;r++){var o=i[r];1===o.length?t.push("\\"+o):n.push(o)}t.sort();for(var a=0;a<t.length-1;a++){for(var s=a;s<t.length-1&&t[s].charCodeAt(1)+1===t[s+1].charCodeAt(1);)s+=1;var l=1+s-a;l<3||t.splice(a,l,t[a]+"-"+t[s])}return n.unshift("["+t.join("")+"]"),new RegExp(n.join("|"),"g")}e.exports.encodeHTML=(a=l,s=c,function(e){return e.replace(s,(function(e){return a[e]})).replace(d,f)}),e.exports.encodeNonAsciiHTML=g(l);var d=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,h=null!=String.prototype.codePointAt?function(e){return e.codePointAt(0)}:function(e){return 1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536};function f(e){return"&#x"+(e.length>1?h(e):e.charCodeAt(0)).toString(16).toUpperCase()+";"}var m=new RegExp(i.source+"|"+d.source,"g");function g(e){return function(t){return t.replace(m,(function(t){return e[t]||f(t)}))}}e.exports.escape=function(e){return e.replace(m,f)},e.exports.escapeUTF8=function(e){return e.replace(i,f)}})),o.register("7IC8N",(function(e,t){e.exports=JSON.parse('{"elementNames":{"altglyph":"altGlyph","altglyphdef":"altGlyphDef","altglyphitem":"altGlyphItem","animatecolor":"animateColor","animatemotion":"animateMotion","animatetransform":"animateTransform","clippath":"clipPath","feblend":"feBlend","fecolormatrix":"feColorMatrix","fecomponenttransfer":"feComponentTransfer","fecomposite":"feComposite","feconvolvematrix":"feConvolveMatrix","fediffuselighting":"feDiffuseLighting","fedisplacementmap":"feDisplacementMap","fedistantlight":"feDistantLight","fedropshadow":"feDropShadow","feflood":"feFlood","fefunca":"feFuncA","fefuncb":"feFuncB","fefuncg":"feFuncG","fefuncr":"feFuncR","fegaussianblur":"feGaussianBlur","feimage":"feImage","femerge":"feMerge","femergenode":"feMergeNode","femorphology":"feMorphology","feoffset":"feOffset","fepointlight":"fePointLight","fespecularlighting":"feSpecularLighting","fespotlight":"feSpotLight","fetile":"feTile","feturbulence":"feTurbulence","foreignobject":"foreignObject","glyphref":"glyphRef","lineargradient":"linearGradient","radialgradient":"radialGradient","textpath":"textPath"},"attributeNames":{"definitionurl":"definitionURL","attributename":"attributeName","attributetype":"attributeType","basefrequency":"baseFrequency","baseprofile":"baseProfile","calcmode":"calcMode","clippathunits":"clipPathUnits","diffuseconstant":"diffuseConstant","edgemode":"edgeMode","filterunits":"filterUnits","glyphref":"glyphRef","gradienttransform":"gradientTransform","gradientunits":"gradientUnits","kernelmatrix":"kernelMatrix","kernelunitlength":"kernelUnitLength","keypoints":"keyPoints","keysplines":"keySplines","keytimes":"keyTimes","lengthadjust":"lengthAdjust","limitingconeangle":"limitingConeAngle","markerheight":"markerHeight","markerunits":"markerUnits","markerwidth":"markerWidth","maskcontentunits":"maskContentUnits","maskunits":"maskUnits","numoctaves":"numOctaves","pathlength":"pathLength","patterncontentunits":"patternContentUnits","patterntransform":"patternTransform","patternunits":"patternUnits","pointsatx":"pointsAtX","pointsaty":"pointsAtY","pointsatz":"pointsAtZ","preservealpha":"preserveAlpha","preserveaspectratio":"preserveAspectRatio","primitiveunits":"primitiveUnits","refx":"refX","refy":"refY","repeatcount":"repeatCount","repeatdur":"repeatDur","requiredextensions":"requiredExtensions","requiredfeatures":"requiredFeatures","specularconstant":"specularConstant","specularexponent":"specularExponent","spreadmethod":"spreadMethod","startoffset":"startOffset","stddeviation":"stdDeviation","stitchtiles":"stitchTiles","surfacescale":"surfaceScale","systemlanguage":"systemLanguage","tablevalues":"tableValues","targetx":"targetX","targety":"targetY","textlength":"textLength","viewbox":"viewBox","viewtarget":"viewTarget","xchannelselector":"xChannelSelector","ychannelselector":"yChannelSelector","zoomandpan":"zoomAndPan"}}')})),o.register("aoZc2",(function(t,n){var r,i,o,a,s,l;e(t.exports,"getChildren",(()=>r),(e=>r=e)),e(t.exports,"getParent",(()=>i),(e=>i=e)),e(t.exports,"getSiblings",(()=>o),(e=>o=e)),e(t.exports,"getAttributeValue",(()=>a),(e=>a=e)),e(t.exports,"hasAttrib",(()=>s),(e=>s=e)),e(t.exports,"getName",(()=>l),(e=>l=e));var c=r=function(e){return e.children},u=i=function(e){return e.parent};o=function(e){var t=u(e);return t?c(t):[e]},a=function(e,t){return e.attribs&&e.attribs[t]},s=function(e,t){return!!e.attribs&&hasOwnProperty.call(e.attribs,t)},l=function(e){return e.name}})),o.register("1nHDw",(function(t,n){var r,i,o,a,s;e(t.exports,"removeElement",(()=>r),(e=>r=e)),e(t.exports,"replaceElement",(()=>i),(e=>i=e)),e(t.exports,"appendChild",(()=>o),(e=>o=e)),e(t.exports,"append",(()=>a),(e=>a=e)),e(t.exports,"prepend",(()=>s),(e=>s=e)),r=function(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children;t.splice(t.lastIndexOf(e),1)}},i=function(e,t){var n=t.prev=e.prev;n&&(n.next=t);var r=t.next=e.next;r&&(r.prev=t);var i=t.parent=e.parent;if(i){var o=i.children;o[o.lastIndexOf(e)]=t}},o=function(e,t){if(t.parent=e,1!==e.children.push(t)){var n=e.children[e.children.length-2];n.next=t,t.prev=n,t.next=null}},a=function(e,t){var n=e.parent,r=e.next;if(t.next=r,t.prev=e,e.next=t,t.parent=n,r){if(r.prev=t,n){var i=n.children;i.splice(i.lastIndexOf(r),0,t)}}else n&&n.children.push(t)},s=function(e,t){var n=e.parent;if(n){var r=n.children;r.splice(r.lastIndexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=n,t.prev=e.prev,t.next=e,e.prev=t}})),o.register("5O0nP",(function(e,t){var n=o("kQzea").isTag;function r(e,t,n,i){for(var o,a=[],s=0,l=t.length;s<l&&!(e(t[s])&&(a.push(t[s]),--i<=0))&&(o=t[s].children,!(n&&o&&o.length>0&&(o=r(e,o,n,i),a=a.concat(o),(i-=o.length)<=0)));s++);return a}e.exports={filter:function(e,t,n,i){Array.isArray(t)||(t=[t]);"number"==typeof i&&isFinite(i)||(i=1/0);return r(e,t,!1!==n,i)},find:r,findOneChild:function(e,t){for(var n=0,r=t.length;n<r;n++)if(e(t[n]))return t[n];return null},findOne:function e(t,r){for(var i=null,o=0,a=r.length;o<a&&!i;o++)n(r[o])&&(t(r[o])?i=r[o]:r[o].children.length>0&&(i=e(t,r[o].children)));return i},existsOne:function e(t,r){for(var i=0,o=r.length;i<o;i++)if(n(r[i])&&(t(r[i])||r[i].children.length>0&&e(t,r[i].children)))return!0;return!1},findAll:function(e,t){var r=[],i=t.slice();for(;i.length;){var o=i.shift();n(o)&&(o.children&&o.children.length>0&&i.unshift.apply(i,o.children),e(o)&&r.push(o))}return r}}})),o.register("efO6G",(function(t,n){var r,i,a,s,l,c;e(t.exports,"isTag",(()=>r),(e=>r=e)),e(t.exports,"testElement",(()=>i),(e=>i=e)),e(t.exports,"getElements",(()=>a),(e=>a=e)),e(t.exports,"getElementById",(()=>s),(e=>s=e)),e(t.exports,"getElementsByTagName",(()=>l),(e=>l=e)),e(t.exports,"getElementsByTagType",(()=>c),(e=>c=e));var u=o("kQzea"),p=r=u.isTag;i=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){if("tag_name"===n){if(!p(t)||!e.tag_name(t.name))return!1}else if("tag_type"===n){if(!e.tag_type(t.type))return!1}else if("tag_contains"===n){if(p(t)||!e.tag_contains(t.data))return!1}else if(!t.attribs||!e[n](t.attribs[n]))return!1}else;return!0};var d={tag_name:function(e){return"function"==typeof e?function(t){return p(t)&&e(t.name)}:"*"===e?p:function(t){return p(t)&&t.name===e}},tag_type:function(e){return"function"==typeof e?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return"function"==typeof e?function(t){return!p(t)&&e(t.data)}:function(t){return!p(t)&&t.data===e}}};function h(e,t){return"function"==typeof t?function(n){return n.attribs&&t(n.attribs[e])}:function(n){return n.attribs&&n.attribs[e]===t}}function f(e,t){return function(n){return e(n)||t(n)}}a=function(e,t,n,r){var i=Object.keys(e).map((function(t){var n=e[t];return t in d?d[t](n):h(t,n)}));return 0===i.length?[]:this.filter(i.reduce(f),t,n,r)},s=function(e,t,n){return Array.isArray(t)||(t=[t]),this.findOne(h("id",e),t,!1!==n)},l=function(e,t,n,r){return this.filter(d.tag_name(e),t,n,r)},c=function(e,t,n,r){return this.filter(d.tag_type(e),t,n,r)}})),o.register("bH1sx",(function(t,n){var r,i,o;e(t.exports,"removeSubsets",(()=>r),(e=>r=e)),e(t.exports,"compareDocumentPosition",(()=>i),(e=>i=e)),e(t.exports,"uniqueSort",(()=>o),(e=>o=e)),r=function(e){for(var t,n,r,i=e.length;--i>-1;){for(t=n=e[i],e[i]=null,r=!0;n;){if(e.indexOf(n)>-1){r=!1,e.splice(i,1);break}n=n.parent}r&&(e[i]=t)}return e};var a=1,s=2,l=4,c=8,u=16,p=i=function(e,t){var n,r,i,o,p,d,h=[],f=[];if(e===t)return 0;for(n=e;n;)h.unshift(n),n=n.parent;for(n=t;n;)f.unshift(n),n=n.parent;for(d=0;h[d]===f[d];)d++;return 0===d?a:(i=(r=h[d-1]).children,o=h[d],p=f[d],i.indexOf(o)>i.indexOf(p)?r===t?l|u:l:r===e?s|c:s)};o=function(e){var t,n,r=e.length;for(e=e.slice();--r>-1;)t=e[r],(n=e.indexOf(t))>-1&&n<r&&e.splice(r,1);return e.sort((function(e,t){var n=p(e,t);return n&s?-1:n&l?1:0})),e}})),o.register("bgutc",(function(e,t){e.exports=r;var n=o("pH4Ho");function r(e){n.call(this,new i(this),e)}function i(e){this.scope=e}o("dlqwk")(r,n),r.prototype.readable=!0;var a=o("4Xweo").EVENTS;Object.keys(a).forEach((function(e){if(0===a[e])i.prototype["on"+e]=function(){this.scope.emit(e)};else if(1===a[e])i.prototype["on"+e]=function(t){this.scope.emit(e,t)};else{if(2!==a[e])throw Error("wrong number of arguments!");i.prototype["on"+e]=function(t,n){this.scope.emit(e,t,n)}}}))})),o.register("pH4Ho",(function(e,t){e.exports=s;var n=o("6jlpw"),r=o("kjyEk").Writable,i=o("eNRCS").StringDecoder,a=o("6ZWSX").Buffer;function s(e,t){var o=this._parser=new n(e,t),a=this._decoder=new i;r.call(this,{decodeStrings:!1}),this.once("finish",(function(){o.end(a.end())}))}o("dlqwk")(s,r),s.prototype._write=function(e,t,n){e instanceof a&&(e=this._decoder.write(e)),this._parser.write(e),n()}})),o.register("6jlpw",(function(e,t){var n=o("3gokF"),r={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},i={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:r,input:r,output:r,button:r,datalist:r,textarea:r,option:{option:!0},optgroup:{optgroup:!0}},a={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},s={__proto__:null,math:!0,svg:!0},l={__proto__:null,mi:!0,mo:!0,mn:!0,ms:!0,mtext:!0,"annotation-xml":!0,foreignObject:!0,desc:!0,title:!0},c=/\s|\//;function u(e,t){this._options=t||{},this._cbs=e||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this._foreignContext=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._options.Tokenizer&&(n=this._options.Tokenizer),this._tokenizer=new n(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}o("dlqwk")(u,o("7etJZ").EventEmitter),u.prototype._updatePosition=function(e){null===this.endIndex?this._tokenizer._sectionStart<=e?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-e:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},u.prototype.ontext=function(e){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(e)},u.prototype.onopentagname=function(e){if(this._lowerCaseTagNames&&(e=e.toLowerCase()),this._tagname=e,!this._options.xmlMode&&e in i)for(var t;(t=this._stack[this._stack.length-1])in i[e];this.onclosetag(t));!this._options.xmlMode&&e in a||(this._stack.push(e),e in s?this._foreignContext.push(!0):e in l&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(e),this._cbs.onopentag&&(this._attribs={})},u.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in a&&this._cbs.onclosetag(this._tagname),this._tagname=""},u.prototype.onclosetag=function(e){if(this._updatePosition(1),this._lowerCaseTagNames&&(e=e.toLowerCase()),(e in s||e in l)&&this._foreignContext.pop(),!this._stack.length||e in a&&!this._options.xmlMode)this._options.xmlMode||"br"!==e&&"p"!==e||(this.onopentagname(e),this._closeCurrentTag());else{var t=this._stack.lastIndexOf(e);if(-1!==t)if(this._cbs.onclosetag)for(t=this._stack.length-t;t--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=t;else"p"!==e||this._options.xmlMode||(this.onopentagname(e),this._closeCurrentTag())}},u.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},u.prototype._closeCurrentTag=function(){var e=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===e&&(this._cbs.onclosetag&&this._cbs.onclosetag(e),this._stack.pop())},u.prototype.onattribname=function(e){this._lowerCaseAttributeNames&&(e=e.toLowerCase()),this._attribname=e},u.prototype.onattribdata=function(e){this._attribvalue+=e},u.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},u.prototype._getInstructionName=function(e){var t=e.search(c),n=t<0?e:e.substr(0,t);return this._lowerCaseTagNames&&(n=n.toLowerCase()),n},u.prototype.ondeclaration=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("!"+t,"!"+e)}},u.prototype.onprocessinginstruction=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("?"+t,"?"+e)}},u.prototype.oncomment=function(e){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(e),this._cbs.oncommentend&&this._cbs.oncommentend()},u.prototype.oncdata=function(e){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(e),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+e+"]]")},u.prototype.onerror=function(e){this._cbs.onerror&&this._cbs.onerror(e)},u.prototype.onend=function(){if(this._cbs.onclosetag)for(var e=this._stack.length;e>0;this._cbs.onclosetag(this._stack[--e]));this._cbs.onend&&this._cbs.onend()},u.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},u.prototype.parseComplete=function(e){this.reset(),this.end(e)},u.prototype.write=function(e){this._tokenizer.write(e)},u.prototype.end=function(e){this._tokenizer.end(e)},u.prototype.pause=function(){this._tokenizer.pause()},u.prototype.resume=function(){this._tokenizer.resume()},u.prototype.parseChunk=u.prototype.write,u.prototype.done=u.prototype.end,e.exports=u})),o.register("kjyEk",(function(e,t){})),o.register("eNRCS",(function(t,n){var r;e(t.exports,"StringDecoder",(()=>r),(e=>r=e));var i=o("1U9GM").Buffer,a=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(i.isEncoding===a||!a(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=p,t=4;break;case"utf8":this.fillLast=c,t=4;break;case"base64":this.text=d,this.end=h,t=3;break;default:return this.write=f,void(this.end=m)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function l(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function c(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function p(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function d(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function m(e){return e&&e.length?this.write(e):""}r=s,s.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},s.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=l(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if(i=l(t[r]),i>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if(i=l(t[r]),i>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}})),o.register("1U9GM",(function(e,t){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var n=o("6ZWSX"),r=n.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(i(n,e.exports),e.exports.Buffer=a),a.prototype=Object.create(r.prototype),i(r,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}})),o.register("6ZWSX",(function(t,n){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var r,i,a,s;e(t.exports,"Buffer",(()=>r),(e=>r=e)),e(t.exports,"SlowBuffer",(()=>i),(e=>i=e)),e(t.exports,"INSPECT_MAX_BYTES",(()=>a),(e=>a=e)),e(t.exports,"kMaxLength",(()=>s),(e=>s=e));var l=o("kuxul"),c=o("9NvM5"),u="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;r=h,i=function(e){+e!=e&&(e=0);return h.alloc(+e)},a=50;var p=2147483647;function d(e){if(e>p)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,h.prototype),t}function h(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return g(e)}return f(e,t,n)}function f(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!h.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|w(e,t),r=d(n),i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return v(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(G(e,ArrayBuffer)||e&&G(e.buffer,ArrayBuffer))return y(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(G(e,SharedArrayBuffer)||e&&G(e.buffer,SharedArrayBuffer)))return y(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return h.from(r,t,n);var i=function(e){if(h.isBuffer(e)){var t=0|b(e.length),n=d(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||X(e.length)?d(0):v(e);if("Buffer"===e.type&&Array.isArray(e.data))return v(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return h.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function m(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function g(e){return m(e),d(e<0?0:0|b(e))}function v(e){for(var t=e.length<0?0:0|b(e.length),n=d(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function y(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,h.prototype),r}function b(e){if(e>=p)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p.toString(16)+" bytes");return 0|e}function w(e,t){if(h.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||G(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(e).length;default:if(i)return r?-1:U(e).length;t=(""+t).toLowerCase(),i=!0}}function x(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return P(this,t,n);case"ascii":return L(this,t,n);case"latin1":case"binary":return R(this,t,n);case"base64":return M(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function k(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function S(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),X(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=h.from(t,r)),h.isBuffer(t))return 0===t.length?-1:C(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):C(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function C(e,t,n,r,i){var o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var p=!0,d=0;d<l;d++)if(c(e,o+d)!==c(t,d)){p=!1;break}if(p)return o}return-1}function E(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(X(s))return a;e[n+a]=s}return a}function T(e,t,n,r){return $(U(t,e.length-n),e,n,r)}function _(e,t,n,r){return $(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function A(e,t,n,r){return _(e,t,n,r)}function O(e,t,n,r){return $(W(t),e,n,r)}function N(e,t,n,r){return $(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function M(e,t,n){return 0===t&&n===e.length?l.fromByteArray(e):l.fromByteArray(e.slice(t,n))}function P(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,l,c=e[i],u=null,p=c>239?4:c>223?3:c>191?2:1;if(i+p<=n)switch(p){case 1:c<128&&(u=c);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(l=(15&c)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,p=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=p}return function(e){var t=e.length;if(t<=D)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=D));return n}(r)}s=p,h.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),h.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),h.poolSize=8192,h.from=function(e,t,n){return f(e,t,n)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array),h.alloc=function(e,t,n){return function(e,t,n){return m(e),e<=0?d(e):void 0!==t?"string"==typeof n?d(e).fill(t,n):d(e).fill(t):d(e)}(e,t,n)},h.allocUnsafe=function(e){return g(e)},h.allocUnsafeSlow=function(e){return g(e)},h.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==h.prototype},h.compare=function(e,t){if(G(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),G(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),!h.isBuffer(e)||!h.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},h.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return h.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=h.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(G(o,Uint8Array)&&(o=h.from(o)),!h.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},h.byteLength=w,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)k(this,t,t+1);return this},h.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)k(this,t,t+3),k(this,t+1,t+2);return this},h.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)k(this,t,t+7),k(this,t+1,t+6),k(this,t+2,t+5),k(this,t+3,t+4);return this},h.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?P(this,0,e):x.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(e){if(!h.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===h.compare(this,e)},h.prototype.inspect=function(){var e="",t=a;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},u&&(h.prototype[u]=h.prototype.inspect),h.prototype.compare=function(e,t,n,r,i){if(G(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),!h.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),l=this.slice(r,i),c=e.slice(t,n),u=0;u<s;++u)if(l[u]!==c[u]){o=l[u],a=c[u];break}return o<a?-1:a<o?1:0},h.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},h.prototype.indexOf=function(e,t,n){return S(this,e,t,n,!0)},h.prototype.lastIndexOf=function(e,t,n){return S(this,e,t,n,!1)},h.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return E(this,e,t,n);case"utf8":case"utf-8":return T(this,e,t,n);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return A(this,e,t,n);case"base64":return O(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var D=4096;function L(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function R(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function I(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=Y[e[o]];return i}function B(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function j(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function F(e,t,n,r,i,o){if(!h.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function z(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function H(e,t,n,r,i){return t=+t,n>>>=0,i||z(e,0,n,4),c.write(e,t,n,r,23,4),n+4}function q(e,t,n,r,i){return t=+t,n>>>=0,i||z(e,0,n,8),c.write(e,t,n,r,52,8),n+8}h.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,h.prototype),r},h.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},h.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},h.prototype.readUInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),this[e]},h.prototype.readUInt16LE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]|this[e+1]<<8},h.prototype.readUInt16BE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]<<8|this[e+1]},h.prototype.readUInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},h.prototype.readUInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},h.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},h.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},h.prototype.readInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},h.prototype.readInt16LE=function(e,t){e>>>=0,t||j(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},h.prototype.readInt16BE=function(e,t){e>>>=0,t||j(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},h.prototype.readInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},h.prototype.readInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},h.prototype.readFloatLE=function(e,t){return e>>>=0,t||j(e,4,this.length),c.read(this,e,!0,23,4)},h.prototype.readFloatBE=function(e,t){return e>>>=0,t||j(e,4,this.length),c.read(this,e,!1,23,4)},h.prototype.readDoubleLE=function(e,t){return e>>>=0,t||j(e,8,this.length),c.read(this,e,!0,52,8)},h.prototype.readDoubleBE=function(e,t){return e>>>=0,t||j(e,8,this.length),c.read(this,e,!1,52,8)},h.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||F(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},h.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||F(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},h.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,1,255,0),this[t]=255&e,t+1},h.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},h.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},h.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},h.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},h.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);F(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},h.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);F(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},h.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},h.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},h.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},h.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},h.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},h.prototype.writeFloatLE=function(e,t,n){return H(this,e,t,!0,n)},h.prototype.writeFloatBE=function(e,t,n){return H(this,e,t,!1,n)},h.prototype.writeDoubleLE=function(e,t,n){return q(this,e,t,!0,n)},h.prototype.writeDoubleBE=function(e,t,n){return q(this,e,t,!1,n)},h.prototype.copy=function(e,t,n,r){if(!h.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var o=i-1;o>=0;--o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return i},h.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!h.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=h.isBuffer(e)?e:h.from(e,r),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var V=/[^+/0-9A-Za-z-_]/g;function U(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function W(e){return l.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function $(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function G(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function X(e){return e!=e}var Y=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}()})),o.register("kuxul",(function(t,n){var r,i;e(t.exports,"toByteArray",(()=>r),(e=>r=e)),e(t.exports,"fromByteArray",(()=>i),(e=>i=e)),r=function(e){var t,n,r=p(e),i=r[0],o=r[1],l=new s(function(e,t,n){return 3*(t+n)/4-n}(0,i,o)),c=0,u=o>0?i-4:i;for(n=0;n<u;n+=4)t=a[e.charCodeAt(n)]<<18|a[e.charCodeAt(n+1)]<<12|a[e.charCodeAt(n+2)]<<6|a[e.charCodeAt(n+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;2===o&&(t=a[e.charCodeAt(n)]<<2|a[e.charCodeAt(n+1)]>>4,l[c++]=255&t);1===o&&(t=a[e.charCodeAt(n)]<<10|a[e.charCodeAt(n+1)]<<4|a[e.charCodeAt(n+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t);return l},i=function(e){for(var t,n=e.length,r=n%3,i=[],a=16383,s=0,l=n-r;s<l;s+=a)i.push(d(e,s,s+a>l?l:s+a));1===r?(t=e[n-1],i.push(o[t>>2]+o[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(o[t>>10]+o[t>>4&63]+o[t<<2&63]+"="));return i.join("")};for(var o=[],a=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,u=l.length;c<u;++c)o[c]=l[c],a[l.charCodeAt(c)]=c;function p(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function d(e,t,n){for(var r,i,a=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(o[(i=r)>>18&63]+o[i>>12&63]+o[i>>6&63]+o[63&i]);return a.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63})),o.register("9NvM5",(function(t,n){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var r,i;e(t.exports,"read",(()=>r),(e=>r=e)),e(t.exports,"write",(()=>i),(e=>i=e)),r=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,p=n?i-1:0,d=n?-1:1,h=e[t+p];for(p+=d,o=h&(1<<-u)-1,h>>=-u,u+=s;u>0;o=256*o+e[t+p],p+=d,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+e[t+p],p+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=c}return(h?-1:1)*a*Math.pow(2,o-r)},i=function(e,t,n,r,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,p=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+p>=1?d/l:d*Math.pow(2,1-p))*l>=2&&(a++,l/=2),a+p>=u?(s=0,a=u):a+p>=1?(s=(t*l-1)*Math.pow(2,i),a+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=f,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+h]=255&a,h+=f,a/=256,c-=8);e[n+h-f]|=128*m}})),o.register("4Xweo",(function(e,t){var n=o("6jlpw"),r=o("6D9Hx");function i(t,n){return delete e.exports[t],e.exports[t]=n,n}e.exports={Parser:n,Tokenizer:o("3gokF"),ElementType:o("kQzea"),DomHandler:r,get FeedHandler(){return i("FeedHandler",o("imwtL"))},get Stream(){return i("Stream",o("bgutc"))},get WritableStream(){return i("WritableStream",o("pH4Ho"))},get ProxyHandler(){return i("ProxyHandler",o("dNT0S"))},get DomUtils(){return i("DomUtils",o("3zpl0"))},get CollectingHandler(){return i("CollectingHandler",o("9uV53"))},DefaultHandler:r,get RssHandler(){return i("RssHandler",this.FeedHandler)},parseDOM:function(e,t){var i=new r(t);return new n(i,t).end(e),i.dom},parseFeed:function(t,r){var i=new e.exports.FeedHandler(r);return new n(i,r).end(t),i.dom},createDomStream:function(e,t,i){var o=new r(e,t,i);return new n(o,t)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}})),o.register("dNT0S",(function(e,t){function n(e){this._cbs=e||{}}e.exports=n;var r=o("4Xweo").EVENTS;Object.keys(r).forEach((function(e){if(0===r[e])e="on"+e,n.prototype[e]=function(){this._cbs[e]&&this._cbs[e]()};else if(1===r[e])e="on"+e,n.prototype[e]=function(t){this._cbs[e]&&this._cbs[e](t)};else{if(2!==r[e])throw Error("wrong number of arguments");e="on"+e,n.prototype[e]=function(t,n){this._cbs[e]&&this._cbs[e](t,n)}}}))})),o.register("9uV53",(function(e,t){function n(e){this._cbs=e||{},this.events=[]}e.exports=n;var r=o("4Xweo").EVENTS;Object.keys(r).forEach((function(e){if(0===r[e])e="on"+e,n.prototype[e]=function(){this.events.push([e]),this._cbs[e]&&this._cbs[e]()};else if(1===r[e])e="on"+e,n.prototype[e]=function(t){this.events.push([e,t]),this._cbs[e]&&this._cbs[e](t)};else{if(2!==r[e])throw Error("wrong number of arguments");e="on"+e,n.prototype[e]=function(t,n){this.events.push([e,t,n]),this._cbs[e]&&this._cbs[e](t,n)}}})),n.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},n.prototype.restart=function(){this._cbs.onreset&&this._cbs.onreset();for(var e=0,t=this.events.length;e<t;e++)if(this._cbs[this.events[e][0]]){var n=this.events[e].length;1===n?this._cbs[this.events[e][0]]():2===n?this._cbs[this.events[e][0]](this.events[e][1]):this._cbs[this.events[e][0]](this.events[e][1],this.events[e][2])}}})),o.register("iwjgp",(function(t,n){e(t.exports,"Fragment",(()=>s)),e(t.exports,"Mark",(()=>p)),e(t.exports,"ReplaceError",(()=>d)),e(t.exports,"Slice",(()=>h)),e(t.exports,"ResolvedPos",(()=>E)),e(t.exports,"NodeRange",(()=>O)),e(t.exports,"Node",(()=>M)),e(t.exports,"ContentMatch",(()=>L)),e(t.exports,"NodeType",(()=>$)),e(t.exports,"MarkType",(()=>X)),e(t.exports,"Schema",(()=>Y)),e(t.exports,"DOMParser",(()=>K)),e(t.exports,"DOMSerializer",(()=>ue));var r=o("dNQDh");function i(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let o=e.child(r),a=t.child(r);if(o!=a){if(!o.sameMarkup(a))return n;if(o.isText&&o.text!=a.text){for(let e=0;o.text[e]==a.text[e];e++)n++;return n}if(o.content.size||a.content.size){let e=i(o.content,a.content,n+1);if(null!=e)return e}n+=o.nodeSize}else n+=o.nodeSize}}function a(e,t,n,r){for(let i=e.childCount,o=t.childCount;;){if(0==i||0==o)return i==o?null:{a:n,b:r};let s=e.child(--i),l=t.child(--o),c=s.nodeSize;if(s!=l){if(!s.sameMarkup(l))return{a:n,b:r};if(s.isText&&s.text!=l.text){let e=0,t=Math.min(s.text.length,l.text.length);for(;e<t&&s.text[s.text.length-e-1]==l.text[l.text.length-e-1];)e++,n--,r--;return{a:n,b:r}}if(s.content.size||l.content.size){let e=a(s.content,l.content,n-1,r-1);if(e)return e}n-=c,r-=c}else n-=c,r-=c}}class s{constructor(e,t){if(this.content=e,this.size=t||0,null==t)for(let t=0;t<e.length;t++)this.size+=e[t].nodeSize}nodesBetween(e,t,n,r=0,i){for(let o=0,a=0;a<t;o++){let s=this.content[o],l=a+s.nodeSize;if(l>e&&!1!==n(s,r+a,i||null,o)&&s.content.size){let i=a+1;s.nodesBetween(Math.max(0,e-i),Math.min(s.content.size,t-i),n,r+i)}a=l}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,r){let i="",o=!0;return this.nodesBetween(e,t,((a,s)=>{a.isText?(i+=a.text.slice(Math.max(e,s)-s,t-s),o=!n):a.isLeaf?(r?i+="function"==typeof r?r(a):r:a.type.spec.leafText&&(i+=a.type.spec.leafText(a)),o=!n):!o&&a.isBlock&&(i+=n,o=!0)}),0),i}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,r=this.content.slice(),i=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),i=1);i<e.content.length;i++)r.push(e.content[i]);return new s(r,this.size+e.size)}cut(e,t=this.size){if(0==e&&t==this.size)return this;let n=[],r=0;if(t>e)for(let i=0,o=0;o<t;i++){let a=this.content[i],s=o+a.nodeSize;s>e&&((o<e||s>t)&&(a=a.isText?a.cut(Math.max(0,e-o),Math.min(a.text.length,t-o)):a.cut(Math.max(0,e-o-1),Math.min(a.content.size,t-o-1))),n.push(a),r+=a.nodeSize),o=s}return new s(n,r)}cutByIndex(e,t){return e==t?s.empty:0==e&&t==this.content.length?this:new s(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let r=this.content.slice(),i=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new s(r,i)}addToStart(e){return new s([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new s(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let r=this.content[t];e(r,n,t),n+=r.nodeSize}}findDiffStart(e,t=0){return i(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return a(this,e,t,n)}findIndex(e,t=-1){if(0==e)return c(0,e);if(e==this.size)return c(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=r+this.child(n).nodeSize;if(i>=e)return i==e||t>0?c(n+1,i):c(n,r);r=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map((e=>e.toJSON())):null}static fromJSON(e,t){if(!t)return s.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new s(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return s.empty;let t,n=0;for(let r=0;r<e.length;r++){let i=e[r];n+=i.nodeSize,r&&i.isText&&e[r-1].sameMarkup(i)?(t||(t=e.slice(0,r)),t[t.length-1]=i.withText(t[t.length-1].text+i.text)):t&&t.push(i)}return new s(t||e,n)}static from(e){if(!e)return s.empty;if(e instanceof s)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new s([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}s.empty=new s([],0);const l={index:0,offset:0};function c(e,t){return l.index=e,l.offset=t,l}function u(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!u(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!u(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}class p{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let r=0;r<e.length;r++){let i=e[r];if(this.eq(i))return e;if(this.type.excludes(i.type))t||(t=e.slice(0,r));else{if(i.type.excludes(this.type))return e;!n&&i.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(i)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&u(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);return n.create(t.attrs)}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&0==e.length)return p.none;if(e instanceof p)return[e];let t=e.slice();return t.sort(((e,t)=>e.type.rank-t.type.rank)),t}}p.none=[];class d extends Error{}class h{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=m(this.content,e+this.openStart,t);return n&&new h(n,this.openStart,this.openEnd)}removeBetween(e,t){return new h(f(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return h.empty;let n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new h(s.fromJSON(e,t.content),n,r)}static maxOpen(e,t=!0){let n=0,r=0;for(let r=e.firstChild;r&&!r.isLeaf&&(t||!r.type.spec.isolating);r=r.firstChild)n++;for(let n=e.lastChild;n&&!n.isLeaf&&(t||!n.type.spec.isolating);n=n.lastChild)r++;return new h(e,n,r)}}function f(e,t,n){let{index:r,offset:i}=e.findIndex(t),o=e.maybeChild(r),{index:a,offset:s}=e.findIndex(n);if(i==t||o.isText){if(s!=n&&!e.child(a).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return e.replaceChild(r,o.copy(f(o.content,t-i-1,n-i-1)))}function m(e,t,n,r){let{index:i,offset:o}=e.findIndex(t),a=e.maybeChild(i);if(o==t||a.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));let s=m(a.content,t-o-1,n);return s&&e.replaceChild(i,a.copy(s))}function g(e,t,n){if(n.openStart>e.depth)throw new d("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new d("Inconsistent open depths");return v(e,t,n,0)}function v(e,t,n,r){let i=e.index(r),o=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let a=v(e,t,n,r+1);return o.copy(o.content.replaceChild(i,a))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=r||t.depth!=r){let{start:i,end:a}=function(e,t){let n=t.depth-e.openStart,r=t.node(n).copy(e.content);for(let e=n-1;e>=0;e--)r=t.node(e).copy(s.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}(n,e);return k(o,S(e,i,a,t,r))}{let r=e.parent,i=r.content;return k(r,i.cut(0,e.parentOffset).append(n.content).append(i.cut(t.parentOffset)))}}return k(o,C(e,t,r))}function y(e,t){if(!t.type.compatibleContent(e.type))throw new d("Cannot join "+t.type.name+" onto "+e.type.name)}function b(e,t,n){let r=e.node(n);return y(r,t.node(n)),r}function w(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function x(e,t,n,r){let i=(t||e).node(n),o=0,a=t?t.index(n):i.childCount;e&&(o=e.index(n),e.depth>n?o++:e.textOffset&&(w(e.nodeAfter,r),o++));for(let e=o;e<a;e++)w(i.child(e),r);t&&t.depth==n&&t.textOffset&&w(t.nodeBefore,r)}function k(e,t){return e.type.checkContent(t),e.copy(t)}function S(e,t,n,r,i){let o=e.depth>i&&b(e,t,i+1),a=r.depth>i&&b(n,r,i+1),l=[];return x(null,e,i,l),o&&a&&t.index(i)==n.index(i)?(y(o,a),w(k(o,S(e,t,n,r,i+1)),l)):(o&&w(k(o,C(e,t,i+1)),l),x(t,n,i,l),a&&w(k(a,C(n,r,i+1)),l)),x(r,null,i,l),new s(l)}function C(e,t,n){let r=[];if(x(null,e,n,r),e.depth>n){w(k(b(e,t,n+1),C(e,t,n+1)),r)}return x(t,null,n,r),new s(r)}h.empty=new h(s.empty,0,0);class E{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}after(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1;for(let t=0;t<e;t++)r+=n.child(t).nodeSize;return r}marks(){let e=this.parent,t=this.index();if(0==e.content.size)return p.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){let e=n;n=r,r=e}let i=n.marks;for(var o=0;o<i.length;o++)!1!==i[o].type.spec.inclusive||r&&i[o].isInSet(r.marks)||(i=i[o--].removeFromSet(i));return i}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,r=e.parent.maybeChild(e.index());for(var i=0;i<n.length;i++)!1!==n[i].type.spec.inclusive||r&&n[i].isInSet(r.marks)||(n=n[i--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new O(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],r=0,i=t;for(let t=e;;){let{index:e,offset:o}=t.content.findIndex(i),a=i-o;if(n.push(t,e,r+o),!a)break;if(t=t.child(e),t.isText)break;i=a-1,r+=o+1}return new E(t,n,i)}static resolveCached(e,t){for(let n=0;n<T.length;n++){let r=T[n];if(r.pos==t&&r.doc==e)return r}let n=T[_]=E.resolve(e,t);return _=(_+1)%A,n}}let T=[],_=0,A=12;class O{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const N=Object.create(null);class M{constructor(e,t,n,r=p.none){this.type=e,this.attrs=t,this.marks=r,this.content=n||s.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,r=0){this.content.nodesBetween(e,t,n,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,r){return this.content.textBetween(e,t,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&u(this.attrs,t||e.defaultAttrs||N)&&p.sameSet(this.marks,n||p.none)}copy(e=null){return e==this.content?this:new M(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new M(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return h.empty;let r=this.resolve(e),i=this.resolve(t),o=n?0:r.sharedDepth(t),a=r.start(o),s=r.node(o).content.cut(r.pos-a,i.pos-a);return new h(s,r.depth-o,i.depth-o)}replace(e,t,n){return g(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:r}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(r==e||t.isText)return t;e-=r+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(0==e)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let r=this.content.child(t-1);return{node:r,index:t-1,offset:n-r.nodeSize}}resolve(e){return E.resolveCached(this,e)}resolveNoCache(e){return E.resolve(this,e)}rangeHasMark(e,t,n){let r=!1;return t>e&&this.nodesBetween(e,t,(e=>(n.isInSet(e.marks)&&(r=!0),!r))),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),D(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=s.empty,r=0,i=n.childCount){let o=this.contentMatchAt(e).matchFragment(n,r,i),a=o&&o.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(let e=r;e<i;e++)if(!this.type.allowsMarks(n.child(e).marks))return!1;return!0}canReplaceWith(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;let i=this.contentMatchAt(e).matchType(n),o=i&&i.matchFragment(this.content,t);return!!o&&o.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=p.none;for(let t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!p.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map((e=>e.type.name))}`);this.content.forEach((e=>e.check()))}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((e=>e.toJSON()))),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let r=s.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,r,n)}}M.prototype.text=void 0;class P extends M{constructor(e,t,n,r){if(super(e,t,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):D(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new P(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new P(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function D(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class L{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new R(e,t);if(null==n.next)return L.empty;let r=I(n);n.next&&n.err("Unexpected trailing text");let i=function(e){let t=Object.create(null);return n(q(e,0));function n(r){let i=[];r.forEach((t=>{e[t].forEach((({term:t,to:n})=>{if(!t)return;let r;for(let e=0;e<i.length;e++)i[e][0]==t&&(r=i[e][1]);q(e,n).forEach((e=>{r||i.push([t,r=[]]),-1==r.indexOf(e)&&r.push(e)}))}))}));let o=t[r.join(",")]=new L(r.indexOf(e.length-1)>-1);for(let e=0;e<i.length;e++){let r=i[e][1].sort(H);o.next.push({type:i[e][0],next:t[r.join(",")]||n(r)})}return o}}(function(e){let t=[[]];return i(o(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){let i={term:r,to:n};return t[e].push(i),i}function i(e,t){e.forEach((e=>e.to=t))}function o(e,t){if("choice"==e.type)return e.exprs.reduce(((e,n)=>e.concat(o(n,t))),[]);if("seq"!=e.type){if("star"==e.type){let a=n();return r(t,a),i(o(e.expr,a),a),[r(a)]}if("plus"==e.type){let a=n();return i(o(e.expr,t),a),i(o(e.expr,a),a),[r(a)]}if("opt"==e.type)return[r(t)].concat(o(e.expr,t));if("range"==e.type){let a=t;for(let t=0;t<e.min;t++){let t=n();i(o(e.expr,a),t),a=t}if(-1==e.max)i(o(e.expr,a),a);else for(let t=e.min;t<e.max;t++){let t=n();r(a,t),i(o(e.expr,a),t),a=t}return[r(a)]}if("name"==e.type)return[r(t,void 0,e.value)];throw new Error("Unknown expr type")}for(let r=0;;r++){let a=o(e.exprs[r],t);if(r==e.exprs.length-1)return a;i(a,t=n())}}}(r));return function(e,t){for(let n=0,r=[e];n<r.length;n++){let e=r[n],i=!e.validEnd,o=[];for(let t=0;t<e.next.length;t++){let{type:n,next:a}=e.next[t];o.push(n.name),!i||n.isText||n.hasRequiredAttrs()||(i=!1),-1==r.indexOf(a)&&r.push(a)}i&&t.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(i,n),i}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let r=this;for(let i=t;r&&i<n;i++)r=r.matchType(e.child(i).type);return r}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let r=[this];return function i(o,a){let l=o.matchFragment(e,n);if(l&&(!t||l.validEnd))return s.from(a.map((e=>e.createAndFill())));for(let e=0;e<o.next.length;e++){let{type:t,next:n}=o.next[e];if(!t.isText&&!t.hasRequiredAttrs()&&-1==r.indexOf(n)){r.push(n);let e=i(n,a.concat(t));if(e)return e}}return null}(this,[])}findWrapping(e){for(let t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),i=r.match;if(i.matchType(e)){let e=[];for(let t=r;t.type;t=t.via)e.push(t.type);return e.reverse()}for(let e=0;e<i.next.length;e++){let{type:o,next:a}=i.next[e];o.isLeaf||o.hasRequiredAttrs()||o.name in t||r.type&&!a.validEnd||(n.push({match:o.contentMatch,type:o,via:r}),t[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];return function t(n){e.push(n);for(let r=0;r<n.next.length;r++)-1==e.indexOf(n.next[r].next)&&t(n.next[r].next)}(this),e.map(((t,n)=>{let r=n+(t.validEnd?"*":" ")+" ";for(let n=0;n<t.next.length;n++)r+=(n?", ":"")+t.next[n].type.name+"->"+e.indexOf(t.next[n].next);return r})).join("\n")}}L.empty=new L(!0);class R{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function I(e){let t=[];do{t.push(B(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function B(e){let t=[];do{t.push(j(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function j(e){let t=function(e){if(e.eat("(")){let t=I(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){let t=function(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let e in n){let r=n[e];r.groups.indexOf(t)>-1&&i.push(r)}0==i.length&&e.err("No node type or group '"+t+"' found");return i}(e,e.next).map((t=>(null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t})));return e.pos++,1==t.length?t[0]:{type:"choice",exprs:t}}e.err("Unexpected token '"+e.next+"'")}(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=z(e,t)}return t}function F(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function z(e,t){let n=F(e),r=n;return e.eat(",")&&(r="}"!=e.next?F(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function H(e,t){return t-e}function q(e,t){let n=[];return function t(r){let i=e[r];if(1==i.length&&!i[0].term)return t(i[0].to);n.push(r);for(let e=0;e<i.length;e++){let{term:r,to:o}=i[e];r||-1!=n.indexOf(o)||t(o)}}(t),n.sort(H)}function V(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function U(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(void 0===i){let t=e[r];if(!t.hasDefault)throw new RangeError("No value supplied for attribute "+r);i=t.default}n[r]=i}return n}function W(e){let t=Object.create(null);if(e)for(let n in e)t[n]=new G(e[n]);return t}class ${constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=W(n.attrs),this.defaultAttrs=V(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==L.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:U(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new M(this,this.computeAttrs(e),s.from(t),p.setFrom(n))}createChecked(e=null,t,n){return t=s.from(t),this.checkContent(t),new M(this,this.computeAttrs(e),t,p.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),(t=s.from(t)).size){let e=this.contentMatch.fillBefore(t);if(!e)return null;t=e.append(t)}let r=this.contentMatch.matchFragment(t),i=r&&r.fillBefore(s.empty,!0);return i?new M(this,e,t.append(i),p.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let t=0;t<e.childCount;t++)if(!this.allowsMarks(e.child(t).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return null==this.markSet||this.markSet.indexOf(e)>-1}allowsMarks(e){if(null==this.markSet)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(null==this.markSet)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:p.none:e}static compile(e,t){let n=Object.create(null);e.forEach(((e,r)=>n[e]=new $(e,t,r)));let r=t.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let e in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}}class G{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class X{constructor(e,t,n,r){this.name=e,this.rank=t,this.schema=n,this.spec=r,this.attrs=W(r.attrs),this.excluded=null;let i=V(this.attrs);this.instance=i?new p(this,i):null}create(e=null){return!e&&this.instance?this.instance:new p(this,U(this.attrs,e))}static compile(e,t){let n=Object.create(null),r=0;return e.forEach(((e,i)=>n[e]=new X(e,r++,t,i))),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}excludes(e){return this.excluded.indexOf(e)>-1}}class Y{constructor(e){this.cached=Object.create(null);let t=this.spec={};for(let n in e)t[n]=e[n];t.nodes=r.default.from(e.nodes),t.marks=r.default.from(e.marks||{}),this.nodes=$.compile(this.spec.nodes,this),this.marks=X.compile(this.spec.marks,this);let n=Object.create(null);for(let e in this.nodes){if(e in this.marks)throw new RangeError(e+" can not be both a node and a mark");let t=this.nodes[e],r=t.spec.content||"",i=t.spec.marks;t.contentMatch=n[r]||(n[r]=L.parse(r,this.nodes)),t.inlineContent=t.contentMatch.inlineContent,t.markSet="_"==i?null:i?Z(this,i.split(" ")):""!=i&&t.inlineContent?null:[]}for(let e in this.marks){let t=this.marks[e],n=t.spec.excludes;t.excluded=null==n?[t]:""==n?[]:Z(this,n.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,r){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof $))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)}text(e,t){let n=this.nodes.text;return new P(n,n.defaultAttrs,e,p.setFrom(t))}mark(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return M.fromJSON(this,e)}markFromJSON(e){return p.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function Z(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],o=e.marks[i],a=o;if(o)n.push(o);else for(let t in e.marks){let r=e.marks[t];("_"==i||r.spec.group&&r.spec.group.split(" ").indexOf(i)>-1)&&n.push(a=r)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}class K{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach((e=>{e.tag?this.tags.push(e):e.style&&this.styles.push(e)})),this.normalizeLists=!this.tags.some((t=>{if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;let n=e.nodes[t.node];return n.contentMatch.matchType(n)}))}parse(e,t={}){let n=new ae(this,t,!1);return n.addAll(e,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new ae(this,t,!0);return n.addAll(e,t.from,t.to),h.maxOpen(n.finish())}matchTag(e,t,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let n=this.tags[r];if(se(e,n.tag)&&(void 0===n.namespace||e.namespaceURI==n.namespace)&&(!n.context||t.matchesContext(n.context))){if(n.getAttrs){let t=n.getAttrs(e);if(!1===t)continue;n.attrs=t||void 0}return n}}}matchStyle(e,t,n,r){for(let i=r?this.styles.indexOf(r)+1:0;i<this.styles.length;i++){let r=this.styles[i],o=r.style;if(!(0!=o.indexOf(e)||r.context&&!n.matchesContext(r.context)||o.length>e.length&&(61!=o.charCodeAt(e.length)||o.slice(e.length+1)!=t))){if(r.getAttrs){let e=r.getAttrs(t);if(!1===e)continue;r.attrs=e||void 0}return r}}}static schemaRules(e){let t=[];function n(e){let n=null==e.priority?50:e.priority,r=0;for(;r<t.length;r++){let e=t[r];if((null==e.priority?50:e.priority)<n)break}t.splice(r,0,e)}for(let t in e.marks){let r=e.marks[t].spec.parseDOM;r&&r.forEach((e=>{n(e=le(e)),e.mark||e.ignore||e.clearMark||(e.mark=t)}))}for(let t in e.nodes){let r=e.nodes[t].spec.parseDOM;r&&r.forEach((e=>{n(e=le(e)),e.node||e.ignore||e.mark||(e.node=t)}))}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new K(e,K.schemaRules(e)))}}const J={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Q={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},ee={ol:!0,ul:!0},te=1,ne=2,re=4;function ie(e,t,n){return null!=t?(t?te:0)|("full"===t?ne:0):e&&"pre"==e.whitespace?te|ne:n&~re}class oe{constructor(e,t,n,r,i,o,a){this.type=e,this.attrs=t,this.marks=n,this.pendingMarks=r,this.solid=i,this.options=a,this.content=[],this.activeMarks=p.none,this.stashMarks=[],this.match=o||(a&re?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(s.from(e));if(!t){let t,n=this.type.contentMatch;return(t=n.findWrapping(e.type))?(this.match=n,t):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&te)){let e,t=this.content[this.content.length-1];if(t&&t.isText&&(e=/[ \t\r\n\u000c]+$/.exec(t.text))){let n=t;t.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length))}}let t=s.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(s.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}popFromStashMark(e){for(let t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]}applyPending(e){for(let t=0,n=this.pendingMarks;t<n.length;t++){let r=n[t];(this.type?this.type.allowsMarkType(r.type):ce(r.type,e))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!J.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class ae{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0;let r,i=t.topNode,o=ie(null,t.preserveWhitespace,0)|(n?re:0);r=i?new oe(i.type,i.attrs,p.none,p.none,!0,t.topMatch||i.type.contentMatch,o):new oe(n?null:e.schema.topNodeType,null,p.none,p.none,!0,null,o),this.nodes=[r],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){let t=e.getAttribute("style");if(t){let n=this.readStyles(function(e){let t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;t=n.exec(e);)r.push(t[1],t[2].trim());return r}(t));if(!n)return;let[r,i]=n,o=this.top;for(let e=0;e<i.length;e++)this.removePendingMark(i[e],o);for(let e=0;e<r.length;e++)this.addPendingMark(r[e]);this.addElement(e);for(let e=0;e<r.length;e++)this.removePendingMark(r[e],o);for(let e=0;e<i.length;e++)this.addPendingMark(i[e])}else this.addElement(e)}}addTextNode(e){let t=e.nodeValue,n=this.top;if(n.options&ne||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(n.options&te)t=n.options&ne?t.replace(/\r\n?/g,"\n"):t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){let r=n.content[n.content.length-1],i=e.previousSibling;(!r||i&&"BR"==i.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)}addElement(e,t){let n,r=e.nodeName.toLowerCase();ee.hasOwnProperty(r)&&this.parser.normalizeLists&&function(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let e=1==t.nodeType?t.nodeName.toLowerCase():null;e&&ee.hasOwnProperty(e)&&n?(n.appendChild(t),t=n):"li"==e?n=t:e&&(n=null)}}(e);let i=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(n=this.parser.matchTag(e,this,t));if(i?i.ignore:Q.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(e=i.skip);let t,n=this.top,o=this.needsBlock;if(J.hasOwnProperty(r))n.content.length&&n.content[0].isInline&&this.open&&(this.open--,n=this.top),t=!0,n.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);this.addAll(e),t&&this.sync(n),this.needsBlock=o}else this.addElementByRule(e,i,!1===i.consuming?n:void 0)}leafFallback(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))}ignoreFallback(e){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))}readStyles(e){let t=p.none,n=p.none;e:for(let r=0;r<e.length;r+=2)for(let i;;){let o=this.parser.matchStyle(e[r],e[r+1],this,i);if(!o)continue e;if(o.ignore)return null;if(o.clearMark?this.top.pendingMarks.forEach((e=>{o.clearMark(e)&&(n=e.addToSet(n))})):t=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(t),!1!==o.consuming)break;i=o}return[t,n]}addElementByRule(e,t,n){let r,i,o;if(t.node)i=this.parser.schema.nodes[t.node],i.isLeaf?this.insertNode(i.create(t.attrs))||this.leafFallback(e):r=this.enter(i,t.attrs||null,t.preserveWhitespace);else{o=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(o)}let a=this.top;if(i&&i.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((e=>this.insertNode(e)));else{let n=e;"string"==typeof t.contentElement?n=e.querySelector(t.contentElement):"function"==typeof t.contentElement?n=t.contentElement(e):t.contentElement&&(n=t.contentElement),this.findAround(e,n,!0),this.addAll(n)}r&&this.sync(a)&&this.open--,o&&this.removePendingMark(o,a)}addAll(e,t,n){let r=t||0;for(let i=t?e.childNodes[t]:e.firstChild,o=null==n?null:e.childNodes[n];i!=o;i=i.nextSibling,++r)this.findAtPoint(e,r),this.addDOM(i);this.findAtPoint(e,r)}findPlace(e){let t,n;for(let r=this.open;r>=0;r--){let i=this.nodes[r],o=i.findWrapping(e);if(o&&(!t||t.length>o.length)&&(t=o,n=i,!o.length))break;if(i.solid)break}if(!t)return!1;this.sync(n);for(let e=0;e<t.length;e++)this.enterInner(t[e],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(e)){this.closeExtra();let t=this.top;t.applyPending(e.type),t.match&&(t.match=t.match.matchType(e.type));let n=t.activeMarks;for(let r=0;r<e.marks.length;r++)t.type&&!t.type.allowsMarkType(e.marks[r].type)||(n=e.marks[r].addToSet(n));return t.content.push(e.mark(n)),!0}return!1}enter(e,t,n){let r=this.findPlace(e.create(t));return r&&this.enterInner(e,t,!0,n),r}enterInner(e,t=null,n=!1,r){this.closeExtra();let i=this.top;i.applyPending(e),i.match=i.match&&i.match.matchType(e);let o=ie(e,r,i.options);i.options&re&&0==i.content.length&&(o|=re),this.nodes.push(new oe(e,t,i.activeMarks,i.pendingMarks,n,null,o)),this.open++}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let t=n.length-1;t>=0;t--)e+=n[t].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let r=0;r<this.find.length;r++)if(null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node)){t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,r=!(this.isOpen||n&&n.parent.type!=this.nodes[0].type),i=-(n?n.depth+1:0)+(r?0:1),o=(e,a)=>{for(;e>=0;e--){let s=t[e];if(""==s){if(e==t.length-1||0==e)continue;for(;a>=i;a--)if(o(e-1,a))return!0;return!1}{let e=a>0||0==a&&r?this.nodes[a].type:n&&a>=i?n.node(a-i).type:null;if(!e||e.name!=s&&-1==e.groups.indexOf(s))return!1;a--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let e in this.parser.schema.nodes){let t=this.parser.schema.nodes[e];if(t.isTextblock&&t.defaultAttrs)return t}}addPendingMark(e){let t=function(e,t){for(let n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,t){for(let n=this.open;n>=0;n--){let r=this.nodes[n];if(r.pendingMarks.lastIndexOf(e)>-1)r.pendingMarks=e.removeFromSet(r.pendingMarks);else{r.activeMarks=e.removeFromSet(r.activeMarks);let t=r.popFromStashMark(e);t&&r.type&&r.type.allowsMarkType(t.type)&&(r.activeMarks=t.addToSet(r.activeMarks))}if(r==t)break}}}function se(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function le(e){let t={};for(let n in e)t[n]=e[n];return t}function ce(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let o=[],a=e=>{o.push(e);for(let n=0;n<e.edgeCount;n++){let{type:r,next:i}=e.edge(n);if(r==t)return!0;if(o.indexOf(i)<0&&a(i))return!0}};if(a(i.contentMatch))return!0}}class ue{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=de(t).createDocumentFragment());let r=n,i=[];return e.forEach((e=>{if(i.length||e.marks.length){let n=0,o=0;for(;n<i.length&&o<e.marks.length;){let t=e.marks[o];if(this.marks[t.type.name]){if(!t.eq(i[n][0])||!1===t.type.spec.spanning)break;n++,o++}else o++}for(;n<i.length;)r=i.pop()[1];for(;o<e.marks.length;){let n=e.marks[o++],a=this.serializeMark(n,e.isInline,t);a&&(i.push([n,r]),r.appendChild(a.dom),r=a.contentDOM||a.dom)}}r.appendChild(this.serializeNodeInner(e,t))})),n}serializeNodeInner(e,t){let{dom:n,contentDOM:r}=ue.renderSpec(de(t),this.nodes[e.type.name](e));if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,r)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let r=e.marks.length-1;r>=0;r--){let i=this.serializeMark(e.marks[r],e.isInline,t);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n}serializeMark(e,t,n={}){let r=this.marks[e.type.name];return r&&ue.renderSpec(de(n),r(e,t))}static renderSpec(e,t,n=null){if("string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;let r,i=t[0],o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let a=n?e.createElementNS(n,i):e.createElement(i),s=t[1],l=1;if(s&&"object"==typeof s&&null==s.nodeType&&!Array.isArray(s)){l=2;for(let e in s)if(null!=s[e]){let t=e.indexOf(" ");t>0?a.setAttributeNS(e.slice(0,t),e.slice(t+1),s[e]):a.setAttribute(e,s[e])}}for(let i=l;i<t.length;i++){let o=t[i];if(0===o){if(i<t.length-1||i>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}{let{dom:t,contentDOM:i}=ue.renderSpec(e,o,n);if(a.appendChild(t),i){if(r)throw new RangeError("Multiple content holes");r=i}}}return{dom:a,contentDOM:r}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ue(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=pe(e.nodes);return t.text||(t.text=e=>e.text),t}static marksFromSchema(e){return pe(e.marks)}}function pe(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function de(e){return e.document||window.document}})),o.register("dNQDh",(function(t,n){function r(e){this.content=e}e(t.exports,"default",(()=>i)),r.prototype={constructor:r,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var i=n&&n!=e?this.remove(n):this,o=i.find(e),a=i.content.slice();return-1==o?a.push(n||e,t):(a[o+1]=t,n&&(a[o]=n)),new r(a)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new r(n)},addToStart:function(e,t){return new r([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new r(n)},addBefore:function(e,t,n){var i=this.remove(t),o=i.content.slice(),a=i.find(e);return o.splice(-1==a?o.length:a,0,t,n),new r(o)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=r.from(e)).size?new r(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=r.from(e)).size?new r(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=r.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach((function(t,n){e[t]=n})),e},get size(){return this.content.length>>1}},r.from=function(e){if(e instanceof r)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new r(t)};var i=r})),o.register("1dZxV",(function(t,n){e(t.exports,"Decoration",(()=>Bt)),e(t.exports,"DecorationSet",(()=>zt)),e(t.exports,"__serializeForClipboard",(()=>cn)),e(t.exports,"__parseFromClipboard",(()=>un)),e(t.exports,"__endComposition",(()=>pn)),e(t.exports,"EditorView",(()=>dn));var r=o("gHsGI"),i=o("iwjgp"),a=o("8uhG7");const s=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},l=function(e){let t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t};let c=null;const u=function(e,t,n){let r=c||(c=document.createRange());return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},p=function(e,t,n,r){return n&&(h(e,t,n,r,-1)||h(e,t,n,r,1))},d=/^(img|br|input|textarea|hr)$/i;function h(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:f(e))){let n=e.parentNode;if(!n||1!=n.nodeType||m(e)||d.test(e.nodeName)||"false"==e.contentEditable)return!1;t=s(e)+(i<0?0:1),e=n}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(i<0?-1:0)]).contentEditable)return!1;t=i<0?f(e):0}}}function f(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function m(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const g=function(e){return e.focusNode&&p(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function v(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}const y="undefined"!=typeof navigator?navigator:null,b="undefined"!=typeof document?document:null,w=y&&y.userAgent||"",x=/Edge\/(\d+)/.exec(w),k=/MSIE \d/.exec(w),S=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(w),C=!!(k||S||x),E=k?document.documentMode:S?+S[1]:x?+x[1]:0,T=!C&&/gecko\/(\d+)/i.test(w);T&&(/Firefox\/(\d+)/.exec(w)||[0,0])[1];const _=!C&&/Chrome\/(\d+)/.exec(w),A=!!_,O=_?+_[1]:0,N=!C&&!!y&&/Apple Computer/.test(y.vendor),M=N&&(/Mobile\/\w+/.test(w)||!!y&&y.maxTouchPoints>2),P=M||!!y&&/Mac/.test(y.platform),D=/Android \d/.test(w),L=!!b&&"webkitFontSmoothing"in b.documentElement.style,R=L?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function I(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function B(e,t){return"number"==typeof e?e:e[t]}function j(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function F(e,t,n){let r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument;for(let a=n||e.dom;a;a=l(a)){if(1!=a.nodeType)continue;let e=a,n=e==o.body,s=n?I(o):j(e),l=0,c=0;if(t.top<s.top+B(r,"top")?c=-(s.top-t.top+B(i,"top")):t.bottom>s.bottom-B(r,"bottom")&&(c=t.bottom-s.bottom+B(i,"bottom")),t.left<s.left+B(r,"left")?l=-(s.left-t.left+B(i,"left")):t.right>s.right-B(r,"right")&&(l=t.right-s.right+B(i,"right")),l||c)if(n)o.defaultView.scrollBy(l,c);else{let n=e.scrollLeft,r=e.scrollTop;c&&(e.scrollTop+=c),l&&(e.scrollLeft+=l);let i=e.scrollLeft-n,o=e.scrollTop-r;t={left:t.left-i,top:t.top-o,right:t.right-i,bottom:t.bottom-o}}if(n)break}}function z(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=l(r));return t}function H(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:i,left:o}=e[n];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=o&&(r.scrollLeft=o)}}let q=null;function V(e,t){let n,r,i=2e8,o=0,a=t.top,s=t.top;for(let l=e.firstChild,c=0;l;l=l.nextSibling,c++){let e;if(1==l.nodeType)e=l.getClientRects();else{if(3!=l.nodeType)continue;e=u(l).getClientRects()}for(let u=0;u<e.length;u++){let p=e[u];if(p.top<=a&&p.bottom>=s){a=Math.max(p.bottom,a),s=Math.min(p.top,s);let e=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(e<i){n=l,i=e,r=e&&3==n.nodeType?{left:p.right<t.left?p.right:p.left,top:t.top}:t,1==l.nodeType&&e&&(o=c+(t.left>=(p.left+p.right)/2?1:0));continue}}!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(o=c+1)}}return n&&3==n.nodeType?function(e,t){let n=e.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);let n=G(r,1);if(n.top!=n.bottom&&U(t,n))return{node:e,offset:i+(t.left>=(n.left+n.right)/2?1:0)}}return{node:e,offset:0}}(n,r):!n||i&&1==n.nodeType?{node:e,offset:o}:V(n,r)}function U(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function W(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let n=e.childNodes[o];if(1==n.nodeType){let e=n.getClientRects();for(let r=0;r<e.length;r++){let i=e[r];if(U(t,i))return W(n,t,i)}}if((o=(o+1)%r)==i)break}return e}function $(e,t){let n,r=e.dom.ownerDocument,i=0;if(r.caretPositionFromPoint)try{let e=r.caretPositionFromPoint(t.left,t.top);e&&({offsetNode:n,offset:i}=e)}catch(e){}if(!n&&r.caretRangeFromPoint){let e=r.caretRangeFromPoint(t.left,t.top);e&&({startContainer:n,startOffset:i}=e)}let o,a=(e.root.elementFromPoint?e.root:r).elementFromPoint(t.left,t.top);if(!a||!e.dom.contains(1!=a.nodeType?a.parentNode:a)){let n=e.dom.getBoundingClientRect();if(!U(t,n))return null;if(a=W(e.dom,t,n),!a)return null}if(N)for(let e=a;n&&e;e=l(e))e.draggable&&(n=void 0);if(a=function(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(a,t),n){if(T&&1==n.nodeType&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let e,r=n.childNodes[i];"IMG"==r.nodeName&&(e=r.getBoundingClientRect()).right<=t.left&&e.bottom>t.top&&i++}n==e.dom&&i==n.childNodes.length-1&&1==n.lastChild.nodeType&&t.top>n.lastChild.getBoundingClientRect().bottom?o=e.state.doc.content.size:0!=i&&1==n.nodeType&&"BR"==n.childNodes[i-1].nodeName||(o=function(e,t,n,r){let i=-1;for(let n=t,o=!1;n!=e.dom;){let t=e.docView.nearestDesc(n,!0);if(!t)return null;if(1==t.dom.nodeType&&(t.node.isBlock&&t.parent&&!o||!t.contentDOM)){let e=t.dom.getBoundingClientRect();if(t.node.isBlock&&t.parent&&!o&&(o=!0,e.left>r.left||e.top>r.top?i=t.posBefore:(e.right<r.left||e.bottom<r.top)&&(i=t.posAfter)),!t.contentDOM&&i<0)return(t.node.isBlock?r.top<(e.top+e.bottom)/2:r.left<(e.left+e.right)/2)?t.posBefore:t.posAfter}n=t.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,-1)}(e,n,i,t))}null==o&&(o=function(e,t,n){let{node:r,offset:i}=V(t,n),o=-1;if(1==r.nodeType&&!r.firstChild){let e=r.getBoundingClientRect();o=e.left!=e.right&&n.left>(e.left+e.right)/2?1:-1}return e.docView.posFromDOM(r,i,o)}(e,a,t));let s=e.docView.nearestDesc(a,!0);return{pos:o,inside:s?s.posAtStart-s.border:-1}}function G(e,t){let n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}const X=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Y(e,t,n){let{node:r,offset:i,atom:o}=e.docView.domFromPos(t,n<0?-1:1),a=L||T;if(3==r.nodeType){if(!a||!X.test(r.nodeValue)&&(n<0?i:i!=r.nodeValue.length)){let e=i,t=i,o=n<0?1:-1;return n<0&&!i?(t++,o=-1):n>=0&&i==r.nodeValue.length?(e--,o=1):n<0?e--:t++,Z(G(u(r,e,t),1),o<0)}{let e=G(u(r,i,i),n);if(T&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let t=G(u(r,i-1,i-1),-1);if(t.top==e.top){let n=G(u(r,i,i+1),-1);if(n.top!=e.top)return Z(n,n.left<t.left)}}return e}}if(!e.state.doc.resolve(t-(o||0)).parent.inlineContent){if(null==o&&i&&(n<0||i==f(r))){let e=r.childNodes[i-1];if(1==e.nodeType)return K(e.getBoundingClientRect(),!1)}if(null==o&&i<f(r)){let e=r.childNodes[i];if(1==e.nodeType)return K(e.getBoundingClientRect(),!0)}return K(r.getBoundingClientRect(),n>=0)}if(null==o&&i&&(n<0||i==f(r))){let e=r.childNodes[i-1],t=3==e.nodeType?u(e,f(e)-(a?0:1)):1!=e.nodeType||"BR"==e.nodeName&&e.nextSibling?null:e;if(t)return Z(G(t,1),!1)}if(null==o&&i<f(r)){let e=r.childNodes[i];for(;e.pmViewDesc&&e.pmViewDesc.ignoreForCoords;)e=e.nextSibling;let t=e?3==e.nodeType?u(e,0,a?0:1):1==e.nodeType?e:null:null;if(t)return Z(G(t,-1),!0)}return Z(G(3==r.nodeType?u(r):r,-n),n>=0)}function Z(e,t){if(0==e.width)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function K(e,t){if(0==e.height)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function J(e,t,n){let r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}const Q=/[\u0590-\u08ac]/;let ee=null,te=null,ne=!1;function re(e,t,n){return ee==t&&te==n?ne:(ee=t,te=n,ne="up"==n||"down"==n?function(e,t,n){let r=t.selection,i="up"==n?r.$from:r.$to;return J(e,t,(()=>{let{node:t}=e.docView.domFromPos(i.pos,"up"==n?-1:1);for(;;){let n=e.docView.nearestDesc(t,!0);if(!n)break;if(n.node.isBlock){t=n.contentDOM||n.dom;break}t=n.dom.parentNode}let r=Y(e,i.pos,1);for(let e=t.firstChild;e;e=e.nextSibling){let t;if(1==e.nodeType)t=e.getClientRects();else{if(3!=e.nodeType)continue;t=u(e,0,e.nodeValue.length).getClientRects()}for(let e=0;e<t.length;e++){let i=t[e];if(i.bottom>i.top+1&&("up"==n?r.top-i.top>2*(i.bottom-r.top):i.bottom-r.bottom>2*(r.bottom-i.top)))return!1}}return!0}))}(e,t,n):function(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,a=i==r.parent.content.size,s=e.domSelection();return Q.test(r.parent.textContent)&&s.modify?J(e,t,(()=>{let{focusNode:t,focusOffset:i,anchorNode:o,anchorOffset:a}=e.domSelectionRange(),l=s.caretBidiLevel;s.modify("move",n,"character");let c=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:u,focusOffset:p}=e.domSelectionRange(),d=u&&!c.contains(1==u.nodeType?u:u.parentNode)||t==u&&i==p;try{s.collapse(o,a),t&&(t!=o||i!=a)&&s.extend&&s.extend(t,i)}catch(e){}return null!=l&&(s.caretBidiLevel=l),d})):"left"==n||"backward"==n?o:a}(e,t,n))}class ie{constructor(e,t,n,r){this.parent=e,this.children=t,this.dom=n,this.contentDOM=r,this.dirty=0,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let r=this.children[t];if(r==e)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){let n,r;if(e==this.contentDOM)n=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.previousSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.previousSibling;return n?this.posBeforeChild(r)+r.size:this.posAtStart}{let n,r;if(e==this.contentDOM)n=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.nextSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.nextSibling;return n?this.posBeforeChild(r):this.posAtEnd}}let r;if(e==this.dom&&this.contentDOM)r=t>s(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!1;break}if(t.previousSibling)break}if(null==r&&t==e.childNodes.length)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!0;break}if(t.nextSibling)break}}return(null==r?n>0:r)?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,r=e;r;r=r.parentNode){let i,o=this.getDesc(r);if(o&&(!t||o.node)){if(!n||!(i=o.nodeDOM)||(1==i.nodeType?i.contains(1==e.nodeType?e:e.parentNode):i==e))return o;n=!1}}}getDesc(e){let t=e.pmViewDesc;for(let e=t;e;e=e.parent)if(e==this)return t}posFromDOM(e,t,n){for(let r=e;r;r=r.parentNode){let i=this.getDesc(r);if(i)return i.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let r=this.children[t],i=n+r.size;if(n==e&&i!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(e<i)return r.descAt(e-n-r.border);n=i}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,r=0;for(let t=0;n<this.children.length;n++){let i=this.children[n],o=t+i.size;if(o>e||i instanceof pe){r=e-t;break}t=o}if(r)return this.children[n].domFromPos(r-this.children[n].border,t);for(let e;n&&!(e=this.children[n-1]).size&&e instanceof oe&&e.side>=0;n--);if(t<=0){let e,r=!0;for(;e=n?this.children[n-1]:null,e&&e.dom.parentNode!=this.contentDOM;n--,r=!1);return e&&t&&r&&!e.border&&!e.domAtom?e.domFromPos(e.size,t):{node:this.contentDOM,offset:e?s(e.dom)+1:0}}{let e,r=!0;for(;e=n<this.children.length?this.children[n]:null,e&&e.dom.parentNode!=this.contentDOM;n++,r=!1);return e&&r&&!e.border&&!e.domAtom?e.domFromPos(0,t):{node:this.contentDOM,offset:e?s(e.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,i=-1;for(let o=n,a=0;;a++){let n=this.children[a],l=o+n.size;if(-1==r&&e<=l){let i=o+n.border;if(e>=i&&t<=l-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(e,t,i);e=o;for(let t=a;t>0;t--){let n=this.children[t-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){r=s(n.dom)+1;break}e-=n.size}-1==r&&(r=0)}if(r>-1&&(l>t||a==this.children.length-1)){t=l;for(let e=a+1;e<this.children.length;e++){let n=this.children[e];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){i=s(n.dom);break}t+=n.size}-1==i&&(i=this.contentDOM.childNodes.length);break}o=l}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(1!=t.nodeType||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,r=!1){let i=Math.min(e,t),o=Math.max(e,t);for(let a=0,s=0;a<this.children.length;a++){let l=this.children[a],c=s+l.size;if(i>s&&o<c)return l.setSelection(e-s-l.border,t-s-l.border,n,r);s=c}let a=this.domFromPos(e,e?-1:1),l=t==e?a:this.domFromPos(t,t?-1:1),c=n.getSelection(),u=!1;if((T||N)&&e==t){let{node:e,offset:t}=a;if(3==e.nodeType){if(u=!(!t||"\n"!=e.nodeValue[t-1]),u&&t==e.nodeValue.length)for(let t,n=e;n;n=n.parentNode){if(t=n.nextSibling){"BR"==t.nodeName&&(a=l={node:t.parentNode,offset:s(t)+1});break}let e=n.pmViewDesc;if(e&&e.node&&e.node.isBlock)break}}else{let n=e.childNodes[t-1];u=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(T&&c.focusNode&&c.focusNode!=l.node&&1==c.focusNode.nodeType){let e=c.focusNode.childNodes[c.focusOffset];e&&"false"==e.contentEditable&&(r=!0)}if(!(r||u&&N)&&p(a.node,a.offset,c.anchorNode,c.anchorOffset)&&p(l.node,l.offset,c.focusNode,c.focusOffset))return;let d=!1;if((c.extend||e==t)&&!u){c.collapse(a.node,a.offset);try{e!=t&&c.extend(l.node,l.offset),d=!0}catch(e){}}if(!d){if(e>t){let e=a;a=l,l=e}let n=document.createRange();n.setEnd(l.node,l.offset),n.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(n)}}ignoreMutation(e){return!this.contentDOM&&"selection"!=e.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,r=0;r<this.children.length;r++){let i=this.children[r],o=n+i.size;if(n==o?e<=o&&t>=n:e<o&&t>n){let r=n+i.border,a=o-i.border;if(e>=r&&t<=a)return this.dirty=e==n||t==o?2:1,void(e!=r||t!=a||!i.contentLost&&i.dom.parentNode==this.contentDOM?i.markDirty(e-r,t-r):i.dirty=3);i.dirty=i.dom!=i.contentDOM||i.dom.parentNode!=this.contentDOM||i.children.length?3:2}n=o}this.dirty=2}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=1==e?2:1;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class oe extends ie{constructor(e,t,n,r){let i,o=t.type.toDOM;if("function"==typeof o&&(o=o(n,(()=>i?i.parent?i.parent.posBeforeChild(i):void 0:r))),!t.type.spec.raw){if(1!=o.nodeType){let e=document.createElement("span");e.appendChild(o),o=e}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,i=this}matchesWidget(e){return 0==this.dirty&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return!!t&&t(e)}ignoreMutation(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class ae extends ie{constructor(e,t,n,r){super(e,[],t,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}class se extends ie{constructor(e,t,n,r){super(e,[],n,r),this.mark=t}static create(e,t,n,r){let o=r.nodeViews[t.type.name],a=o&&o(t,r,n);return a&&a.dom||(a=i.DOMSerializer.renderSpec(document,t.type.spec.toDOM(t,n))),new se(e,t,a.dom,a.contentDOM||a.dom)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return 3!=this.dirty&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),0!=this.dirty){let e=this.parent;for(;!e.node;)e=e.parent;e.dirty<this.dirty&&(e.dirty=this.dirty),this.dirty=0}}slice(e,t,n){let r=se.create(this.parent,this.mark,!0,n),i=this.children,o=this.size;t<o&&(i=Ce(i,t,o,n)),e>0&&(i=Ce(i,0,e,n));for(let e=0;e<i.length;e++)i[e].parent=r;return r.children=i,r}}class le extends ie{constructor(e,t,n,r,i,o,a,s,l){super(e,[],i,o),this.node=t,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=a,o&&this.updateChildren(s,l)}static create(e,t,n,r,o,a){let s,l=o.nodeViews[t.type.name],c=l&&l(t,o,(()=>s?s.parent?s.parent.posBeforeChild(s):void 0:a),n,r),u=c&&c.dom,p=c&&c.contentDOM;if(t.isText)if(u){if(3!=u.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else u=document.createTextNode(t.text);else u||({dom:u,contentDOM:p}=i.DOMSerializer.renderSpec(document,t.type.spec.toDOM(t)));p||t.isText||"BR"==u.nodeName||(u.hasAttribute("contenteditable")||(u.contentEditable="false"),t.type.spec.draggable&&(u.draggable=!0));let d=u;return u=be(u,n,t),c?s=new de(e,t,n,r,u,p||null,d,c,o,a+1):t.isText?new ue(e,t,n,r,u,d,o):new le(e,t,n,r,u,p||null,d,o,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>i.Fragment.empty)}else e.contentElement=this.contentDOM;else e.getContent=()=>this.node.content;return e}matchesNode(e,t,n){return 0==this.dirty&&e.eq(this.node)&&we(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,r=t,o=e.composing?this.localCompositionInfo(e,t):null,a=o&&o.pos>-1?o:null,s=o&&o.pos<0,l=new ke(this,a&&a.node,e);!function(e,t,n,r){let i=t.locals(e),o=0;if(0==i.length){for(let n=0;n<e.childCount;n++){let a=e.child(n);r(a,i,t.forChild(o,a),n),o+=a.nodeSize}return}let a=0,s=[],l=null;for(let c=0;;){if(a<i.length&&i[a].to==o){let e,t=i[a++];for(;a<i.length&&i[a].to==o;)(e||(e=[t])).push(i[a++]);if(e){e.sort(Se);for(let t=0;t<e.length;t++)n(e[t],c,!!l)}else n(t,c,!!l)}let u,p;if(l)p=-1,u=l,l=null;else{if(!(c<e.childCount))break;p=c,u=e.child(c++)}for(let e=0;e<s.length;e++)s[e].to<=o&&s.splice(e--,1);for(;a<i.length&&i[a].from<=o&&i[a].to>o;)s.push(i[a++]);let d=o+u.nodeSize;if(u.isText){let e=d;a<i.length&&i[a].from<e&&(e=i[a].from);for(let t=0;t<s.length;t++)s[t].to<e&&(e=s[t].to);e<d&&(l=u.cut(e-o),u=u.cut(0,e-o),d=e,p=-1)}r(u,u.isInline&&!u.isLeaf?s.filter((e=>!e.inline)):s.slice(),t.forChild(o,u),p),o=d}}(this.node,this.innerDeco,((t,o,a)=>{t.spec.marks?l.syncToMarks(t.spec.marks,n,e):t.type.side>=0&&!a&&l.syncToMarks(o==this.node.childCount?i.Mark.none:this.node.child(o).marks,n,e),l.placeWidget(t,e,r)}),((t,i,a,c)=>{let u;l.syncToMarks(t.marks,n,e),l.findNodeMatch(t,i,a,c)||s&&e.state.selection.from>r&&e.state.selection.to<r+t.nodeSize&&(u=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(t,i,a,u,e)||l.updateNextNode(t,i,a,e,c)||l.addNode(t,i,a,e,r),r+=t.nodeSize})),l.syncToMarks([],n,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||2==this.dirty)&&(a&&this.protectLocalComposition(e,a),he(this.contentDOM,this.children,e),M&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))}localCompositionInfo(e,t){let{from:n,to:i}=e.state.selection;if(!(e.state.selection instanceof r.TextSelection)||n<t||i>t+this.node.content.size)return null;let o=e.domSelectionRange(),a=function(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];t=f(e=e.childNodes[t-1])}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}(o.focusNode,o.focusOffset);if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let e=a.nodeValue,r=function(e,t,n,r){for(let i=0,o=0;i<e.childCount&&o<=r;){let a=e.child(i++),s=o;if(o+=a.nodeSize,!a.isText)continue;let l=a.text;for(;i<e.childCount;){let t=e.child(i++);if(o+=t.nodeSize,!t.isText)break;l+=t.text}if(o>=n){let e=s<r?l.lastIndexOf(t,r-s-1):-1;if(e>=0&&e+t.length+s>=n)return s+e;if(n==r&&l.length>=r+t.length-s&&l.slice(r-s,r-s+t.length)==t)return r}}return-1}(this.node.content,e,n-t,i-t);return r<0?null:{node:a,pos:r,text:e}}return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:r}){if(this.getDesc(t))return;let i=t;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new ae(this,i,t,r);e.input.compositionNodes.push(o),this.children=Ce(this.children,n,n+r.length,e,o)}update(e,t,n,r){return!(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,r),!0)}updateInner(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0}updateOuterDeco(e){if(we(e,this.outerDeco))return;let t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=ve(this.dom,this.nodeDOM,ge(this.outerDeco,this.node,t),ge(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function ce(e,t,n,r,i){return be(r,t,e),new le(void 0,e,t,n,r,r,r,i,0)}class ue extends le{constructor(e,t,n,r,i,o,a){super(e,t,n,r,i,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=0,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return"characterData"!=e.type&&"selection"!=e.type}slice(e,t,n){let r=this.node.cut(e,t),i=document.createTextNode(r.text);return new ue(this.parent,r,this.outerDeco,this.innerDeco,i,i,n)}markDirty(e,t){super.markDirty(e,t),this.dom==this.nodeDOM||0!=e&&t!=this.nodeDOM.nodeValue.length||(this.dirty=3)}get domAtom(){return!1}}class pe extends ie{parseRule(){return{ignore:!0}}matchesHack(e){return 0==this.dirty&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class de extends le{constructor(e,t,n,r,i,o,a,s,l,c){super(e,t,n,r,i,o,a,l,c),this.spec=s}update(e,t,n,r){if(3==this.dirty)return!1;if(this.spec.update){let i=this.spec.update(e,t,n);return i&&this.updateInner(e,t,n,r),i}return!(!this.contentDOM&&!e.isLeaf)&&super.update(e,t,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,r){this.spec.setSelection?this.spec.setSelection(e,t,n):super.setSelection(e,t,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function he(e,t,n){let r=e.firstChild,i=!1;for(let o=0;o<t.length;o++){let a=t[o],s=a.dom;if(s.parentNode==e){for(;s!=r;)r=xe(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(s,r);if(a instanceof se){let t=r?r.previousSibling:e.lastChild;he(a.contentDOM,a.children,n),r=t?t.nextSibling:e.firstChild}}for(;r;)r=xe(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}const fe=function(e){e&&(this.nodeName=e)};fe.prototype=Object.create(null);const me=[new fe];function ge(e,t,n){if(0==e.length)return me;let r=n?me[0]:new fe,i=[r];for(let o=0;o<e.length;o++){let a=e[o].type.attrs;if(a){a.nodeName&&i.push(r=new fe(a.nodeName));for(let e in a){let o=a[e];null!=o&&(n&&1==i.length&&i.push(r=new fe(t.isInline?"span":"div")),"class"==e?r.class=(r.class?r.class+" ":"")+o:"style"==e?r.style=(r.style?r.style+";":"")+o:"nodeName"!=e&&(r[e]=o))}}}return i}function ve(e,t,n,r){if(n==me&&r==me)return t;let i=t;for(let t=0;t<r.length;t++){let o=r[t],a=n[t];if(t){let t;a&&a.nodeName==o.nodeName&&i!=e&&(t=i.parentNode)&&t.nodeName.toLowerCase()==o.nodeName||(t=document.createElement(o.nodeName),t.pmIsDeco=!0,t.appendChild(i),a=me[0]),i=t}ye(i,a||me[0],o)}return i}function ye(e,t,n){for(let r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(let r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let t=0;t<r.length;t++)-1==i.indexOf(r[t])&&e.classList.remove(r[t]);for(let t=0;t<i.length;t++)-1==r.indexOf(i[t])&&e.classList.add(i[t]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let n,r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;n=r.exec(t.style);)e.style.removeProperty(n[1])}n.style&&(e.style.cssText+=n.style)}}function be(e,t,n){return ve(e,e,me,ge(t,n,1!=e.nodeType))}function we(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function xe(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class ke{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=function(e,t){let n=t,r=n.children.length,i=e.childCount,o=new Map,a=[];e:for(;i>0;){let s;for(;;)if(r){let e=n.children[r-1];if(!(e instanceof se)){s=e,r--;break}n=e,r=e.children.length}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=s.node;if(l){if(l!=e.child(i-1))break;--i,o.set(s,i),a.push(s)}}return{index:i,matched:o,matches:a.reverse()}}(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let r=0,i=this.stack.length>>1,o=Math.min(i,e.length);for(;r<o&&(r==i-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning;)r++;for(;r<i;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let r=-1;for(let t=this.index;t<Math.min(this.index+3,this.top.children.length);t++){let n=this.top.children[t];if(n.matchesMark(e[i])&&!this.isLocked(n.dom)){r=t;break}}if(r>-1)r>this.index&&(this.changed=!0,this.destroyBetween(this.index,r)),this.top=this.top.children[this.index];else{let r=se.create(this.top,e[i],t,n);this.top.children.splice(this.index,0,r),this.top=r,this.changed=!0}this.index=0,i++}}findNodeMatch(e,t,n,r){let i,o=-1;if(r>=this.preMatch.index&&(i=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&i.matchesNode(e,t,n))o=this.top.children.indexOf(i,this.index);else for(let r=this.index,i=Math.min(this.top.children.length,r+5);r<i;r++){let i=this.top.children[r];if(i.matchesNode(e,t,n)&&!this.preMatch.matched.has(i)){o=r;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,t,n,r,i){let o=this.top.children[r];return 3==o.dirty&&o.dom==o.contentDOM&&(o.dirty=2),!!o.update(e,t,n,i)&&(this.destroyBetween(this.index,r),this.index++,!0)}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let t=e.pmViewDesc;if(t)for(let e=this.index;e<this.top.children.length;e++)if(this.top.children[e]==t)return e;return-1}e=t}}updateNextNode(e,t,n,r,i){for(let o=this.index;o<this.top.children.length;o++){let a=this.top.children[o];if(a instanceof le){let s=this.preMatch.matched.get(a);if(null!=s&&s!=i)return!1;let l=a.dom;if(!(this.isLocked(l)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&3!=a.dirty&&we(t,a.outerDeco)))&&a.update(e,t,n,r))return this.destroyBetween(this.index,o),a.dom!=l&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,t,n,r,i){this.top.children.splice(this.index++,0,le.create(this.top,e,t,n,r,i)),this.changed=!0}placeWidget(e,t,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode){let r=new oe(this.top,e,t,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof se;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof ue)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((N||A)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);"IMG"==e&&(n.className="ProseMirror-separator",n.alt=""),"BR"==e&&(n.className="ProseMirror-trailingBreak");let r=new pe(this.top,[],n,null);t!=this.top?t.children.push(r):t.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||1==e.nodeType&&e.contains(this.lock.parentNode))}}function Se(e,t){return e.type.side-t.type.side}function Ce(e,t,n,r,i){let o=[];for(let a=0,s=0;a<e.length;a++){let l=e[a],c=s,u=s+=l.size;c>=n||u<=t?o.push(l):(c<t&&o.push(l.slice(0,t-c,r)),i&&(o.push(i),i=void 0),u>n&&o.push(l.slice(n-c,l.size,r)))}return o}function Ee(e,t=null){let n=e.domSelectionRange(),i=e.state.doc;if(!n.focusNode)return null;let o=e.docView.nearestDesc(n.focusNode),a=o&&0==o.size,l=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(l<0)return null;let c,u,p=i.resolve(l);if(g(n)){for(c=p;o&&!o.node;)o=o.parent;let e=o.node;if(o&&e.isAtom&&r.NodeSelection.isSelectable(e)&&o.parent&&(!e.isInline||!function(e,t,n){for(let r=0==t,i=t==f(e);r||i;){if(e==n)return!0;let t=s(e);if(!(e=e.parentNode))return!1;r=r&&0==t,i=i&&t==f(e)}}(n.focusNode,n.focusOffset,o.dom))){let e=o.posBefore;u=new(0,r.NodeSelection)(l==e?p:i.resolve(e))}}else{let t=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(t<0)return null;c=i.resolve(t)}if(!u){u=Le(e,c,p,"pointer"==t||e.state.selection.head<p.pos&&!a?1:-1)}return u}function Te(e){return e.editable?e.hasFocus():Ie(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function _e(e,t=!1){let n=e.state.selection;if(Pe(e,n),Te(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&A){let t=e.domSelectionRange(),n=e.domObserver.currentSelection;if(t.anchorNode&&n.anchorNode&&p(t.anchorNode,t.anchorOffset,n.anchorNode,n.anchorOffset))return e.input.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection()}if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){let t=e.domSelection(),n=document.createRange(),r=e.cursorWrapper.dom,i="IMG"==r.nodeName;i?n.setEnd(r.parentNode,s(r)+1):n.setEnd(r,0);n.collapse(!1),t.removeAllRanges(),t.addRange(n),!i&&!e.state.selection.visible&&C&&E<=11&&(r.disabled=!0,r.disabled=!1)}(e);else{let i,o,{anchor:a,head:s}=n;!Ae||n instanceof r.TextSelection||(n.$from.parent.inlineContent||(i=Oe(e,n.from)),n.empty||n.$from.parent.inlineContent||(o=Oe(e,n.to))),e.docView.setSelection(a,s,e.root,t),Ae&&(i&&Me(i),o&&Me(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{n.anchorNode==r&&n.anchorOffset==i||(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout((()=>{Te(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")}),20))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const Ae=N||A&&O<63;function Oe(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(N&&i&&"false"==i.contentEditable)return Ne(i);if(!(i&&"false"!=i.contentEditable||o&&"false"!=o.contentEditable)){if(i)return Ne(i);if(o)return Ne(o)}}function Ne(e){return e.contentEditable="true",N&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function Me(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function Pe(e,t){if(t instanceof r.NodeSelection){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(De(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else De(e)}function De(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function Le(e,t,n,i){return e.someProp("createSelectionBetween",(r=>r(e,t,n)))||r.TextSelection.between(t,n,i)}function Re(e){return!(e.editable&&!e.hasFocus())&&Ie(e)}function Ie(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function Be(e,t){let{$anchor:n,$head:i}=e.selection,o=t>0?n.max(i):n.min(i),a=o.parent.inlineContent?o.depth?e.doc.resolve(t>0?o.after():o.before()):null:o;return a&&r.Selection.findFrom(a,t)}function je(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Fe(e,t,n){let i=e.state.selection;if(!(i instanceof r.TextSelection)){if(i instanceof r.NodeSelection&&i.node.isInline)return je(e,new(0,r.TextSelection)(t>0?i.$to:i.$from));{let n=Be(e.state,t);return!!n&&je(e,n)}}if(!i.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){let n=Be(e.state,t);return!!(n&&n instanceof r.NodeSelection)&&je(e,n)}if(!(P&&n.indexOf("m")>-1)){let n,o=i.$head,a=o.textOffset?null:t<0?o.nodeBefore:o.nodeAfter;if(!a||a.isText)return!1;let s=t<0?o.pos-a.nodeSize:o.pos;return!!(a.isAtom||(n=e.docView.descAt(s))&&!n.contentDOM)&&(r.NodeSelection.isSelectable(a)?je(e,new(0,r.NodeSelection)(t<0?e.state.doc.resolve(o.pos-a.nodeSize):o)):!!L&&je(e,new(0,r.TextSelection)(e.state.doc.resolve(t<0?s:s+a.nodeSize))))}}function ze(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function He(e){let t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function qe(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,o,a=!1;for(T&&1==n.nodeType&&r<ze(n)&&He(n.childNodes[r])&&(a=!0);;)if(r>0){if(1!=n.nodeType)break;{let e=n.childNodes[r-1];if(He(e))i=n,o=--r;else{if(3!=e.nodeType)break;n=e,r=n.nodeValue.length}}}else{if(Ue(n))break;{let t=n.previousSibling;for(;t&&He(t);)i=n.parentNode,o=s(t),t=t.previousSibling;if(t)n=t,r=ze(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}a?We(e,n,r):i&&We(e,i,o)}function Ve(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,o,a=ze(n);for(;;)if(r<a){if(1!=n.nodeType)break;if(!He(n.childNodes[r]))break;i=n,o=++r}else{if(Ue(n))break;{let t=n.nextSibling;for(;t&&He(t);)i=t.parentNode,o=s(t)+1,t=t.nextSibling;if(t)n=t,r=0,a=ze(n);else{if(n=n.parentNode,n==e.dom)break;r=a=0}}}i&&We(e,i,o)}function Ue(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function We(e,t,n){let r=e.domSelection();if(g(r)){let e=document.createRange();e.setEnd(t,n),e.setStart(t,n),r.removeAllRanges(),r.addRange(e)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:i}=e;setTimeout((()=>{e.state==i&&_e(e)}),50)}function $e(e,t,n){let i=e.state.selection;if(i instanceof r.TextSelection&&!i.empty||n.indexOf("s")>-1)return!1;if(P&&n.indexOf("m")>-1)return!1;let{$from:o,$to:a}=i;if(!o.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let n=Be(e.state,t);if(n&&n instanceof r.NodeSelection)return je(e,n)}if(!o.parent.inlineContent){let n=t<0?o:a,s=i instanceof r.AllSelection?r.Selection.near(n,t):r.Selection.findFrom(n,t);return!!s&&je(e,s)}return!1}function Ge(e,t){if(!(e.state.selection instanceof r.TextSelection))return!0;let{$head:n,$anchor:i,empty:o}=e.state.selection;if(!n.sameParent(i))return!0;if(!o)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let a=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(a&&!a.isText){let r=e.state.tr;return t<0?r.delete(n.pos-a.nodeSize,n.pos):r.delete(n.pos,n.pos+a.nodeSize),e.dispatch(r),!0}return!1}function Xe(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function Ye(e,t){let n=t.keyCode,r=function(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);return 8==n||P&&72==n&&"c"==r?Ge(e,-1)||qe(e):46==n||P&&68==n&&"c"==r?Ge(e,1)||Ve(e):13==n||27==n||(37==n||P&&66==n&&"c"==r?Fe(e,-1,r)||qe(e):39==n||P&&70==n&&"c"==r?Fe(e,1,r)||Ve(e):38==n||P&&80==n&&"c"==r?$e(e,-1,r)||qe(e):40==n||P&&78==n&&"c"==r?function(e){if(!N||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&1==t.nodeType&&0==n&&t.firstChild&&"false"==t.firstChild.contentEditable){let n=t.firstChild;Xe(e,n,"true"),setTimeout((()=>Xe(e,n,"false")),20)}return!1}(e)||$e(e,1,r)||Ve(e):r==(P?"m":"c")&&(66==n||73==n||89==n||90==n))}function Ze(e,t){e.someProp("transformCopied",(n=>{t=n(t,e)}));let n=[],{content:r,openStart:o,openEnd:a}=t;for(;o>1&&a>1&&1==r.childCount&&1==r.firstChild.childCount;){o--,a--;let e=r.firstChild;n.push(e.type.name,e.attrs!=e.type.defaultAttrs?e.attrs:null),r=e.content}let s=e.someProp("clipboardSerializer")||i.DOMSerializer.fromSchema(e.state.schema),l=at(),c=l.createElement("div");c.appendChild(s.serializeFragment(r,{document:l}));let u,p=c.firstChild,d=0;for(;p&&1==p.nodeType&&(u=it[p.nodeName.toLowerCase()]);){for(let e=u.length-1;e>=0;e--){let t=l.createElement(u[e]);for(;c.firstChild;)t.appendChild(c.firstChild);c.appendChild(t),d++}p=c.firstChild}return p&&1==p.nodeType&&p.setAttribute("data-pm-slice",`${o} ${a}${d?` -${d}`:""} ${JSON.stringify(n)}`),{dom:c,text:e.someProp("clipboardTextSerializer",(n=>n(t,e)))||t.content.textBetween(0,t.content.size,"\n\n")}}function Ke(e,t,n,r,o){let a,s,l=o.parent.type.spec.code;if(!n&&!t)return null;let c=t&&(r||l||!n);if(c){if(e.someProp("transformPastedText",(n=>{t=n(t,l||r,e)})),l)return t?new(0,i.Slice)(i.Fragment.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):i.Slice.empty;let n=e.someProp("clipboardTextParser",(n=>n(t,o,r,e)));if(n)s=n;else{let n=o.marks(),{schema:r}=e.state,s=i.DOMSerializer.fromSchema(r);a=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach((e=>{let t=a.appendChild(document.createElement("p"));e&&t.appendChild(s.serializeNode(r.text(e,n)))}))}}else e.someProp("transformPastedHTML",(t=>{n=t(n,e)})),a=function(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n,r=at().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(e);(n=i&&it[i[1].toLowerCase()])&&(e=n.map((e=>"<"+e+">")).join("")+e+n.map((e=>"</"+e+">")).reverse().join(""));if(r.innerHTML=e,n)for(let e=0;e<n.length;e++)r=r.querySelector(n[e])||r;return r}(n),L&&function(e){let t=e.querySelectorAll(A?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];1==r.childNodes.length&&""==r.textContent&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}(a);let u=a&&a.querySelector("[data-pm-slice]"),p=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let e=+p[3];e>0;e--){let e=a.firstChild;for(;e&&1!=e.nodeType;)e=e.nextSibling;if(!e)break;a=e}if(!s){let t=e.someProp("clipboardParser")||e.someProp("domParser")||i.DOMParser.fromSchema(e.state.schema);s=t.parseSlice(a,{preserveWhitespace:!(!c&&!p),context:o,ruleFromNode:e=>"BR"!=e.nodeName||e.nextSibling||!e.parentNode||Je.test(e.parentNode.nodeName)?null:{ignore:!0}})}if(p)s=function(e,t){if(!e.size)return e;let n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(t){return e}let{content:o,openStart:a,openEnd:s}=e;for(let e=n.length-2;e>=0;e-=2){let t=r.nodes[n[e]];if(!t||t.hasRequiredAttrs())break;o=i.Fragment.from(t.create(n[e+1],o)),a++,s++}return new(0,i.Slice)(o,a,s)}(rt(s,+p[1],+p[2]),p[4]);else if(s=i.Slice.maxOpen(function(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let r,o=t.node(n).contentMatchAt(t.index(n)),a=[];if(e.forEach((e=>{if(!a)return;let t,n=o.findWrapping(e.type);if(!n)return a=null;if(t=a.length&&r.length&&et(n,r,e,a[a.length-1],0))a[a.length-1]=t;else{a.length&&(a[a.length-1]=tt(a[a.length-1],r.length));let t=Qe(e,n);a.push(t),o=o.matchType(t.type),r=n}})),a)return i.Fragment.from(a)}return e}(s.content,o),!0),s.openStart||s.openEnd){let e=0,t=0;for(let t=s.content.firstChild;e<s.openStart&&!t.type.spec.isolating;e++,t=t.firstChild);for(let e=s.content.lastChild;t<s.openEnd&&!e.type.spec.isolating;t++,e=e.lastChild);s=rt(s,e,t)}return e.someProp("transformPasted",(t=>{s=t(s,e)})),s}const Je=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Qe(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,i.Fragment.from(e));return e}function et(e,t,n,r,o){if(o<e.length&&o<t.length&&e[o]==t[o]){let a=et(e,t,n,r.lastChild,o+1);if(a)return r.copy(r.content.replaceChild(r.childCount-1,a));if(r.contentMatchAt(r.childCount).matchType(o==e.length-1?n.type:e[o+1]))return r.copy(r.content.append(i.Fragment.from(Qe(n,e,o+1))))}}function tt(e,t){if(0==t)return e;let n=e.content.replaceChild(e.childCount-1,tt(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(i.Fragment.empty,!0);return e.copy(n.append(r))}function nt(e,t,n,r,o,a){let s=t<0?e.firstChild:e.lastChild,l=s.content;return o<r-1&&(l=nt(l,t,n,r,o+1,a)),o>=n&&(l=t<0?s.contentMatchAt(0).fillBefore(l,e.childCount>1||a<=o).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(i.Fragment.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(l))}function rt(e,t,n){return t<e.openStart&&(e=new(0,i.Slice)(nt(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new(0,i.Slice)(nt(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const it={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let ot=null;function at(){return ot||(ot=document.implementation.createHTMLDocument("title"))}const st={},lt={},ct={touchstart:!0,touchmove:!0};class ut{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function pt(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function dt(e){e.someProp("handleDOMEvents",(t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=t=>ht(e,t))}))}function ht(e,t){return e.someProp("handleDOMEvents",(n=>{let r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)}))}function ft(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function mt(e){return{left:e.clientX,top:e.clientY}}function gt(e,t,n,r,i){if(-1==r)return!1;let o=e.state.doc.resolve(r);for(let r=o.depth+1;r>0;r--)if(e.someProp(t,(t=>r>o.depth?t(e,n,o.nodeAfter,o.before(r),i,!0):t(e,n,o.node(r),o.before(r),i,!1))))return!0;return!1}function vt(e,t,n){e.focused||e.focus();let r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}function yt(e,t,n,i,o){return gt(e,"handleClickOn",t,n,i)||e.someProp("handleClick",(n=>n(e,t,i)))||(o?function(e,t){if(-1==t)return!1;let n,i,o=e.state.selection;o instanceof r.NodeSelection&&(n=o.node);let a=e.state.doc.resolve(t);for(let e=a.depth+1;e>0;e--){let t=e>a.depth?a.nodeAfter:a.node(e);if(r.NodeSelection.isSelectable(t)){i=n&&o.$from.depth>0&&e>=o.$from.depth&&a.before(o.$from.depth+1)==o.$from.pos?a.before(o.$from.depth):a.before(e);break}}return null!=i&&(vt(e,r.NodeSelection.create(e.state.doc,i),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;let n=e.state.doc.resolve(t),i=n.nodeAfter;return!!(i&&i.isAtom&&r.NodeSelection.isSelectable(i))&&(vt(e,new(0,r.NodeSelection)(n),"pointer"),!0)}(e,n))}function bt(e,t,n,r){return gt(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",(n=>n(e,t,r)))}function wt(e,t,n,i){return gt(e,"handleTripleClickOn",t,n,i)||e.someProp("handleTripleClick",(n=>n(e,t,i)))||function(e,t,n){if(0!=n.button)return!1;let i=e.state.doc;if(-1==t)return!!i.inlineContent&&(vt(e,r.TextSelection.create(i,0,i.content.size),"pointer"),!0);let o=i.resolve(t);for(let t=o.depth+1;t>0;t--){let n=t>o.depth?o.nodeAfter:o.node(t),a=o.before(t);if(n.inlineContent)vt(e,r.TextSelection.create(i,a+1,a+1+n.content.size),"pointer");else{if(!r.NodeSelection.isSelectable(n))continue;vt(e,r.NodeSelection.create(i,a),"pointer")}return!0}}(e,n,i)}function xt(e){return At(e)}lt.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=16==n.keyCode||n.shiftKey,!Ct(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!D||!A||13!=n.keyCode))if(229!=n.keyCode&&e.domObserver.forceFlush(),!M||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)e.someProp("handleKeyDown",(t=>t(e,n)))||Ye(e,n)?n.preventDefault():pt(e,"key");else{let t=Date.now();e.input.lastIOSEnter=t,e.input.lastIOSEnterFallbackTimeout=setTimeout((()=>{e.input.lastIOSEnter==t&&(e.someProp("handleKeyDown",(t=>t(e,v(13,"Enter")))),e.input.lastIOSEnter=0)}),200)}},lt.keyup=(e,t)=>{16==t.keyCode&&(e.input.shiftKey=!1)},lt.keypress=(e,t)=>{let n=t;if(Ct(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||P&&n.metaKey)return;if(e.someProp("handleKeyPress",(t=>t(e,n))))return void n.preventDefault();let i=e.state.selection;if(!(i instanceof r.TextSelection&&i.$from.sameParent(i.$to))){let t=String.fromCharCode(n.charCode);/[\r\n]/.test(t)||e.someProp("handleTextInput",(n=>n(e,i.$from.pos,i.$to.pos,t)))||e.dispatch(e.state.tr.insertText(t).scrollIntoView()),n.preventDefault()}};const kt=P?"metaKey":"ctrlKey";st.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=xt(e),i=Date.now(),o="singleClick";i-e.input.lastClick.time<500&&function(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}(n,e.input.lastClick)&&!n[kt]&&("singleClick"==e.input.lastClick.type?o="doubleClick":"doubleClick"==e.input.lastClick.type&&(o="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let a=e.posAtCoords(mt(n));a&&("singleClick"==o?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new St(e,a,n,!!r)):("doubleClick"==o?bt:wt)(e,a.pos,a.inside,n)?n.preventDefault():pt(e,"pointer"))};class St{constructor(e,t,n,i){let o,a;if(this.view=e,this.pos=t,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[kt],this.allowDefault=n.shiftKey,t.inside>-1)o=e.state.doc.nodeAt(t.inside),a=t.inside;else{let n=e.state.doc.resolve(t.pos);o=n.parent,a=n.depth?n.before():0}const s=i?null:n.target,l=s?e.docView.nearestDesc(s,!0):null;this.target=l?l.dom:null;let{selection:c}=e.state;(0==n.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||c instanceof r.NodeSelection&&c.from<=a&&c.to>a)&&(this.mightDrag={node:o,pos:a,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!T||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),pt(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((()=>_e(this.view))),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(mt(e))),this.updateAllowDefault(e),this.allowDefault||!t?pt(this.view,"pointer"):yt(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||N&&this.mightDrag&&!this.mightDrag.node.isAtom||A&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(vt(this.view,r.Selection.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):pt(this.view,"pointer")}move(e){this.updateAllowDefault(e),pt(this.view,"pointer"),0==e.buttons&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}function Ct(e,t){return!!e.composing||!!(N&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500)&&(e.input.compositionEndedAt=-2e8,!0)}st.touchstart=e=>{e.input.lastTouch=Date.now(),xt(e),pt(e,"pointer")},st.touchmove=e=>{e.input.lastTouch=Date.now(),pt(e,"pointer")},st.contextmenu=e=>xt(e);const Et=D?5e3:-1;function Tt(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout((()=>At(e)),t))}function _t(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=function(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function At(e,t=!1){if(!(D&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),_t(e),t||e.docView&&e.docView.dirty){let t=Ee(e);return t&&!t.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(t)):e.updateState(e.state),!0}return!1}}lt.compositionstart=lt.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((e=>!1===e.type.spec.inclusive))))e.markCursor=e.state.storedMarks||n.marks(),At(e,!0),e.markCursor=null;else if(At(e),T&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let t=e.domSelectionRange();for(let n=t.focusNode,r=t.focusOffset;n&&1==n.nodeType&&0!=r;){let t=r<0?n.lastChild:n.childNodes[r-1];if(!t)break;if(3==t.nodeType){e.domSelection().collapse(t,t.nodeValue.length);break}n=t,r=-1}}e.input.composing=!0}Tt(e,Et)},lt.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,Tt(e,20))};const Ot=C&&E<15||M&&R<604;function Nt(e,t,n,r,o){let a=Ke(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",(t=>t(e,o,a||i.Slice.empty))))return!0;if(!a)return!1;let s=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(a),l=s?e.state.tr.replaceSelectionWith(s,e.input.shiftKey):e.state.tr.replaceSelection(a);return e.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}st.copy=lt.cut=(e,t)=>{let n=t,r=e.state.selection,i="cut"==n.type;if(r.empty)return;let o=Ot?null:n.clipboardData,a=r.content(),{dom:s,text:l}=Ze(e,a);o?(n.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",l)):function(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout((()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}(e,s),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},lt.paste=(e,t)=>{let n=t;if(e.composing&&!D)return;let r=Ot?null:n.clipboardData;r&&Nt(e,r.getData("text/plain"),r.getData("text/html"),e.input.shiftKey,n)?n.preventDefault():function(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout((()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Nt(e,r.value,null,e.input.shiftKey,t):Nt(e,r.textContent,r.innerHTML,e.input.shiftKey,t)}),50)}(e,n)};class Mt{constructor(e,t){this.slice=e,this.move=t}}const Pt=P?"altKey":"ctrlKey";st.dragstart=(e,t)=>{let n=t,i=e.input.mouseDown;if(i&&i.done(),!n.dataTransfer)return;let o=e.state.selection,a=o.empty?null:e.posAtCoords(mt(n));if(a&&a.pos>=o.from&&a.pos<=(o instanceof r.NodeSelection?o.to-1:o.to));else if(i&&i.mightDrag)e.dispatch(e.state.tr.setSelection(r.NodeSelection.create(e.state.doc,i.mightDrag.pos)));else if(n.target&&1==n.target.nodeType){let t=e.docView.nearestDesc(n.target,!0);t&&t.node.type.spec.draggable&&t!=e.docView&&e.dispatch(e.state.tr.setSelection(r.NodeSelection.create(e.state.doc,t.posBefore)))}let s=e.state.selection.content(),{dom:l,text:c}=Ze(e,s);n.dataTransfer.clearData(),n.dataTransfer.setData(Ot?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Ot||n.dataTransfer.setData("text/plain",c),e.dragging=new Mt(s,!n[Pt])},st.dragend=e=>{let t=e.dragging;window.setTimeout((()=>{e.dragging==t&&(e.dragging=null)}),50)},lt.dragover=lt.dragenter=(e,t)=>t.preventDefault(),lt.drop=(e,t)=>{let n=t,o=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let s=e.posAtCoords(mt(n));if(!s)return;let l=e.state.doc.resolve(s.pos),c=o&&o.slice;c?e.someProp("transformPasted",(t=>{c=t(c,e)})):c=Ke(e,n.dataTransfer.getData(Ot?"Text":"text/plain"),Ot?null:n.dataTransfer.getData("text/html"),!1,l);let u=!(!o||n[Pt]);if(e.someProp("handleDrop",(t=>t(e,n,c||i.Slice.empty,u))))return void n.preventDefault();if(!c)return;n.preventDefault();let p=c?(0,a.dropPoint)(e.state.doc,l.pos,c):l.pos;null==p&&(p=l.pos);let d=e.state.tr;u&&d.deleteSelection();let h=d.mapping.map(p),f=0==c.openStart&&0==c.openEnd&&1==c.content.childCount,m=d.doc;if(f?d.replaceRangeWith(h,h,c.content.firstChild):d.replaceRange(h,h,c),d.doc.eq(m))return;let g=d.doc.resolve(h);if(f&&r.NodeSelection.isSelectable(c.content.firstChild)&&g.nodeAfter&&g.nodeAfter.sameMarkup(c.content.firstChild))d.setSelection(new(0,r.NodeSelection)(g));else{let t=d.mapping.map(p);d.mapping.maps[d.mapping.maps.length-1].forEach(((e,n,r,i)=>t=i)),d.setSelection(Le(e,g,d.doc.resolve(t)))}e.focus(),e.dispatch(d.setMeta("uiEvent","drop"))},st.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&_e(e)}),20))},st.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},st.beforeinput=(e,t)=>{if(A&&D&&"deleteContentBackward"==t.inputType){e.domObserver.flushSoon();let{domChangeCount:t}=e.input;setTimeout((()=>{if(e.input.domChangeCount!=t)return;if(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",(t=>t(e,v(8,"Backspace")))))return;let{$cursor:n}=e.state.selection;n&&n.pos>0&&e.dispatch(e.state.tr.delete(n.pos-1,n.pos).scrollIntoView())}),50)}};for(let e in lt)st[e]=lt[e];function Dt(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class Lt{constructor(e,t){this.toDOM=e,this.spec=t||Ft,this.side=this.spec.side||0}map(e,t,n,r){let{pos:i,deleted:o}=e.mapResult(t.from+r,this.side<0?-1:1);return o?null:new Bt(i-n,i-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Lt&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Dt(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Rt{constructor(e,t){this.attrs=e,this.spec=t||Ft}map(e,t,n,r){let i=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,o=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return i>=o?null:new Bt(i,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Rt&&Dt(this.attrs,e.attrs)&&Dt(this.spec,e.spec)}static is(e){return e.type instanceof Rt}destroy(){}}class It{constructor(e,t){this.attrs=e,this.spec=t||Ft}map(e,t,n,r){let i=e.mapResult(t.from+r,1);if(i.deleted)return null;let o=e.mapResult(t.to+r,-1);return o.deleted||o.pos<=i.pos?null:new Bt(i.pos-n,o.pos-n,this)}valid(e,t){let n,{index:r,offset:i}=e.content.findIndex(t.from);return i==t.from&&!(n=e.child(r)).isText&&i+n.nodeSize==t.to}eq(e){return this==e||e instanceof It&&Dt(this.attrs,e.attrs)&&Dt(this.spec,e.spec)}destroy(){}}class Bt{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new Bt(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new Bt(e,e,new Lt(t,n))}static inline(e,t,n,r){return new Bt(e,t,new Rt(n,r))}static node(e,t,n,r){return new Bt(e,t,new It(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof Rt}}const jt=[],Ft={};class zt{constructor(e,t){this.local=e.length?e:jt,this.children=t.length?t:jt}static create(e,t){return t.length?$t(t,e,0,Ft):Ht}find(e,t,n){let r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r}findInner(e,t,n,r,i){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=t&&a.to>=e&&(!i||i(a.spec))&&n.push(a.copy(a.from+r,a.to+r))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,t-a,n,r+a,i)}}map(e,t,n){return this==Ht||0==e.maps.length?this:this.mapInner(e,t,0,0,n||Ft)}mapInner(e,t,n,r,i){let o;for(let a=0;a<this.local.length;a++){let s=this.local[a].map(e,n,r);s&&s.type.valid(t,s)?(o||(o=[])).push(s):i.onRemove&&i.onRemove(this.local[a].spec)}return this.children.length?function(e,t,n,r,i,o,a){let s=e.slice();for(let e=0,t=o;e<n.maps.length;e++){let r=0;n.maps[e].forEach(((e,n,o,a)=>{let l=a-o-(n-e);for(let a=0;a<s.length;a+=3){let c=s[a+1];if(c<0||e>c+t-r)continue;let u=s[a]+t-r;n>=u?s[a+1]=e<=u?-2:-1:o>=i&&l&&(s[a]+=l,s[a+1]+=l)}r+=l})),t=n.maps[e].map(t,-1)}let l=!1;for(let t=0;t<s.length;t+=3)if(s[t+1]<0){if(-2==s[t+1]){l=!0,s[t+1]=-1;continue}let c=n.map(e[t]+o),u=c-i;if(u<0||u>=r.content.size){l=!0;continue}let p=n.map(e[t+1]+o,-1)-i,{index:d,offset:h}=r.content.findIndex(u),f=r.maybeChild(d);if(f&&h==u&&h+f.nodeSize==p){let r=s[t+2].mapInner(n,f,c+1,e[t]+o+1,a);r!=Ht?(s[t]=u,s[t+1]=p,s[t+2]=r):(s[t+1]=-2,l=!0)}else l=!0}if(l){let l=function(e,t,n,r,i,o,a){function s(e,t){for(let o=0;o<e.local.length;o++){let s=e.local[o].map(r,i,t);s?n.push(s):a.onRemove&&a.onRemove(e.local[o].spec)}for(let n=0;n<e.children.length;n+=3)s(e.children[n+2],e.children[n]+t+1)}for(let n=0;n<e.length;n+=3)-1==e[n+1]&&s(e[n+2],t[n]+o+1);return n}(s,e,t,n,i,o,a),c=$t(l,r,0,a);t=c.local;for(let e=0;e<s.length;e+=3)s[e+1]<0&&(s.splice(e,3),e-=3);for(let e=0,t=0;e<c.children.length;e+=3){let n=c.children[e];for(;t<s.length&&s[t]<n;)t+=3;s.splice(t,0,c.children[e],c.children[e+1],c.children[e+2])}}return new zt(t.sort(Gt),s)}(this.children,o||[],e,t,n,r,i):o?new zt(o.sort(Gt),jt):Ht}add(e,t){return t.length?this==Ht?zt.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let r,i=0;e.forEach(((e,o)=>{let a,s=o+n;if(a=Ut(t,e,s)){for(r||(r=this.children.slice());i<r.length&&r[i]<o;)i+=3;r[i]==o?r[i+2]=r[i+2].addInner(e,a,s+1):r.splice(i,0,o,o+e.nodeSize,$t(a,e,s+1,Ft)),i+=3}}));let o=Vt(i?Wt(t):t,-n);for(let t=0;t<o.length;t++)o[t].type.valid(e,o[t])||o.splice(t--,1);return new zt(o.length?this.local.concat(o).sort(Gt):this.local,r||this.children)}remove(e){return 0==e.length||this==Ht?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,r=this.local;for(let r=0;r<n.length;r+=3){let i,o=n[r]+t,a=n[r+1]+t;for(let t,n=0;n<e.length;n++)(t=e[n])&&t.from>o&&t.to<a&&(e[n]=null,(i||(i=[])).push(t));if(!i)continue;n==this.children&&(n=this.children.slice());let s=n[r+2].removeInner(i,o+1);s!=Ht?n[r+2]=s:(n.splice(r,3),r-=3)}if(r.length)for(let n,i=0;i<e.length;i++)if(n=e[i])for(let e=0;e<r.length;e++)r[e].eq(n,t)&&(r==this.local&&(r=this.local.slice()),r.splice(e--,1));return n==this.children&&r==this.local?this:r.length||n.length?new zt(r,n):Ht}forChild(e,t){if(this==Ht)return this;if(t.isLeaf)return zt.empty;let n,r;for(let t=0;t<this.children.length;t+=3)if(this.children[t]>=e){this.children[t]==e&&(n=this.children[t+2]);break}let i=e+1,o=i+t.content.size;for(let e=0;e<this.local.length;e++){let t=this.local[e];if(t.from<o&&t.to>i&&t.type instanceof Rt){let e=Math.max(i,t.from)-i,n=Math.min(o,t.to)-i;e<n&&(r||(r=[])).push(t.copy(e,n))}}if(r){let e=new zt(r.sort(Gt),jt);return n?new qt([e,n]):e}return n||Ht}eq(e){if(this==e)return!0;if(!(e instanceof zt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Xt(this.localsInner(e))}localsInner(e){if(this==Ht)return jt;if(e.inlineContent||!this.local.some(Rt.is))return this.local;let t=[];for(let e=0;e<this.local.length;e++)this.local[e].type instanceof Rt||t.push(this.local[e]);return t}}zt.empty=new zt([],[]),zt.removeOverlap=Xt;const Ht=zt.empty;class qt{constructor(e){this.members=e}map(e,t){const n=this.members.map((n=>n.map(e,t,Ft)));return qt.from(n)}forChild(e,t){if(t.isLeaf)return zt.empty;let n=[];for(let r=0;r<this.members.length;r++){let i=this.members[r].forChild(e,t);i!=Ht&&(i instanceof qt?n=n.concat(i.members):n.push(i))}return qt.from(n)}eq(e){if(!(e instanceof qt)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let r=0;r<this.members.length;r++){let i=this.members[r].localsInner(e);if(i.length)if(t){n&&(t=t.slice(),n=!1);for(let e=0;e<i.length;e++)t.push(i[e])}else t=i}return t?Xt(n?t:t.sort(Gt)):jt}static from(e){switch(e.length){case 0:return Ht;case 1:return e[0];default:return new qt(e.every((e=>e instanceof zt))?e:e.reduce(((e,t)=>e.concat(t instanceof zt?t:t.members)),[]))}}}function Vt(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new Bt(i.from+t,i.to+t,i.type))}return n}function Ut(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let t,o=0;o<e.length;o++)(t=e[o])&&t.from>n&&t.to<r&&((i||(i=[])).push(t),e[o]=null);return i}function Wt(e){let t=[];for(let n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function $t(e,t,n,r){let i=[],o=!1;t.forEach(((t,a)=>{let s=Ut(e,t,a+n);if(s){o=!0;let e=$t(s,t,n+a+1,r);e!=Ht&&i.push(a,a+t.nodeSize,e)}}));let a=Vt(o?Wt(e):e,-n).sort(Gt);for(let e=0;e<a.length;e++)a[e].type.valid(t,a[e])||(r.onRemove&&r.onRemove(a[e].spec),a.splice(e--,1));return a.length||i.length?new zt(a,i):Ht}function Gt(e,t){return e.from-t.from||e.to-t.to}function Xt(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let o=t[i];if(o.from!=r.from){o.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,o.from),Yt(t,i,r.copy(o.from,r.to)));break}o.to!=r.to&&(t==e&&(t=e.slice()),t[i]=o.copy(o.from,r.to),Yt(t,i+1,o.copy(r.to,o.to)))}}return t}function Yt(e,t,n){for(;t<e.length&&Gt(n,e[t])>0;)t++;e.splice(t,0,n)}function Zt(e){let t=[];return e.someProp("decorations",(n=>{let r=n(e.state);r&&r!=Ht&&t.push(r)})),e.cursorWrapper&&t.push(zt.create(e.state.doc,[e.cursorWrapper.deco])),qt.from(t)}const Kt={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Jt=C&&E<=11;class Qt{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class en{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Qt,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver((e=>{for(let t=0;t<e.length;t++)this.queue.push(e[t]);C&&E<=11&&e.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),Jt&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((()=>{this.flushingSoon=-1,this.flush()}),20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Kt)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout((()=>this.flush()),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout((()=>this.suppressingSelectionUpdates=!1),50)}onSelectionChange(){if(Re(this.view)){if(this.suppressingSelectionUpdates)return _e(this.view);if(C&&E<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&p(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t,n=new Set;for(let t=e.focusNode;t;t=l(t))n.add(t);for(let r=e.anchorNode;r;r=l(r))if(n.has(r)){t=r;break}let r=t&&this.view.docView.nearestDesc(t);return r&&r.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);let n=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&Re(e)&&!this.ignoreSelectionChange(n),o=-1,a=-1,s=!1,l=[];if(e.editable)for(let e=0;e<t.length;e++){let n=this.registerMutation(t[e],l);n&&(o=o<0?n.from:Math.min(n.from,o),a=a<0?n.to:Math.max(n.to,a),n.typeOver&&(s=!0))}if(T&&l.length>1){let e=l.filter((e=>"BR"==e.nodeName));if(2==e.length){let t=e[0],n=e[1];t.parentNode&&t.parentNode.parentNode==n.parentNode?n.remove():t.remove()}}let c=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&g(n)&&(c=Ee(e))&&c.eq(r.Selection.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,_e(e),this.currentSelection.set(n),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,a),function(e){if(tn.has(e))return;if(tn.set(e,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)){if(e.requiresGeckoHackNode=T,nn)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),nn=!0}}(e)),this.handleDOMChange(o,a,s,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||_e(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(let n=0;n<e.addedNodes.length;n++)t.push(e.addedNodes[n]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let r=e.previousSibling,i=e.nextSibling;if(C&&E<=11&&e.addedNodes.length)for(let t=0;t<e.addedNodes.length;t++){let{previousSibling:n,nextSibling:o}=e.addedNodes[t];(!n||Array.prototype.indexOf.call(e.addedNodes,n)<0)&&(r=n),(!o||Array.prototype.indexOf.call(e.addedNodes,o)<0)&&(i=o)}let o=r&&r.parentNode==e.target?s(r)+1:0,a=n.localPosFromDOM(e.target,o,-1),l=i&&i.parentNode==e.target?s(i):e.target.childNodes.length;return{from:a,to:n.localPosFromDOM(e.target,l,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let tn=new WeakMap,nn=!1;function rn(e){let t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(N&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}if(e.parentNode.lastChild==e||N&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const on=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function an(e,t,n,o,a){if(t<0){let t=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,n=Ee(e,t);if(n&&!e.state.selection.eq(n)){if(A&&D&&13===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",(t=>t(e,v(13,"Enter")))))return;let r=e.state.tr.setSelection(n);"pointer"==t?r.setMeta("pointer",!0):"key"==t&&r.scrollIntoView(),e.dispatch(r)}return}let s=e.state.doc.resolve(t),l=s.sharedDepth(n);t=s.before(l+1),n=e.state.doc.resolve(n).after(l+1);let c,u,p=e.state.selection,d=function(e,t,n){let r,{node:o,fromOffset:a,toOffset:s,from:l,to:c}=e.docView.parseRange(t,n),u=e.domSelectionRange(),p=u.anchorNode;if(p&&e.dom.contains(1==p.nodeType?p:p.parentNode)&&(r=[{node:p,offset:u.anchorOffset}],g(u)||r.push({node:u.focusNode,offset:u.focusOffset})),A&&8===e.input.lastKeyCode)for(let e=s;e>a;e--){let t=o.childNodes[e-1],n=t.pmViewDesc;if("BR"==t.nodeName&&!n){s=e;break}if(!n||n.size)break}let d=e.state.doc,h=e.someProp("domParser")||i.DOMParser.fromSchema(e.state.schema),f=d.resolve(l),m=null,v=h.parse(o,{topNode:f.parent,topMatch:f.parent.contentMatchAt(f.index()),topOpen:!0,from:a,to:s,preserveWhitespace:"pre"!=f.parent.type.whitespace||"full",findPositions:r,ruleFromNode:rn,context:f});if(r&&null!=r[0].pos){let e=r[0].pos,t=r[1]&&r[1].pos;null==t&&(t=e),m={anchor:e+l,head:t+l}}return{doc:v,sel:m,from:l,to:c}}(e,t,n),h=e.state.doc,f=h.slice(d.from,d.to);8===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime?(c=e.state.selection.to,u="end"):(c=e.state.selection.from,u="start"),e.input.lastKeyCode=null;let m=function(e,t,n,r,i){let o=e.findDiffStart(t,n);if(null==o)return null;let{a:a,b:s}=e.findDiffEnd(t,n+e.size,n+t.size);if("end"==i){r-=a+Math.max(0,o-Math.min(a,s))-o}if(a<o&&e.size<t.size){o-=r<=o&&r>=a?o-r:0,s=o+(s-a),a=o}else if(s<o){o-=r<=o&&r>=s?o-r:0,a=o+(a-s),s=o}return{start:o,endA:a,endB:s}}(f.content,d.doc.content,d.from,c,u);if((M&&e.input.lastIOSEnter>Date.now()-225||D)&&a.some((e=>1==e.nodeType&&!on.test(e.nodeName)))&&(!m||m.endA>=m.endB)&&e.someProp("handleKeyDown",(t=>t(e,v(13,"Enter")))))return void(e.input.lastIOSEnter=0);if(!m){if(!(o&&p instanceof r.TextSelection&&!p.empty&&p.$head.sameParent(p.$anchor))||e.composing||d.sel&&d.sel.anchor!=d.sel.head){if(d.sel){let t=sn(e,e.state.doc,d.sel);t&&!t.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(t))}return}m={start:p.from,endA:p.to,endB:p.to}}if(A&&e.cursorWrapper&&d.sel&&d.sel.anchor==e.cursorWrapper.deco.from&&d.sel.head==d.sel.anchor){let e=m.endB-m.start;d.sel={anchor:d.sel.anchor+e,head:d.sel.anchor+e}}e.input.domChangeCount++,e.state.selection.from<e.state.selection.to&&m.start==m.endB&&e.state.selection instanceof r.TextSelection&&(m.start>e.state.selection.from&&m.start<=e.state.selection.from+2&&e.state.selection.from>=d.from?m.start=e.state.selection.from:m.endA<e.state.selection.to&&m.endA>=e.state.selection.to-2&&e.state.selection.to<=d.to&&(m.endB+=e.state.selection.to-m.endA,m.endA=e.state.selection.to)),C&&E<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>d.from&&" "==d.doc.textBetween(m.start-d.from-1,m.start-d.from+1)&&(m.start--,m.endA--,m.endB--);let y,b=d.doc.resolveNoCache(m.start-d.from),w=d.doc.resolveNoCache(m.endB-d.from),x=h.resolve(m.start),k=b.sameParent(w)&&b.parent.inlineContent&&x.end()>=m.endA;if((M&&e.input.lastIOSEnter>Date.now()-225&&(!k||a.some((e=>"DIV"==e.nodeName||"P"==e.nodeName)))||!k&&b.pos<d.doc.content.size&&(y=r.Selection.findFrom(d.doc.resolve(b.pos+1),1,!0))&&y.head==w.pos)&&e.someProp("handleKeyDown",(t=>t(e,v(13,"Enter")))))return void(e.input.lastIOSEnter=0);if(e.state.selection.anchor>m.start&&function(e,t,n,r,i){if(!r.parent.isTextblock||n-t<=i.pos-r.pos||ln(r,!0,!1)<i.pos)return!1;let o=e.resolve(t);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let a=e.resolve(ln(o,!0,!0));return!(!a.parent.isTextblock||a.pos>n||ln(a,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(a.parent.content)}(h,m.start,m.endA,b,w)&&e.someProp("handleKeyDown",(t=>t(e,v(8,"Backspace")))))return void(D&&A&&e.domObserver.suppressSelectionUpdates());A&&D&&m.endB==m.start&&(e.input.lastAndroidDelete=Date.now()),D&&!k&&b.start()!=w.start()&&0==w.parentOffset&&b.depth==w.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==m.endA&&(m.endB-=2,w=d.doc.resolveNoCache(m.endB-d.from),setTimeout((()=>{e.someProp("handleKeyDown",(function(t){return t(e,v(13,"Enter"))}))}),20));let S,T,_,O=m.start,N=m.endA;if(k)if(b.pos==w.pos)C&&E<=11&&0==b.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((()=>_e(e)),20)),S=e.state.tr.delete(O,N),T=h.resolve(m.start).marksAcross(h.resolve(m.endA));else if(m.endA==m.endB&&(_=function(e,t){let n,r,o,a=e.firstChild.marks,s=t.firstChild.marks,l=a,c=s;for(let e=0;e<s.length;e++)l=s[e].removeFromSet(l);for(let e=0;e<a.length;e++)c=a[e].removeFromSet(c);if(1==l.length&&0==c.length)r=l[0],n="add",o=e=>e.mark(r.addToSet(e.marks));else{if(0!=l.length||1!=c.length)return null;r=c[0],n="remove",o=e=>e.mark(r.removeFromSet(e.marks))}let u=[];for(let e=0;e<t.childCount;e++)u.push(o(t.child(e)));if(i.Fragment.from(u).eq(e))return{mark:r,type:n}}(b.parent.content.cut(b.parentOffset,w.parentOffset),x.parent.content.cut(x.parentOffset,m.endA-x.start()))))S=e.state.tr,"add"==_.type?S.addMark(O,N,_.mark):S.removeMark(O,N,_.mark);else if(b.parent.child(b.index()).isText&&b.index()==w.index()-(w.textOffset?0:1)){let t=b.parent.textBetween(b.parentOffset,w.parentOffset);if(e.someProp("handleTextInput",(n=>n(e,O,N,t))))return;S=e.state.tr.insertText(t,O,N)}if(S||(S=e.state.tr.replace(O,N,d.doc.slice(m.start-d.from,m.endB-d.from))),d.sel){let t=sn(e,S.doc,d.sel);t&&!(A&&D&&e.composing&&t.empty&&(m.start!=m.endB||e.input.lastAndroidDelete<Date.now()-100)&&(t.head==O||t.head==S.mapping.map(N)-1)||C&&t.empty&&t.head==O)&&S.setSelection(t)}T&&S.ensureMarks(T),e.dispatch(S.scrollIntoView())}function sn(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:Le(e,t.resolve(n.anchor),t.resolve(n.head))}function ln(e,t,n){let r=e.depth,i=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n){let t=e.node(r).maybeChild(e.indexAfter(r));for(;t&&!t.isLeaf;)t=t.firstChild,i++}return i}const cn=Ze,un=Ke,pn=At;class dn{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new ut,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(vn),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=mn(this),fn(this),this.nodeViews=gn(this),this.docView=ce(this.state.doc,hn(this),Zt(this),this.dom,this),this.domObserver=new en(this,((e,t,n,r)=>an(this,e,t,n,r))),this.domObserver.start(),function(e){for(let t in st){let n=st[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=t=>{!ft(e,t)||ht(e,t)||!e.editable&&t.type in lt||n(e,t)},ct[t]?{passive:!0}:void 0)}N&&e.dom.addEventListener("input",(()=>null)),dt(e)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&dt(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(vn),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let e in this._props)t[e]=this._props[e];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){let n=this.state,r=!1,i=!1;e.storedMarks&&this.composing&&(_t(this),i=!0),this.state=e;let o=n.plugins!=e.plugins||this._props.plugins!=t.plugins;if(o||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let e=gn(this);(function(e,t){let n=0,r=0;for(let r in e){if(e[r]!=t[r])return!0;n++}for(let e in t)r++;return n!=r})(e,this.nodeViews)&&(this.nodeViews=e,r=!0)}(o||t.handleDOMEvents!=this._props.handleDOMEvents)&&dt(this),this.editable=mn(this),fn(this);let a=Zt(this),s=hn(this),l=n.plugins==e.plugins||n.doc.eq(e.doc)?e.scrollToSelection>n.scrollToSelection?"to selection":"preserve":"reset",c=r||!this.docView.matchesNode(e.doc,s,a);!c&&e.selection.eq(n.selection)||(i=!0);let u="preserve"==l&&i&&null==this.dom.style.overflowAnchor&&function(e){let t,n,r=e.dom.getBoundingClientRect(),i=Math.max(0,r.top);for(let o=(r.left+r.right)/2,a=i+1;a<Math.min(innerHeight,r.bottom);a+=5){let r=e.root.elementFromPoint(o,a);if(!r||r==e.dom||!e.dom.contains(r))continue;let s=r.getBoundingClientRect();if(s.top>=i-20){t=r,n=s.top;break}}return{refDOM:t,refTop:n,stack:z(e.dom)}}(this);if(i){this.domObserver.stop();let t=c&&(C||A)&&!this.composing&&!n.selection.empty&&!e.selection.empty&&function(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}(n.selection,e.selection);if(c){let n=A?this.trackWrites=this.domSelectionRange().focusNode:null;!r&&this.docView.update(e.doc,s,a,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=ce(e.doc,s,a,this.dom,this)),n&&!this.trackWrites&&(t=!0)}t||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&function(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return p(t.node,t.offset,n.anchorNode,n.anchorOffset)}(this))?_e(this,t):(Pe(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(n),"reset"==l?this.dom.scrollTop=0:"to selection"==l?this.scrollToSelection():u&&function({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;H(n,0==r?0:r-t)}(u)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(this.someProp("handleScrollToSelection",(e=>e(this))));else if(this.state.selection instanceof r.NodeSelection){let t=this.docView.domAfterPos(this.state.selection.from);1==t.nodeType&&F(this,t.getBoundingClientRect(),e)}else F(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let t=this.directPlugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let t=this.state.plugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}}}someProp(e,t){let n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;for(let r=0;r<this.directPlugins.length;r++){let i=this.directPlugins[r].props[e];if(null!=i&&(n=t?t(i):i))return n}let i=this.state.plugins;if(i)for(let r=0;r<i.length;r++){let o=i[r].props[e];if(null!=o&&(n=t?t(o):o))return n}}hasFocus(){if(C){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if("false"==e.contentEditable)return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(q)return e.focus(q);let t=z(e);e.focus(null==q?{get preventScroll(){return q={preventScroll:!0},!0}}:void 0),q||(q=!1,H(t,0))}(this.dom),_e(this),this.domObserver.start()}get root(){let e=this._root;if(null==e)for(let e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e;return e||document}posAtCoords(e){return $(this,e)}coordsAtPos(e,t=1){return Y(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,t){return re(this,t||this.state,e)}pasteHTML(e,t){return Nt(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Nt(this,e,null,!0,t||new ClipboardEvent("paste"))}destroy(){this.docView&&(!function(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Zt(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return null==this.docView}dispatchEvent(e){return function(e,t){ht(e,t)||!st[t.type]||!e.editable&&t.type in lt||st[t.type](e,t)}(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return N&&11===this.root.nodeType&&function(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom?function(e){let t;function n(e){e.preventDefault(),e.stopImmediatePropagation(),t=e.getTargetRanges()[0]}e.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",n,!0);let r=t.startContainer,i=t.startOffset,o=t.endContainer,a=t.endOffset,s=e.domAtPos(e.state.selection.anchor);return p(s.node,s.offset,o,a)&&([r,i,o,a]=[o,a,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:a}}(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function hn(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),t.translate="no",e.someProp("attributes",(n=>{if("function"==typeof n&&(n=n(e.state)),n)for(let e in n)"class"==e&&(t.class+=" "+n[e]),"style"==e?t.style=(t.style?t.style+";":"")+n[e]:t[e]||"contenteditable"==e||"nodeName"==e||(t[e]=String(n[e]))})),[Bt.node(0,e.state.doc.content.size,t)]}function fn(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Bt.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function mn(e){return!e.someProp("editable",(t=>!1===t(e.state)))}function gn(e){let t=Object.create(null);function n(e){for(let n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function vn(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}})),o.register("gHsGI",(function(t,n){e(t.exports,"Selection",(()=>s)),e(t.exports,"SelectionRange",(()=>l)),e(t.exports,"TextSelection",(()=>p)),e(t.exports,"AllSelection",(()=>m)),e(t.exports,"NodeSelection",(()=>h)),e(t.exports,"Transaction",(()=>b)),e(t.exports,"EditorState",(()=>C)),e(t.exports,"Plugin",(()=>T)),e(t.exports,"PluginKey",(()=>O));var r=o("iwjgp"),i=o("8uhG7");const a=Object.create(null);class s{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new l(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=r.Slice.empty){let n=t.content.lastChild,i=null;for(let e=0;e<t.openEnd;e++)i=n,n=n.lastChild;let o=e.steps.length,a=this.ranges;for(let s=0;s<a.length;s++){let{$from:l,$to:c}=a[s],u=e.mapping.slice(o);e.replaceRange(u.map(l.pos),u.map(c.pos),s?r.Slice.empty:t),0==s&&y(e,o,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){let{$from:o,$to:a}=r[i],s=e.mapping.slice(n),l=s.map(o.pos),c=s.map(a.pos);i?e.deleteRange(l,c):(e.replaceRangeWith(l,c,t),y(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let r=e.parent.inlineContent?new p(e):v(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(let r=e.depth-1;r>=0;r--){let i=t<0?v(e.node(0),e.node(r),e.before(r+1),e.index(r),t,n):v(e.node(0),e.node(r),e.after(r+1),e.index(r)+1,t,n);if(i)return i}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new m(e.node(0))}static atStart(e){return v(e,e,0,0,1)||new m(e)}static atEnd(e){return v(e,e,e.content.size,e.childCount,-1)||new m(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=a[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in a)throw new RangeError("Duplicate use of selection JSON ID "+e);return a[e]=t,t.prototype.jsonID=e,t}getBookmark(){return p.between(this.$anchor,this.$head).getBookmark()}}s.prototype.visible=!0;class l{constructor(e,t){this.$from=e,this.$to=t}}let c=!1;function u(e){c||e.parent.inlineContent||(c=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class p extends s{constructor(e,t=e){u(e),u(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return s.near(n);let r=e.resolve(t.map(this.anchor));return new p(r.parent.inlineContent?r:n,n)}replace(e,t=r.Slice.empty){if(super.replace(e,t),t==r.Slice.empty){let t=this.$from.marksAcross(this.$to);t&&e.ensureMarks(t)}}eq(e){return e instanceof p&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new d(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new p(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))}static between(e,t,n){let r=e.pos-t.pos;if(n&&!r||(n=r>=0?1:-1),!t.parent.inlineContent){let e=s.findFrom(t,n,!0)||s.findFrom(t,-n,!0);if(!e)return s.near(t,n);t=e.$head}return e.parent.inlineContent||(0==r||(e=(s.findFrom(e,-n,!0)||s.findFrom(e,n,!0)).$anchor).pos<t.pos!=r<0)&&(e=t),new p(e,t)}}s.jsonID("text",p);class d{constructor(e,t){this.anchor=e,this.head=t}map(e){return new d(e.map(this.anchor),e.map(this.head))}resolve(e){return p.between(e.resolve(this.anchor),e.resolve(this.head))}}class h extends s{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:r}=t.mapResult(this.anchor),i=e.resolve(r);return n?s.near(i):new h(i)}content(){return new(0,r.Slice)(r.Fragment.from(this.node),0,0)}eq(e){return e instanceof h&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new f(this.anchor)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new h(e.resolve(t.anchor))}static create(e,t){return new h(e.resolve(t))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}}h.prototype.visible=!1,s.jsonID("node",h);class f{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new d(n,n):new f(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&h.isSelectable(n)?new h(t):s.near(t)}}class m extends s{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=r.Slice.empty){if(t==r.Slice.empty){e.delete(0,e.doc.content.size);let t=s.atStart(e.doc);t.eq(e.selection)||e.setSelection(t)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new m(e)}map(e){return new m(e)}eq(e){return e instanceof m}getBookmark(){return g}}s.jsonID("all",m);const g={map(){return this},resolve:e=>new m(e)};function v(e,t,n,r,i,o=!1){if(t.inlineContent)return p.create(e,n);for(let a=r-(i>0?0:1);i>0?a<t.childCount:a>=0;a+=i){let r=t.child(a);if(r.isAtom){if(!o&&h.isSelectable(r))return h.create(e,n-(i<0?r.nodeSize:0))}else{let t=v(e,r,n+i,i<0?r.childCount:0,i,o);if(t)return t}n+=r.nodeSize*i}return null}function y(e,t,n){let r=e.steps.length-1;if(r<t)return;let o,a=e.steps[r];(a instanceof i.ReplaceStep||a instanceof i.ReplaceAroundStep)&&(e.mapping.maps[r].forEach(((e,t,n,r)=>{null==o&&(o=r)})),e.setSelection(s.near(e.doc.resolve(o),n)))}class b extends i.Transform{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=2,this}ensureMarks(e){return r.Mark.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(e,t){super.addStep(e,t),this.updated=-3&this.updated,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||r.Mark.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(null==n&&(n=t),n=null==n?t:n,!e)return this.deleteRange(t,n);let i=this.storedMarks;if(!i){let e=this.doc.resolve(t);i=n==t?e.marks():e.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,i)),this.selection.empty||this.setSelection(s.near(this.selection.$to)),this}}setMeta(e,t){return this.meta["string"==typeof e?e:e.key]=t,this}getMeta(e){return this.meta["string"==typeof e?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function w(e,t){return t&&e?e.bind(t):e}class x{constructor(e,t,n){this.name=e,this.init=w(t.init,n),this.apply=w(t.apply,n)}}const k=[new x("doc",{init:e=>e.doc||e.schema.topNodeType.createAndFill(),apply:e=>e.doc}),new x("selection",{init:(e,t)=>e.selection||s.atStart(t.doc),apply:e=>e.selection}),new x("storedMarks",{init:e=>e.storedMarks||null,apply:(e,t,n,r)=>r.selection.$cursor?e.storedMarks:null}),new x("scrollToSelection",{init:()=>0,apply:(e,t)=>e.scrolledIntoView?t+1:t})];class S{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=k.slice(),t&&t.forEach((e=>{if(this.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");this.plugins.push(e),this.pluginsByKey[e.key]=e,e.spec.state&&this.fields.push(new x(e.key,e.spec.state,e))}))}}class C{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let t=this.config.plugins[n];if(t.spec.filterTransaction&&!t.spec.filterTransaction.call(t,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),r=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let s=r?r[o].n:0,l=r?r[o].state:this,c=s<t.length&&a.spec.appendTransaction.call(a,s?t.slice(s):t,l,n);if(c&&n.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",e),!r){r=[];for(let e=0;e<this.config.plugins.length;e++)r.push(e<o?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),i=!0}r&&(r[o]={state:n,n:t.length})}}if(!i)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new C(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let i=n[r];t[i.name]=i.apply(e,this[i.name],this,t)}return t}get tr(){return new b(this)}static create(e){let t=new S(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new C(t);for(let r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n}reconfigure(e){let t=new S(this.schema,e.plugins),n=t.fields,r=new C(t);for(let t=0;t<n.length;t++){let i=n[t].name;r[i]=this.hasOwnProperty(i)?this[i]:n[t].init(e,r)}return r}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map((e=>e.toJSON()))),e&&"object"==typeof e)for(let n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[n],i=r.spec.state;i&&i.toJSON&&(t[n]=i.toJSON.call(r,this[r.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new S(e.schema,e.plugins),o=new C(i);return i.fields.forEach((i=>{if("doc"==i.name)o.doc=r.Node.fromJSON(e.schema,t.doc);else if("selection"==i.name)o.selection=s.fromJSON(o.doc,t.selection);else if("storedMarks"==i.name)t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let r in n){let a=n[r],s=a.spec.state;if(a.key==i.name&&s&&s.fromJSON&&Object.prototype.hasOwnProperty.call(t,r))return void(o[i.name]=s.fromJSON.call(a,e,t[r],o))}o[i.name]=i.init(e,o)}})),o}}function E(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):"handleDOMEvents"==r&&(i=E(i,t,{})),n[r]=i}return n}class T{constructor(e){this.spec=e,this.props={},e.props&&E(e.props,this,this.props),this.key=e.key?e.key.key:A("plugin")}getState(e){return e[this.key]}}const _=Object.create(null);function A(e){return e in _?e+"$"+ ++_[e]:(_[e]=0,e+"$")}class O{constructor(e="key"){this.key=A(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}})),o.register("8uhG7",(function(t,n){e(t.exports,"StepMap",(()=>l)),e(t.exports,"Mapping",(()=>c)),e(t.exports,"ReplaceStep",(()=>y)),e(t.exports,"ReplaceAroundStep",(()=>b)),e(t.exports,"liftTarget",(()=>k)),e(t.exports,"findWrapping",(()=>S)),e(t.exports,"canSplit",(()=>E)),e(t.exports,"canJoin",(()=>T)),e(t.exports,"joinPoint",(()=>A)),e(t.exports,"dropPoint",(()=>O)),e(t.exports,"replaceStep",(()=>N)),e(t.exports,"Transform",(()=>V));var r=o("iwjgp");const i=Math.pow(2,16);function a(e){return 65535&e}class s{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class l{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&l.empty)return l.empty}recover(e){let t=0,n=a(e);if(!this.inverted)for(let e=0;e<n;e++)t+=this.ranges[3*e+2]-this.ranges[3*e+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/i}(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let r=0,o=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?r:0);if(c>e)break;let u=this.ranges[l+o],p=this.ranges[l+a],d=c+u;if(e<=d){let o=c+r+((u?e==c?-1:e==d?1:t:t)<0?0:p);if(n)return o;let a=e==(t<0?c:d)?null:l/3+(e-c)*i,h=e==c?2:e==d?1:4;return(t<0?e!=c:e!=d)&&(h|=8),new s(o,h,a)}r+=p-u}return n?e+r:new s(e+r,0,null)}touches(e,t){let n=0,r=a(t),i=this.inverted?2:1,o=this.inverted?1:2;for(let t=0;t<this.ranges.length;t+=3){let a=this.ranges[t]-(this.inverted?n:0);if(a>e)break;let s=this.ranges[t+i];if(e<=a+s&&t==3*r)return!0;n+=this.ranges[t+o]-s}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,i=0;r<this.ranges.length;r+=3){let o=this.ranges[r],a=o-(this.inverted?i:0),s=o+(this.inverted?0:i),l=this.ranges[r+t],c=this.ranges[r+n];e(a,a+l,s,s+c),i+=c-l}}invert(){return new l(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?l.empty:new l(e<0?[0,-e,0]:[0,0,e])}}l.empty=new l([]);class c{constructor(e=[],t,n=0,r=e.length){this.maps=e,this.mirror=t,this.from=n,this.to=r}slice(e=0,t=this.maps.length){return new c(this.maps,this.mirror,e,t)}copy(){return new c(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,n=this.maps.length;t<e.maps.length;t++){let r=e.getMirror(t);this.appendMap(e.maps[t],null!=r&&r<t?n+r:void 0)}}getMirror(e){if(this.mirror)for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){let r=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=r&&r>t?n-r-1:void 0)}}invert(){let e=new c;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let r=0;for(let n=this.from;n<this.to;n++){let i=this.maps[n].mapResult(e,t);if(null!=i.recover){let t=this.getMirror(n);if(null!=t&&t>n&&t<this.to){n=t,e=this.maps[t].recover(i.recover);continue}}r|=i.delInfo,e=i.pos}return n?e:new s(e,r,null)}}const u=Object.create(null);class p{getMap(){return l.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=u[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in u)throw new RangeError("Duplicate use of step JSON ID "+e);return u[e]=t,t.prototype.jsonID=e,t}}class d{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new d(e,null)}static fail(e){return new d(null,e)}static fromReplace(e,t,n,i){try{return d.ok(e.replace(t,n,i))}catch(e){if(e instanceof r.ReplaceError)return d.fail(e.message);throw e}}}function h(e,t,n){let i=[];for(let r=0;r<e.childCount;r++){let o=e.child(r);o.content.size&&(o=o.copy(h(o.content,t,o))),o.isInline&&(o=t(o,n,r)),i.push(o)}return r.Fragment.fromArray(i)}class f extends p{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),i=n.node(n.sharedDepth(this.to)),o=new(0,r.Slice)(h(t.content,((e,t)=>e.isAtom&&t.type.allowsMarkType(this.mark.type)?e.mark(this.mark.addToSet(e.marks)):e),i),t.openStart,t.openEnd);return d.fromReplace(e,this.from,this.to,o)}invert(){return new m(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new f(t.pos,n.pos,this.mark)}merge(e){return e instanceof f&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new f(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new f(t.from,t.to,e.markFromJSON(t.mark))}}p.jsonID("addMark",f);class m extends p{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new(0,r.Slice)(h(t.content,(e=>e.mark(this.mark.removeFromSet(e.marks))),e),t.openStart,t.openEnd);return d.fromReplace(e,this.from,this.to,n)}invert(){return new f(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new m(t.pos,n.pos,this.mark)}merge(e){return e instanceof m&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new m(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new m(t.from,t.to,e.markFromJSON(t.mark))}}p.jsonID("removeMark",m);class g extends p{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return d.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return d.fromReplace(e,this.pos,this.pos+1,new(0,r.Slice)(r.Fragment.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let e=this.mark.addToSet(t.marks);if(e.length==t.marks.length){for(let n=0;n<t.marks.length;n++)if(!t.marks[n].isInSet(e))return new g(this.pos,t.marks[n]);return new g(this.pos,this.mark)}}return new v(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new g(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new g(t.pos,e.markFromJSON(t.mark))}}p.jsonID("addNodeMark",g);class v extends p{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return d.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return d.fromReplace(e,this.pos,this.pos+1,new(0,r.Slice)(r.Fragment.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return t&&this.mark.isInSet(t.marks)?new g(this.pos,this.mark):this}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new v(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new v(t.pos,e.markFromJSON(t.mark))}}p.jsonID("removeNodeMark",v);class y extends p{constructor(e,t,n,r=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=r}apply(e){return this.structure&&w(e,this.from,this.to)?d.fail("Structure replace would overwrite content"):d.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new l([this.from,this.to-this.from,this.slice.size])}invert(e){return new y(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new y(t.pos,Math.max(t.pos,n.pos),this.slice)}merge(e){if(!(e instanceof y)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;{let t=this.slice.size+e.slice.size==0?r.Slice.empty:new(0,r.Slice)(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new y(e.from,this.to,t,this.structure)}}{let t=this.slice.size+e.slice.size==0?r.Slice.empty:new(0,r.Slice)(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new y(this.from,this.to+(e.to-e.from),t,this.structure)}}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new y(t.from,t.to,r.Slice.fromJSON(e,t.slice),!!t.structure)}}p.jsonID("replace",y);class b extends p{constructor(e,t,n,r,i,o,a=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=r,this.slice=i,this.insert=o,this.structure=a}apply(e){if(this.structure&&(w(e,this.from,this.gapFrom)||w(e,this.gapTo,this.to)))return d.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return d.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?d.fromReplace(e,this.from,this.to,n):d.fail("Content does not fit in gap")}getMap(){return new l([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new b(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),r=e.map(this.gapFrom,-1),i=e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||r<t.pos||i>n.pos?null:new b(t.pos,n.pos,r,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new b(t.from,t.to,t.gapFrom,t.gapTo,r.Slice.fromJSON(e,t.slice),t.insert,!!t.structure)}}function w(e,t,n){let r=e.resolve(t),i=n-t,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let e=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!e||e.isLeaf)return!0;e=e.firstChild,i--}}return!1}function x(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function k(e){let t=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth;;--n){let r=e.$from.node(n),i=e.$from.index(n),o=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(i,o,t))return n;if(0==n||r.type.spec.isolating||!x(r,i,o))break}return null}function S(e,t,n=null,r=e){let i=function(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.contentMatchAt(r).findWrapping(t);if(!o)return null;let a=o.length?o[0]:t;return n.canReplaceWith(r,i,a)?o:null}(e,t),o=i&&function(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.child(r),a=t.contentMatch.findWrapping(o.type);if(!a)return null;let s=(a.length?a[a.length-1]:t).contentMatch;for(let e=r;s&&e<i;e++)s=s.matchType(n.child(e).type);return s&&s.validEnd?a:null}(r,t);return o?i.map(C).concat({type:t,attrs:n}).concat(o.map(C)):null}function C(e){return{type:e,attrs:null}}function E(e,t,n=1,r){let i=e.resolve(t),o=i.depth-n,a=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let e=i.depth-1,t=n-2;e>o;e--,t--){let n=i.node(e),o=i.index(e);if(n.type.spec.isolating)return!1;let a=n.content.cutByIndex(o,n.childCount),s=r&&r[t]||n;if(s!=n&&(a=a.replaceChild(0,s.type.create(s.attrs))),!n.canReplace(o+1,n.childCount)||!s.type.validContent(a))return!1}let s=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(s,s,l?l.type:i.node(o+1).type)}function T(e,t){let n=e.resolve(t),r=n.index();return _(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function _(e,t){return!(!e||!t||e.isLeaf||!e.canAppend(t))}function A(e,t,n=-1){let r=e.resolve(t);for(let e=r.depth;;e--){let i,o,a=r.index(e);if(e==r.depth?(i=r.nodeBefore,o=r.nodeAfter):n>0?(i=r.node(e+1),a++,o=r.node(e).maybeChild(a)):(i=r.node(e).maybeChild(a-1),o=r.node(e+1)),i&&!i.isTextblock&&_(i,o)&&r.node(e).canReplace(a,a+1))return t;if(0==e)break;t=n<0?r.before(e):r.after(e)}}function O(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let e=0;e<n.openStart;e++)i=i.firstChild.content;for(let e=1;e<=(0==n.openStart&&n.size?2:1);e++)for(let t=r.depth;t>=0;t--){let n=t==r.depth?0:r.pos<=(r.start(t+1)+r.end(t+1))/2?-1:1,o=r.index(t)+(n>0?1:0),a=r.node(t),s=!1;if(1==e)s=a.canReplace(o,o,i);else{let e=a.contentMatchAt(o).findWrapping(i.firstChild.type);s=e&&a.canReplaceWith(o,o,e[0])}if(s)return 0==n?r.pos:n<0?r.before(t+1):r.after(t+1)}return null}function N(e,t,n=t,i=r.Slice.empty){if(t==n&&!i.size)return null;let o=e.resolve(t),a=e.resolve(n);return M(o,a,i)?new y(t,n,i):new P(o,a,i).fit()}function M(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}p.jsonID("replaceAround",b);class P{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=r.Fragment.empty;for(let t=0;t<=e.depth;t++){let n=e.node(t);this.frontier.push({type:n.type,match:n.contentMatchAt(e.indexAfter(t))})}for(let t=e.depth;t>0;t--)this.placed=r.Fragment.from(e.node(t).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(e<0?this.$to:n.doc.resolve(e));if(!i)return null;let o=this.placed,a=n.depth,s=i.depth;for(;a&&s&&1==o.childCount;)o=o.firstChild.content,a--,s--;let l=new(0,r.Slice)(o,a,s);return e>-1?new b(n.pos,e,this.$to.pos,this.$to.end(),l,t):l.size||n.pos!=this.$to.pos?new y(n.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,r=this.unplaced.openEnd;n<e;n++){let i=t.firstChild;if(t.childCount>1&&(r=0),i.type.spec.isolating&&r<=n){e=n;break}t=i.content}for(let t=1;t<=2;t++)for(let n=1==t?e:this.unplaced.openStart;n>=0;n--){let e,i=null;n?(i=R(this.unplaced.content,n-1).firstChild,e=i.content):e=this.unplaced.content;let o=e.firstChild;for(let e=this.depth;e>=0;e--){let a,{type:s,match:l}=this.frontier[e],c=null;if(1==t&&(o?l.matchType(o.type)||(c=l.fillBefore(r.Fragment.from(o),!1)):i&&s.compatibleContent(i.type)))return{sliceDepth:n,frontierDepth:e,parent:i,inject:c};if(2==t&&o&&(a=l.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:e,parent:i,wrap:a};if(i&&l.matchType(i.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,i=R(e,t);return!(!i.childCount||i.firstChild.isLeaf)&&(this.unplaced=new(0,r.Slice)(e,t+1,Math.max(n,i.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,i=R(e,t);if(i.childCount<=1&&t>0){let o=e.size-t<=t+i.size;this.unplaced=new(0,r.Slice)(D(e,t-1,1),t-1,o?t-1:n)}else this.unplaced=new(0,r.Slice)(D(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:i,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let e=0;e<o.length;e++)this.openFrontierNode(o[e]);let a=this.unplaced,s=n?n.content:a.content,l=a.openStart-e,c=0,u=[],{match:p,type:d}=this.frontier[t];if(i){for(let e=0;e<i.childCount;e++)u.push(i.child(e));p=p.matchFragment(i)}let h=s.size+e-(a.content.size-a.openEnd);for(;c<s.childCount;){let e=s.child(c),t=p.matchType(e.type);if(!t)break;c++,(c>1||0==l||e.content.size)&&(p=t,u.push(I(e.mark(d.allowedMarks(e.marks)),1==c?l:0,c==s.childCount?h:-1)))}let f=c==s.childCount;f||(h=-1),this.placed=L(this.placed,t,r.Fragment.from(u)),this.frontier[t].match=p,f&&h<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let e=0,t=s;e<h;e++){let e=t.lastChild;this.frontier.push({type:e.type,match:e.contentMatchAt(e.childCount)}),t=e.content}this.unplaced=f?0==e?r.Slice.empty:new(0,r.Slice)(D(a.content,e-1,1),e-1,h<0?a.openEnd:e-1):new(0,r.Slice)(D(a.content,e,c),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e,t=this.frontier[this.depth];if(!t.type.isTextblock||!B(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:r}=this.frontier[t],i=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=B(e,t,r,n,i);if(o){for(let n=t-1;n>=0;n--){let{match:t,type:r}=this.frontier[n],i=B(e,n,r,t,!0);if(!i||i.childCount)continue e}return{depth:t,fit:o,move:i?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=L(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let t=e.node(n),r=t.type.contentMatch.fillBefore(t.content,!0,e.index(n));this.openFrontierNode(t.type,t.attrs,r)}return e}openFrontierNode(e,t=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=L(this.placed,this.depth,r.Fragment.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(r.Fragment.empty,!0);e.childCount&&(this.placed=L(this.placed,this.frontier.length,e))}}function D(e,t,n){return 0==t?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(D(e.firstChild.content,t-1,n)))}function L(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(L(e.lastChild.content,t-1,n)))}function R(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function I(e,t,n){if(t<=0)return e;let i=e.content;return t>1&&(i=i.replaceChild(0,I(i.firstChild,t-1,1==i.childCount?n-1:0))),t>0&&(i=e.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(e.type.contentMatch.matchFragment(i).fillBefore(r.Fragment.empty,!0)))),e.copy(i)}function B(e,t,n,r,i){let o=e.node(t),a=i?e.indexAfter(t):e.index(t);if(a==o.childCount&&!n.compatibleContent(o.type))return null;let s=r.fillBefore(o.content,!0,a);return s&&!function(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}(n,o.content,a)?s:null}function j(e){return e.spec.defining||e.spec.definingForContent}function F(e,t,n,i,o){if(t<n){let r=e.firstChild;e=e.replaceChild(0,r.copy(F(r.content,t+1,n,i,r)))}if(t>i){let t=o.contentMatchAt(0),n=t.fillBefore(e).append(e);e=n.append(t.matchFragment(n).fillBefore(r.Fragment.empty,!0))}return e}function z(e,t){let n=[];for(let r=Math.min(e.depth,t.depth);r>=0;r--){let i=e.start(r);if(i<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;(i==t.start(r)||r==e.depth&&r==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&r&&t.start(r-1)==i-1)&&n.push(r)}return n}class H extends p{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return d.fail("No node at attribute step's position");let n=Object.create(null);for(let e in t.attrs)n[e]=t.attrs[e];n[this.attr]=this.value;let i=t.type.create(n,null,t.marks);return d.fromReplace(e,this.pos,this.pos+1,new(0,r.Slice)(r.Fragment.from(i),0,t.isLeaf?0:1))}getMap(){return l.empty}invert(e){return new H(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new H(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if("number"!=typeof t.pos||"string"!=typeof t.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new H(t.pos,t.attr,t.value)}}p.jsonID("attr",H);let q=class extends Error{};q=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n},(q.prototype=Object.create(Error.prototype)).constructor=q,q.prototype.name="TransformError";class V{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new c}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new q(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=r.Slice.empty){let i=N(this.doc,e,t,n);return i&&this.step(i),this}replaceWith(e,t,n){return this.replace(e,t,new(0,r.Slice)(r.Fragment.from(n),0,0))}delete(e,t){return this.replace(e,t,r.Slice.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return function(e,t,n,i){if(!i.size)return e.deleteRange(t,n);let o=e.doc.resolve(t),a=e.doc.resolve(n);if(M(o,a,i))return e.step(new y(t,n,i));let s=z(o,e.doc.resolve(n));0==s[s.length-1]&&s.pop();let l=-(o.depth+1);s.unshift(l);for(let e=o.depth,t=o.pos-1;e>0;e--,t--){let n=o.node(e).type.spec;if(n.defining||n.definingAsContext||n.isolating)break;s.indexOf(e)>-1?l=e:o.before(e)==t&&s.splice(1,0,-e)}let c=s.indexOf(l),u=[],p=i.openStart;for(let e=i.content,t=0;;t++){let n=e.firstChild;if(u.push(n),t==i.openStart)break;e=n.content}for(let e=p-1;e>=0;e--){let t=u[e].type,n=j(t);if(n&&o.node(c).type!=t)p=e;else if(n||!t.isTextblock)break}for(let t=i.openStart;t>=0;t--){let l=(t+p+1)%(i.openStart+1),d=u[l];if(d)for(let t=0;t<s.length;t++){let u=s[(t+c)%s.length],p=!0;u<0&&(p=!1,u=-u);let h=o.node(u-1),f=o.index(u-1);if(h.canReplaceWith(f,f,d.type,d.marks))return e.replace(o.before(u),p?a.after(u):n,new(0,r.Slice)(F(i.content,0,i.openStart,l),l,i.openEnd))}}let d=e.steps.length;for(let r=s.length-1;r>=0&&(e.replace(t,n,i),!(e.steps.length>d));r--){let e=s[r];e<0||(t=o.before(e),n=a.after(e))}}(this,e,t,n),this}replaceRangeWith(e,t,n){return function(e,t,n,i){if(!i.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let r=function(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(let e=r.depth-1;e>=0;e--){let t=r.index(e);if(r.node(e).canReplaceWith(t,t,n))return r.before(e+1);if(t>0)return null}if(r.parentOffset==r.parent.content.size)for(let e=r.depth-1;e>=0;e--){let t=r.indexAfter(e);if(r.node(e).canReplaceWith(t,t,n))return r.after(e+1);if(t<r.node(e).childCount)return null}return null}(e.doc,t,i.type);null!=r&&(t=n=r)}e.replaceRange(t,n,new(0,r.Slice)(r.Fragment.from(i),0,0))}(this,e,t,n),this}deleteRange(e,t){return function(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),o=z(r,i);for(let t=0;t<o.length;t++){let n=o[t],a=t==o.length-1;if(a&&0==n||r.node(n).type.contentMatch.validEnd)return e.delete(r.start(n),i.end(n));if(n>0&&(a||r.node(n-1).canReplace(r.index(n-1),i.indexAfter(n-1))))return e.delete(r.before(n),i.after(n))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(t-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o)return e.delete(r.before(o),n);e.delete(t,n)}(this,e,t),this}lift(e,t){return function(e,t,n){let{$from:i,$to:o,depth:a}=t,s=i.before(a+1),l=o.after(a+1),c=s,u=l,p=r.Fragment.empty,d=0;for(let e=a,t=!1;e>n;e--)t||i.index(e)>0?(t=!0,p=r.Fragment.from(i.node(e).copy(p)),d++):c--;let h=r.Fragment.empty,f=0;for(let e=a,t=!1;e>n;e--)t||o.after(e+1)<o.end(e)?(t=!0,h=r.Fragment.from(o.node(e).copy(h)),f++):u++;e.step(new b(c,u,s,l,new(0,r.Slice)(p.append(h),d,f),p.size-d,!0))}(this,e,t),this}join(e,t=1){return function(e,t,n){let i=new y(t-n,t+n,r.Slice.empty,!0);e.step(i)}(this,e,t),this}wrap(e,t){return function(e,t,n){let i=r.Fragment.empty;for(let e=n.length-1;e>=0;e--){if(i.size){let t=n[e].type.contentMatch.matchFragment(i);if(!t||!t.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=r.Fragment.from(n[e].type.create(n[e].attrs,i))}let o=t.start,a=t.end;e.step(new b(o,a,o,a,new(0,r.Slice)(i,0,0),n.length,!0))}(this,e,t),this}setBlockType(e,t=e,n,i=null){return function(e,t,n,i,o){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=e.steps.length;e.doc.nodesBetween(t,n,((t,n)=>{if(t.isTextblock&&!t.hasMarkup(i,o)&&function(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}(e.doc,e.mapping.slice(a).map(n),i)){e.clearIncompatible(e.mapping.slice(a).map(n,1),i);let s=e.mapping.slice(a),l=s.map(n,1),c=s.map(n+t.nodeSize,1);return e.step(new b(l,c,l+1,c-1,new(0,r.Slice)(r.Fragment.from(i.create(o,null,t.marks)),0,0),1,!0)),!1}}))}(this,e,t,n,i),this}setNodeMarkup(e,t,n=null,i){return function(e,t,n,i,o){let a=e.doc.nodeAt(t);if(!a)throw new RangeError("No node at given position");n||(n=a.type);let s=n.create(i,null,o||a.marks);if(a.isLeaf)return e.replaceWith(t,t+a.nodeSize,s);if(!n.validContent(a.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new b(t,t+a.nodeSize,t+1,t+a.nodeSize-1,new(0,r.Slice)(r.Fragment.from(s),0,0),1,!0))}(this,e,t,n,i),this}setNodeAttribute(e,t,n){return this.step(new H(e,t,n)),this}addNodeMark(e,t){return this.step(new g(e,t)),this}removeNodeMark(e,t){if(!(t instanceof r.Mark)){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(!(t=t.isInSet(n.marks)))return this}return this.step(new v(e,t)),this}split(e,t=1,n){return function(e,t,n=1,i){let o=e.doc.resolve(t),a=r.Fragment.empty,s=r.Fragment.empty;for(let e=o.depth,t=o.depth-n,l=n-1;e>t;e--,l--){a=r.Fragment.from(o.node(e).copy(a));let t=i&&i[l];s=r.Fragment.from(t?t.type.create(t.attrs,s):o.node(e).copy(s))}e.step(new y(t,t,new(0,r.Slice)(a.append(s),n,n),!0))}(this,e,t,n),this}addMark(e,t,n){return function(e,t,n,r){let i,o,a=[],s=[];e.doc.nodesBetween(t,n,((e,l,c)=>{if(!e.isInline)return;let u=e.marks;if(!r.isInSet(u)&&c.type.allowsMarkType(r.type)){let c=Math.max(l,t),p=Math.min(l+e.nodeSize,n),d=r.addToSet(u);for(let e=0;e<u.length;e++)u[e].isInSet(d)||(i&&i.to==c&&i.mark.eq(u[e])?i.to=p:a.push(i=new m(c,p,u[e])));o&&o.to==c?o.to=p:s.push(o=new f(c,p,r))}})),a.forEach((t=>e.step(t))),s.forEach((t=>e.step(t)))}(this,e,t,n),this}removeMark(e,t,n){return function(e,t,n,i){let o=[],a=0;e.doc.nodesBetween(t,n,((e,s)=>{if(!e.isInline)return;a++;let l=null;if(i instanceof r.MarkType){let t,n=e.marks;for(;t=i.isInSet(n);)(l||(l=[])).push(t),n=t.removeFromSet(n)}else i?i.isInSet(e.marks)&&(l=[i]):l=e.marks;if(l&&l.length){let r=Math.min(s+e.nodeSize,n);for(let e=0;e<l.length;e++){let n,i=l[e];for(let e=0;e<o.length;e++){let t=o[e];t.step==a-1&&i.eq(o[e].style)&&(n=t)}n?(n.to=r,n.step=a):o.push({style:i,from:Math.max(s,t),to:r,step:a})}}})),o.forEach((t=>e.step(new m(t.from,t.to,t.style))))}(this,e,t,n),this}clearIncompatible(e,t,n){return function(e,t,n,i=n.contentMatch){let o=e.doc.nodeAt(t),a=[],s=t+1;for(let t=0;t<o.childCount;t++){let l=o.child(t),c=s+l.nodeSize,u=i.matchType(l.type);if(u){i=u;for(let t=0;t<l.marks.length;t++)n.allowsMarkType(l.marks[t].type)||e.step(new m(s,c,l.marks[t]))}else a.push(new y(s,c,r.Slice.empty));s=c}if(!i.validEnd){let t=i.fillBefore(r.Fragment.empty,!0);e.replace(s,s,new(0,r.Slice)(t,0,0))}for(let t=a.length-1;t>=0;t--)e.step(a[t])}(this,e,t,n),this}}})),o.register("f15Bj",(function(t,n){e(t.exports,"keymap",(()=>c)),e(t.exports,"keydownHandler",(()=>u));var r=o("3qQC8"),i=o("gHsGI");const a="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function s(e){let t,n,r,i,o=e.split(/-(?!$)/),s=o[o.length-1];"Space"==s&&(s=" ");for(let e=0;e<o.length-1;e++){let s=o[e];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else if(/^s(hift)?$/i.test(s))r=!0;else{if(!/^mod$/i.test(s))throw new Error("Unrecognized modifier name: "+s);a?i=!0:n=!0}}return t&&(s="Alt-"+s),n&&(s="Ctrl-"+s),i&&(s="Meta-"+s),r&&(s="Shift-"+s),s}function l(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function c(e){return new(0,i.Plugin)({props:{handleKeyDown:u(e)}})}function u(e){let t=function(e){let t=Object.create(null);for(let n in e)t[s(n)]=e[n];return t}(e);return function(e,n){let i,o=(0,r.keyName)(n),a=t[l(o,n)];if(a&&a(e.state,e.dispatch,e))return!0;if(1==o.length&&" "!=o){if(n.shiftKey){let r=t[l(o,n,!1)];if(r&&r(e.state,e.dispatch,e))return!0}if((n.shiftKey||n.altKey||n.metaKey||o.charCodeAt(0)>127)&&(i=r.base[n.keyCode])&&i!=o){let r=t[l(i,n)];if(r&&r(e.state,e.dispatch,e))return!0}}return!1}}})),o.register("3qQC8",(function(t,n){e(t.exports,"base",(()=>r)),e(t.exports,"keyName",(()=>p));for(var r={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},i={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},o="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),a=("undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)),s="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),l=a||o&&+o[1]<57,c=0;c<10;c++)r[48+c]=r[96+c]=String(c);for(c=1;c<=24;c++)r[c+111]="F"+c;for(c=65;c<=90;c++)r[c]=String.fromCharCode(c+32),i[c]=String.fromCharCode(c);for(var u in r)i.hasOwnProperty(u)||(i[u]=r[u]);function p(e){var t=!(l&&(e.ctrlKey||e.altKey||e.metaKey)||s&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?i:r)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}})),o.register("dpGEw",(function(t,n){e(t.exports,"InputRule",(()=>a)),e(t.exports,"inputRules",(()=>l)),e(t.exports,"undoInputRule",(()=>u)),e(t.exports,"emDash",(()=>p)),e(t.exports,"ellipsis",(()=>d)),e(t.exports,"openDoubleQuote",(()=>h)),e(t.exports,"closeDoubleQuote",(()=>f)),e(t.exports,"openSingleQuote",(()=>m)),e(t.exports,"closeSingleQuote",(()=>g)),e(t.exports,"smartQuotes",(()=>v)),e(t.exports,"wrappingInputRule",(()=>y)),e(t.exports,"textblockTypeInputRule",(()=>b));var r=o("gHsGI"),i=o("8uhG7");class a{constructor(e,t){var n;this.match=e,this.match=e,this.handler="string"==typeof t?(n=t,function(e,t,r,i){let o=n;if(t[1]){let e=t[0].lastIndexOf(t[1]);o+=t[0].slice(e+t[1].length);let n=(r+=e)-i;n>0&&(o=t[0].slice(e-n,e)+o,r=i)}return e.tr.insertText(o,r,i)}):t}}const s=500;function l({rules:e}){let t=new(0,r.Plugin)({state:{init:()=>null,apply(e,t){let n=e.getMeta(this);return n||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput:(n,r,i,o)=>c(n,r,i,o,e,t),handleDOMEvents:{compositionend:n=>{setTimeout((()=>{let{$cursor:r}=n.state.selection;r&&c(n,r.pos,r.pos,"",e,t)}))}}},isInputRules:!0});return t}function c(e,t,n,r,i,o){if(e.composing)return!1;let a=e.state,l=a.doc.resolve(t);if(l.parent.type.spec.code)return!1;let c=l.parent.textBetween(Math.max(0,l.parentOffset-s),l.parentOffset,null,"")+r;for(let s=0;s<i.length;s++){let l=i[s].match.exec(c),u=l&&i[s].handler(a,l,t-(l[0].length-r.length),n);if(u)return e.dispatch(u.setMeta(o,{transform:u,from:t,to:n,text:r})),!0}return!1}const u=(e,t)=>{let n=e.plugins;for(let r=0;r<n.length;r++){let i,o=n[r];if(o.spec.isInputRules&&(i=o.getState(e))){if(t){let n=e.tr,r=i.transform;for(let e=r.steps.length-1;e>=0;e--)n.step(r.steps[e].invert(r.docs[e]));if(i.text){let t=n.doc.resolve(i.from).marks();n.replaceWith(i.from,i.to,e.schema.text(i.text,t))}else n.delete(i.from,i.to);t(n)}return!0}}return!1},p=new a(/--$/,""),d=new a(/\.\.\.$/,""),h=new a(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,""),f=new a(/"$/,""),m=new a(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,""),g=new a(/'$/,""),v=[h,f,m,g];function y(e,t,n=null,r){return new a(e,((e,o,a,s)=>{let l=n instanceof Function?n(o):n,c=e.tr.delete(a,s),u=c.doc.resolve(a).blockRange(),p=u&&(0,i.findWrapping)(u,t,l);if(!p)return null;c.wrap(u,p);let d=c.doc.resolve(a-1).nodeBefore;return d&&d.type==t&&(0,i.canJoin)(c.doc,a-1)&&(!r||r(o,d))&&c.join(a-1),c}))}function b(e,t,n=null){return new a(e,((e,r,i,o)=>{let a=e.doc.resolve(i),s=n instanceof Function?n(r):n;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),t)?e.tr.delete(i,o).setBlockType(i,i,t,s):null}))}})),o.register("grs8m",(function(t,n){
/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var r,i,o,a,s,l,c,u,p,d,h,f,m,g,v,y,b,w,x,k,S,C,E,T,_,A,O,N;e(t.exports,"ContextConsumer",(()=>r),(e=>r=e)),e(t.exports,"ContextProvider",(()=>i),(e=>i=e)),e(t.exports,"Element",(()=>o),(e=>o=e)),e(t.exports,"ForwardRef",(()=>a),(e=>a=e)),e(t.exports,"Fragment",(()=>s),(e=>s=e)),e(t.exports,"Lazy",(()=>l),(e=>l=e)),e(t.exports,"Memo",(()=>c),(e=>c=e)),e(t.exports,"Portal",(()=>u),(e=>u=e)),e(t.exports,"Profiler",(()=>p),(e=>p=e)),e(t.exports,"StrictMode",(()=>d),(e=>d=e)),e(t.exports,"Suspense",(()=>h),(e=>h=e)),e(t.exports,"SuspenseList",(()=>f),(e=>f=e)),e(t.exports,"isAsyncMode",(()=>m),(e=>m=e)),e(t.exports,"isConcurrentMode",(()=>g),(e=>g=e)),e(t.exports,"isContextConsumer",(()=>v),(e=>v=e)),e(t.exports,"isContextProvider",(()=>y),(e=>y=e)),e(t.exports,"isElement",(()=>b),(e=>b=e)),e(t.exports,"isForwardRef",(()=>w),(e=>w=e)),e(t.exports,"isFragment",(()=>x),(e=>x=e)),e(t.exports,"isLazy",(()=>k),(e=>k=e)),e(t.exports,"isMemo",(()=>S),(e=>S=e)),e(t.exports,"isPortal",(()=>C),(e=>C=e)),e(t.exports,"isProfiler",(()=>E),(e=>E=e)),e(t.exports,"isStrictMode",(()=>T),(e=>T=e)),e(t.exports,"isSuspense",(()=>_),(e=>_=e)),e(t.exports,"isSuspenseList",(()=>A),(e=>A=e)),e(t.exports,"isValidElementType",(()=>O),(e=>O=e)),e(t.exports,"typeOf",(()=>N),(e=>N=e));var M,P=Symbol.for("react.element"),D=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),j=Symbol.for("react.context"),F=Symbol.for("react.server_context"),z=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen");function $(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case P:switch(e=e.type){case L:case I:case R:case H:case q:return e;default:switch(e=e&&e.$$typeof){case F:case j:case z:case U:case V:case B:return e;default:return t}}case D:return t}}}M=Symbol.for("react.module.reference"),r=j,i=B,o=P,a=z,s=L,l=U,c=V,u=D,p=I,d=R,h=H,f=q,m=function(){return!1},g=function(){return!1},v=function(e){return $(e)===j},y=function(e){return $(e)===B},b=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===P},w=function(e){return $(e)===z},x=function(e){return $(e)===L},k=function(e){return $(e)===U},S=function(e){return $(e)===V},C=function(e){return $(e)===D},E=function(e){return $(e)===I},T=function(e){return $(e)===R},_=function(e){return $(e)===H},A=function(e){return $(e)===q},O=function(e){return"string"==typeof e||"function"==typeof e||e===L||e===I||e===R||e===H||e===q||e===W||"object"==typeof e&&null!==e&&(e.$$typeof===U||e.$$typeof===V||e.$$typeof===B||e.$$typeof===j||e.$$typeof===z||e.$$typeof===M||void 0!==e.getModuleId)},N=$}));var a;a=o("1b2ls"),o("acw62");var s;!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),s=o("Xw6Mv");var l=o("acw62");function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function u(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}l=o("acw62");function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function d(e){return"/"===e.charAt(0)}function h(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var f=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&d(e),a=t&&d(t),s=o||a;if(e&&d(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var l=i[i.length-1];n="."===l||".."===l||""===l}else n=!1;for(var c=0,u=i.length;u>=0;u--){var p=i[u];"."===p?h(i,u):".."===p?(h(i,u),c++):c&&(h(i,u),c--)}if(!s)for(;c--;c)i.unshift("..");!s||""===i[0]||i[0]&&d(i[0])||i.unshift("");var f=i.join("/");return n&&"/"!==f.substr(-1)&&(f+="/"),f};var m=!0,g="Invariant failed";function v(e,t){if(!e){if(m)throw new Error(g);var n="function"==typeof t?t():t,r=n?"".concat(g,": ").concat(n):g;throw new Error(r)}}function y(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function b(e,t,n,r){var i;"string"==typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=p({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=f(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function w(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}"undefined"==typeof window||!window.document||window.document.createElement;function x(e,t,n){return Math.min(Math.max(e,t),n)}function k(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,o=t.initialIndex,a=void 0===o?0:o,s=t.keyLength,l=void 0===s?6:s,c=w();function u(e){p(v,e),v.length=v.entries.length,c.notifyListeners(v.location,v.action)}function d(){return Math.random().toString(36).substr(2,l)}var h=x(a,0,i.length-1),f=i.map((function(e){return b(e,void 0,"string"==typeof e?d():e.key||d())})),m=y;function g(e){var t=x(v.index+e,0,v.entries.length-1),r=v.entries[t];c.confirmTransitionTo(r,"POP",n,(function(e){e?u({action:"POP",location:r,index:t}):u()}))}var v={length:f.length,action:"POP",location:f[h],index:h,entries:f,createHref:m,push:function(e,t){var r="PUSH",i=b(e,t,d(),v.location);c.confirmTransitionTo(i,r,n,(function(e){if(e){var t=v.index+1,n=v.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),u({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=b(e,t,d(),v.location);c.confirmTransitionTo(i,r,n,(function(e){e&&(v.entries[v.index]=i,u({action:r,location:i}))}))},go:g,goBack:function(){g(-1)},goForward:function(){g(1)},canGo:function(e){var t=v.index+e;return t>=0&&t<v.entries.length},block:function(e){return void 0===e&&(e=!1),c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return v}l=o("acw62");var S={};S=o("hOzOt")();var C=1073741823,E="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n?n:{};var T=t(l).createContext||function(e,n){var r,i,o,a="__create-react-context-"+((E[o="__global_unique_id__"]=(E[o]||0)+1)+"__"),s=function(e){function t(){var t,n,r;return(t=e.apply(this,arguments)||this).emitter=(n=t.props.value,r=[],{on:function(e){r.push(e)},off:function(e){r=r.filter((function(t){return t!==e}))},get:function(){return n},set:function(e,t){n=e,r.forEach((function(e){return e(n,t)}))}}),t}u(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o==1/a:o!=o&&a!=a)?t=0:(t="function"==typeof n?n(r,i):C,0!==(t|=0)&&this.emitter.set(e.value,t))}var o,a},r.render=function(){return this.props.children},t}(l.Component);s.childContextTypes=((r={})[a]=t(S).object.isRequired,r);var c=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!=((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}u(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?C:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?C:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(l.Component);return c.contextTypes=((i={})[a]=t(S).object,i),{Provider:s,Consumer:c}},_=T,A={},O={};O=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},(A=F).parse=M,A.compile=function(e,t){return D(M(e,t),t)},A.tokensToFunction=D,A.tokensToRegExp=j;var N=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function M(e,t){for(var n,r=[],i=0,o=0,a="",s=t&&t.delimiter||"/";null!=(n=N.exec(e));){var l=n[0],c=n[1],u=n.index;if(a+=e.slice(o,u),o=u+l.length,c)a+=c[1];else{var p=e[o],d=n[2],h=n[3],f=n[4],m=n[5],g=n[6],v=n[7];a&&(r.push(a),a="");var y=null!=d&&null!=p&&p!==d,b="+"===g||"*"===g,w="?"===g||"*"===g,x=n[2]||s,k=f||m;r.push({name:h||i++,prefix:d||"",delimiter:x,optional:w,repeat:b,partial:y,asterisk:!!v,pattern:k?R(k):v?".*":"[^"+L(x)+"]+?"})}}return o<e.length&&(a+=e.substr(o)),a&&r.push(a),r}function P(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function D(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)"object"==typeof e[r]&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",B(t)));return function(t,r){for(var i="",o=t||{},a=(r||{}).pretty?P:encodeURIComponent,s=0;s<e.length;s++){var l=e[s];if("string"!=typeof l){var c,u=o[l.name];if(null==u){if(l.optional){l.partial&&(i+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(O(u)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(u)+"`");if(0===u.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var p=0;p<u.length;p++){if(c=a(u[p]),!n[s].test(c))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(c)+"`");i+=(0===p?l.prefix:l.delimiter)+c}}else{if(c=l.asterisk?encodeURI(u).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):a(u),!n[s].test(c))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+c+'"');i+=l.prefix+c}}else i+=l}return i}}function L(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function R(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function I(e,t){return e.keys=t,e}function B(e){return e&&e.sensitive?"":"i"}function j(e,t,n){O(t)||(n=t||n,t=[]);for(var r=(n=n||{}).strict,i=!1!==n.end,o="",a=0;a<e.length;a++){var s=e[a];if("string"==typeof s)o+=L(s);else{var l=L(s.prefix),c="(?:"+s.pattern+")";t.push(s),s.repeat&&(c+="(?:"+l+c+")*"),o+=c=s.optional?s.partial?l+"("+c+")?":"(?:"+l+"("+c+"))?":l+"("+c+")"}}var u=L(n.delimiter||"/"),p=o.slice(-u.length)===u;return r||(o=(p?o.slice(0,-u.length):o)+"(?:"+u+"(?=$))?"),o+=i?"$":r&&p?"":"(?="+u+"|$)",I(new RegExp("^"+o,B(n)),t)}function F(e,t,n){return O(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return I(e,t)}(e,t):O(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(F(e[i],t,n).source);return I(new RegExp("(?:"+r.join("|")+")",B(n)),t)}(e,t,n):function(e,t,n){return j(M(e,n),t,n)}(e,t,n)}var z={};function H(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}z=o("9cCWX");var q,V={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},U={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},W={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},$={};function G(e){return z.isMemo(e)?W:$[e.$$typeof]||V}$[z.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},$[z.Memo]=W;var X=Object.defineProperty,Y=Object.getOwnPropertyNames,Z=Object.getOwnPropertySymbols,K=Object.getOwnPropertyDescriptor,J=Object.getPrototypeOf,Q=Object.prototype;q=function e(t,n,r){if("string"!=typeof n){if(Q){var i=J(n);i&&i!==Q&&e(t,i,r)}var o=Y(n);Z&&(o=o.concat(Z(n)));for(var a=G(t),s=G(n),l=0;l<o.length;++l){var c=o[l];if(!(U[c]||r&&r[c]||s&&s[c]||a&&a[c])){var u=K(n,c);try{X(t,c,u)}catch(e){}}}}return t};var ee=function(e){var t=_();return t.displayName=e,t}("Router-History"),te=function(e){var t=_();return t.displayName=e,t}("Router"),ne=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}u(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return t(l).createElement(te.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t(l).createElement(ee.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t(l).Component);t(l).Component,t(l).Component;var re={},ie=1e4,oe=0;function ae(e,n){void 0===n&&(n={}),("string"==typeof n||Array.isArray(n))&&(n={path:n});var r=n,i=r.path,o=r.exact,a=void 0!==o&&o,s=r.strict,l=void 0!==s&&s,c=r.sensitive,u=void 0!==c&&c;return[].concat(i).reduce((function(n,r){if(!r&&""!==r)return null;if(n)return n;var i=function(e,n){var r=""+n.end+n.strict+n.sensitive,i=re[r]||(re[r]={});if(i[e])return i[e];var o=[],a={regexp:t(A)(e,o,n),keys:o};return oe<ie&&(i[e]=a,oe++),a}(r,{end:a,strict:l,sensitive:u}),o=i.regexp,s=i.keys,c=o.exec(e);if(!c)return null;var p=c[0],d=c.slice(1),h=e===p;return a&&!h?null:{path:r,url:"/"===r&&""===p?"/":p,isExact:h,params:s.reduce((function(e,t,n){return e[t.name]=d[n],e}),{})}}),null)}var se=function(e){function n(){return e.apply(this,arguments)||this}return u(n,e),n.prototype.render=function(){var e=this;return t(l).createElement(te.Consumer,null,(function(n){!n&&v(!1);var r=e.props.location||n.location,i=p({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?ae(r.pathname,e.props):n.match}),o=e.props,a=o.children,s=o.component,c=o.render;return Array.isArray(a)&&0===a.length&&(a=null),t(l).createElement(te.Provider,{value:i},i.match?a?"function"==typeof a?a(i):a:s?t(l).createElement(s,i):c?c(i):null:"function"==typeof a?a(i):null)}))},n}(t(l).Component);function le(e){return"/"===e.charAt(0)?e:"/"+e}function ce(e,t){if(!e)return t;var n=le(e);return 0!==t.pathname.indexOf(n)?t:p({},t,{pathname:t.pathname.substr(n.length)})}function ue(e){return"string"==typeof e?e:y(e)}function pe(e){return function(){v(!1)}}function de(){}t(l).Component;var he=function(e){function n(){return e.apply(this,arguments)||this}return u(n,e),n.prototype.render=function(){var e=this;return t(l).createElement(te.Consumer,null,(function(n){!n&&v(!1);var r,i,o=e.props.location||n.location;return t(l).Children.forEach(e.props.children,(function(e){if(null==i&&t(l).isValidElement(e)){r=e;var a=e.props.path||e.props.from;i=a?ae(o.pathname,p({},e.props,{path:a})):n.match}})),i?t(l).cloneElement(r,{location:o,computedMatch:i}):null}))},n}(t(l).Component);function fe(e){var n="withRouter("+(e.displayName||e.name)+")",r=function(n){var r=n.wrappedComponentRef,i=H(n,["wrappedComponentRef"]);return t(l).createElement(te.Consumer,null,(function(n){return!n&&v(!1),t(l).createElement(e,p({},i,n,{ref:r}))}))};return r.displayName=n,r.WrappedComponent=e,t(q)(r,e)}t(l).useContext;l=o("acw62");function me(e){return"/"===e.charAt(0)?e:"/"+e}function ge(e){return"/"===e.charAt(0)?e.substr(1):e}function ve(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function ye(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function be(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function we(e,t,n,r){var i;"string"==typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=p({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=f(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function xe(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var ke=!("undefined"==typeof window||!window.document||!window.document.createElement);function Se(e,t){t(window.confirm(e))}var Ce="popstate",Ee="hashchange";function Te(){try{return window.history.state||{}}catch(e){return{}}}function _e(e){void 0===e&&(e={}),!ke&&v(!1);var t,n=window.history,r=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,s=void 0!==a&&a,l=o.getUserConfirmation,c=void 0===l?Se:l,u=o.keyLength,d=void 0===u?6:u,h=e.basename?ye(me(e.basename)):"";function f(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return h&&(o=ve(o,h)),we(o,r,n)}function m(){return Math.random().toString(36).substr(2,d)}var g=xe();function y(e){p(N,e),N.length=n.length,g.notifyListeners(N.location,N.action)}function b(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||k(f(e.state))}function w(){k(f(Te()))}var x=!1;function k(e){if(x)x=!1,y();else{g.confirmTransitionTo(e,"POP",c,(function(t){t?y({action:"POP",location:e}):function(e){var t=N.location,n=C.indexOf(t.key);-1===n&&(n=0);var r=C.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(x=!0,T(i))}(e)}))}}var S=f(Te()),C=[S.key];function E(e){return h+be(e)}function T(e){n.go(e)}var _=0;function A(e){1===(_+=e)&&1===e?(window.addEventListener(Ce,b),i&&window.addEventListener(Ee,w)):0===_&&(window.removeEventListener(Ce,b),i&&window.removeEventListener(Ee,w))}var O=!1;var N={length:n.length,action:"POP",location:S,createHref:E,push:function(e,t){var i="PUSH",o=we(e,t,m(),N.location);g.confirmTransitionTo(o,i,c,(function(e){if(e){var t=E(o),a=o.key,l=o.state;if(r)if(n.pushState({key:a,state:l},null,t),s)window.location.href=t;else{var c=C.indexOf(N.location.key),u=C.slice(0,c+1);u.push(o.key),C=u,y({action:i,location:o})}else window.location.href=t}}))},replace:function(e,t){var i="REPLACE",o=we(e,t,m(),N.location);g.confirmTransitionTo(o,i,c,(function(e){if(e){var t=E(o),a=o.key,l=o.state;if(r)if(n.replaceState({key:a,state:l},null,t),s)window.location.replace(t);else{var c=C.indexOf(N.location.key);-1!==c&&(C[c]=o.key),y({action:i,location:o})}else window.location.replace(t)}}))},go:T,goBack:function(){T(-1)},goForward:function(){T(1)},block:function(e){void 0===e&&(e=!1);var t=g.setPrompt(e);return O||(A(1),O=!0),function(){return O&&(O=!1,A(-1)),t()}},listen:function(e){var t=g.appendListener(e);return A(1),function(){A(-1),t()}}};return N}var Ae="hashchange",Oe={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+ge(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:ge,decodePath:me},slash:{encodePath:me,decodePath:me}};function Ne(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function Me(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function Pe(e){window.location.replace(Ne(window.location.href)+"#"+e)}function De(e){void 0===e&&(e={}),!ke&&v(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?Se:r,o=n.hashType,a=void 0===o?"slash":o,s=e.basename?ye(me(e.basename)):"",l=Oe[a],c=l.encodePath,u=l.decodePath;function d(){var e=u(Me());return s&&(e=ve(e,s)),we(e)}var h=xe();function f(e){p(_,e),_.length=t.length,h.notifyListeners(_.location,_.action)}var m=!1,g=null;function y(){var e,t,n=Me(),r=c(n);if(n!==r)Pe(r);else{var o=d(),a=_.location;if(!m&&(t=o,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(g===be(o))return;g=null,function(e){if(m)m=!1,f();else{var t="POP";h.confirmTransitionTo(e,t,i,(function(n){n?f({action:t,location:e}):function(e){var t=_.location,n=k.lastIndexOf(be(t));-1===n&&(n=0);var r=k.lastIndexOf(be(e));-1===r&&(r=0);var i=n-r;i&&(m=!0,S(i))}(e)}))}}(o)}}var b=Me(),w=c(b);b!==w&&Pe(w);var x=d(),k=[be(x)];function S(e){t.go(e)}var C=0;function E(e){1===(C+=e)&&1===e?window.addEventListener(Ae,y):0===C&&window.removeEventListener(Ae,y)}var T=!1;var _={length:t.length,action:"POP",location:x,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=Ne(window.location.href)),n+"#"+c(s+be(e))},push:function(e,t){var n="PUSH",r=we(e,void 0,void 0,_.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=be(r),i=c(s+t);if(Me()!==i){g=t,function(e){window.location.hash=e}(i);var o=k.lastIndexOf(be(_.location)),a=k.slice(0,o+1);a.push(t),k=a,f({action:n,location:r})}else f()}}))},replace:function(e,t){var n="REPLACE",r=we(e,void 0,void 0,_.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=be(r),i=c(s+t);Me()!==i&&(g=t,Pe(i));var o=k.indexOf(be(_.location));-1!==o&&(k[o]=t),f({action:n,location:r})}}))},go:S,goBack:function(){S(-1)},goForward:function(){S(1)},block:function(e){void 0===e&&(e=!1);var t=h.setPrompt(e);return T||(E(1),T=!0),function(){return T&&(T=!1,E(-1)),t()}},listen:function(e){var t=h.appendListener(e);return E(1),function(){E(-1),t()}}};return _}t(l).Component;var Le=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=De(t.props),t}return u(n,e),n.prototype.render=function(){return t(l).createElement(ne,{history:this.history,children:this.props.children})},n}(t(l).Component),Re=function(e,t){return"function"==typeof e?e(t):e},Ie=function(e,t){return"string"==typeof e?we(e,null,null,t):e},Be=function(e){return e},je=t(l).forwardRef;void 0===je&&(je=Be);var Fe=je((function(e,n){var r=e.innerRef,i=e.navigate,o=e.onClick,a=H(e,["innerRef","navigate","onClick"]),s=a.target,c=p({},a,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return c.ref=Be!==je&&n||r,t(l).createElement("a",c)})),ze=je((function(e,n){var r=e.component,i=void 0===r?Fe:r,o=e.replace,a=e.to,s=e.innerRef,c=H(e,["component","replace","to","innerRef"]);return t(l).createElement(te.Consumer,null,(function(e){!e&&v(!1);var r=e.history,u=Ie(Re(a,e.location),e.location),d=u?r.createHref(u):"",h=p({},c,{href:d,navigate:function(){var t=Re(a,e.location);(o?r.replace:r.push)(t)}});return Be!==je?h.ref=n||s:h.innerRef=s,t(l).createElement(i,h)}))})),He=function(e){return e},qe=t(l).forwardRef;void 0===qe&&(qe=He);var Ve,Ue;qe((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,o=e.activeClassName,a=void 0===o?"active":o,s=e.activeStyle,c=e.className,u=e.exact,d=e.isActive,h=e.location,f=e.sensitive,m=e.strict,g=e.style,y=e.to,b=e.innerRef,w=H(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t(l).createElement(te.Consumer,null,(function(e){!e&&v(!1);var r=h||e.location,o=Ie(Re(y,r),r),x=o.pathname,k=x&&x.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),S=k?ae(r.pathname,{path:k,exact:u,sensitive:f,strict:m}):null,C=!!(d?d(S,r):S),E=C?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(c,a):c,T=C?p({},g,{},s):g,_=p({"aria-current":C&&i||null,className:E,style:T,to:o},w);return He!==qe?_.ref=n||b:_.innerRef=b,t(l).createElement(ze,_)}))}));(Ue=Ve||(Ve={})).Pop="POP",Ue.Push="PUSH",Ue.Replace="REPLACE";var We="beforeunload",$e="popstate";function Ge(e){e.preventDefault(),e.returnValue=""}function Xe(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function Ye(){return Math.random().toString(36).substr(2,8)}function Ze(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,o=e.hash,a=void 0===o?"":o;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function Ke(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var Je=function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function i(){var e=n.location,t=e.pathname,i=e.search,o=e.hash,a=r.state||{};return[a.idx,{pathname:t,search:i,hash:o,state:a.usr||null,key:a.key||"default"}]}var o=null;n.addEventListener($e,(function(){if(o)d.call(o),o=null;else{var e=Ve.Pop,t=i(),n=t[0],r=t[1];if(d.length){if(null!=n){var a=l-n;a&&(o={action:e,location:r,retry:function(){y(-1*a)}},y(a))}}else v(e)}}));var a=Ve.Pop,s=i(),l=s[0],c=s[1],u=Xe(),d=Xe();function h(e){return"string"==typeof e?e:Ze(e)}function f(e,t){return void 0===t&&(t=null),p({pathname:c.pathname,hash:"",search:""},"string"==typeof e?Ke(e):e,{state:t,key:Ye()})}function m(e,t){return[{usr:e.state,key:e.key,idx:t},h(e)]}function g(e,t,n){return!d.length||(d.call({action:e,location:t,retry:n}),!1)}function v(e){a=e;var t=i();l=t[0],c=t[1],u.call({action:a,location:c})}function y(e){r.go(e)}return null==l&&(l=0,r.replaceState(p({},r.state,{idx:l}),"")),{get action(){return a},get location(){return c},createHref:h,push:function e(t,i){var o=Ve.Push,a=f(t,i);if(g(o,a,(function(){e(t,i)}))){var s=m(a,l+1),c=s[0],u=s[1];try{r.pushState(c,"",u)}catch(e){n.location.assign(u)}v(o)}},replace:function e(t,n){var i=Ve.Replace,o=f(t,n);if(g(i,o,(function(){e(t,n)}))){var a=m(o,l),s=a[0],c=a[1];r.replaceState(s,"",c),v(i)}},go:y,back:function(){y(-1)},forward:function(){y(1)},listen:function(e){return u.push(e)},block:function(e){var t=d.push(e);return 1===d.length&&n.addEventListener(We,Ge),function(){t(),d.length||n.removeEventListener(We,Ge)}}}}(),Qe={};Qe=function(){const e="SweetAlert2:",t=e=>{const t=[];for(let n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t},n=e=>e.charAt(0).toUpperCase()+e.slice(1),r=t=>{console.warn("".concat(e," ").concat("object"==typeof t?t.join(" "):t))},i=t=>{console.error("".concat(e," ").concat(t))},o=[],a=e=>{o.includes(e)||(o.push(e),r(e))},s=(e,t)=>{a('"'.concat(e,'" is deprecated and will be removed in the next major release. Please use "').concat(t,'" instead.'))},l=e=>"function"==typeof e?e():e,c=e=>e&&"function"==typeof e.toPromise,u=e=>c(e)?e.toPromise():Promise.resolve(e),p=e=>e&&Promise.resolve(e)===e,d=e=>e[Math.floor(Math.random()*e.length)],h={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},f=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],m={},g=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],v=e=>Object.prototype.hasOwnProperty.call(h,e),y=e=>-1!==f.indexOf(e),b=e=>m[e],w=e=>{v(e)||r('Unknown parameter "'.concat(e,'"'))},x=e=>{g.includes(e)&&r('The parameter "'.concat(e,'" is incompatible with toasts'))},k=e=>{b(e)&&s(e,b(e))},S=e=>{!e.backdrop&&e.allowOutsideClick&&r('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const t in e)w(t),e.toast&&x(t),k(t)},C="swal2-",E=e=>{const t={};for(const n in e)t[e[n]]=C+e[n];return t},T=E(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","no-war"]),_=E(["success","warning","info","question","error"]),A=()=>document.body.querySelector(".".concat(T.container)),O=e=>{const t=A();return t?t.querySelector(e):null},N=e=>O(".".concat(e)),M=()=>N(T.popup),P=()=>N(T.icon),D=()=>N(T.title),L=()=>N(T["html-container"]),R=()=>N(T.image),I=()=>N(T["progress-steps"]),B=()=>N(T["validation-message"]),j=()=>O(".".concat(T.actions," .").concat(T.confirm)),F=()=>O(".".concat(T.actions," .").concat(T.deny)),z=()=>N(T["input-label"]),H=()=>O(".".concat(T.loader)),q=()=>O(".".concat(T.actions," .").concat(T.cancel)),V=()=>N(T.actions),U=()=>N(T.footer),W=()=>N(T["timer-progress-bar"]),$=()=>N(T.close),G='\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n',X=()=>{const e=Array.from(M().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(((e,t)=>{const n=parseInt(e.getAttribute("tabindex")),r=parseInt(t.getAttribute("tabindex"));return n>r?1:n<r?-1:0})),n=Array.from(M().querySelectorAll(G)).filter((e=>"-1"!==e.getAttribute("tabindex")));return t(e.concat(n)).filter((e=>fe(e)))},Y=()=>ee(document.body,T.shown)&&!ee(document.body,T["toast-shown"])&&!ee(document.body,T["no-backdrop"]),Z=()=>M()&&ee(M(),T.toast),K=()=>M().hasAttribute("data-loading"),J={previousBodyPadding:null},Q=(e,t)=>{if(e.textContent="",t){const n=(new DOMParser).parseFromString(t,"text/html");Array.from(n.querySelector("head").childNodes).forEach((t=>{e.appendChild(t)})),Array.from(n.querySelector("body").childNodes).forEach((t=>{e.appendChild(t)}))}},ee=(e,t)=>{if(!t)return!1;const n=t.split(/\s+/);for(let t=0;t<n.length;t++)if(!e.classList.contains(n[t]))return!1;return!0},te=(e,t)=>{Array.from(e.classList).forEach((n=>{Object.values(T).includes(n)||Object.values(_).includes(n)||Object.values(t.showClass).includes(n)||e.classList.remove(n)}))},ne=(e,t,n)=>{if(te(e,t),t.customClass&&t.customClass[n]){if("string"!=typeof t.customClass[n]&&!t.customClass[n].forEach)return r("Invalid type of customClass.".concat(n,'! Expected string or iterable object, got "').concat(typeof t.customClass[n],'"'));ae(e,t.customClass[n])}},re=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(".".concat(T.popup," > .").concat(T[t]));case"checkbox":return e.querySelector(".".concat(T.popup," > .").concat(T.checkbox," input"));case"radio":return e.querySelector(".".concat(T.popup," > .").concat(T.radio," input:checked"))||e.querySelector(".".concat(T.popup," > .").concat(T.radio," input:first-child"));case"range":return e.querySelector(".".concat(T.popup," > .").concat(T.range," input"));default:return e.querySelector(".".concat(T.popup," > .").concat(T.input))}},ie=e=>{if(e.focus(),"file"!==e.type){const t=e.value;e.value="",e.value=t}},oe=(e,t,n)=>{e&&t&&("string"==typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach((t=>{Array.isArray(e)?e.forEach((e=>{n?e.classList.add(t):e.classList.remove(t)})):n?e.classList.add(t):e.classList.remove(t)})))},ae=(e,t)=>{oe(e,t,!0)},se=(e,t)=>{oe(e,t,!1)},le=(e,t)=>{const n=Array.from(e.children);for(let e=0;e<n.length;e++){const r=n[e];if(r instanceof HTMLElement&&ee(r,t))return r}},ce=(e,t,n)=>{n==="".concat(parseInt(n))&&(n=parseInt(n)),n||0===parseInt(n)?e.style[t]="number"==typeof n?"".concat(n,"px"):n:e.style.removeProperty(t)},ue=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e.style.display=t},pe=e=>{e.style.display="none"},de=(e,t,n,r)=>{const i=e.querySelector(t);i&&(i.style[n]=r)},he=function(e,t){t?ue(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):pe(e)},fe=e=>!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),me=()=>!fe(j())&&!fe(F())&&!fe(q()),ge=e=>!!(e.scrollHeight>e.clientHeight),ve=e=>{const t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),r=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||r>0},ye=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=W();fe(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout((()=>{n.style.transition="width ".concat(e/1e3,"s linear"),n.style.width="0%"}),10))},be=()=>{const e=W(),t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const n=t/parseInt(window.getComputedStyle(e).width)*100;e.style.removeProperty("transition"),e.style.width="".concat(n,"%")},we=()=>"undefined"==typeof window||"undefined"==typeof document,xe=100,ke={},Se=()=>{ke.previousActiveElement instanceof HTMLElement?(ke.previousActiveElement.focus(),ke.previousActiveElement=null):document.body&&document.body.focus()},Ce=e=>new Promise((t=>{if(!e)return t();const n=window.scrollX,r=window.scrollY;ke.restoreFocusTimeout=setTimeout((()=>{Se(),t()}),xe),window.scrollTo(n,r)})),Ee='\n <div aria-labelledby="'.concat(T.title,'" aria-describedby="').concat(T["html-container"],'" class="').concat(T.popup,'" tabindex="-1">\n   <button type="button" class="').concat(T.close,'"></button>\n   <ul class="').concat(T["progress-steps"],'"></ul>\n   <div class="').concat(T.icon,'"></div>\n   <img class="').concat(T.image,'" />\n   <h2 class="').concat(T.title,'" id="').concat(T.title,'"></h2>\n   <div class="').concat(T["html-container"],'" id="').concat(T["html-container"],'"></div>\n   <input class="').concat(T.input,'" />\n   <input type="file" class="').concat(T.file,'" />\n   <div class="').concat(T.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(T.select,'"></select>\n   <div class="').concat(T.radio,'"></div>\n   <label for="').concat(T.checkbox,'" class="').concat(T.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(T.label,'"></span>\n   </label>\n   <textarea class="').concat(T.textarea,'"></textarea>\n   <div class="').concat(T["validation-message"],'" id="').concat(T["validation-message"],'"></div>\n   <div class="').concat(T.actions,'">\n     <div class="').concat(T.loader,'"></div>\n     <button type="button" class="').concat(T.confirm,'"></button>\n     <button type="button" class="').concat(T.deny,'"></button>\n     <button type="button" class="').concat(T.cancel,'"></button>\n   </div>\n   <div class="').concat(T.footer,'"></div>\n   <div class="').concat(T["timer-progress-bar-container"],'">\n     <div class="').concat(T["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Te=()=>{const e=A();return!!e&&(e.remove(),se([document.documentElement,document.body],[T["no-backdrop"],T["toast-shown"],T["has-column"]]),!0)},_e=()=>{ke.currentInstance.resetValidationMessage()},Ae=()=>{const e=M(),t=le(e,T.input),n=le(e,T.file),r=e.querySelector(".".concat(T.range," input")),i=e.querySelector(".".concat(T.range," output")),o=le(e,T.select),a=e.querySelector(".".concat(T.checkbox," input")),s=le(e,T.textarea);t.oninput=_e,n.onchange=_e,o.onchange=_e,a.onchange=_e,s.oninput=_e,r.oninput=()=>{_e(),i.value=r.value},r.onchange=()=>{_e(),i.value=r.value}},Oe=e=>"string"==typeof e?document.querySelector(e):e,Ne=e=>{const t=M();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},Me=e=>{"rtl"===window.getComputedStyle(e).direction&&ae(A(),T.rtl)},Pe=e=>{const t=Te();if(we())return void i("SweetAlert2 requires document to initialize");const n=document.createElement("div");n.className=T.container,t&&ae(n,T["no-transition"]),Q(n,Ee);const r=Oe(e.target);r.appendChild(n),Ne(e),Me(r),Ae()},De=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):"object"==typeof e?Le(e,t):e&&Q(t,e)},Le=(e,t)=>{e.jquery?Re(t,e):Q(t,e.toString())},Re=(e,t)=>{if(e.textContent="",0 in t)for(let n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},Ie=(()=>{if(we())return!1;const e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&void 0!==e.style[n])return t[n];return!1})(),Be=()=>{const e=document.createElement("div");e.className=T["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},je=(e,t)=>{const n=V(),r=H();t.showConfirmButton||t.showDenyButton||t.showCancelButton?ue(n):pe(n),ne(n,t,"actions"),Fe(n,r,t),Q(r,t.loaderHtml),ne(r,t,"loader")};function Fe(e,t,n){const r=j(),i=F(),o=q();He(r,"confirm",n),He(i,"deny",n),He(o,"cancel",n),ze(r,i,o,n),n.reverseButtons&&(n.toast?(e.insertBefore(o,r),e.insertBefore(i,r)):(e.insertBefore(o,t),e.insertBefore(i,t),e.insertBefore(r,t)))}function ze(e,t,n,r){if(!r.buttonsStyling)return se([e,t,n],T.styled);ae([e,t,n],T.styled),r.confirmButtonColor&&(e.style.backgroundColor=r.confirmButtonColor,ae(e,T["default-outline"])),r.denyButtonColor&&(t.style.backgroundColor=r.denyButtonColor,ae(t,T["default-outline"])),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor,ae(n,T["default-outline"]))}function He(e,t,r){he(e,r["show".concat(n(t),"Button")],"inline-block"),Q(e,r["".concat(t,"ButtonText")]),e.setAttribute("aria-label",r["".concat(t,"ButtonAriaLabel")]),e.className=T[t],ne(e,r,"".concat(t,"Button")),ae(e,r["".concat(t,"ButtonClass")])}const qe=(e,t)=>{const n=A();n&&(Ve(n,t.backdrop),Ue(n,t.position),We(n,t.grow),ne(n,t,"container"))};function Ve(e,t){"string"==typeof t?e.style.background=t:t||ae([document.documentElement,document.body],T["no-backdrop"])}function Ue(e,t){t in T?ae(e,T[t]):(r('The "position" parameter is not valid, defaulting to "center"'),ae(e,T.center))}function We(e,t){if(t&&"string"==typeof t){const n="grow-".concat(t);n in T&&ae(e,T[n])}}var $e={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const Ge=["input","file","range","select","radio","checkbox","textarea"],Xe=(e,t)=>{const n=M(),r=$e.innerParams.get(e),i=!r||t.input!==r.input;Ge.forEach((e=>{const r=le(n,T[e]);Ke(e,t.inputAttributes),r.className=T[e],i&&pe(r)})),t.input&&(i&&Ye(t),Je(t))},Ye=e=>{if(!rt[e.input])return i('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(e.input,'"'));const t=tt(e.input),n=rt[e.input](t,e);ue(t),setTimeout((()=>{ie(n)}))},Ze=e=>{for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name;["type","value","style"].includes(n)||e.removeAttribute(n)}},Ke=(e,t)=>{const n=re(M(),e);if(n){Ze(n);for(const e in t)n.setAttribute(e,t[e])}},Je=e=>{const t=tt(e.input);"object"==typeof e.customClass&&ae(t,e.customClass.input)},Qe=(e,t)=>{e.placeholder&&!t.inputPlaceholder||(e.placeholder=t.inputPlaceholder)},et=(e,t,n)=>{if(n.inputLabel){e.id=T.input;const r=document.createElement("label"),i=T["input-label"];r.setAttribute("for",e.id),r.className=i,"object"==typeof n.customClass&&ae(r,n.customClass.inputLabel),r.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",r)}},tt=e=>le(M(),T[e]||T.input),nt=(e,t)=>{["string","number"].includes(typeof t)?e.value="".concat(t):p(t)||r('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof t,'"'))},rt={};rt.text=rt.email=rt.password=rt.number=rt.tel=rt.url=(e,t)=>(nt(e,t.inputValue),et(e,e,t),Qe(e,t),e.type=t.input,e),rt.file=(e,t)=>(et(e,e,t),Qe(e,t),e),rt.range=(e,t)=>{const n=e.querySelector("input"),r=e.querySelector("output");return nt(n,t.inputValue),n.type=t.input,nt(r,t.inputValue),et(n,e,t),e},rt.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const n=document.createElement("option");Q(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return et(e,e,t),e},rt.radio=e=>(e.textContent="",e),rt.checkbox=(e,t)=>{const n=re(M(),"checkbox");n.value="1",n.id=T.checkbox,n.checked=Boolean(t.inputValue);const r=e.querySelector("span");return Q(r,t.inputPlaceholder),n},rt.textarea=(e,t)=>{nt(e,t.inputValue),Qe(e,t),et(e,e,t);const n=e=>parseInt(window.getComputedStyle(e).marginLeft)+parseInt(window.getComputedStyle(e).marginRight);return setTimeout((()=>{if("MutationObserver"in window){const t=parseInt(window.getComputedStyle(M()).width);new MutationObserver((()=>{const r=e.offsetWidth+n(e);M().style.width=r>t?"".concat(r,"px"):null})).observe(e,{attributes:!0,attributeFilter:["style"]})}})),e};const it=(e,t)=>{const n=L();ne(n,t,"htmlContainer"),t.html?(De(t.html,n),ue(n,"block")):t.text?(n.textContent=t.text,ue(n,"block")):pe(n),Xe(e,t)},ot=(e,t)=>{const n=U();he(n,t.footer),t.footer&&De(t.footer,n),ne(n,t,"footer")},at=(e,t)=>{const n=$();Q(n,t.closeButtonHtml),ne(n,t,"closeButton"),he(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel)},st=(e,t)=>{const n=$e.innerParams.get(e),r=P();if(n&&t.icon===n.icon)return dt(r,t),void lt(r,t);if(t.icon||t.iconHtml){if(t.icon&&-1===Object.keys(_).indexOf(t.icon))return i('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(t.icon,'"')),void pe(r);ue(r),dt(r,t),lt(r,t),ae(r,t.showClass.icon)}else pe(r)},lt=(e,t)=>{for(const n in _)t.icon!==n&&se(e,_[n]);ae(e,_[t.icon]),ht(e,t),ct(),ne(e,t,"icon")},ct=()=>{const e=M(),t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let e=0;e<n.length;e++)n[e].style.backgroundColor=t},ut='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',pt='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n',dt=(e,t)=>{let n,r=e.innerHTML;t.iconHtml?n=ft(t.iconHtml):"success"===t.icon?(n=ut,r=r.replace(/ style=".*?"/g,"")):n="error"===t.icon?pt:ft({question:"?",warning:"!",info:"i"}[t.icon]),r.trim()!==n.trim()&&Q(e,n)},ht=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])de(e,n,"backgroundColor",t.iconColor);de(e,".swal2-success-ring","borderColor",t.iconColor)}},ft=e=>'<div class="'.concat(T["icon-content"],'">').concat(e,"</div>"),mt=(e,t)=>{const n=R();if(!t.imageUrl)return pe(n);ue(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt),ce(n,"width",t.imageWidth),ce(n,"height",t.imageHeight),n.className=T.image,ne(n,t,"image")},gt=(e,t)=>{const n=I();if(!t.progressSteps||0===t.progressSteps.length)return pe(n);ue(n),n.textContent="",t.currentProgressStep>=t.progressSteps.length&&r("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),t.progressSteps.forEach(((e,r)=>{const i=vt(e);if(n.appendChild(i),r===t.currentProgressStep&&ae(i,T["active-progress-step"]),r!==t.progressSteps.length-1){const e=yt(t);n.appendChild(e)}}))},vt=e=>{const t=document.createElement("li");return ae(t,T["progress-step"]),Q(t,e),t},yt=e=>{const t=document.createElement("li");return ae(t,T["progress-step-line"]),e.progressStepsDistance&&ce(t,"width",e.progressStepsDistance),t},bt=(e,t)=>{const n=D();he(n,t.title||t.titleText,"block"),t.title&&De(t.title,n),t.titleText&&(n.innerText=t.titleText),ne(n,t,"title")},wt=(e,t)=>{const n=A(),r=M();t.toast?(ce(n,"width",t.width),r.style.width="100%",r.insertBefore(H(),P())):ce(r,"width",t.width),ce(r,"padding",t.padding),t.color&&(r.style.color=t.color),t.background&&(r.style.background=t.background),pe(B()),xt(r,t)},xt=(e,t)=>{e.className="".concat(T.popup," ").concat(fe(e)?t.showClass.popup:""),t.toast?(ae([document.documentElement,document.body],T["toast-shown"]),ae(e,T.toast)):ae(e,T.modal),ne(e,t,"popup"),"string"==typeof t.customClass&&ae(e,t.customClass),t.icon&&ae(e,T["icon-".concat(t.icon)])},kt=(e,t)=>{wt(e,t),qe(e,t),gt(e,t),st(e,t),mt(e,t),bt(e,t),at(e,t),it(e,t),je(e,t),ot(e,t),"function"==typeof t.didRender&&t.didRender(M())},St=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Ct=()=>{Array.from(document.body.children).forEach((e=>{e===A()||e.contains(A())||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}))},Et=()=>{Array.from(document.body.children).forEach((e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")}))},Tt=["swal-title","swal-html","swal-footer"],_t=e=>{const t="string"==typeof e.template?document.querySelector(e.template):e.template;if(!t)return{};const n=t.content;return Lt(n),Object.assign(At(n),Ot(n),Nt(n),Mt(n),Pt(n),Dt(n,Tt))},At=e=>{const t={};return Array.from(e.querySelectorAll("swal-param")).forEach((e=>{Rt(e,["name","value"]);const n=e.getAttribute("name"),r=e.getAttribute("value");"boolean"==typeof h[n]&&"false"===r&&(t[n]=!1),"object"==typeof h[n]&&(t[n]=JSON.parse(r))})),t},Ot=e=>{const t={};return Array.from(e.querySelectorAll("swal-button")).forEach((e=>{Rt(e,["type","color","aria-label"]);const r=e.getAttribute("type");t["".concat(r,"ButtonText")]=e.innerHTML,t["show".concat(n(r),"Button")]=!0,e.hasAttribute("color")&&(t["".concat(r,"ButtonColor")]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(t["".concat(r,"ButtonAriaLabel")]=e.getAttribute("aria-label"))})),t},Nt=e=>{const t={},n=e.querySelector("swal-image");return n&&(Rt(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt"))),t},Mt=e=>{const t={},n=e.querySelector("swal-icon");return n&&(Rt(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},Pt=e=>{const t={},n=e.querySelector("swal-input");n&&(Rt(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));const r=Array.from(e.querySelectorAll("swal-input-option"));return r.length&&(t.inputOptions={},r.forEach((e=>{Rt(e,["value"]);const n=e.getAttribute("value"),r=e.innerHTML;t.inputOptions[n]=r}))),t},Dt=(e,t)=>{const n={};for(const r in t){const i=t[r],o=e.querySelector(i);o&&(Rt(o,[]),n[i.replace(/^swal-/,"")]=o.innerHTML.trim())}return n},Lt=e=>{const t=Tt.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach((e=>{const n=e.tagName.toLowerCase();-1===t.indexOf(n)&&r("Unrecognized element <".concat(n,">"))}))},Rt=(e,t)=>{Array.from(e.attributes).forEach((n=>{-1===t.indexOf(n.name)&&r(['Unrecognized attribute "'.concat(n.name,'" on <').concat(e.tagName.toLowerCase(),">."),"".concat(t.length?"Allowed attributes are: ".concat(t.join(", ")):"To set the value, use HTML within the element.")])}))};var It={email:(e,t)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function Bt(e){e.inputValidator||Object.keys(It).forEach((t=>{e.input===t&&(e.inputValidator=It[t])}))}function jt(e){(!e.target||"string"==typeof e.target&&!document.querySelector(e.target)||"string"!=typeof e.target&&!e.target.appendChild)&&(r('Target parameter is not valid, defaulting to "body"'),e.target="body")}function Ft(e){Bt(e),e.showLoaderOnConfirm&&!e.preConfirm&&r("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),jt(e),"string"==typeof e.title&&(e.title=e.title.split("\n").join("<br />")),Pe(e)}class zt{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Ht=()=>{null===J.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(J.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(J.previousBodyPadding+Be(),"px"))},qt=()=>{null!==J.previousBodyPadding&&(document.body.style.paddingRight="".concat(J.previousBodyPadding,"px"),J.previousBodyPadding=null)},Vt=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!ee(document.body,T.iosfix)){const e=document.body.scrollTop;document.body.style.top="".concat(-1*e,"px"),ae(document.body,T.iosfix),Wt(),Ut()}},Ut=()=>{const e=navigator.userAgent,t=!!e.match(/iPad/i)||!!e.match(/iPhone/i),n=!!e.match(/WebKit/i);if(t&&n&&!e.match(/CriOS/i)){const e=44;M().scrollHeight>window.innerHeight-e&&(A().style.paddingBottom="".concat(e,"px"))}},Wt=()=>{const e=A();let t;e.ontouchstart=e=>{t=$t(e)},e.ontouchmove=e=>{t&&(e.preventDefault(),e.stopPropagation())}},$t=e=>{const t=e.target,n=A();return!(Gt(e)||Xt(e)||t!==n&&(ge(n)||!(t instanceof HTMLElement)||"INPUT"===t.tagName||"TEXTAREA"===t.tagName||ge(L())&&L().contains(t)))},Gt=e=>e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType,Xt=e=>e.touches&&e.touches.length>1,Yt=()=>{if(ee(document.body,T.iosfix)){const e=parseInt(document.body.style.top,10);se(document.body,T.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}},Zt=10,Kt=e=>{const t=A(),n=M();"function"==typeof e.willOpen&&e.willOpen(n);const r=window.getComputedStyle(document.body).overflowY;tn(t,n,e),setTimeout((()=>{Qt(t,n)}),Zt),Y()&&(en(t,e.scrollbarPadding,r),Ct()),Z()||ke.previousActiveElement||(ke.previousActiveElement=document.activeElement),"function"==typeof e.didOpen&&setTimeout((()=>e.didOpen(n))),se(t,T["no-transition"])},Jt=e=>{const t=M();if(e.target!==t)return;const n=A();t.removeEventListener(Ie,Jt),n.style.overflowY="auto"},Qt=(e,t)=>{Ie&&ve(t)?(e.style.overflowY="hidden",t.addEventListener(Ie,Jt)):e.style.overflowY="auto"},en=(e,t,n)=>{Vt(),t&&"hidden"!==n&&Ht(),setTimeout((()=>{e.scrollTop=0}))},tn=(e,t,n)=>{ae(e,n.showClass.backdrop),t.style.setProperty("opacity","0","important"),ue(t,"grid"),setTimeout((()=>{ae(t,n.showClass.popup),t.style.removeProperty("opacity")}),Zt),ae([document.documentElement,document.body],T.shown),n.heightAuto&&n.backdrop&&!n.toast&&ae([document.documentElement,document.body],T["height-auto"])},nn=e=>{let t=M();t||new Gr,t=M();const n=H();Z()?pe(P()):rn(t,e),ue(n),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},rn=(e,t)=>{const n=V(),r=H();!t&&fe(j())&&(t=j()),ue(n),t&&(pe(t),r.setAttribute("data-button-to-replace",t.className)),r.parentNode.insertBefore(r,t),ae([e,n],T.loading)},on=(e,t)=>{"select"===t.input||"radio"===t.input?un(e,t):["text","email","number","tel","textarea"].includes(t.input)&&(c(t.inputValue)||p(t.inputValue))&&(nn(j()),pn(e,t))},an=(e,t)=>{const n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return sn(n);case"radio":return ln(n);case"file":return cn(n);default:return t.inputAutoTrim?n.value.trim():n.value}},sn=e=>e.checked?1:0,ln=e=>e.checked?e.value:null,cn=e=>e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null,un=(e,t)=>{const n=M(),r=e=>dn[t.input](n,hn(e),t);c(t.inputOptions)||p(t.inputOptions)?(nn(j()),u(t.inputOptions).then((t=>{e.hideLoading(),r(t)}))):"object"==typeof t.inputOptions?r(t.inputOptions):i("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof t.inputOptions))},pn=(e,t)=>{const n=e.getInput();pe(n),u(t.inputValue).then((r=>{n.value="number"===t.input?parseFloat(r)||0:"".concat(r),ue(n),n.focus(),e.hideLoading()})).catch((t=>{i("Error in inputValue promise: ".concat(t)),n.value="",ue(n),n.focus(),e.hideLoading()}))},dn={select:(e,t,n)=>{const r=le(e,T.select),i=(e,t,r)=>{const i=document.createElement("option");i.value=r,Q(i,t),i.selected=fn(r,n.inputValue),e.appendChild(i)};t.forEach((e=>{const t=e[0],n=e[1];if(Array.isArray(n)){const e=document.createElement("optgroup");e.label=t,e.disabled=!1,r.appendChild(e),n.forEach((t=>i(e,t[1],t[0])))}else i(r,n,t)})),r.focus()},radio:(e,t,n)=>{const r=le(e,T.radio);t.forEach((e=>{const t=e[0],i=e[1],o=document.createElement("input"),a=document.createElement("label");o.type="radio",o.name=T.radio,o.value=t,fn(t,n.inputValue)&&(o.checked=!0);const s=document.createElement("span");Q(s,i),s.className=T.label,a.appendChild(o),a.appendChild(s),r.appendChild(a)}));const i=r.querySelectorAll("input");i.length&&i[0].focus()}},hn=e=>{const t=[];return"undefined"!=typeof Map&&e instanceof Map?e.forEach(((e,n)=>{let r=e;"object"==typeof r&&(r=hn(r)),t.push([n,r])})):Object.keys(e).forEach((n=>{let r=e[n];"object"==typeof r&&(r=hn(r)),t.push([n,r])})),t},fn=(e,t)=>t&&t.toString()===e.toString();function mn(){const e=$e.innerParams.get(this);if(!e)return;const t=$e.domCache.get(this);pe(t.loader),Z()?e.icon&&ue(P()):gn(t),se([t.popup,t.actions],T.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const gn=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?ue(t[0],"inline-block"):me()&&pe(e.actions)};function vn(e){const t=$e.innerParams.get(e||this),n=$e.domCache.get(e||this);return n?re(n.popup,t.input):null}var yn={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const bn=()=>fe(M()),wn=()=>j()&&j().click(),xn=()=>F()&&F().click(),kn=()=>q()&&q().click(),Sn=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},Cn=(e,t,n,r)=>{Sn(t),n.toast||(t.keydownHandler=t=>An(e,t,r),t.keydownTarget=n.keydownListenerCapture?window:M(),t.keydownListenerCapture=n.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},En=(e,t,n)=>{const r=X();if(r.length)return(t+=n)===r.length?t=0:-1===t&&(t=r.length-1),r[t].focus();M().focus()},Tn=["ArrowRight","ArrowDown"],_n=["ArrowLeft","ArrowUp"],An=(e,t,n)=>{const r=$e.innerParams.get(e);r&&(t.isComposing||229===t.keyCode||(r.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?On(e,t,r):"Tab"===t.key?Nn(t,r):[...Tn,..._n].includes(t.key)?Mn(t.key):"Escape"===t.key&&Pn(t,r,n)))},On=(e,t,n)=>{if(l(n.allowEnterKey)&&t.target&&e.getInput()&&t.target instanceof HTMLElement&&t.target.outerHTML===e.getInput().outerHTML){if(["textarea","file"].includes(n.input))return;wn(),t.preventDefault()}},Nn=(e,t)=>{const n=e.target,r=X();let i=-1;for(let e=0;e<r.length;e++)if(n===r[e]){i=e;break}e.shiftKey?En(t,i,-1):En(t,i,1),e.stopPropagation(),e.preventDefault()},Mn=e=>{const t=j(),n=F(),r=q();if(document.activeElement instanceof HTMLElement&&![t,n,r].includes(document.activeElement))return;const i=Tn.includes(e)?"nextElementSibling":"previousElementSibling";let o=document.activeElement;for(let e=0;e<V().children.length;e++){if(o=o[i],!o)return;if(o instanceof HTMLButtonElement&&fe(o))break}o instanceof HTMLButtonElement&&o.focus()},Pn=(e,t,n)=>{l(t.allowEscapeKey)&&(e.preventDefault(),n(St.esc))};function Dn(e,t,n,r){Z()?Vn(e,r):(Ce(n).then((()=>Vn(e,r))),Sn(ke)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),Y()&&(qt(),Yt(),Et()),Ln()}function Ln(){se([document.documentElement,document.body],[T.shown,T["height-auto"],T["no-backdrop"],T["toast-shown"]])}function Rn(e){e=zn(e);const t=yn.swalPromiseResolve.get(this),n=Bn(this);this.isAwaitingPromise()?e.isDismissed||(Fn(this),t(e)):n&&t(e)}function In(){return!!$e.awaitingPromise.get(this)}const Bn=e=>{const t=M();if(!t)return!1;const n=$e.innerParams.get(e);if(!n||ee(t,n.hideClass.popup))return!1;se(t,n.showClass.popup),ae(t,n.hideClass.popup);const r=A();return se(r,n.showClass.backdrop),ae(r,n.hideClass.backdrop),Hn(e,t,n),!0};function jn(e){const t=yn.swalPromiseReject.get(this);Fn(this),t&&t(e)}const Fn=e=>{e.isAwaitingPromise()&&($e.awaitingPromise.delete(e),$e.innerParams.get(e)||e._destroy())},zn=e=>void 0===e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),Hn=(e,t,n)=>{const r=A(),i=Ie&&ve(t);"function"==typeof n.willClose&&n.willClose(t),i?qn(e,t,r,n.returnFocus,n.didClose):Dn(e,r,n.returnFocus,n.didClose)},qn=(e,t,n,r,i)=>{ke.swalCloseEventFinishedCallback=Dn.bind(null,e,n,r,i),t.addEventListener(Ie,(function(e){e.target===t&&(ke.swalCloseEventFinishedCallback(),delete ke.swalCloseEventFinishedCallback)}))},Vn=(e,t)=>{setTimeout((()=>{"function"==typeof t&&t.bind(e.params)(),e._destroy()}))};function Un(e,t,n){const r=$e.domCache.get(e);t.forEach((e=>{r[e].disabled=n}))}function Wn(e,t){if(!e)return!1;if("radio"===e.type){const n=e.parentNode.parentNode.querySelectorAll("input");for(let e=0;e<n.length;e++)n[e].disabled=t}else e.disabled=t}function $n(){Un(this,["confirmButton","denyButton","cancelButton"],!1)}function Gn(){Un(this,["confirmButton","denyButton","cancelButton"],!0)}function Xn(){return Wn(this.getInput(),!1)}function Yn(){return Wn(this.getInput(),!0)}function Zn(e){const t=$e.domCache.get(this),n=$e.innerParams.get(this);Q(t.validationMessage,e),t.validationMessage.className=T["validation-message"],n.customClass&&n.customClass.validationMessage&&ae(t.validationMessage,n.customClass.validationMessage),ue(t.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid",!0),r.setAttribute("aria-describedby",T["validation-message"]),ie(r),ae(r,T.inputerror))}function Kn(){const e=$e.domCache.get(this);e.validationMessage&&pe(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),se(t,T.inputerror))}function Jn(){return $e.domCache.get(this).progressSteps}function Qn(e){const t=M(),n=$e.innerParams.get(this);if(!t||ee(t,n.hideClass.popup))return r("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const i=er(e),o=Object.assign({},n,i);kt(this,o),$e.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}const er=e=>{const t={};return Object.keys(e).forEach((n=>{y(n)?t[n]=e[n]:r("Invalid parameter to update: ".concat(n))})),t};function tr(){const e=$e.domCache.get(this),t=$e.innerParams.get(this);t?(e.popup&&ke.swalCloseEventFinishedCallback&&(ke.swalCloseEventFinishedCallback(),delete ke.swalCloseEventFinishedCallback),"function"==typeof t.didDestroy&&t.didDestroy(),nr(this)):rr(this)}const nr=e=>{rr(e),delete e.params,delete ke.keydownHandler,delete ke.keydownTarget,delete ke.currentInstance},rr=e=>{e.isAwaitingPromise()?(ir($e,e),$e.awaitingPromise.set(e,!0)):(ir(yn,e),ir($e,e))},ir=(e,t)=>{for(const n in e)e[n].delete(t)};var or=Object.freeze({hideLoading:mn,disableLoading:mn,getInput:vn,close:Rn,isAwaitingPromise:In,rejectPromise:jn,handleAwaitingPromise:Fn,closePopup:Rn,closeModal:Rn,closeToast:Rn,enableButtons:$n,disableButtons:Gn,enableInput:Xn,disableInput:Yn,showValidationMessage:Zn,resetValidationMessage:Kn,getProgressSteps:Jn,update:Qn,_destroy:tr});const ar=e=>{const t=$e.innerParams.get(e);e.disableButtons(),t.input?cr(e,"confirm"):fr(e,!0)},sr=e=>{const t=$e.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?cr(e,"deny"):pr(e,!1)},lr=(e,t)=>{e.disableButtons(),t(St.cancel)},cr=(e,t)=>{const r=$e.innerParams.get(e);if(!r.input)return void i('The "input" parameter is needed to be set when using returnInputValueOn'.concat(n(t)));const o=an(e,r);r.inputValidator?ur(e,o,t):e.getInput().checkValidity()?"deny"===t?pr(e,o):fr(e,o):(e.enableButtons(),e.showValidationMessage(r.validationMessage))},ur=(e,t,n)=>{const r=$e.innerParams.get(e);e.disableInput(),Promise.resolve().then((()=>u(r.inputValidator(t,r.validationMessage)))).then((r=>{e.enableButtons(),e.enableInput(),r?e.showValidationMessage(r):"deny"===n?pr(e,t):fr(e,t)}))},pr=(e,t)=>{const n=$e.innerParams.get(e||void 0);n.showLoaderOnDeny&&nn(F()),n.preDeny?($e.awaitingPromise.set(e||void 0,!0),Promise.resolve().then((()=>u(n.preDeny(t,n.validationMessage)))).then((n=>{!1===n?(e.hideLoading(),Fn(e)):e.close({isDenied:!0,value:void 0===n?t:n})})).catch((t=>hr(e||void 0,t)))):e.close({isDenied:!0,value:t})},dr=(e,t)=>{e.close({isConfirmed:!0,value:t})},hr=(e,t)=>{e.rejectPromise(t)},fr=(e,t)=>{const n=$e.innerParams.get(e||void 0);n.showLoaderOnConfirm&&nn(),n.preConfirm?(e.resetValidationMessage(),$e.awaitingPromise.set(e||void 0,!0),Promise.resolve().then((()=>u(n.preConfirm(t,n.validationMessage)))).then((n=>{fe(B())||!1===n?(e.hideLoading(),Fn(e)):dr(e,void 0===n?t:n)})).catch((t=>hr(e||void 0,t)))):dr(e,t)},mr=(e,t,n)=>{$e.innerParams.get(e).toast?gr(e,t,n):(br(t),wr(t),xr(e,t,n))},gr=(e,t,n)=>{t.popup.onclick=()=>{const t=$e.innerParams.get(e);t&&(vr(t)||t.timer||t.input)||n(St.close)}},vr=e=>e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton;let yr=!1;const br=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=void 0,t.target===e.container&&(yr=!0)}}},wr=e=>{e.container.onmousedown=()=>{e.popup.onmouseup=function(t){e.popup.onmouseup=void 0,(t.target===e.popup||e.popup.contains(t.target))&&(yr=!0)}}},xr=(e,t,n)=>{t.container.onclick=r=>{const i=$e.innerParams.get(e);yr?yr=!1:r.target===t.container&&l(i.allowOutsideClick)&&n(St.backdrop)}},kr=e=>"object"==typeof e&&e.jquery,Sr=e=>e instanceof Element||kr(e),Cr=e=>{const t={};return"object"!=typeof e[0]||Sr(e[0])?["title","html","icon"].forEach(((n,r)=>{const o=e[r];"string"==typeof o||Sr(o)?t[n]=o:void 0!==o&&i("Unexpected type of ".concat(n,'! Expected "string" or "Element", got ').concat(typeof o))})):Object.assign(t,e[0]),t};function Er(){const e=this;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return new e(...n)}function Tr(e){class t extends(this){_main(t,n){return super._main(t,Object.assign({},e,n))}}return t}const _r=()=>ke.timeout&&ke.timeout.getTimerLeft(),Ar=()=>{if(ke.timeout)return be(),ke.timeout.stop()},Or=()=>{if(ke.timeout){const e=ke.timeout.start();return ye(e),e}},Nr=()=>{const e=ke.timeout;return e&&(e.running?Ar():Or())},Mr=e=>{if(ke.timeout){const t=ke.timeout.increase(e);return ye(t,!0),t}},Pr=()=>ke.timeout&&ke.timeout.isRunning();let Dr=!1;const Lr={};function Rr(){Lr[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Dr||(document.body.addEventListener("click",Ir),Dr=!0)}const Ir=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const e in Lr){const n=t.getAttribute(e);if(n)return void Lr[e].fire({template:n})}};var Br=Object.freeze({isValidParameter:v,isUpdatableParameter:y,isDeprecatedParameter:b,argsToParams:Cr,isVisible:bn,clickConfirm:wn,clickDeny:xn,clickCancel:kn,getContainer:A,getPopup:M,getTitle:D,getHtmlContainer:L,getImage:R,getIcon:P,getInputLabel:z,getCloseButton:$,getActions:V,getConfirmButton:j,getDenyButton:F,getCancelButton:q,getLoader:H,getFooter:U,getTimerProgressBar:W,getFocusableElements:X,getValidationMessage:B,isLoading:K,fire:Er,mixin:Tr,showLoading:nn,enableLoading:nn,getTimerLeft:_r,stopTimer:Ar,resumeTimer:Or,toggleTimer:Nr,increaseTimer:Mr,isTimerRunning:Pr,bindClickHandler:Rr});let jr;class Fr{constructor(){if("undefined"==typeof window)return;jr=this;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Object.freeze(this.constructor.argsToParams(t));Object.defineProperties(this,{params:{value:r,writable:!1,enumerable:!0,configurable:!0}});const i=jr._main(jr.params);$e.promise.set(this,i)}_main(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};S(Object.assign({},t,e)),ke.currentInstance&&(ke.currentInstance._destroy(),Y()&&Et()),ke.currentInstance=jr;const n=Hr(e,t);Ft(n),Object.freeze(n),ke.timeout&&(ke.timeout.stop(),delete ke.timeout),clearTimeout(ke.restoreFocusTimeout);const r=qr(jr);return kt(jr,n),$e.innerParams.set(jr,n),zr(jr,r,n)}then(e){return $e.promise.get(this).then(e)}finally(e){return $e.promise.get(this).finally(e)}}const zr=(e,t,n)=>new Promise(((r,i)=>{const o=t=>{e.closePopup({isDismissed:!0,dismiss:t})};yn.swalPromiseResolve.set(e,r),yn.swalPromiseReject.set(e,i),t.confirmButton.onclick=()=>ar(e),t.denyButton.onclick=()=>sr(e),t.cancelButton.onclick=()=>lr(e,o),t.closeButton.onclick=()=>o(St.close),mr(e,t,o),Cn(e,ke,n,o),on(e,n),Kt(n),Vr(ke,n,o),Ur(t,n),setTimeout((()=>{t.container.scrollTop=0}))})),Hr=(e,t)=>{const n=_t(e),r=Object.assign({},h,t,n,e);return r.showClass=Object.assign({},h.showClass,r.showClass),r.hideClass=Object.assign({},h.hideClass,r.hideClass),r},qr=e=>{const t={popup:M(),container:A(),actions:V(),confirmButton:j(),denyButton:F(),cancelButton:q(),loader:H(),closeButton:$(),validationMessage:B(),progressSteps:I()};return $e.domCache.set(e,t),t},Vr=(e,t,n)=>{const r=W();pe(r),t.timer&&(e.timeout=new zt((()=>{n("timer"),delete e.timeout}),t.timer),t.timerProgressBar&&(ue(r),ne(r,t,"timerProgressBar"),setTimeout((()=>{e.timeout&&e.timeout.running&&ye(t.timer)}))))},Ur=(e,t)=>{if(!t.toast)return l(t.allowEnterKey)?void(Wr(e,t)||En(t,-1,1)):$r()},Wr=(e,t)=>t.focusDeny&&fe(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&fe(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!fe(e.confirmButton)||(e.confirmButton.focus(),0)),$r=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if("undefined"!=typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)&&Math.random()<.1){const e=document.createElement("div");e.className="leave-russia-now-and-apply-your-skills-to-the-world";const t=d([{text:"           ,\n        <strong>      </strong>:",id:"4CfDhaRkw7I"},{text:" -  <strong></strong> .  . <strong>     .</strong>",id:"s-GLAIY4DXA"}]);Q(e,"\n      <div>\n            ,     <strong>  </strong>     <strong></strong>.\n      </div>\n      <div>\n           20       ,          . <strong>  !</strong>\n      </div>\n      <div>\n        ".concat(t.text,'\n      </div>\n      <iframe width="560" height="315" src="https://www.youtube.com/embed/').concat(t.id,'" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n      <div>\n         !\n      </div>\n      '));const n=document.createElement("button");n.innerHTML="&times;",n.onclick=()=>e.remove(),e.appendChild(n),window.addEventListener("load",(()=>{setTimeout((()=>{document.body.appendChild(e)}),1e3)}))}Object.assign(Fr.prototype,or),Object.assign(Fr,Br),Object.keys(or).forEach((e=>{Fr[e]=function(){if(jr)return jr[e](...arguments)}})),Fr.DismissReason=St,Fr.version="11.4.29";const Gr=Fr;return Gr.default=Gr,Gr}(),void 0!==Qe&&Qe.Sweetalert2&&(Qe.swal=Qe.sweetAlert=Qe.Swal=Qe.SweetAlert=Qe.Sweetalert2),"undefined"!=typeof document&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px hsla(0deg,0%,0%,.075),0 1px 2px hsla(0deg,0%,0%,.075),1px 2px 4px hsla(0deg,0%,0%,.075),1px 3px 8px hsla(0deg,0%,0%,.075),2px 4px 16px hsla(0deg,0%,0%,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:0 0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:0 0;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:0 0;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:0 0;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.leave-russia-now-and-apply-your-skills-to-the-world{display:flex;position:fixed;z-index:1939;top:0;right:0;bottom:0;left:0;flex-direction:column;align-items:center;justify-content:center;padding:25px 0 20px;background:#20232a;color:#fff;text-align:center}.leave-russia-now-and-apply-your-skills-to-the-world div{max-width:560px;margin:10px;line-height:146%}.leave-russia-now-and-apply-your-skills-to-the-world iframe{max-width:100%;max-height:55.5555555556vmin;margin:16px auto}.leave-russia-now-and-apply-your-skills-to-the-world strong{border-bottom:2px dashed #fff}.leave-russia-now-and-apply-your-skills-to-the-world button{display:flex;position:fixed;z-index:1940;top:0;right:0;align-items:center;justify-content:center;width:48px;height:48px;margin-right:10px;margin-bottom:-10px;border:none;background:0 0;color:#aaa;font-size:48px;font-weight:700;cursor:pointer}.leave-russia-now-and-apply-your-skills-to-the-world button:hover{color:#fff}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}');var et={},tt={delimiter:function(){return"<br/>"},header:function(e){var t=e.data;return"<h"+t.level+">"+t.text+"</h"+t.level+">"},paragraph:function(e){return"<p>"+e.data.text+"</p>"},list:function(e){var t=e.data,n="unordered"===t.style?"ul":"ol",r=function(e,t){var n=e.map((function(e){if(!e.content&&!e.items)return"<li>"+e+"</li>";var n="";return e.items&&(n=r(e.items,t)),e.content?"<li> "+e.content+" </li>"+n:void 0}));return"<"+t+">"+n.join("")+"</"+t+">"};return r(t.items,n)},image:function(e){var t=e.data,n=t.caption?t.caption:"Image";return'<img src="'+(t.file&&t.file.url?t.file.url:t.url)+'" alt="'+n+'" />'},quote:function(e){var t=e.data;return"<blockquote>"+t.text+"</blockquote> - "+t.caption},code:function(e){return"<pre><code>"+e.data.code+"</code></pre>"},embed:function(e){var t=e.data;switch(t.service){case"vimeo":return'<iframe src="'+t.embed+'" height="'+t.height+'" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>';case"youtube":return'<iframe width="'+t.width+'" height="'+t.height+'" src="'+t.embed+'" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>';default:throw new Error("Only Youtube and Vime Embeds are supported right now.")}}};function nt(e){return new Error('[31m The Parser function of type "'+e+'" is not defined. \n\n  Define your custom parser functions as: [34mhttps://github.com/pavittarx/editorjs-html#extend-for-custom-blocks [0m')}var rt=function(e){void 0===e&&(e={});var t=Object.assign({},tt,e);return{parse:function(e){return e.blocks.map((function(e){return t[e.type]?t[e.type](e):nt(e.type)}))},parseBlock:function(e){return t[e.type]?t[e.type](e):nt(e.type)},parseStrict:function(e){var n=e.blocks,r=rt(t).validate({blocks:n});if(r.length)throw new Error("Parser Functions missing for blocks: "+r.toString());for(var i=[],o=0;o<n.length;o++){if(!t[n[o].type])throw nt(n[o].type);i.push(t[n[o].type](n[o]))}return i},validate:function(e){var n=e.blocks.map((function(e){return e.type})).filter((function(e,t,n){return n.indexOf(e)===t})),r=Object.keys(t);return n.filter((function(e){return!r.includes(e)}))}}};function it(e,t){return Array(t+1).join(e)}et=rt;var ot=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function at(e){return ut(e,ot)}var st=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function lt(e){return ut(e,st)}var ct=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function ut(e,t){return t.indexOf(e.nodeName)>=0}function pt(e,t){return e.getElementsByTagName&&t.some((function(t){return e.getElementsByTagName(t).length}))}var dt={};function ht(e){return e?e.replace(/(\n+\s*)+/g,"\n"):""}function ft(e){for(var t in this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[],e.rules)this.array.push(e.rules[t])}function mt(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if(gt(i,t,n))return i}}function gt(e,t,n){var r=e.filter;if("string"==typeof r){if(r===t.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(t.nodeName.toLowerCase())>-1)return!0}else{if("function"!=typeof r)throw new TypeError("`filter` needs to be a string, array, or function");if(r.call(e,t,n))return!0}}function vt(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function yt(e,t,n){return e&&e.parentNode===t||n(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}dt.paragraph={filter:"p",replacement:function(e){return"\n\n"+e+"\n\n"}},dt.lineBreak={filter:"br",replacement:function(e,t,n){return n.br+"\n"}},dt.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,n){var r=Number(t.nodeName.charAt(1));return"setext"===n.headingStyle&&r<3?"\n\n"+e+"\n"+it(1===r?"=":"-",e.length)+"\n\n":"\n\n"+it("#",r)+" "+e+"\n\n"}},dt.blockquote={filter:"blockquote",replacement:function(e){return"\n\n"+(e=(e=e.replace(/^\n+|\n+$/g,"")).replace(/^/gm,"> "))+"\n\n"}},dt.list={filter:["ul","ol"],replacement:function(e,t){var n=t.parentNode;return"LI"===n.nodeName&&n.lastElementChild===t?"\n"+e:"\n\n"+e+"\n\n"}},dt.listItem={filter:"li",replacement:function(e,t,n){e=e.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    ");var r=n.bulletListMarker+"   ",i=t.parentNode;if("OL"===i.nodeName){var o=i.getAttribute("start"),a=Array.prototype.indexOf.call(i.children,t);r=(o?Number(o)+a:a+1)+".  "}return r+e+(t.nextSibling&&!/\n$/.test(e)?"\n":"")}},dt.indentedCodeBlock={filter:function(e,t){return"indented"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,n){return"\n\n    "+t.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},dt.fencedCodeBlock={filter:function(e,t){return"fenced"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,n){for(var r,i=((t.firstChild.getAttribute("class")||"").match(/language-(\S+)/)||[null,""])[1],o=t.firstChild.textContent,a=n.fence.charAt(0),s=3,l=new RegExp("^"+a+"{3,}","gm");r=l.exec(o);)r[0].length>=s&&(s=r[0].length+1);var c=it(a,s);return"\n\n"+c+i+"\n"+o.replace(/\n$/,"")+"\n"+c+"\n\n"}},dt.horizontalRule={filter:"hr",replacement:function(e,t,n){return"\n\n"+n.hr+"\n\n"}},dt.inlineLink={filter:function(e,t){return"inlined"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t){var n=t.getAttribute("href"),r=ht(t.getAttribute("title"));return r&&(r=' "'+r+'"'),"["+e+"]("+n+r+")"}},dt.referenceLink={filter:function(e,t){return"referenced"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t,n){var r,i,o=t.getAttribute("href"),a=ht(t.getAttribute("title"));switch(a&&(a=' "'+a+'"'),n.linkReferenceStyle){case"collapsed":r="["+e+"][]",i="["+e+"]: "+o+a;break;case"shortcut":r="["+e+"]",i="["+e+"]: "+o+a;break;default:var s=this.references.length+1;r="["+e+"]["+s+"]",i="["+s+"]: "+o+a}return this.references.push(i),r},references:[],append:function(e){var t="";return this.references.length&&(t="\n\n"+this.references.join("\n")+"\n\n",this.references=[]),t}},dt.emphasis={filter:["em","i"],replacement:function(e,t,n){return e.trim()?n.emDelimiter+e+n.emDelimiter:""}},dt.strong={filter:["strong","b"],replacement:function(e,t,n){return e.trim()?n.strongDelimiter+e+n.strongDelimiter:""}},dt.code={filter:function(e){var t=e.previousSibling||e.nextSibling,n="PRE"===e.parentNode.nodeName&&!t;return"CODE"===e.nodeName&&!n},replacement:function(e){if(!e)return"";e=e.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(e)?" ":"",n="`",r=e.match(/`+/gm)||[];-1!==r.indexOf(n);)n+="`";return n+t+e+t+n}},dt.image={filter:"img",replacement:function(e,t){var n=ht(t.getAttribute("alt")),r=t.getAttribute("src")||"",i=ht(t.getAttribute("title"));return r?"!["+n+"]("+r+(i?' "'+i+'"':"")+")":""}},ft.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){return e.isBlank?this.blankRule:(t=mt(this.array,e,this.options))||(t=mt(this._keep,e,this.options))||(t=mt(this._remove,e,this.options))?t:this.defaultRule;var t},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};var bt="undefined"!=typeof window?window:{};var wt,xt,kt=function(){var e=bt.DOMParser,t=!1;try{(new e).parseFromString("","text/html")&&(t=!0)}catch(e){}return t}()?bt.DOMParser:(wt=function(){},function(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch(t){window.ActiveXObject&&(e=!0)}return e}()?wt.prototype.parseFromString=function(e){var t=new window.ActiveXObject("htmlfile");return t.designMode="on",t.open(),t.write(e),t.close(),t}:wt.prototype.parseFromString=function(e){var t=document.implementation.createHTMLDocument("");return t.open(),t.write(e),t.close(),t},wt);function St(e,t){var n;"string"==typeof e?n=(xt=xt||new kt).parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html").getElementById("turndown-root"):n=e.cloneNode(!0);return function(e){var t=e.element,n=e.isBlock,r=e.isVoid,i=e.isPre||function(e){return"PRE"===e.nodeName};if(t.firstChild&&!i(t)){for(var o=null,a=!1,s=null,l=yt(s,t,i);l!==t;){if(3===l.nodeType||4===l.nodeType){var c=l.data.replace(/[ \r\n\t]+/g," ");if(o&&!/ $/.test(o.data)||a||" "!==c[0]||(c=c.substr(1)),!c){l=vt(l);continue}l.data=c,o=l}else{if(1!==l.nodeType){l=vt(l);continue}n(l)||"BR"===l.nodeName?(o&&(o.data=o.data.replace(/ $/,"")),o=null,a=!1):r(l)||i(l)?(o=null,a=!0):o&&(a=!1)}var u=yt(s,l,i);s=l,l=u}o&&(o.data=o.data.replace(/ $/,""),o.data||vt(o))}}({element:n,isBlock:at,isVoid:lt,isPre:t.preformattedCode?Ct:null}),n}function Ct(e){return"PRE"===e.nodeName||"CODE"===e.nodeName}function Et(e,t){return e.isBlock=at(e),e.isCode="CODE"===e.nodeName||e.parentNode.isCode,e.isBlank=function(e){return!lt(e)&&!function(e){return ut(e,ct)}(e)&&/^\s*$/i.test(e.textContent)&&!function(e){return pt(e,st)}(e)&&!function(e){return pt(e,ct)}(e)}(e),e.flankingWhitespace=function(e,t){if(e.isBlock||t.preformattedCode&&e.isCode)return{leading:"",trailing:""};var n=(r=e.textContent,i=r.match(/^(([ \t\r\n]*)(\s*))[\s\S]*?((\s*?)([ \t\r\n]*))$/),{leading:i[1],leadingAscii:i[2],leadingNonAscii:i[3],trailing:i[4],trailingNonAscii:i[5],trailingAscii:i[6]});var r,i;n.leadingAscii&&Tt("left",e,t)&&(n.leading=n.leadingNonAscii);n.trailingAscii&&Tt("right",e,t)&&(n.trailing=n.trailingNonAscii);return{leading:n.leading,trailing:n.trailing}}(e,t),e}function Tt(e,t,n){var r,i,o;return"left"===e?(r=t.previousSibling,i=/ $/):(r=t.nextSibling,i=/^ /),r&&(3===r.nodeType?o=i.test(r.nodeValue):n.preformattedCode&&"CODE"===r.nodeName?o=!1:1!==r.nodeType||at(r)||(o=i.test(r.textContent))),o}var _t=Array.prototype.reduce,At=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function Ot(e){if(!(this instanceof Ot))return new Ot(e);var t={rules:dt,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(e,t){return t.isBlock?"\n\n":""},keepReplacement:function(e,t){return t.isBlock?"\n\n"+t.outerHTML+"\n\n":t.outerHTML},defaultReplacement:function(e,t){return t.isBlock?"\n\n"+e+"\n\n":e}};this.options=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}({},t,e),this.rules=new ft(this.options)}function Nt(e){var t=this;return _t.call(e.childNodes,(function(e,n){var r="";return 3===(n=new Et(n,t.options)).nodeType?r=n.isCode?n.nodeValue:t.escape(n.nodeValue):1===n.nodeType&&(r=Pt.call(t,n)),Dt(e,r)}),"")}function Mt(e){var t=this;return this.rules.forEach((function(n){"function"==typeof n.append&&(e=Dt(e,n.append(t.options)))})),e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function Pt(e){var t=this.rules.forNode(e),n=Nt.call(this,e),r=e.flankingWhitespace;return(r.leading||r.trailing)&&(n=n.trim()),r.leading+t.replacement(n,e,this.options)+r.trailing}function Dt(e,t){var n=function(e){for(var t=e.length;t>0&&"\n"===e[t-1];)t--;return e.substring(0,t)}(e),r=t.replace(/^\n*/,""),i=Math.max(e.length-n.length,t.length-r.length);return n+"\n\n".substring(0,i)+r}Ot.prototype={turndown:function(e){if(!function(e){return null!=e&&("string"==typeof e||e.nodeType&&(1===e.nodeType||9===e.nodeType||11===e.nodeType))}(e))throw new TypeError(e+" is not a string, or an element/document/fragment node.");if(""===e)return"";var t=Nt.call(this,new St(e,this.options));return Mt.call(this,t)},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else{if("function"!=typeof e)throw new TypeError("plugin must be a Function or an Array of Functions");e(this)}return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return At.reduce((function(e,t){return e.replace(t[0],t[1])}),e)}};var Lt=Ot;function Rt(e,t){try{localStorage.setItem(e,t)}catch(e){console.log("err name ",e.name),"QuotaExceededError"===e.name&&alert("Quota exceeded!")}}function It(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}))}const Bt=e=>!!localStorage.getItem(e),jt=e=>{try{new URL(e)}catch(e){return console.error(e),!1}return!0},Ft=e=>e.split(/[#?]/)[0].split(".").pop().trim(),zt=e=>Array.isArray(e.body)?e.body.filter((e=>"tagging"===e.purpose)):[],Ht=(e,t,n,r)=>({id:e,title:t,description:n,creation_date:Wt(),last_update:Wt(),manifest_url:r,editor:"",creator:"",settings:{delay:5,showNavigator:!0,toolsbarOnFs:!0,sidebarEnabled:!0,startbyfirstanno:!1,rotation:!1,displayToolbar:!0}}),qt=e=>{var t=JSON.parse(localStorage.getItem(e)),n=JSON.parse(localStorage.getItem(e+"_annotations")),r={"@context":"http://www.w3.org/ns/anno.jsonld",id:t.id,type:"AnnotationCollection",title:t.title,description:t.description,creator:t.creator||"",editor:t.editor||"",rights:t.rights||"",date:t.creation_date,modified:t.last_update,source:t.manifest_url?t.manifest_url:t.img_url,format:"Adno",total:n&&n.length?n.length:0,first:{id:"page1",type:"AnnotationPage",startIndex:0,items:n&&n.length>0?n:[]},adno_settings:Xt(t.id)||{delay:5,showNavigator:!0,toolsbarOnFs:!0,sidebarEnabled:!0,startbyfirstanno:!1,rotation:!1,displayToolbar:!0}};return URL.createObjectURL(new Blob([JSON.stringify(r)],{type:"text/plain"}))},Vt=(e,n,r)=>{e.preventDefault();let i=new FileReader;i.readAsText(n),i.onload=function(e){let n=JSON.parse(e.target.result);if(n.hasOwnProperty("@context")&&n.hasOwnProperty("date")&&n.hasOwnProperty("id")&&n.hasOwnProperty("title")&&n.hasOwnProperty("type")&&n.hasOwnProperty("modified")&&n.hasOwnProperty("source")&&n.hasOwnProperty("description")&&n.hasOwnProperty("total")){n.modified=Wt(),n.id=It();let e=JSON.parse(localStorage.getItem("adno_projects"));e.push(n.id);let t={id:n.id,title:n.title,description:n.description,creation_date:n.date,last_update:n.modified,creator:n.creator||"",editor:n.editor||"",rights:n.rights||"",settings:n.adno_settings||{delay:5,showNavigator:!0,toolsbarOnFs:!0,sidebarEnabled:!0,startbyfirstanno:!1,rotation:!1,displayToolbar:!0}},r=n.source;"png"===Ft(r)||"jpg"===Ft(r)||"jpeg"===Ft(r)?t.img_url=n.source:t.manifest_url=n.source;let i=0!==n.total?n.first.items:[];Rt("adno_projects",JSON.stringify(e)),Rt(t.id+"_annotations",JSON.stringify(i)),Rt(t.id,JSON.stringify(t)),window.location.reload()}else t(Qe).fire({title:"Impossible de lire ce type de fichier !",showCancelButton:!1,showConfirmButton:!0,confirmButtonText:"OK",icon:"error"}).then((e=>{e.isConfirmed&&r()}))}};function Ut(e){const t=JSON.parse(localStorage.getItem(e)),n=JSON.parse(localStorage.getItem(`${e}_annotations`))||[],r={};Object.assign(r,t),r.title+=" (copie)",r.id=It(),r.last_update=Wt(),r.creation_date=Wt(),Rt(r.id,JSON.stringify(r)),Rt(`${r.id}_annotations`,JSON.stringify(n));var i=JSON.parse(localStorage.getItem("adno_projects"));i.push(r.id),Rt("adno_projects",JSON.stringify(i))}function Wt(){return(new Date).toISOString().slice(0,10)}function $t(e){localStorage.removeItem(e+"_annotations"),localStorage.removeItem(e);let t=JSON.parse(localStorage.getItem("adno_projects")).filter((t=>t!==e));Rt("adno_projects",JSON.stringify(t))}function Gt(){var e=[],t=JSON.parse(localStorage.getItem("adno_projects"));return t&&t.length>0&&t.map((t=>{e.push(JSON.parse(localStorage.getItem(t)))})),e}function Xt(e){return localStorage.getItem(e)&&JSON.parse(localStorage.getItem(e)).settings?JSON.parse(localStorage.getItem(e)).settings:{delay:5,showNavigator:!0,toolsbarOnFs:!0,sidebarEnabled:!0,startbyfirstanno:!1,rotation:!1,displayToolbar:!0}}function Yt(){var e=JSON.parse(localStorage.getItem("adno_projects"));e?.forEach((n=>{let r=JSON.parse(localStorage.getItem(`${n}_annotations`));r?.forEach((n=>{n.body.find((e=>"AdnoRichText"===e.type))&&t(Qe).fire({title:"Un ou plusieurs projets ont t fait avec une version obsolte dAdno",showCancelButton:!1,showConfirmButton:!0,confirmButtonText:"Mettre  jour vers la dernire version",icon:"warning"}).then((n=>{n.isConfirmed&&(e.forEach((e=>{!function(e){const n=t(et)(),r=new Lt;try{const t=JSON.parse(localStorage.getItem(`${e}_annotations`));t.forEach((i=>{let o=i.body.filter((e=>"AdnoHtmlBody"!==e.type&&"AdnoRichText"!==e.type&&!("TextualBody"===e.type&&"commenting"===e.purpose)));if(i.body.length>0&&i.body.find((e=>"AdnoRichText"===e.type))){let a=i.body.find((e=>"AdnoRichText"===e.type)).value,s="",l="";a.forEach((e=>{var t=n.parseBlock(e);s+=t;var i=r.turndown(t);l+=i+"\n"})),o.push({type:"TextualBody",value:l,purpose:"commenting"},{type:"HTMLBody",value:s,purpose:"commenting"}),t.filter((e=>e.id===i.id))[0].body=o,Rt(`${e}_annotations`,JSON.stringify(t))}}))}catch(e){console.error("Erreur dtecte ",e)}}(e)})),t(Qe).fire("Flicitations, vos projets ADNO sont  jour ! ","","success"))}))}))}))}l=o("acw62");async function Zt(e,n){"png"===Ft(n)||"jpg"===Ft(n)||"jpeg"===Ft(n)?fetch(n).then((t=>{if(200!=t.status&&201!=t.status)throw new Error("Impossible d'accder  ce fichier");Rt("adno_image_url",n),e.history.push("/new")})).catch((n=>{t(Qe).fire({title:`Erreur dtecte : ${n.message}`,showCancelButton:!1,showConfirmButton:!0,confirmButtonText:"OK",icon:"error"}).then((t=>{t.isConfirmed&&e.history.push("/")}))})):fetch(n).then((e=>{if(200==e.status||201==e.status)return e.text();throw new Error(`Error ${e.status}`)})).then((r=>{let i=JSON.parse(r);i.format&&"Adno"===i.format?(Rt("adno_image_url",n),t(Qe).fire({title:"Projet ADNO dtect, voulez-vous l'importer ?",showCancelButton:!0,showConfirmButton:!0,confirmButtonText:"OK",cancelButtonText:"Annuler",icon:"info"}).then((n=>{if(n.isConfirmed){let n=It(),r=Ht(n,i.label,i.subject,i.source);Rt(n,JSON.stringify(r));let o=JSON.parse(localStorage.getItem("adno_projects"));o.push(n),Rt("adno_projects",JSON.stringify(o)),Rt(`${n}_annotations`,JSON.stringify(i.first.items)),localStorage.removeItem("adno_image_url"),t(Qe).fire({title:"Projet import avec succs",showCancelButton:!1,showConfirmButton:!0,confirmButtonText:"OK",icon:"success"}).then((t=>{t.isConfirmed&&e.history.push(`/project/${n}/edit`)}))}else n.isDismissed&&e.history.push("/")}))):(i.hasOwnProperty("@context")||i.hasOwnProperty("context"))&&(i.hasOwnProperty("@id")||i.hasOwnProperty("id"))?(Rt("adno_image_url",n),e.history.push("/new")):t(Qe).fire({title:"Projet non IIIF dtect, veuillez renseigner un projet IIIF",showCancelButton:!1,showConfirmButton:!0,confirmButtonText:"OK",icon:"error"}).then((t=>{t.isConfirmed&&e.history.push("/")}))})).catch((e=>{t(Qe).fire({title:`Impossible de traiter l'url fournie : ${n}`,showCancelButton:!1,showConfirmButton:!0,confirmButtonText:"OK",icon:"error"}).then((e=>{e.isConfirmed&&(window.location.href="")}))}))}class Kt extends l.Component{componentDidMount(){let e=new URLSearchParams(this.props.location.search).get("url");e?Zt(this.props,e):t(Qe).fire({title:"Aucune URL n'a t fournie",showCancelButton:!1,confirmButtonText:"Retourner  l'accueil",icon:"warning"}).then((e=>{e.isConfirmed&&this.props.history.push("/")}))}render(){return(0,a.jsx)(a.Fragment,{})}}var Jt=fe(Kt),Qt=(l=o("acw62"),{prefix:"fas",iconName:"arrow-left",icon:[448,512,[8592],"f060","M447.1 256C447.1 273.7 433.7 288 416 288H109.3l105.4 105.4c12.5 12.5 12.5 32.75 0 45.25C208.4 444.9 200.2 448 192 448s-16.38-3.125-22.62-9.375l-160-160c-12.5-12.5-12.5-32.75 0-45.25l160-160c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25L109.3 224H416C433.7 224 447.1 238.3 447.1 256z"]}),en={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6l-160 160C272.4 444.9 264.2 448 256 448s-16.38-3.125-22.62-9.375c-12.5-12.5-12.5-32.75 0-45.25L338.8 288H32C14.33 288 .0016 273.7 .0016 256S14.33 224 32 224h306.8l-105.4-105.4c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l160 160C451.1 245.9 451.1 266.1 438.6 278.6z"]},tn={prefix:"fas",iconName:"ban",icon:[512,512,[128683,"cancel"],"f05e","M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM99.5 144.8C77.15 176.1 64 214.5 64 256C64 362 149.1 448 256 448C297.5 448 335.9 434.9 367.2 412.5L99.5 144.8zM448 256C448 149.1 362 64 256 64C214.5 64 176.1 77.15 144.8 99.5L412.5 367.2C434.9 335.9 448 297.5 448 256V256z"]},nn=tn,rn={prefix:"fas",iconName:"bullseye",icon:[512,512,[],"f140","M288 256C288 273.7 273.7 288 256 288C238.3 288 224 273.7 224 256C224 238.3 238.3 224 256 224C273.7 224 288 238.3 288 256zM112 256C112 176.5 176.5 112 256 112C335.5 112 400 176.5 400 256C400 335.5 335.5 400 256 400C176.5 400 112 335.5 112 256zM256 336C300.2 336 336 300.2 336 256C336 211.8 300.2 176 256 176C211.8 176 176 211.8 176 256C176 300.2 211.8 336 256 336zM512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM256 64C149.1 64 64 149.1 64 256C64 362 149.1 448 256 448C362 448 448 362 448 256C448 149.1 362 64 256 64z"]},on={prefix:"fas",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM371.8 211.8C382.7 200.9 382.7 183.1 371.8 172.2C360.9 161.3 343.1 161.3 332.2 172.2L224 280.4L179.8 236.2C168.9 225.3 151.1 225.3 140.2 236.2C129.3 247.1 129.3 264.9 140.2 275.8L204.2 339.8C215.1 350.7 232.9 350.7 243.8 339.8L371.8 211.8z"]},an=on,sn={prefix:"fas",iconName:"circle-plus",icon:[512,512,["plus-circle"],"f055","M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM256 368C269.3 368 280 357.3 280 344V280H344C357.3 280 368 269.3 368 256C368 242.7 357.3 232 344 232H280V168C280 154.7 269.3 144 256 144C242.7 144 232 154.7 232 168V232H168C154.7 232 144 242.7 144 256C144 269.3 154.7 280 168 280H232V344C232 357.3 242.7 368 256 368z"]},ln=sn,cn={prefix:"fas",iconName:"copy",icon:[512,512,[],"f0c5","M384 96L384 0h-112c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48H464c26.51 0 48-21.49 48-48V128h-95.1C398.4 128 384 113.6 384 96zM416 0v96h96L416 0zM192 352V128h-144c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h192c26.51 0 48-21.49 48-48L288 416h-32C220.7 416 192 387.3 192 352z"]},un={prefix:"fas",iconName:"down-long",icon:[320,512,["long-arrow-alt-down"],"f309","M281.6 392.3l-104 112.1c-9.498 10.24-25.69 10.24-35.19 0l-104-112.1c-6.484-6.992-8.219-17.18-4.404-25.94c3.811-8.758 12.45-14.42 21.1-14.42H128V32c0-17.69 14.33-32 32-32S192 14.31 192 32v319.9h72c9.547 0 18.19 5.66 22 14.42C289.8 375.1 288.1 385.3 281.6 392.3z"]},pn={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M480 352h-133.5l-45.25 45.25C289.2 409.3 273.1 416 256 416s-33.16-6.656-45.25-18.75L165.5 352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h448c17.67 0 32-14.33 32-32v-96C512 366.3 497.7 352 480 352zM432 456c-13.2 0-24-10.8-24-24c0-13.2 10.8-24 24-24s24 10.8 24 24C456 445.2 445.2 456 432 456zM233.4 374.6C239.6 380.9 247.8 384 256 384s16.38-3.125 22.62-9.375l128-128c12.49-12.5 12.49-32.75 0-45.25c-12.5-12.5-32.76-12.5-45.25 0L288 274.8V32c0-17.67-14.33-32-32-32C238.3 0 224 14.33 224 32v242.8L150.6 201.4c-12.49-12.5-32.75-12.5-45.25 0c-12.49 12.5-12.49 32.75 0 45.25L233.4 374.6z"]},dn={prefix:"fas",iconName:"expand",icon:[448,512,[],"f065","M128 32H32C14.31 32 0 46.31 0 64v96c0 17.69 14.31 32 32 32s32-14.31 32-32V96h64c17.69 0 32-14.31 32-32S145.7 32 128 32zM416 32h-96c-17.69 0-32 14.31-32 32s14.31 32 32 32h64v64c0 17.69 14.31 32 32 32s32-14.31 32-32V64C448 46.31 433.7 32 416 32zM128 416H64v-64c0-17.69-14.31-32-32-32s-32 14.31-32 32v96c0 17.69 14.31 32 32 32h96c17.69 0 32-14.31 32-32S145.7 416 128 416zM416 320c-17.69 0-32 14.31-32 32v64h-64c-17.69 0-32 14.31-32 32s14.31 32 32 32h96c17.69 0 32-14.31 32-32v-96C448 334.3 433.7 320 416 320z"]},hn={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M279.6 160.4C282.4 160.1 285.2 160 288 160C341 160 384 202.1 384 256C384 309 341 352 288 352C234.1 352 192 309 192 256C192 253.2 192.1 250.4 192.4 247.6C201.7 252.1 212.5 256 224 256C259.3 256 288 227.3 288 192C288 180.5 284.1 169.7 279.6 160.4zM480.6 112.6C527.4 156 558.7 207.1 573.5 243.7C576.8 251.6 576.8 260.4 573.5 268.3C558.7 304 527.4 355.1 480.6 399.4C433.5 443.2 368.8 480 288 480C207.2 480 142.5 443.2 95.42 399.4C48.62 355.1 17.34 304 2.461 268.3C-.8205 260.4-.8205 251.6 2.461 243.7C17.34 207.1 48.62 156 95.42 112.6C142.5 68.84 207.2 32 288 32C368.8 32 433.5 68.84 480.6 112.6V112.6zM288 112C208.5 112 144 176.5 144 256C144 335.5 208.5 400 288 400C367.5 400 432 335.5 432 256C432 176.5 367.5 112 288 112z"]},fn={prefix:"fas",iconName:"file",icon:[384,512,[128459,61462,128196],"f15b","M0 64C0 28.65 28.65 0 64 0H224V128C224 145.7 238.3 160 256 160H384V448C384 483.3 355.3 512 320 512H64C28.65 512 0 483.3 0 448V64zM256 128V0L384 128H256z"]},mn={prefix:"fas",iconName:"file-pen",icon:[576,512,[128221,"file-edit"],"f31c","M0 64C0 28.65 28.65 0 64 0H224V128C224 145.7 238.3 160 256 160H384V299.6L289.3 394.3C281.1 402.5 275.3 412.8 272.5 424.1L257.4 484.2C255.1 493.6 255.7 503.2 258.8 512H64C28.65 512 0 483.3 0 448V64zM256 128V0L384 128H256zM564.1 250.1C579.8 265.7 579.8 291 564.1 306.7L534.7 336.1L463.8 265.1L493.2 235.7C508.8 220.1 534.1 220.1 549.8 235.7L564.1 250.1zM311.9 416.1L441.1 287.8L512.1 358.7L382.9 487.9C378.8 492 373.6 494.9 368 496.3L307.9 511.4C302.4 512.7 296.7 511.1 292.7 507.2C288.7 503.2 287.1 497.4 288.5 491.1L303.5 431.8C304.9 426.2 307.8 421.1 311.9 416.1V416.1z"]},gn={prefix:"fas",iconName:"floppy-disk",icon:[448,512,[128426,128190,"save"],"f0c7","M433.1 129.1l-83.9-83.9C342.3 38.32 327.1 32 316.1 32H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h320c35.35 0 64-28.65 64-64V163.9C448 152.9 441.7 137.7 433.1 129.1zM224 416c-35.34 0-64-28.66-64-64s28.66-64 64-64s64 28.66 64 64S259.3 416 224 416zM320 208C320 216.8 312.8 224 304 224h-224C71.16 224 64 216.8 64 208v-96C64 103.2 71.16 96 80 96h224C312.8 96 320 103.2 320 112V208z"]},vn=gn,yn={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6C499.2 175.2 496.4 184.9 489.6 191.2L446.3 230.6C447.4 238.9 448 247.4 448 256C448 264.6 447.4 273.1 446.3 281.4L489.6 320.8C496.4 327.1 499.2 336.8 495.9 345.4C491.5 357.3 486.2 368.8 480.2 379.7L475.5 387.8C468.9 398.8 461.5 409.2 453.4 419.1C447.4 426.2 437.7 428.7 428.9 425.9L373.2 408.1C359.8 418.4 344.1 427 329.2 433.6L316.7 490.7C314.7 499.7 307.7 506.1 298.5 508.5C284.7 510.8 270.5 512 255.1 512C241.5 512 227.3 510.8 213.5 508.5C204.3 506.1 197.3 499.7 195.3 490.7L182.8 433.6C167 427 152.2 418.4 138.8 408.1L83.14 425.9C74.3 428.7 64.55 426.2 58.63 419.1C50.52 409.2 43.12 398.8 36.52 387.8L31.84 379.7C25.77 368.8 20.49 357.3 16.06 345.4C12.82 336.8 15.55 327.1 22.41 320.8L65.67 281.4C64.57 273.1 64 264.6 64 256C64 247.4 64.57 238.9 65.67 230.6L22.41 191.2C15.55 184.9 12.82 175.3 16.06 166.6C20.49 154.7 25.78 143.2 31.84 132.3L36.51 124.2C43.12 113.2 50.52 102.8 58.63 92.95C64.55 85.8 74.3 83.32 83.14 86.14L138.8 103.9C152.2 93.56 167 84.96 182.8 78.43L195.3 21.33C197.3 12.25 204.3 5.04 213.5 3.51C227.3 1.201 241.5 0 256 0C270.5 0 284.7 1.201 298.5 3.51C307.7 5.04 314.7 12.25 316.7 21.33L329.2 78.43C344.1 84.96 359.8 93.56 373.2 103.9L428.9 86.14C437.7 83.32 447.4 85.8 453.4 92.95C461.5 102.8 468.9 113.2 475.5 124.2L480.2 132.3C486.2 143.2 491.5 154.7 495.9 166.6V166.6zM256 336C300.2 336 336 300.2 336 255.1C336 211.8 300.2 175.1 256 175.1C211.8 175.1 176 211.8 176 255.1C176 300.2 211.8 336 256 336z"]},bn={prefix:"fas",iconName:"house",icon:[576,512,[63498,63500,127968,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5C575.8 273.5 560.8 287.6 543.8 287.6H511.8L512.5 447.7C512.5 450.5 512.3 453.1 512 455.8V472C512 494.1 494.1 512 472 512H456C454.9 512 453.8 511.1 452.7 511.9C451.3 511.1 449.9 512 448.5 512H392C369.9 512 352 494.1 352 472V384C352 366.3 337.7 352 320 352H256C238.3 352 224 366.3 224 384V472C224 494.1 206.1 512 184 512H128.1C126.6 512 125.1 511.9 123.6 511.8C122.4 511.9 121.2 512 120 512H104C81.91 512 64 494.1 64 472V360C64 359.1 64.03 358.1 64.09 357.2V287.6H32.05C14.02 287.6 0 273.5 0 255.5C0 246.5 3.004 238.5 10.01 231.5L266.4 8.016C273.4 1.002 281.4 0 288.4 0C295.4 0 303.4 2.004 309.5 7.014L564.8 231.5C572.8 238.5 576.9 246.5 575.8 255.5L575.8 255.5z"]},wn=bn,xn={prefix:"fas",iconName:"link",icon:[640,512,[128279,"chain"],"f0c1","M172.5 131.1C228.1 75.51 320.5 75.51 376.1 131.1C426.1 181.1 433.5 260.8 392.4 318.3L391.3 319.9C381 334.2 361 337.6 346.7 327.3C332.3 317 328.9 297 339.2 282.7L340.3 281.1C363.2 249 359.6 205.1 331.7 177.2C300.3 145.8 249.2 145.8 217.7 177.2L105.5 289.5C73.99 320.1 73.99 372 105.5 403.5C133.3 431.4 177.3 435 209.3 412.1L210.9 410.1C225.3 400.7 245.3 404 255.5 418.4C265.8 432.8 262.5 452.8 248.1 463.1L246.5 464.2C188.1 505.3 110.2 498.7 60.21 448.8C3.741 392.3 3.741 300.7 60.21 244.3L172.5 131.1zM467.5 380C411 436.5 319.5 436.5 263 380C213 330 206.5 251.2 247.6 193.7L248.7 192.1C258.1 177.8 278.1 174.4 293.3 184.7C307.7 194.1 311.1 214.1 300.8 229.3L299.7 230.9C276.8 262.1 280.4 306.9 308.3 334.8C339.7 366.2 390.8 366.2 422.3 334.8L534.5 222.5C566 191 566 139.1 534.5 108.5C506.7 80.63 462.7 76.99 430.7 99.9L429.1 101C414.7 111.3 394.7 107.1 384.5 93.58C374.2 79.2 377.5 59.21 391.9 48.94L393.5 47.82C451 6.731 529.8 13.25 579.8 63.24C636.3 119.7 636.3 211.3 579.8 267.7L467.5 380z"]},kn={prefix:"fas",iconName:"magnifying-glass-minus",icon:[512,512,["search-minus"],"f010","M500.3 443.7l-119.7-119.7c27.22-40.41 40.65-90.9 33.46-144.7c-12.23-91.55-87.28-166-178.9-177.6c-136.2-17.24-250.7 97.28-233.4 233.4c11.6 91.64 86.07 166.7 177.6 178.9c53.81 7.191 104.3-6.235 144.7-33.46l119.7 119.7c15.62 15.62 40.95 15.62 56.57 .0003C515.9 484.7 515.9 459.3 500.3 443.7zM288 232H127.1C114.7 232 104 221.3 104 208s10.74-24 23.1-24h160C301.3 184 312 194.7 312 208S301.3 232 288 232z"]},Sn={prefix:"fas",iconName:"pause",icon:[320,512,[9208],"f04c","M272 63.1l-32 0c-26.51 0-48 21.49-48 47.1v288c0 26.51 21.49 48 48 48L272 448c26.51 0 48-21.49 48-48v-288C320 85.49 298.5 63.1 272 63.1zM80 63.1l-32 0c-26.51 0-48 21.49-48 48v288C0 426.5 21.49 448 48 448l32 0c26.51 0 48-21.49 48-48v-288C128 85.49 106.5 63.1 80 63.1z"]},Cn={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M490.3 40.4C512.2 62.27 512.2 97.73 490.3 119.6L460.3 149.7L362.3 51.72L392.4 21.66C414.3-.2135 449.7-.2135 471.6 21.66L490.3 40.4zM172.4 241.7L339.7 74.34L437.7 172.3L270.3 339.6C264.2 345.8 256.7 350.4 248.4 353.2L159.6 382.8C150.1 385.6 141.5 383.4 135 376.1C128.6 370.5 126.4 361 129.2 352.4L158.8 263.6C161.6 255.3 166.2 247.8 172.4 241.7V241.7zM192 63.1C209.7 63.1 224 78.33 224 95.1C224 113.7 209.7 127.1 192 127.1H96C78.33 127.1 64 142.3 64 159.1V416C64 433.7 78.33 448 96 448H352C369.7 448 384 433.7 384 416V319.1C384 302.3 398.3 287.1 416 287.1C433.7 287.1 448 302.3 448 319.1V416C448 469 405 512 352 512H96C42.98 512 0 469 0 416V159.1C0 106.1 42.98 63.1 96 63.1H192z"]},En=Cn,Tn={prefix:"fas",iconName:"play",icon:[384,512,[9654],"f04b","M361 215C375.3 223.8 384 239.3 384 256C384 272.7 375.3 288.2 361 296.1L73.03 472.1C58.21 482 39.66 482.4 24.52 473.9C9.377 465.4 0 449.4 0 432V80C0 62.64 9.377 46.63 24.52 38.13C39.66 29.64 58.21 29.99 73.03 39.04L361 215z"]},_n={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M432 256c0 17.69-14.33 32.01-32 32.01H256v144c0 17.69-14.33 31.99-32 31.99s-32-14.3-32-31.99v-144H48c-17.67 0-32-14.32-32-32.01s14.33-31.99 32-31.99H192v-144c0-17.69 14.33-32.01 32-32.01s32 14.32 32 32.01v144h144C417.7 224 432 238.3 432 256z"]},An=_n,On={prefix:"fas",iconName:"rotate-right",icon:[512,512,["redo-alt","rotate-forward"],"f2f9","M468.9 32.11c13.87 0 27.18 10.77 27.18 27.04v145.9c0 10.59-8.584 19.17-19.17 19.17h-145.7c-16.28 0-27.06-13.32-27.06-27.2c0-6.634 2.461-13.4 7.96-18.9l45.12-45.14c-28.22-23.14-63.85-36.64-101.3-36.64c-88.09 0-159.8 71.69-159.8 159.8S167.8 415.9 255.9 415.9c73.14 0 89.44-38.31 115.1-38.31c18.48 0 31.97 15.04 31.97 31.96c0 35.04-81.59 70.41-147 70.41c-123.4 0-223.9-100.5-223.9-223.9S132.6 32.44 256 32.44c54.6 0 106.2 20.39 146.4 55.26l47.6-47.63C455.5 34.57 462.3 32.11 468.9 32.11z"]},Nn={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.69C140.6 6.848 151.7 0 163.8 0H284.2C296.3 0 307.4 6.848 312.8 17.69L320 32H416C433.7 32 448 46.33 448 64C448 81.67 433.7 96 416 96H32C14.33 96 0 81.67 0 64C0 46.33 14.33 32 32 32H128L135.2 17.69zM394.8 466.1C393.2 492.3 372.3 512 346.9 512H101.1C75.75 512 54.77 492.3 53.19 466.1L31.1 128H416L394.8 466.1z"]},Mn={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M135.2 17.69C140.6 6.848 151.7 0 163.8 0H284.2C296.3 0 307.4 6.848 312.8 17.69L320 32H416C433.7 32 448 46.33 448 64C448 81.67 433.7 96 416 96H32C14.33 96 0 81.67 0 64C0 46.33 14.33 32 32 32H128L135.2 17.69zM31.1 128H416V448C416 483.3 387.3 512 352 512H95.1C60.65 512 31.1 483.3 31.1 448V128zM111.1 208V432C111.1 440.8 119.2 448 127.1 448C136.8 448 143.1 440.8 143.1 432V208C143.1 199.2 136.8 192 127.1 192C119.2 192 111.1 199.2 111.1 208zM207.1 208V432C207.1 440.8 215.2 448 223.1 448C232.8 448 240 440.8 240 432V208C240 199.2 232.8 192 223.1 192C215.2 192 207.1 199.2 207.1 208zM304 208V432C304 440.8 311.2 448 320 448C328.8 448 336 440.8 336 432V208C336 199.2 328.8 192 320 192C311.2 192 304 199.2 304 208z"]},Pn=Mn,Dn={prefix:"fas",iconName:"up-long",icon:[320,512,["long-arrow-alt-up"],"f30c","M285.1 145.7c-3.81 8.758-12.45 14.42-21.1 14.42L192 160.1V480c0 17.69-14.33 32-32 32s-32-14.31-32-32V160.1L55.1 160.1c-9.547 0-18.19-5.658-22-14.42c-3.811-8.758-2.076-18.95 4.408-25.94l104-112.1c9.498-10.24 25.69-10.24 35.19 0l104 112.1C288.1 126.7 289.8 136.9 285.1 145.7z"]},Ln={prefix:"fas",iconName:"upload",icon:[512,512,[],"f093","M105.4 182.6c12.5 12.49 32.76 12.5 45.25 .001L224 109.3V352c0 17.67 14.33 32 32 32c17.67 0 32-14.33 32-32V109.3l73.38 73.38c12.49 12.49 32.75 12.49 45.25-.001c12.49-12.49 12.49-32.75 0-45.25l-128-128C272.4 3.125 264.2 0 256 0S239.6 3.125 233.4 9.375L105.4 137.4C92.88 149.9 92.88 170.1 105.4 182.6zM480 352h-160c0 35.35-28.65 64-64 64s-64-28.65-64-64H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h448c17.67 0 32-14.33 32-32v-96C512 366.3 497.7 352 480 352zM432 456c-13.2 0-24-10.8-24-24c0-13.2 10.8-24 24-24s24 10.8 24 24C456 445.2 445.2 456 432 456z"]};
/*!
 * Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2022 Fonticons, Inc.
 */
function Rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rn(Object(n),!0).forEach((function(t){Fn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bn(e){return Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bn(e)}function jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||qn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hn(e){return function(e){if(Array.isArray(e))return Vn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||qn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qn(e,t){if(e){if("string"==typeof e)return Vn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vn(e,t):void 0}}function Vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Un=function(){},Wn={},$n={},Gn=null,Xn={mark:Un,measure:Un};try{"undefined"!=typeof window&&(Wn=window),"undefined"!=typeof document&&($n=document),"undefined"!=typeof MutationObserver&&(Gn=MutationObserver),"undefined"!=typeof performance&&(Xn=performance)}catch(e){}var Yn=(Wn.navigator||{}).userAgent,Zn=void 0===Yn?"":Yn,Kn=Wn,Jn=$n,Qn=Gn,er=Xn,tr=(Kn.document,!!Jn.documentElement&&!!Jn.head&&"function"==typeof Jn.addEventListener&&"function"==typeof Jn.createElement),nr=~Zn.indexOf("MSIE")||~Zn.indexOf("Trident/"),rr="___FONT_AWESOME___",ir=16,or="fa",ar="svg-inline--fa",sr="data-fa-i2svg",lr="data-fa-pseudo-element",cr="data-fa-pseudo-element-pending",ur="data-prefix",pr="data-icon",dr="fontawesome-i2svg",hr="async",fr=["HTML","HEAD","STYLE","SCRIPT"],mr=function(){try{return!0}catch(e){return!1}}(),gr={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},vr={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},yr={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},br={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},wr=/fa[srltdbk]?[\-\ ]/,xr="fa-layers-text",kr=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,Sr={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},Cr=[1,2,3,4,5,6,7,8,9,10],Er=Cr.concat([11,12,13,14,15,16,17,18,19,20]),Tr=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],_r={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Ar=[].concat(Hn(Object.keys(vr)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",_r.GROUP,_r.SWAP_OPACITY,_r.PRIMARY,_r.SECONDARY]).concat(Cr.map((function(e){return"".concat(e,"x")}))).concat(Er.map((function(e){return"w-".concat(e)}))),Or=Kn.FontAwesomeConfig||{};if(Jn&&"function"==typeof Jn.querySelector){[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=zn(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=Jn.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));null!=i&&(Or[r]=i)}))}var Nr=In(In({},{familyPrefix:or,styleDefault:"solid",replacementClass:ar,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0}),Or);Nr.autoReplaceSvg||(Nr.observeMutations=!1);var Mr={};Object.keys(Nr).forEach((function(e){Object.defineProperty(Mr,e,{enumerable:!0,set:function(t){Nr[e]=t,Pr.forEach((function(e){return e(Mr)}))},get:function(){return Nr[e]}})})),Kn.FontAwesomeConfig=Mr;var Pr=[];var Dr=ir,Lr={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};var Rr="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Ir(){for(var e=12,t="";e-- >0;)t+=Rr[62*Math.random()|0];return t}function Br(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function jr(e){return e.classList?Br(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function Fr(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function zr(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function Hr(e){return e.size!==Lr.size||e.x!==Lr.x||e.y!==Lr.y||e.rotate!==Lr.rotate||e.flipX||e.flipY}var qr=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function Vr(){var e=or,t=ar,n=Mr.familyPrefix,r=Mr.replacementClass,i=qr;if(n!==e||r!==t){var o=new RegExp("\\.".concat(e,"\\-"),"g"),a=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");i=i.replace(o,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(s,".".concat(r))}return i}var Ur=!1;function Wr(){Mr.autoAddCss&&!Ur&&(!function(e){if(e&&tr){var t=Jn.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=Jn.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],a=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=o)}Jn.head.insertBefore(t,r)}}(Vr()),Ur=!0)}var $r={mixout:function(){return{dom:{css:Vr,insertCss:Wr}}},hooks:function(){return{beforeDOMElementCreation:function(){Wr()},beforeI2svg:function(){Wr()}}}},Gr=Kn||{};Gr[rr]||(Gr[rr]={}),Gr[rr].styles||(Gr[rr].styles={}),Gr[rr].hooks||(Gr[rr].hooks={}),Gr[rr].shims||(Gr[rr].shims=[]);var Xr=Gr[rr],Yr=[],Zr=!1;function Kr(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,o=void 0===i?[]:i;return"string"==typeof e?Fr(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(Fr(e[n]),'" ')}),"").trim()}(r),">").concat(o.map(Kr).join(""),"</").concat(t,">")}function Jr(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}tr&&((Zr=(Jn.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Jn.readyState))||Jn.addEventListener("DOMContentLoaded",(function e(){Jn.removeEventListener("DOMContentLoaded",e),Zr=1,Yr.map((function(e){return e()}))})));var Qr=function(e,t,n,r){var i,o,a,s=Object.keys(e),l=s.length,c=void 0!==r?function(e,t){return function(n,r,i,o){return e.call(t,n,r,i,o)}}(t,r):t;for(void 0===n?(i=1,a=e[s[0]]):(i=0,a=n);i<l;i++)a=c(a,e[o=s[i]],o,e);return a};function ei(e){var t=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function ti(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function ni(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==n&&n,i=ti(t);"function"!=typeof Xr.hooks.addPack||r?Xr.styles[e]=In(In({},Xr.styles[e]||{}),i):Xr.hooks.addPack(e,ti(t)),"fas"===e&&ni("fa",t)}var ri=Xr.styles,ii=Xr.shims,oi=Object.values(yr),ai=null,si={},li={},ci={},ui={},pi={},di=Object.keys(gr);function hi(e,t){var n,r=t.split("-"),i=r[0],o=r.slice(1).join("-");return i!==e||""===o||(n=o,~Ar.indexOf(n))?null:o}var fi,mi=function(){var e=function(e){return Qr(ri,(function(t,n,r){return t[r]=Qr(n,e,{}),t}),{})};si=e((function(e,t,n){(t[3]&&(e[t[3]]=n),t[2])&&t[2].filter((function(e){return"number"==typeof e})).forEach((function(t){e[t.toString(16)]=n}));return e})),li=e((function(e,t,n){(e[n]=n,t[2])&&t[2].filter((function(e){return"string"==typeof e})).forEach((function(t){e[t]=n}));return e})),pi=e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in ri||Mr.autoFetchSvg,n=Qr(ii,(function(e,n){var r=n[0],i=n[1],o=n[2];return"far"!==i||t||(i="fas"),"string"==typeof r&&(e.names[r]={prefix:i,iconName:o}),"number"==typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:o}),e}),{names:{},unicodes:{}});ci=n.names,ui=n.unicodes,ai=xi(Mr.styleDefault)};function gi(e,t){return(si[e]||{})[t]}function vi(e,t){return(pi[e]||{})[t]}function yi(e){return ci[e]||{prefix:null,iconName:null}}function bi(){return ai}fi=function(e){ai=xi(e.styleDefault)},Pr.push(fi),mi();var wi=function(){return{prefix:null,iconName:null,rest:[]}};function xi(e){var t=gr[e],n=vr[e]||vr[t],r=e in Xr.styles?e:null;return n||r||null}function ki(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,n=void 0!==t&&t,r=null,i=e.reduce((function(e,t){var i=hi(Mr.familyPrefix,t);if(ri[t]?(t=oi.includes(t)?br[t]:t,r=t,e.prefix=t):di.indexOf(t)>-1?(r=t,e.prefix=xi(t)):i?e.iconName=i:t!==Mr.replacementClass&&e.rest.push(t),!n&&e.prefix&&e.iconName){var o="fa"===r?yi(e.iconName):{},a=vi(e.prefix,e.iconName);o.prefix&&(r=null),e.iconName=o.iconName||a||e.iconName,e.prefix=o.prefix||e.prefix,"far"!==e.prefix||ri.far||!ri.fas||Mr.autoFetchSvg||(e.prefix="fas")}return e}),wi());return"fa"!==i.prefix&&"fa"!==r||(i.prefix=bi()||"fas"),i}var Si=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=In(In({},e.definitions[t]||{}),i[t]),ni(t,i[t]);var n=yr[t];n&&ni(n,i[t]),mi()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,o=r.iconName,a=r.icon,s=a[2];e[i]||(e[i]={}),s.length>0&&s.forEach((function(t){"string"==typeof t&&(e[i][t]=a)})),e[i][o]=a})),e}}],n&&jn(t.prototype,n),r&&jn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Ci=[],Ei={},Ti={},_i=Object.keys(Ti);function Ai(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(Ei[e]||[]).forEach((function(e){t=e.apply(null,[t].concat(r))})),t}function Oi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(Ei[e]||[]).forEach((function(e){e.apply(null,n)}))}function Ni(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Ti[e]?Ti[e].apply(null,t):void 0}function Mi(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||bi();if(t)return t=vi(n,t)||t,Jr(Pi.definitions,n,t)||Jr(Xr.styles,n,t)}var Pi=new Si,Di={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return tr?(Oi("beforeI2svg",e),Ni("pseudoElements2svg",e),Ni("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.autoReplaceSvgRoot;!1===Mr.autoReplaceSvg&&(Mr.autoReplaceSvg=!0),Mr.observeMutations=!0,e=function(){Ri({autoReplaceSvgRoot:n}),Oi("watch",t)},tr&&(Zr?setTimeout(e,0):Yr.push(e))}},Li={noAuto:function(){Mr.autoReplaceSvg=!1,Mr.observeMutations=!1,Oi("noAuto")},config:Mr,dom:Di,parse:{icon:function(e){if(null===e)return null;if("object"===Bn(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:vi(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=xi(e[0]);return{prefix:n,iconName:vi(n,t)||t}}if("string"==typeof e&&(e.indexOf("".concat(Mr.familyPrefix,"-"))>-1||e.match(wr))){var r=ki(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||bi(),iconName:vi(r.prefix,r.iconName)||r.iconName}}if("string"==typeof e){var i=bi();return{prefix:i,iconName:vi(i,e)||e}}}},library:Pi,findIconDefinition:Mi,toHtml:Kr},Ri=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,t=void 0===e?Jn:e;(Object.keys(Xr.styles).length>0||Mr.autoFetchSvg)&&tr&&Mr.autoReplaceSvg&&Li.dom.i2svg({node:t})};function Ii(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return Kr(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(tr){var t=Jn.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function Bi(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,o=e.iconName,a=e.transform,s=e.symbol,l=e.title,c=e.maskId,u=e.titleId,p=e.extra,d=e.watchable,h=void 0!==d&&d,f=r.found?r:n,m=f.width,g=f.height,v="fak"===i,y=[Mr.replacementClass,o?"".concat(Mr.familyPrefix,"-").concat(o):""].filter((function(e){return-1===p.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(p.classes).join(" "),b={children:[],attributes:In(In({},p.attributes),{},{"data-prefix":i,"data-icon":o,class:y,role:p.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(g)})},w=v&&!~p.classes.indexOf("fa-fw")?{width:"".concat(m/g*1,"em")}:{};h&&(b.attributes[sr]=""),l&&(b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(u||Ir())},children:[l]}),delete b.attributes.title);var x=In(In({},b),{},{prefix:i,iconName:o,main:n,mask:r,maskId:c,transform:a,symbol:s,styles:In(In({},w),p.styles)}),k=r.found&&n.found?Ni("generateAbstractMask",x)||{children:[],attributes:{}}:Ni("generateAbstractIcon",x)||{children:[],attributes:{}},S=k.children,C=k.attributes;return x.children=S,x.attributes=C,s?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,o=e.symbol,a=!0===o?"".concat(t,"-").concat(Mr.familyPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:In(In({},i),{},{id:a}),children:r}]}]}(x):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,o=e.styles,a=e.transform;if(Hr(a)&&n.found&&!r.found){var s={x:n.width/n.height/2,y:.5};i.style=zr(In(In({},o),{},{"transform-origin":"".concat(s.x+a.x/16,"em ").concat(s.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(x)}function ji(e){var t=e.content,n=e.width,r=e.height,i=e.transform,o=e.title,a=e.extra,s=e.watchable,l=void 0!==s&&s,c=In(In(In({},a.attributes),o?{title:o}:{}),{},{class:a.classes.join(" ")});l&&(c[sr]="");var u=In({},a.styles);Hr(i)&&(u.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?ir:n,i=e.height,o=void 0===i?ir:i,a=e.startCentered,s=void 0!==a&&a,l="";return l+=s&&nr?"translate(".concat(t.x/Dr-r/2,"em, ").concat(t.y/Dr-o/2,"em) "):s?"translate(calc(-50% + ".concat(t.x/Dr,"em), calc(-50% + ").concat(t.y/Dr,"em)) "):"translate(".concat(t.x/Dr,"em, ").concat(t.y/Dr,"em) "),l+="scale(".concat(t.size/Dr*(t.flipX?-1:1),", ").concat(t.size/Dr*(t.flipY?-1:1),") "),l+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);var p=zr(u);p.length>0&&(c.style=p);var d=[];return d.push({tag:"span",attributes:c,children:[t]}),o&&d.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),d}var Fi=Xr.styles;function zi(e){var t=e[0],n=e[1],r=zn(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(Mr.familyPrefix,"-").concat(_r.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Mr.familyPrefix,"-").concat(_r.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Mr.familyPrefix,"-").concat(_r.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var Hi={found:!1,width:512,height:512};function qi(e,t){var n=t;return"fa"===t&&null!==Mr.styleDefault&&(t=bi()),new Promise((function(r,i){Ni("missingIconAbstract");if("fa"===n){var o=yi(e)||{};e=o.iconName||e,t=o.prefix||t}if(e&&t&&Fi[t]&&Fi[t][e])return r(zi(Fi[t][e]));!function(e,t){mr||Mr.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(In(In({},Hi),{},{icon:Mr.showMissingIcons&&e&&Ni("missingIconAbstract")||{}}))}))}var Vi=function(){},Ui=Mr.measurePerformance&&er&&er.mark&&er.measure?er:{mark:Vi,measure:Vi},Wi='FA "6.1.2"',$i=function(e){Ui.mark("".concat(Wi," ").concat(e," ends")),Ui.measure("".concat(Wi," ").concat(e),"".concat(Wi," ").concat(e," begins"),"".concat(Wi," ").concat(e," ends"))},Gi={begin:function(e){return Ui.mark("".concat(Wi," ").concat(e," begins")),function(){return $i(e)}},end:$i},Xi=function(){};function Yi(e){return"string"==typeof(e.getAttribute?e.getAttribute(sr):null)}function Zi(e){return Jn.createElementNS("http://www.w3.org/2000/svg",e)}function Ki(e){return Jn.createElement(e)}function Ji(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,n=void 0===t?"svg"===e.tag?Zi:Ki:t;if("string"==typeof e)return Jn.createTextNode(e);var r=n(e.tag);return Object.keys(e.attributes||[]).forEach((function(t){r.setAttribute(t,e.attributes[t])})),(e.children||[]).forEach((function(e){r.appendChild(Ji(e,{ceFn:n}))})),r}var Qi={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(Ji(e),t)})),null===t.getAttribute(sr)&&Mr.keepOriginalSource){var n=Jn.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~jr(t).indexOf(Mr.replacementClass))return Qi.replace(e);var r=new RegExp("".concat(Mr.familyPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce((function(e,t){return t===Mr.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var o=n.map((function(e){return Kr(e)})).join("\n");t.setAttribute(sr,""),t.innerHTML=o}};function eo(e){e()}function to(e,t){var n="function"==typeof t?t:Xi;if(0===e.length)n();else{var r=eo;Mr.mutateApproach===hr&&(r=Kn.requestAnimationFrame||eo),r((function(){var t=!0===Mr.autoReplaceSvg?Qi.replace:Qi[Mr.autoReplaceSvg]||Qi.replace,r=Gi.begin("mutate");e.map(t),r(),n()}))}}var no=!1;function ro(){no=!0}function io(){no=!1}var oo=null;function ao(e){if(Qn&&Mr.observeMutations){var t=e.treeCallback,n=void 0===t?Xi:t,r=e.nodeCallback,i=void 0===r?Xi:r,o=e.pseudoElementsCallback,a=void 0===o?Xi:o,s=e.observeMutationsRoot,l=void 0===s?Jn:s;oo=new Qn((function(e){if(!no){var t=bi();Br(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!Yi(e.addedNodes[0])&&(Mr.searchPseudoElements&&a(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&Mr.searchPseudoElements&&a(e.target.parentNode),"attributes"===e.type&&Yi(e.target)&&~Tr.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(ur):null,n=e.getAttribute?e.getAttribute(pr):null;return t&&n}(e.target)){var r=ki(jr(e.target)),o=r.prefix,s=r.iconName;e.target.setAttribute(ur,o||t),s&&e.target.setAttribute(pr,s)}else(l=e.target)&&l.classList&&l.classList.contains&&l.classList.contains(Mr.replacementClass)&&i(e.target);var l}))}})),tr&&oo.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function so(e){var t,n,r=e.getAttribute("data-prefix"),i=e.getAttribute("data-icon"),o=void 0!==e.innerText?e.innerText.trim():"",a=ki(jr(e));return a.prefix||(a.prefix=bi()),r&&i&&(a.prefix=r,a.iconName=i),a.iconName&&a.prefix||(a.prefix&&o.length>0&&(a.iconName=(t=a.prefix,n=e.innerText,(li[t]||{})[n]||gi(a.prefix,ei(e.innerText)))),!a.iconName&&Mr.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(a.iconName=e.firstChild.data)),a}function lo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=so(e),r=n.iconName,i=n.prefix,o=n.rest,a=function(e){var t=Br(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return Mr.autoA11y&&(n?t["aria-labelledby"]="".concat(Mr.replacementClass,"-title-").concat(r||Ir()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),s=Ai("parseNodeAttributes",{},e),l=t.styleParser?function(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}(e):[];return In({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:Lr,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:l,attributes:a}},s)}var co=Xr.styles;function uo(e){var t="nest"===Mr.autoReplaceSvg?lo(e,{styleParser:!1}):lo(e);return~t.extra.classes.indexOf(xr)?Ni("generateLayersText",e,t):Ni("generateSvgReplacementMutation",e,t)}function po(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!tr)return Promise.resolve();var n=Jn.documentElement.classList,r=function(e){return n.add("".concat(dr,"-").concat(e))},i=function(e){return n.remove("".concat(dr,"-").concat(e))},o=Mr.autoFetchSvg?Object.keys(gr):Object.keys(co);o.includes("fa")||o.push("fa");var a=[".".concat(xr,":not([").concat(sr,"])")].concat(o.map((function(e){return".".concat(e,":not([").concat(sr,"])")}))).join(", ");if(0===a.length)return Promise.resolve();var s=[];try{s=Br(e.querySelectorAll(a))}catch(e){}if(!(s.length>0))return Promise.resolve();r("pending"),i("complete");var l=Gi.begin("onTree"),c=s.reduce((function(e,t){try{var n=uo(t);n&&e.push(n)}catch(e){mr||"MissingIcon"===e.name&&console.error(e)}return e}),[]);return new Promise((function(e,n){Promise.all(c).then((function(n){to(n,(function(){r("active"),r("complete"),i("pending"),"function"==typeof t&&t(),l(),e()}))})).catch((function(e){l(),n(e)}))}))}function ho(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;uo(e).then((function(e){e&&to([e],t)}))}var fo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?Lr:n,i=t.symbol,o=void 0!==i&&i,a=t.mask,s=void 0===a?null:a,l=t.maskId,c=void 0===l?null:l,u=t.title,p=void 0===u?null:u,d=t.titleId,h=void 0===d?null:d,f=t.classes,m=void 0===f?[]:f,g=t.attributes,v=void 0===g?{}:g,y=t.styles,b=void 0===y?{}:y;if(e){var w=e.prefix,x=e.iconName,k=e.icon;return Ii(In({type:"icon"},e),(function(){return Oi("beforeDOMElementCreation",{iconDefinition:e,params:t}),Mr.autoA11y&&(p?v["aria-labelledby"]="".concat(Mr.replacementClass,"-title-").concat(h||Ir()):(v["aria-hidden"]="true",v.focusable="false")),Bi({icons:{main:zi(k),mask:s?zi(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:w,iconName:x,transform:In(In({},Lr),r),symbol:o,title:p,maskId:c,titleId:h,extra:{attributes:v,styles:b,classes:m}})}))}},mo={mixout:function(){return{icon:(e=fo,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:Mi(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:Mi(i||{})),e(r,In(In({},n),{},{mask:i}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=po,e.nodeCallback=ho,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?Jn:t,r=e.callback;return po(n,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,r=t.title,i=t.titleId,o=t.prefix,a=t.transform,s=t.symbol,l=t.mask,c=t.maskId,u=t.extra;return new Promise((function(t,p){Promise.all([qi(n,o),l.iconName?qi(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(l){var p=zn(l,2),d=p[0],h=p[1];t([e,Bi({icons:{main:d,mask:h},prefix:o,iconName:n,transform:a,symbol:s,maskId:c,title:r,titleId:i,extra:u,watchable:!0})])})).catch(p)}))},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,i=e.main,o=e.transform,a=zr(e.styles);return a.length>0&&(r.style=a),Hr(o)&&(t=Ni("generateAbstractTransformGrouping",{main:i,transform:o,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:r}}}},go={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,r=void 0===n?[]:n;return Ii({type:"layer"},(function(){Oi("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(Mr.familyPrefix,"-layers")].concat(Hn(r)).join(" ")},children:n}]}))}}}},vo={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,i=t.classes,o=void 0===i?[]:i,a=t.attributes,s=void 0===a?{}:a,l=t.styles,c=void 0===l?{}:l;return Ii({type:"counter",content:e},(function(){return Oi("beforeDOMElementCreation",{content:e,params:t}),function(e){var t=e.content,n=e.title,r=e.extra,i=In(In(In({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),o=zr(r.styles);o.length>0&&(i.style=o);var a=[];return a.push({tag:"span",attributes:i,children:[t]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}({content:e.toString(),title:r,extra:{attributes:s,styles:c,classes:["".concat(Mr.familyPrefix,"-layers-counter")].concat(Hn(o))}})}))}}}},yo={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?Lr:n,i=t.title,o=void 0===i?null:i,a=t.classes,s=void 0===a?[]:a,l=t.attributes,c=void 0===l?{}:l,u=t.styles,p=void 0===u?{}:u;return Ii({type:"text",content:e},(function(){return Oi("beforeDOMElementCreation",{content:e,params:t}),ji({content:e,transform:In(In({},Lr),r),title:o,extra:{attributes:c,styles:p,classes:["".concat(Mr.familyPrefix,"-layers-text")].concat(Hn(s))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,r=t.transform,i=t.extra,o=null,a=null;if(nr){var s=parseInt(getComputedStyle(e).fontSize,10),l=e.getBoundingClientRect();o=l.width/s,a=l.height/s}return Mr.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,ji({content:e.innerHTML,width:o,height:a,transform:r,title:n,extra:i,watchable:!0})])}}},bo=new RegExp('"',"ug"),wo=[1105920,1112319];function xo(e,t){var n="".concat(cr).concat(t.replace(":","-"));return new Promise((function(r,i){if(null!==e.getAttribute(n))return r();var o,a,s,l=Br(e.children).filter((function(e){return e.getAttribute(lr)===t}))[0],c=Kn.getComputedStyle(e,t),u=c.getPropertyValue("font-family").match(kr),p=c.getPropertyValue("font-weight"),d=c.getPropertyValue("content");if(l&&!u)return e.removeChild(l),r();if(u&&"none"!==d&&""!==d){var h=c.getPropertyValue("content"),f=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(u[2])?vr[u[2].toLowerCase()]:Sr[p],m=function(e){var t,n,r,i,o,a=e.replace(bo,""),s=(n=0,i=(t=a).length,(o=t.charCodeAt(n))>=55296&&o<=56319&&i>n+1&&(r=t.charCodeAt(n+1))>=56320&&r<=57343?1024*(o-55296)+r-56320+65536:o),l=s>=wo[0]&&s<=wo[1],c=2===a.length&&a[0]===a[1];return{value:ei(c?a[0]:a),isSecondary:l||c}}(h),g=m.value,v=m.isSecondary,y=u[0].startsWith("FontAwesome"),b=gi(f,g),w=b;if(y){var x=(a=ui[o=g],s=gi("fas",o),a||(s?{prefix:"fas",iconName:s}:null)||{prefix:null,iconName:null});x.iconName&&x.prefix&&(b=x.iconName,f=x.prefix)}if(!b||v||l&&l.getAttribute(ur)===f&&l.getAttribute(pr)===w)r();else{e.setAttribute(n,w),l&&e.removeChild(l);var k={iconName:null,title:null,titleId:null,prefix:null,transform:Lr,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},S=k.extra;S.attributes[lr]=t,qi(b,f).then((function(i){var o=Bi(In(In({},k),{},{icons:{main:i,mask:wi()},prefix:f,iconName:w,extra:S,watchable:!0})),a=Jn.createElement("svg");"::before"===t?e.insertBefore(a,e.firstChild):e.appendChild(a),a.outerHTML=o.map((function(e){return Kr(e)})).join("\n"),e.removeAttribute(n),r()})).catch(i)}}else r()}))}function ko(e){return Promise.all([xo(e,"::before"),xo(e,"::after")])}function So(e){return!(e.parentNode===document.head||~fr.indexOf(e.tagName.toUpperCase())||e.getAttribute(lr)||e.parentNode&&"svg"===e.parentNode.tagName)}function Co(e){if(tr)return new Promise((function(t,n){var r=Br(e.querySelectorAll("*")).filter(So).map(ko),i=Gi.begin("searchPseudoElements");ro(),Promise.all(r).then((function(){i(),io(),t()})).catch((function(){i(),io(),n()}))}))}var Eo=!1,To=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},_o={mixout:function(){return{parse:{transform:function(e){return To(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=To(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,i=e.iconWidth,o={transform:"translate(".concat(r/2," 256)")},a="translate(".concat(32*n.x,", ").concat(32*n.y,") "),s="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),l="rotate(".concat(n.rotate," 0 0)"),c={outer:o,inner:{transform:"".concat(a," ").concat(s," ").concat(l)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:In({},c.outer),children:[{tag:"g",attributes:In({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:In(In({},t.icon.attributes),c.path)}]}]}}}},Ao={x:0,y:0,width:"100%",height:"100%"};function Oo(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var No,Mo={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),r=n?ki(n.split(" ").map((function(e){return e.trim()}))):wi();return r.prefix||(r.prefix=bi()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,r=e.attributes,i=e.main,o=e.mask,a=e.maskId,s=e.transform,l=i.width,c=i.icon,u=o.width,p=o.icon,d=function(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(32*t.x,", ").concat(32*t.y,") "),a="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(o," ").concat(a," ").concat(s)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:s,containerWidth:u,iconWidth:l}),h={tag:"rect",attributes:In(In({},Ao),{},{fill:"white"})},f=c.children?{children:c.children.map(Oo)}:{},m={tag:"g",attributes:In({},d.inner),children:[Oo(In({tag:c.tag,attributes:In(In({},c.attributes),d.path)},f))]},g={tag:"g",attributes:In({},d.outer),children:[m]},v="mask-".concat(a||Ir()),y="clip-".concat(a||Ir()),b={tag:"mask",attributes:In(In({},Ao),{},{id:v,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,g]},w={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(t=p,"g"===t.tag?t.children:[t])},b]};return n.push(w,{tag:"rect",attributes:In({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(v,")")},Ao)}),{children:n,attributes:r}}}};No={mixoutsTo:Li}.mixoutsTo,Ci=[$r,mo,go,vo,yo,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=Co,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?Jn:t;Mr.searchPseudoElements&&Co(n)}}},{mixout:function(){return{dom:{unwatch:function(){ro(),Eo=!0}}}},hooks:function(){return{bootstrap:function(){ao(Ai("mutationObserverCallbacks",{}))},noAuto:function(){oo&&oo.disconnect()},watch:function(e){var t=e.observeMutationsRoot;Eo?io():ao(Ai("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},_o,Mo,{provides:function(e){var t=!1;Kn.matchMedia&&(t=Kn.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:In(In({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var i=In(In({},r),{},{attributeName:"opacity"}),o={tag:"circle",attributes:In(In({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||o.children.push({tag:"animate",attributes:In(In({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:In(In({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(o),e.push({tag:"path",attributes:In(In({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:In(In({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:In(In({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:In(In({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}},{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}}}}],Ei={},Object.keys(Ti).forEach((function(e){-1===_i.indexOf(e)&&delete Ti[e]})),Ci.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"==typeof t[e]&&(No[e]=t[e]),"object"===Bn(t[e])&&Object.keys(t[e]).forEach((function(n){No[e]||(No[e]={}),No[e][n]=t[e][n]}))})),e.hooks){var n=e.hooks();Object.keys(n).forEach((function(e){Ei[e]||(Ei[e]=[]),Ei[e].push(n[e])}))}e.provides&&e.provides(Ti)}));var Po=Li.parse,Do=Li.icon;l=o("acw62");function Lo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ro(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lo(Object(n),!0).forEach((function(t){Bo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Io(e){return Io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Io(e)}function Bo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jo(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fo(e){return function(e){if(Array.isArray(e))return zo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return zo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zo(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ho(e){return function(e){return(e-=0)==e}(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1)}var qo=["style"];var Vo=!1;try{Vo=!0}catch(e){}function Uo(e){return e&&"object"===Io(e)&&e.prefix&&e.iconName&&e.icon?e:Po.icon?Po.icon(e):null===e?null:e&&"object"===Io(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"==typeof e?{prefix:"fas",iconName:e}:void 0}function Wo(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Bo({},e,t):{}}var $o=t(l).forwardRef((function(e,t){var n=e.icon,r=e.mask,i=e.symbol,o=e.className,a=e.title,s=e.titleId,l=e.maskId,c=Uo(n),u=Wo("classes",[].concat(Fo(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,o=e.bounce,a=e.shake,s=e.flash,l=e.spin,c=e.spinPulse,u=e.spinReverse,p=e.pulse,d=e.fixedWidth,h=e.inverse,f=e.border,m=e.listItem,g=e.flip,v=e.size,y=e.rotation,b=e.pull,w=(Bo(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":o,"fa-shake":a,"fa-flash":s,"fa-spin":l,"fa-spin-reverse":u,"fa-spin-pulse":c,"fa-pulse":p,"fa-fw":d,"fa-inverse":h,"fa-border":f,"fa-li":m,"fa-flip":!0===g,"fa-flip-horizontal":"horizontal"===g||"both"===g,"fa-flip-vertical":"vertical"===g||"both"===g},"fa-".concat(v),null!=v),Bo(t,"fa-rotate-".concat(y),null!=y&&0!==y),Bo(t,"fa-pull-".concat(b),null!=b),Bo(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(w).map((function(e){return w[e]?e:null})).filter((function(e){return e}))}(e)),Fo(o.split(" ")))),p=Wo("transform","string"==typeof e.transform?Po.transform(e.transform):e.transform),d=Wo("mask",Uo(r)),h=Do(c,Ro(Ro(Ro(Ro({},u),p),d),{},{symbol:i,title:a,titleId:s,maskId:l}));if(!h)return function(){var e;!Vo&&console&&"function"==typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",c),null;var f=h.abstract,m={ref:t};return Object.keys(e).forEach((function(t){$o.defaultProps.hasOwnProperty(t)||(m[t]=e[t])})),Go(f[0],m)}));$o.displayName="FontAwesomeIcon",$o.propTypes={beat:t(S).bool,border:t(S).bool,beatFade:t(S).bool,bounce:t(S).bool,className:t(S).string,fade:t(S).bool,flash:t(S).bool,mask:t(S).oneOfType([t(S).object,t(S).array,t(S).string]),maskId:t(S).string,fixedWidth:t(S).bool,inverse:t(S).bool,flip:t(S).oneOf([!0,!1,"horizontal","vertical","both"]),icon:t(S).oneOfType([t(S).object,t(S).array,t(S).string]),listItem:t(S).bool,pull:t(S).oneOf(["right","left"]),pulse:t(S).bool,rotation:t(S).oneOf([0,90,180,270]),shake:t(S).bool,size:t(S).oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:t(S).bool,spinPulse:t(S).bool,spinReverse:t(S).bool,symbol:t(S).oneOfType([t(S).bool,t(S).string]),title:t(S).string,titleId:t(S).string,transform:t(S).oneOfType([t(S).string,t(S).object]),swapOpacity:t(S).bool},$o.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var Go=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),o=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=r.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=Ho(t.slice(0,r)),o=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=o:e[i]=o,e}),{});break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[Ho(t)]=r}return e}),{attrs:{}}),a=r.style,s=void 0===a?{}:a,l=jo(r,qo);return o.attrs.style=Ro(Ro({},o.attrs.style),s),t.apply(void 0,[n.tag,Ro(Ro({},o.attrs),l)].concat(Fo(i)))}.bind(null,t(l).createElement);l=o("acw62");class Xo extends l.Component{constructor(e){super(e),this.state={isimporting:!1,loadedProject:"",labelImportValue:"Importer un projet"}}cancelImport=()=>{this.setState({isimporting:!1,labelImportValue:"Importer un projet"}),document.getElementById("selectFiles_1").value=""};loadImportedProj=e=>{this.state.loadedProject&&"application/json"===this.state.loadedProject.type?Vt(e,this.state.loadedProject,this.cancelImport):t(Qe).fire({title:"Impossible de lire ce type de fichier !",showCancelButton:!1,showConfirmButton:!0,confirmButtonText:"OK",icon:"error"}).then((e=>{e.isConfirmed&&this.cancelImport()}))};render(){return(0,a.jsxs)("div",{className:this.state.isimporting?"importing_project":"create_project_2",children:[(0,a.jsx)("div",{className:"tooltip","data-tip":"Importer un projet",children:(0,a.jsxs)("label",{className:"btn btn-md btn-secondar",id:"label-upload",htmlFor:"selectFiles_1",children:[" ",(0,a.jsx)($o,{icon:Ln})," ",this.state.labelImportValue]})}),(0,a.jsx)("input",{accept:"application/json",type:"file",id:"selectFiles_1",onChange:e=>{this.setState({isimporting:!0,loadedProject:e.target.files[0]}),this.setState({labelImportValue:"1 Fichier selectionn"})}}),this.state.isimporting&&(0,a.jsxs)("div",{className:"import-btns",children:[(0,a.jsx)("div",{className:"tooltip","data-tip":"Valider l'importation",children:(0,a.jsx)("button",{className:"btn btn-md btn-success",disabled:!this.state.isimporting,onClick:e=>{this.loadImportedProj(e)},children:(0,a.jsx)($o,{icon:an})})}),(0,a.jsx)("div",{className:"tooltip","data-tip":"Annuler l'importation",children:(0,a.jsx)("button",{className:"btn btn-md btn-error",disabled:!this.state.isimporting,onClick:()=>this.cancelImport(),children:(0,a.jsx)($o,{icon:nn})})})]})]})}}var Yo=fe(Xo);l=o("acw62"),l=o("acw62");class Zo extends l.Component{constructor(e){super(e),this.state={nbAnnotations:0,imgSource:"",imgWidth:0}}componentDidMount(){if(this.props.project.manifest_url)fetch(this.props.project.manifest_url).then((e=>e.json())).then((e=>{if(e["@id"]&&e.sizes&&e.sizes.length>0){let n=e.sizes.sort(((e,t)=>t.width-e.width))[0].height;var t=e.sizes.sort(((e,t)=>t.width-e.width))[0].width;this.setState({imgWidth:e.sizes.sort(((e,t)=>t.width-e.width))[0].width}),this.setState({imgSource:e["@id"]+"/full/"+t+","+n+"/0/default.jpg"})}else e["@id"]&&e.tiles&&e.tiles[0]?(this.setState({imgWidth:e.tiles[0].width}),this.setState({imgSource:e["@id"]+"/full/"+e.tiles[0].width+",/0/default.jpg"})):e.id&&e.tiles?(this.setState({imgWidth:e.tiles[0].width}),this.setState({imgSource:e.id+"/full/"+e.tiles[0].width+",/0/default.jpg"})):e["@id"]&&e["@context"]&&"http://library.stanford.edu/iiif/image-api/1.1/context.json"===e["@context"]?(this.setState({imgWidth:250}),this.setState({imgSource:e["@id"]+"/full/,250/0/native.jpg"})):-1!==this.props.project.manifest_url.indexOf("info.json")?(this.setState({imgWidth:250}),this.setState({imgSource:this.props.project.manifest_url.replace("info.json","")+"/full/,250/0/native.jpg"})):e["@id"]&&!e.tiles&&(this.setState({imgWidth:250}),this.setState({imgSource:e["@id"]+"/full/,250/0/native.jpg"}));if(localStorage.getItem(this.props.project.id+"_annotations")){let e=JSON.parse(localStorage.getItem(this.props.project.id+"_annotations")).length;this.setState({nbAnnotations:e})}}));else if(this.props.project.img_url&&(this.setState({imgSource:this.props.project.img_url}),localStorage.getItem(`${this.props.project.id}_annotations`))){let e=JSON.parse(localStorage.getItem(this.props.project.id+"_annotations"))&&JSON.parse(localStorage.getItem(this.props.project.id+"_annotations")).length||0;this.setState({nbAnnotations:e})}}deleteProj=e=>{t(Qe).fire({title:"Voulez-vous vraiment supprimer ce projet ?",showCancelButton:!0,confirmButtonText:"Supprimer mon projet",cancelButtonText:"Annuler",icon:"warning"}).then((n=>{n.isConfirmed&&($t(e),t(Qe).fire("La liste des projets a bien t mise  jour !","","success").then((e=>{var t=Gt();e.isConfirmed&&this.props.updateProjectsList(t)})))}))};duplicate=e=>{t(Qe).fire({title:"Voulez-vous vraiment dupliquer ce projet ?",showCancelButton:!0,confirmButtonText:"Dupliquer mon projet",cancelButtonText:"Annuler",icon:"warning"}).then((n=>{n.isConfirmed&&(Ut(e),t(Qe).fire("La liste des projets a bien t mise  jour !","","success").then((e=>{var t=Gt();e.isConfirmed&&this.props.updateProjectsList(t)})))}))};render(){return(0,a.jsxs)("div",{className:"card card-side bg-base-100 shadow-xl project-view-card",children:[(0,a.jsx)("div",{className:"project-card-img",onClick:()=>this.props.history.push(`/project/${this.props.project.id}/view`),children:(0,a.jsx)("img",{src:this.state.imgSource,onError:({currentTarget:e})=>{e.onerror=null,e.src="https://www.pngkey.com/png/detail/212-2124171_404-error-404-pagina-no-encontrada.png"},className:"img-fluid img-proj-view ",alt:this.props.project.title})}),(0,a.jsxs)("div",{className:"project-card-body",children:[(0,a.jsxs)("div",{className:"project-text",children:[(0,a.jsx)("h2",{className:"card-title",children:this.props.project.title}),(0,a.jsx)("p",{className:"card-text card-date",children:(0,a.jsxs)("small",{className:"text-muted",children:["Cr le ",new Date(this.props.project.creation_date).toLocaleDateString()]})}),(0,a.jsx)("p",{className:"card-text",children:this.props.project.description?this.props.project.description:"Aucune description disponible pour ce projet"}),(0,a.jsx)("p",{className:"card-text card-date",children:(0,a.jsxs)("small",{className:"text-muted",children:["Dernire mise  jour le  ",new Date(this.props.project.last_update).toLocaleDateString()]})}),(0,a.jsx)("p",{className:"card-text",children:(0,a.jsxs)("small",{className:"text-muted",children:["  ",(0,a.jsxs)("span",{className:"badge badge-lg",children:[this.state.nbAnnotations>0?this.state.nbAnnotations:"Aucune"," annotation",this.state.nbAnnotations>1&&"s"]})," "]})})]}),(0,a.jsxs)("div",{className:"project_vw_btns",children:[(0,a.jsx)("div",{className:"tooltip","data-tip":"Prvisualiser",children:(0,a.jsxs)("button",{type:"button",className:"btn btn-md",onClick:()=>this.props.history.push(`/project/${this.props.project.id}/view`),children:[" ",(0,a.jsx)($o,{icon:hn}),"   "]})}),(0,a.jsx)("div",{className:"tooltip","data-tip":"Editer",children:(0,a.jsxs)("button",{type:"button",className:"btn btn-md",onClick:()=>this.props.history.push(`/project/${this.props.project.id}/edit`),children:[" ",(0,a.jsx)($o,{icon:Cn})," "]})}),(0,a.jsx)("div",{className:"tooltip","data-tip":"Dupliquer",children:(0,a.jsx)("button",{type:"button",className:"btn btn-md btn-outline",onClick:()=>this.duplicate(this.props.project.id),children:(0,a.jsx)($o,{icon:cn})})}),(0,a.jsx)("div",{className:"tooltip","data-tip":"Tlcharger",children:(0,a.jsxs)("a",{id:"download_btn_"+this.props.project.id,href:qt(this.props.project.id),download:this.props.project.title+".json",className:"btn btn-md btn-outline",children:[" ",(0,a.jsx)($o,{icon:pn}),"  "]})}),(0,a.jsx)("div",{className:"tooltip","data-tip":"Supprimer",children:(0,a.jsxs)("button",{type:"button",className:"btn btn-md btn-outline btn-error",onClick:()=>this.deleteProj(this.props.project.id),children:["    ",(0,a.jsx)($o,{icon:Nn}),"  "]})})]})]})]})}}var Ko=fe(Zo);class Jo extends l.Component{constructor(e){super(e)}render(){return(0,a.jsx)("div",{id:"projects_list",children:this.props.projects.map((e=>(0,a.jsx)(Ko,{project:e,updateProjectsList:e=>this.props.updateProjects(e)},e.id)))})}}class Qo extends l.Component{constructor(e){super(e),this.state={adno_image_url:"",projects:[]}}componentDidMount(){var e=Gt();this.setState({projects:e}),Yt()}createNewProject=e=>{e.preventDefault(),this.state.adno_image_url?"png"===Ft(this.state.adno_image_url)||"jpg"===Ft(this.state.adno_image_url)||"jpeg"===Ft(this.state.adno_image_url)?fetch(this.state.adno_image_url).then((e=>{if(200!=e.status&&201!=e.status)throw new Error("Impossible d'accder  ce fichier");Rt("adno_image_url",this.state.adno_image_url),this.props.history.push("/new")})).catch((e=>{t(Qe).fire({title:`Erreur dtecte : ${e.message}`,showCancelButton:!1,showConfirmButton:!0,confirmButtonText:"OK",icon:"error"}).then((e=>{e.isConfirmed&&this.props.history.push("/")}))})):jt(this.state.adno_image_url)?fetch(this.state.adno_image_url).then((e=>{if(e.ok)return e.text();throw new Error(`Error ${e.status}`)})).then((e=>{let n=JSON.parse(e);n.format&&"Adno"===n.format?t(Qe).fire({title:"Projet ADNO dtect, voulez-vous l'importer ?",showCancelButton:!0,showConfirmButton:!0,confirmButtonText:"OK",cancelButtonText:"Annuler",icon:"info"}).then((e=>{if(e.isConfirmed){let e=It(),r=Ht(e,n.label,n.subject,n.source);Rt(e,JSON.stringify(r));let i=JSON.parse(localStorage.getItem("adno_projects"));i.push(e),Rt("adno_projects",JSON.stringify(i)),Rt(`${e}_annotations`,JSON.stringify(n.first.items)),t(Qe).fire({title:"Projet import avec succs",showCancelButton:!1,showConfirmButton:!0,confirmButtonText:"OK",icon:"success"}).then((t=>{t.isConfirmed&&this.props.history.push(`/project/${e}/edit`)}))}})):(Rt("adno_image_url",this.state.adno_image_url),this.props.history.push("/new"))})).catch((e=>{console.error("erreur dtecte : ",e),t(Qe).fire({title:"Erreur - Manifest ou image introuvable",showCancelButton:!0,showConfirmButton:!1,cancelButtonText:"OK",icon:"warning"})})):t(Qe).fire({title:"L'URL renseigne n'est pas valide !",showCancelButton:!0,showConfirmButton:!1,cancelButtonText:"OK",icon:"warning"}):t(Qe).fire({title:"Veuillez renseigner une URL valide",showCancelButton:!0,showConfirmButton:!1,cancelButtonText:"OK",icon:"warning"})};render(){return(0,a.jsxs)("div",{className:"home",children:[(0,a.jsxs)("div",{id:"container_with_projects",className:"adno_container",children:[(0,a.jsxs)("div",{className:"adno_title",children:[(0,a.jsx)("h1",{children:"ADNO"}),(0,a.jsx)("div",{className:"text-xs inline-flex items-center font-bold leading-sm uppercase px-3 py-1 bg-blue-200 text-blue-700 rounded-full",children:"BETA"})]}),(0,a.jsxs)("p",{className:"adno_description",children:["Pour commencer  utiliser ",(0,a.jsx)("strong",{children:"Adno"}),",",(0,a.jsx)("br",{})," veuillez renseigner dans le champs ci-dessous l'URL d'un ",(0,a.jsx)("strong",{children:"manifest IIIF"}),",",(0,a.jsx)("br",{})," d'une ",(0,a.jsx)("strong",{children:"image IIIF"})," ou encore d'une ",(0,a.jsx)("strong",{children:"image statique"})," au format ",(0,a.jsx)("strong",{children:"JPG"})," ou ",(0,a.jsx)("strong",{children:"PNG"})]}),(0,a.jsxs)("div",{class:"adno_home_selection",children:[(0,a.jsxs)("form",{id:"myForm",children:[(0,a.jsxs)("div",{className:"input-group mb-3 add_url",children:[(0,a.jsxs)("span",{className:"input-group-text",id:"basic-addon1",children:[" ",(0,a.jsx)($o,{icon:xn})," URL"]}),(0,a.jsx)("input",{type:"text",id:"adno_image_url_2",className:"input input-bordered w-full",value:this.state.adno_image_url,onChange:e=>this.setState({adno_image_url:e.target.value}),placeholder:"https://iiif.emf.fr/iiif/3/saint-savin.jpg/info.json"})]}),(0,a.jsx)("div",{className:"home-btn-container",children:(0,a.jsx)("div",{className:"tooltip","data-tip":"Crer un nouveau projet",children:(0,a.jsxs)("button",{className:"create_project_2 btn",type:"submit",onClick:e=>this.createNewProject(e),children:[" ",(0,a.jsx)($o,{icon:An})," Crer mon projet "]})})})]}),(0,a.jsxs)("div",{className:"import_container",children:[(0,a.jsxs)("p",{className:"adno_import_description mb-3",children:[(0,a.jsx)("strong",{children:"importer un projet"})," directement"]}),(0,a.jsx)(Yo,{projects:this.state.projects,updateProjects:e=>this.setState({projects:e,adno_image_url:""})})]})]}),(0,a.jsx)("div",{className:"projects_list__container",children:this.state.projects&&this.state.projects.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"projects_list__title",children:"Vos Projets existants"}),(0,a.jsx)(Jo,{projects:this.state.projects,updateProjects:e=>this.setState({projects:e})})]}):(0,a.jsx)("p",{className:"text-center",children:"Aucun projet disponible pour le moment"})})]}),(0,a.jsx)("footer",{className:"footer footer-center p-4 bg-base-300 text-base-content",children:(0,a.jsx)("div",{children:(0,a.jsxs)("p",{children:[(0,a.jsx)("a",{href:"https://adno.app/",target:"_blank",children:"adno.app"})," - ",(0,a.jsx)("a",{href:"https://emf.fr/",target:"_blank",children:"Espace Mends France"}),", Poitiers. Ce projet a t soutenu par le ministre de la Culture franais."]})})})]})}}var ea=fe(Qo);l=o("acw62");class ta extends l.Component{constructor(e){super(e),this.state={isLoading:!1,manifestImages:[],currentIndex:0}}componentDidMount(){localStorage.getItem("adno_image_url")||this.props.history.push("/")}isManifest=async e=>new Promise(((n,r)=>{fetch(e).then((e=>{if(200==e.status||201==e.status)return e.text();r(e.status)})).then((e=>n(e?JSON.parse(e):{}))).catch((e=>{t(Qe).fire({title:"Impossible de traiter l'url fournie",showCancelButton:!1,showConfirmButton:!0,confirmButtonText:"OK",icon:"error"}).then((e=>{e.isConfirmed&&(localStorage.removeItem("adno_image_url"),window.location.href="/")}))}))}));createProj=async e=>{if(e.preventDefault(),""===document.getElementById("project_name").value)t(Qe).fire({title:"Veuillez renseigner un titre  votre projet",showCancelButton:!0,showConfirmButton:!1,cancelButtonText:"OK",icon:"warning"});else{this.setState({isLoading:!0});var n=localStorage.getItem("adno_image_url");let e="";"png"!==Ft(n)&&"jpg"!==Ft(n)&&"jpeg"!==Ft(n)&&(e=await this.isManifest(n));var r=It();if("png"===Ft(n)||"jpg"===Ft(n)||"jpeg"===Ft(n)||"json"===Ft(n)||e["@type"]&&"sc:Manifest"===e["@type"])if("png"===Ft(n)||"jpg"===Ft(n)||"jpeg"===Ft(n)){let e=(o=r,a=document.getElementById("project_name").value,s=document.getElementById("project_desc").value,l=n,{id:o,title:a,description:s,creation_date:Wt(),last_update:Wt(),img_url:l,editor:"",creator:"",settings:{delay:5,showNavigator:!0,toolsbarOnFs:!0,sidebarEnabled:!0,startbyfirstanno:!1,rotation:!1,displayToolbar:!0}});if(void 0===localStorage.getItem("adno_projects")||null===localStorage.getItem("adno_projects")){var i=[];i.push(r),Rt(r,JSON.stringify(e)),Rt("adno_projects",JSON.stringify(i))}else Rt(r,JSON.stringify(e)),(i=JSON.parse(localStorage.getItem("adno_projects"))).push(r),Rt("adno_projects",JSON.stringify(i));localStorage.removeItem("adno_image_url"),this.props.history.push("/project/"+r+"/edit")}else fetch(n).then((e=>{200===e.status?e.json().then((e=>{if((e.hasOwnProperty("@context")||e.hasOwnProperty("context"))&&(e.hasOwnProperty("@id")||e.hasOwnProperty("id"))){let a;if(e["@type"]&&"sc:Manifest"===e["@type"]){if(e.sequences[0].canvases&&e.sequences[0].canvases.length>0)var i=e.sequences[0].canvases[0].images[0].resource.service["@id"]+"/info.json";else if(e.logo["@id"]){i=e.logo["@id"].split("/")[0]+"//";for(let t=1;t<e.logo["@id"].split("/").length-4;t++)i+=e.logo["@id"].split("/")[t]+"/";i+="/info.json"}else t(Qe).fire({title:"Impossible de lire le manifest",showCancelButton:!0,showConfirmButton:!1,cancelButtonText:"OK",icon:"warning"});a=Ht(r,document.getElementById("project_name").value,document.getElementById("project_desc").value,i)}else a=Ht(r,document.getElementById("project_name").value,document.getElementById("project_desc").value,n);if(void 0===localStorage.getItem("adno_projects")||null===localStorage.getItem("adno_projects")){var o=[];o.push(r),Rt(r,JSON.stringify(a)),Rt("adno_projects",JSON.stringify(o))}else Rt(r,JSON.stringify(a)),(o=JSON.parse(localStorage.getItem("adno_projects"))).push(r),Rt("adno_projects",JSON.stringify(o));localStorage.removeItem("adno_image_url"),this.props.history.push("/project/"+r+"/edit")}else t(Qe).fire({title:"Projet non IIIF dtect, veuillez renseigner un projet IIIF",showCancelButton:!1,showConfirmButton:!0,confirmButtonText:"OK",icon:"error"}).then((e=>{e.isConfirmed&&this.props.history.push("/")}))})):(this.setState({isLoading:!1}),t(Qe).fire({title:"Impossible de lire le manifest",showCancelButton:!0,showConfirmButton:!1,cancelButtonText:"OK",icon:"warning"}))}));else this.setState({isLoading:!1}),t(Qe).fire({title:"Impossible de lire ce fichier, veuillez renseigner un fichier ayant un des formats suivant : png, jpg, json",showCancelButton:!0,showConfirmButton:!1,cancelButtonText:"OK",icon:"warning"})}var o,a,s,l};render(){return(0,a.jsxs)(a.Fragment,{children:["  ",(0,a.jsxs)("div",{className:"new-project",children:[(0,a.jsxs)("h1",{className:"new-project-title",children:["Ajoutez des renseignements",(0,a.jsx)("br",{}),"  votre projet"]}),(0,a.jsxs)("form",{className:"form-new-project",children:[(0,a.jsxs)("label",{className:"input-group new_project_input",children:[(0,a.jsx)("span",{className:"new_project_span",children:"Titre"}),(0,a.jsx)("input",{id:"project_name",className:"input input-bordered w-full",type:"text",placeholder:"Donnez un titre  votre projet"})]}),(0,a.jsxs)("label",{className:"input-group new_project_input",children:[(0,a.jsx)("span",{className:"new_project_span",children:"Description"}),(0,a.jsx)("input",{id:"project_desc",className:"input input-bordered w-full",type:"text",placeholder:"Description de votre projet"})]}),(0,a.jsxs)("label",{className:"input-group new_project_input",children:[(0,a.jsx)("span",{className:"new_project_span",children:"URL du Manifest"}),(0,a.jsx)("input",{id:"manifest_url",className:"input input-bordered w-full",value:localStorage.getItem("adno_image_url"),type:"text",disabled:!0})]}),(0,a.jsxs)("div",{className:"new_project_btns",children:[(0,a.jsx)("button",{id:"valider_creation",type:"submit",className:"btn",onClick:e=>this.createProj(e),children:"Crer mon projet"}),(0,a.jsx)("button",{id:"annuler_creation",type:"submit",className:"btn",onClick:()=>{localStorage.removeItem("adno_image_url"),this.props.history.push("/")},children:"Retour"})]})]})]})]})}}var na=fe(ta);l=o("acw62");class ra extends l.Component{render(){return(0,a.jsxs)("div",{className:"not-found",children:[(0,a.jsx)("h1",{children:"Page introuvable !"}),(0,a.jsx)(ze,{to:"/",children:"Revenir  l'accueil"})]})}}var ia=ra;l=o("acw62");(function(){var e,t,r,i,o,a,s,l,c=Object.defineProperty,u=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t,n)=>(u(e,"symbol"!=typeof t?t+"":t,n),n),d={},h=[],f=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function m(e,t){for(var n in t)e[n]=t[n];return e}function g(e){var t=e.parentNode;t&&t.removeChild(e)}function v(t,n,r){var i,o,a,s={};for(a in n)"key"==a?i=n[a]:"ref"==a?o=n[a]:s[a]=n[a];if(arguments.length>2&&(s.children=arguments.length>3?e.call(arguments,2):r),"function"==typeof t&&null!=t.defaultProps)for(a in t.defaultProps)void 0===s[a]&&(s[a]=t.defaultProps[a]);return y(t,s,i,o,null)}function y(e,n,i,o,a){var s={type:e,props:n,key:i,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==a?++r:a};return null==a&&null!=t.vnode&&t.vnode(s),s}function b(){return{current:null}}function w(e){return e.children}function x(e,t){this.props=e,this.context=t}function k(e,t){if(null==t)return e.__?k(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?k(e):null}function S(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return S(e)}}function C(e){(!e.__d&&(e.__d=!0)&&o.push(e)&&!E.__r++||s!==t.debounceRendering)&&((s=t.debounceRendering)||a)(E)}function E(){for(var e;E.__r=o.length;)e=o.sort((function(e,t){return e.__v.__b-t.__v.__b})),o=[],e.some((function(e){var t,n,r,i,o,a;e.__d&&(o=(i=(t=e).__v).__e,(a=t.__P)&&(n=[],(r=m({},i)).__v=i.__v+1,R(a,i,r,t.__n,void 0!==a.ownerSVGElement,null!=i.__h?[o]:null,n,null==o?k(i):o,i.__h),I(n,i),i.__e!=o&&S(i)))}))}function T(e,t,n,r,i,o,a,s,l,c){var u,p,f,m,g,v,b,x=r&&r.__k||h,S=x.length;for(n.__k=[],u=0;u<t.length;u++)if(null!=(m=n.__k[u]=null==(m=t[u])||"boolean"==typeof m?null:"string"==typeof m||"number"==typeof m||"bigint"==typeof m?y(null,m,null,null,m):Array.isArray(m)?y(w,{children:m},null,null,null):m.__b>0?y(m.type,m.props,m.key,null,m.__v):m)){if(m.__=n,m.__b=n.__b+1,null===(f=x[u])||f&&m.key==f.key&&m.type===f.type)x[u]=void 0;else for(p=0;p<S;p++){if((f=x[p])&&m.key==f.key&&m.type===f.type){x[p]=void 0;break}f=null}R(e,m,f=f||d,i,o,a,s,l,c),g=m.__e,(p=m.ref)&&f.ref!=p&&(b||(b=[]),f.ref&&b.push(f.ref,null,m),b.push(p,m.__c||g,m)),null!=g?(null==v&&(v=g),"function"==typeof m.type&&m.__k===f.__k?m.__d=l=_(m,l,e):l=O(e,m,f,x,g,l),"function"==typeof n.type&&(n.__d=l)):l&&f.__e==l&&l.parentNode!=e&&(l=k(f))}for(n.__e=v,u=S;u--;)null!=x[u]&&("function"==typeof n.type&&null!=x[u].__e&&x[u].__e==n.__d&&(n.__d=k(r,u+1)),F(x[u],x[u]));if(b)for(u=0;u<b.length;u++)j(b[u],b[++u],b[++u])}function _(e,t,n){for(var r,i=e.__k,o=0;i&&o<i.length;o++)(r=i[o])&&(r.__=e,t="function"==typeof r.type?_(r,t,n):O(n,r,r,i,r.__e,t));return t}function A(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){A(e,t)})):t.push(e)),t}function O(e,t,n,r,i,o){var a,s,l;if(void 0!==t.__d)a=t.__d,t.__d=void 0;else if(null==n||i!=o||null==i.parentNode)e:if(null==o||o.parentNode!==e)e.appendChild(i),a=null;else{for(s=o,l=0;(s=s.nextSibling)&&l<r.length;l+=2)if(s==i)break e;e.insertBefore(i,o),a=o}return void 0!==a?a:i.nextSibling}function N(e,t,n,r,i){var o;for(o in n)"children"===o||"key"===o||o in t||P(e,o,null,n[o],r);for(o in t)i&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||n[o]===t[o]||P(e,o,t[o],n[o],r)}function M(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||f.test(t)?n:n+"px"}function P(e,t,n,r,i){var o;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||M(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||M(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r||e.addEventListener(t,o?L:D,o):e.removeEventListener(t,o?L:D,o);else if("dangerouslySetInnerHTML"!==t){if(i)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch{}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function D(e){this.l[e.type+!1](t.event?t.event(e):e)}function L(e){this.l[e.type+!0](t.event?t.event(e):e)}function R(e,n,r,i,o,a,s,l,c){var u,p,d,h,f,g,v,y,b,k,S,C=n.type;if(void 0!==n.constructor)return null;null!=r.__h&&(c=r.__h,l=n.__e=r.__e,n.__h=null,a=[l]),(u=t.__b)&&u(n);try{e:if("function"==typeof C){if(y=n.props,b=(u=C.contextType)&&i[u.__c],k=u?b?b.props.value:u.__:i,r.__c?v=(p=n.__c=r.__c).__=p.__E:("prototype"in C&&C.prototype.render?n.__c=p=new C(y,k):(n.__c=p=new x(y,k),p.constructor=C,p.render=z),b&&b.sub(p),p.props=y,p.state||(p.state={}),p.context=k,p.__n=i,d=p.__d=!0,p.__h=[]),null==p.__s&&(p.__s=p.state),null!=C.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=m({},p.__s)),m(p.__s,C.getDerivedStateFromProps(y,p.__s))),h=p.props,f=p.state,d)null==C.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==C.getDerivedStateFromProps&&y!==h&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(y,k),!p.__e&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(y,p.__s,k)||n.__v===r.__v){p.props=y,p.state=p.__s,n.__v!==r.__v&&(p.__d=!1),p.__v=n,n.__e=r.__e,n.__k=r.__k,n.__k.forEach((function(e){e&&(e.__=n)})),p.__h.length&&s.push(p);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(y,p.__s,k),null!=p.componentDidUpdate&&p.__h.push((function(){p.componentDidUpdate(h,f,g)}))}p.context=k,p.props=y,p.state=p.__s,(u=t.__r)&&u(n),p.__d=!1,p.__v=n,p.__P=e,u=p.render(p.props,p.state,p.context),p.state=p.__s,null!=p.getChildContext&&(i=m(m({},i),p.getChildContext())),d||null==p.getSnapshotBeforeUpdate||(g=p.getSnapshotBeforeUpdate(h,f)),S=null!=u&&u.type===w&&null==u.key?u.props.children:u,T(e,Array.isArray(S)?S:[S],n,r,i,o,a,s,l,c),p.base=n.__e,n.__h=null,p.__h.length&&s.push(p),v&&(p.__E=p.__=null),p.__e=!1}else null==a&&n.__v===r.__v?(n.__k=r.__k,n.__e=r.__e):n.__e=B(r.__e,n,r,i,o,a,s,c);(u=t.diffed)&&u(n)}catch(e){n.__v=null,(c||null!=a)&&(n.__e=l,n.__h=!!c,a[a.indexOf(l)]=null),t.__e(e,n,r)}}function I(e,n){t.__c&&t.__c(n,e),e.some((function(n){try{e=n.__h,n.__h=[],e.some((function(e){e.call(n)}))}catch(e){t.__e(e,n.__v)}}))}function B(t,n,r,i,o,a,s,l){var c,u,p,h=r.props,f=n.props,m=n.type,v=0;if("svg"===m&&(o=!0),null!=a)for(;v<a.length;v++)if((c=a[v])&&"setAttribute"in c==!!m&&(m?c.localName===m:3===c.nodeType)){t=c,a[v]=null;break}if(null==t){if(null===m)return document.createTextNode(f);t=o?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,f.is&&f),a=null,l=!1}if(null===m)h===f||l&&t.data===f||(t.data=f);else{if(a=a&&e.call(t.childNodes),u=(h=r.props||d).dangerouslySetInnerHTML,p=f.dangerouslySetInnerHTML,!l){if(null!=a)for(h={},v=0;v<t.attributes.length;v++)h[t.attributes[v].name]=t.attributes[v].value;(p||u)&&(p&&(u&&p.__html==u.__html||p.__html===t.innerHTML)||(t.innerHTML=p&&p.__html||""))}if(N(t,f,h,o,l),p)n.__k=[];else if(v=n.props.children,T(t,Array.isArray(v)?v:[v],n,r,i,o&&"foreignObject"!==m,a,s,a?a[0]:r.__k&&k(r,0),l),null!=a)for(v=a.length;v--;)null!=a[v]&&g(a[v]);l||("value"in f&&void 0!==(v=f.value)&&(v!==h.value||v!==t.value||"progress"===m&&!v)&&P(t,"value",v,h.value,!1),"checked"in f&&void 0!==(v=f.checked)&&v!==t.checked&&P(t,"checked",v,h.checked,!1))}return t}function j(e,n,r){try{"function"==typeof e?e(n):e.current=n}catch(e){t.__e(e,r)}}function F(e,n,r){var i,o;if(t.unmount&&t.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||j(i,null,n)),null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){t.__e(e,n)}i.base=i.__P=null}if(i=e.__k)for(o=0;o<i.length;o++)i[o]&&F(i[o],n,"function"!=typeof e.type);r||null==e.__e||g(e.__e),e.__e=e.__d=void 0}function z(e,t,n){return this.constructor(e,n)}function H(n,r,i){var o,a,s;t.__&&t.__(n,r),a=(o="function"==typeof i)?null:i&&i.__k||r.__k,s=[],R(r,n=(!o&&i||r).__k=v(w,null,[n]),a||d,d,void 0!==r.ownerSVGElement,!o&&i?[i]:a?null:r.firstChild?e.call(r.childNodes):null,s,!o&&i?i:a?a.__e:r.firstChild,o),I(s,n)}function q(e,t){H(e,t,q)}function V(t,n,r){var i,o,a,s=m({},t.props);for(a in n)"key"==a?i=n[a]:"ref"==a?o=n[a]:s[a]=n[a];return arguments.length>2&&(s.children=arguments.length>3?e.call(arguments,2):r),y(t.type,s,i||t.key,o||t.ref,null)}function U(e,t){var n={__c:t="__cC"+l++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(C)},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}e=h.slice,t={__e:function(e,t){for(var n,r,i;t=t.__;)if((n=t.__c)&&!n.__)try{if((r=n.constructor)&&null!=r.getDerivedStateFromError&&(n.setState(r.getDerivedStateFromError(e)),i=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),i=n.__d),i)return n.__E=n}catch(t){e=t}throw e}},r=0,i=function(e){return null!=e&&void 0===e.constructor},x.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=m({},this.state),"function"==typeof e&&(e=e(m({},n),this.props)),e&&m(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),C(this))},x.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),C(this))},x.prototype.render=w,o=[],a="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,E.__r=0,l=0;var W,$,G,X=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",render:H,hydrate:q,createElement:v,h:v,Fragment:w,createRef:b,get isValidElement(){return i},Component:x,cloneElement:V,createContext:U,toChildArray:A,get options(){return t}}),Y=0,Z=[],K=t.__b,J=t.__r,Q=t.diffed,ee=t.__c,te=t.unmount;function ne(e,n){t.__h&&t.__h($,e,Y||n),Y=0;var r=$.__H||($.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function re(e){return Y=1,ie(be,e)}function ie(e,t,n){var r=ne(W++,2);return r.t=e,r.__c||(r.__=[n?n(t):be(void 0,t),function(e){var t=r.t(r.__[0],e);r.__[0]!==t&&(r.__=[t,r.__[1]],r.__c.setState({}))}],r.__c=$),r.__}function oe(e,n){var r=ne(W++,3);!t.__s&&ye(r.__H,n)&&(r.__=e,r.__H=n,$.__H.__h.push(r))}function ae(e,n){var r=ne(W++,4);!t.__s&&ye(r.__H,n)&&(r.__=e,r.__H=n,$.__h.push(r))}function se(e){return Y=5,ce((function(){return{current:e}}),[])}function le(e,t,n){Y=6,ae((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==n?n:n.concat(e))}function ce(e,t){var n=ne(W++,7);return ye(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function ue(e,t){return Y=8,ce((function(){return e}),t)}function pe(e){var t=$.context[e.__c],n=ne(W++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub($)),t.props.value):e.__}function de(e,n){t.useDebugValue&&t.useDebugValue(n?n(e):e)}function he(e){var t=ne(W++,10),n=re();return t.__=e,$.componentDidCatch||($.componentDidCatch=function(e){t.__&&t.__(e),n[1](e)}),[n[0],function(){n[1](void 0)}]}function fe(){var e;for(Z.sort((function(e,t){return e.__v.__b-t.__v.__b}));e=Z.pop();)if(e.__P)try{e.__H.__h.forEach(ge),e.__H.__h.forEach(ve),e.__H.__h=[]}catch(n){e.__H.__h=[],t.__e(n,e.__v)}}t.__b=function(e){$=null,K&&K(e)},t.__r=function(e){J&&J(e),W=0;var t=($=e.__c).__H;t&&(t.__h.forEach(ge),t.__h.forEach(ve),t.__h=[])},t.diffed=function(e){Q&&Q(e);var n=e.__c;n&&n.__H&&n.__H.__h.length&&(1!==Z.push(n)&&G===t.requestAnimationFrame||((G=t.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),me&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);me&&(t=requestAnimationFrame(n))})(fe)),$=null},t.__c=function(e,n){n.some((function(e){try{e.__h.forEach(ge),e.__h=e.__h.filter((function(e){return!e.__||ve(e)}))}catch(r){n.some((function(e){e.__h&&(e.__h=[])})),n=[],t.__e(r,e.__v)}})),ee&&ee(e,n)},t.unmount=function(e){te&&te(e);var n,r=e.__c;r&&r.__H&&(r.__H.__.forEach((function(e){try{ge(e)}catch(e){n=e}})),n&&t.__e(n,r.__v))};var me="function"==typeof requestAnimationFrame;function ge(e){var t=$,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),$=t}function ve(e){var t=$;e.__c=e.__(),$=t}function ye(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function be(e,t){return"function"==typeof t?t(e):t}function we(e,t){for(var n in t)e[n]=t[n];return e}function xe(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function ke(e){this.props=e}function Se(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:xe(this.props,e)}function r(t){return this.shouldComponentUpdate=n,v(e,t)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(ke.prototype=new x).isPureReactComponent=!0,ke.prototype.shouldComponentUpdate=function(e,t){return xe(this.props,e)||xe(this.state,t)};var Ce=t.__b;t.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Ce&&Ce(e)};var Ee="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Te(e){function t(t,n){var r=we({},t);return delete r.ref,e(r,(n=t.ref||n)&&("object"!=typeof n||"current"in n)?n:null)}return t.$$typeof=Ee,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var _e=function(e,t){return null==e?null:A(A(e).map(t))},Ae={map:_e,forEach:_e,count:function(e){return e?A(e).length:0},only:function(e){var t=A(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:A},Oe=t.__e;t.__e=function(e,t,n){if(e.then)for(var r,i=t;i=i.__;)if((r=i.__c)&&r.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t);Oe(e,t,n)};var Ne=t.unmount;function Me(){this.__u=0,this.t=null,this.__b=null}function Pe(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function De(e){var t,n,r;function i(i){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){r=e})),r)throw r;if(!n)throw t;return v(n,i)}return i.displayName="Lazy",i.__f=!0,i}function Le(){this.u=null,this.o=null}t.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),Ne&&Ne(e)},(Me.prototype=new x).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var i=Pe(r.__v),o=!1,a=function(){o||(o=!0,n.__R=null,i?i(s):s())};n.__R=a;var s=function(){if(!--r.__u){if(r.state.__e){var e=r.state.__e;r.__v.__k[0]=function e(t,n,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return e(t,n,r)})),t.__c&&t.__c.__P===n&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate()}},l=!0===t.__h;r.__u++||l||r.setState({__e:r.__b=r.__v.__k[0]}),e.then(a,a)},Me.prototype.componentWillUnmount=function(){this.t=[]},Me.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,n,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),t.__c.__H=null),null!=(t=we({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=n),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return e(t,n,r)}))),t}(this.__b,n,r.__O=r.__P)}this.__b=null}var i=t.__e&&v(w,null,e.fallback);return i&&(i.__h=null),[v(w,null,t.__e?null:e.children),i]};var Re=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function Ie(e){return this.getChildContext=function(){return e.context},e.children}function Be(e){var t=this,n=e.i;t.componentWillUnmount=function(){H(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),H(v(Ie,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}function je(e,t){return v(Be,{__v:e,i:t})}(Le.prototype=new x).__e=function(e){var t=this,n=Pe(t.__v),r=t.o.get(e);return r[0]++,function(i){var o=function(){t.props.revealOrder?(r.push(i),Re(t,e,r)):i()};n?n(o):o()}},Le.prototype.render=function(e){this.u=null,this.o=new Map;var t=A(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},Le.prototype.componentDidUpdate=Le.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){Re(e,n,t)}))};var Fe="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,ze=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,He="undefined"!=typeof document,qe=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};function Ve(e,t,n){return null==t.__k&&(t.textContent=""),H(e,t),"function"==typeof n&&n(),e?e.__c:null}function Ue(e,t,n){return q(e,t),"function"==typeof n&&n(),e?e.__c:null}x.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(x.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var We=t.event;function $e(){}function Ge(){return this.cancelBubble}function Xe(){return this.defaultPrevented}t.event=function(e){return We&&(e=We(e)),e.persist=$e,e.isPropagationStopped=Ge,e.isDefaultPrevented=Xe,e.nativeEvent=e};var Ye,Ze={configurable:!0,get:function(){return this.class}},Ke=t.vnode;t.vnode=function(e){var t=e.type,n=e.props,r=n;if("string"==typeof t){var i=-1===t.indexOf("-");for(var o in r={},n){var a=n[o];He&&"children"===o&&"noscript"===t||"value"===o&&"defaultValue"in n&&null==a||("defaultValue"===o&&"value"in n&&null==n.value?o="value":"download"===o&&!0===a?a="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+t)&&!qe(n.type)?o="oninput":/^onfocus$/i.test(o)?o="onfocusin":/^onblur$/i.test(o)?o="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(o)?o=o.toLowerCase():i&&ze.test(o)?o=o.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===a&&(a=void 0),r[o]=a)}"select"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=A(n.children).forEach((function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)}))),"select"==t&&null!=r.defaultValue&&(r.value=A(n.children).forEach((function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value}))),e.props=r,n.class!=n.className&&(Ze.enumerable="className"in n,null!=n.className&&(r.class=n.className),Object.defineProperty(r,"className",Ze))}e.$$typeof=Fe,Ke&&Ke(e)};var Je=t.__r;t.__r=function(e){Je&&Je(e),Ye=e.__c};var Qe={ReactCurrentDispatcher:{current:{readContext:function(e){return Ye.__n[e.__c].props.value}}}},et="17.0.2";function tt(e){return v.bind(null,e)}function nt(e){return!!e&&e.$$typeof===Fe}function rt(e){return nt(e)?V.apply(null,arguments):e}function it(e){return!!e.__k&&(H(null,e),!0)}function ot(e){return e&&(e.base||1===e.nodeType&&e)||null}var at=function(e,t){return e(t)},st=function(e,t){return e(t)},lt=w,ct={useState:re,useReducer:ie,useEffect:oe,useLayoutEffect:ae,useRef:se,useImperativeHandle:le,useMemo:ce,useCallback:ue,useContext:pe,useDebugValue:de,version:"17.0.2",Children:Ae,render:Ve,hydrate:Ue,unmountComponentAtNode:it,createPortal:je,createElement:v,createContext:U,createFactory:tt,cloneElement:rt,createRef:b,Fragment:w,isValidElement:nt,findDOMNode:ot,Component:x,PureComponent:ke,memo:Se,forwardRef:Te,flushSync:st,unstable_batchedUpdates:at,StrictMode:w,Suspense:Me,SuspenseList:Le,lazy:De,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Qe},ut=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ct,version:et,Children:Ae,render:Ve,hydrate:Ue,unmountComponentAtNode:it,createPortal:je,createFactory:tt,cloneElement:rt,isValidElement:nt,findDOMNode:ot,PureComponent:ke,memo:Se,forwardRef:Te,flushSync:st,unstable_batchedUpdates:at,StrictMode:lt,Suspense:Me,SuspenseList:Le,lazy:De,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Qe,createElement:v,createContext:U,createRef:b,Fragment:w,Component:x,useState:re,useReducer:ie,useEffect:oe,useLayoutEffect:ae,useRef:se,useImperativeHandle:le,useMemo:ce,useCallback:ue,useContext:pe,useDebugValue:de,useErrorBoundary:he}),pt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:{};function dt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ht(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}var ft={exports:{}};function mt(){}mt.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function i(){r.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var o=0,a=r.length;o<a;o++)r[o].fn!==t&&r[o].fn._!==t&&i.push(r[o]);return i.length?n[e]=i:delete n[e],this}},ft.exports=mt,ft.exports.TinyEmitter=mt;var gt=ft.exports,vt={exports:{}},yt={},bt=ht(ut),wt={exports:{}},xt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function kt(){}function St(){}St.resetWarningCache=kt;var Ct=function(){function e(e,t,n,r,i,o){if(o!==xt){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:St,resetWarningCache:kt};return n.PropTypes=n,n};function Et(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Et(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Tt(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Et(e))&&(r&&(r+=" "),r+=t);return r}wt.exports=Ct();var _t=ht(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Tt})),At={},Ot={};function Nt(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function Mt(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function Pt(e){return"number"==typeof e&&!isNaN(e)}function Dt(e){return parseInt(e,10)}function Lt(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.findInArray=Nt,Ot.isFunction=Mt,Ot.isNum=Pt,Ot.int=Dt,Ot.dontSetMe=Lt;var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.getPrefix=Bt,Rt.browserPrefixToKey=jt,Rt.browserPrefixToStyle=Ft,Rt.default=void 0;var It=["Moz","Webkit","O","ms"];function Bt(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window)return"";var r=null===(e=window.document)||void 0===e||null===(t=e.documentElement)||void 0===t?void 0:t.style;if(!r||n in r)return"";for(var i=0;i<It.length;i++)if(jt(n,It[i])in r)return It[i];return""}function jt(e,t){return t?"".concat(t).concat(zt(e)):e}function Ft(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function zt(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}var Ht=Bt();function qt(e){return(qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Rt.default=Ht,Object.defineProperty(At,"__esModule",{value:!0}),At.matchesSelector=Kt,At.matchesSelectorAndParentsTo=Jt,At.addEvent=Qt,At.removeEvent=en,At.outerHeight=tn,At.outerWidth=nn,At.innerHeight=rn,At.innerWidth=on,At.offsetXYFromParent=an,At.createCSSTransform=sn,At.createSVGTransform=ln,At.getTranslation=cn,At.getTouch=un,At.getTouchIdentifier=pn,At.addUserSelectStyles=dn,At.removeUserSelectStyles=hn,At.addClassName=fn,At.removeClassName=mn;var Vt=Ot,Ut=$t(Rt);function Wt(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Wt=function(e){return e?n:t})(e)}function $t(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==qt(e)&&"function"!=typeof e)return{default:e};var n=Wt(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach((function(t){Yt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zt="";function Kt(e,t){return Zt||(Zt=(0,Vt.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,Vt.isFunction)(e[t])}))),!!(0,Vt.isFunction)(e[Zt])&&e[Zt](t)}function Jt(e,t,n){var r=e;do{if(Kt(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function Qt(e,t,n,r){if(e){var i=Xt({capture:!0},r);e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}}function en(e,t,n,r){if(e){var i=Xt({capture:!0},r);e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}}function tn(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Vt.int)(n.borderTopWidth),t+=(0,Vt.int)(n.borderBottomWidth)}function nn(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Vt.int)(n.borderLeftWidth),t+=(0,Vt.int)(n.borderRightWidth)}function rn(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Vt.int)(n.paddingTop),t-=(0,Vt.int)(n.paddingBottom)}function on(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Vt.int)(n.paddingLeft),t-=(0,Vt.int)(n.paddingRight)}function an(e,t,n){var r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:(e.clientX+t.scrollLeft-r.left)/n,y:(e.clientY+t.scrollTop-r.top)/n}}function sn(e,t){var n=cn(e,t,"px");return Yt({},(0,Ut.browserPrefixToKey)("transform",Ut.default),n)}function ln(e,t){return cn(e,t,"")}function cn(e,t,n){var r=e.x,i=e.y,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(t){var a="".concat("string"==typeof t.x?t.x:t.x+n),s="".concat("string"==typeof t.y?t.y:t.y+n);o="translate(".concat(a,", ").concat(s,")")+o}return o}function un(e,t){return e.targetTouches&&(0,Vt.findInArray)(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&(0,Vt.findInArray)(e.changedTouches,(function(e){return t===e.identifier}))}function pn(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}function dn(e){if(e){var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t)),e.body&&fn(e.body,"react-draggable-transparent-selection")}}function hn(e){if(e)try{if(e.body&&mn(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch{}}function fn(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function mn(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var gn={};Object.defineProperty(gn,"__esModule",{value:!0}),gn.getBoundPosition=bn,gn.snapToGrid=wn,gn.canDragX=xn,gn.canDragY=kn,gn.getControlPosition=Sn,gn.createCoreData=Cn,gn.createDraggableData=En;var vn=Ot,yn=At;function bn(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r="string"==typeof r?r:Tn(r);var i=_n(e);if("string"==typeof r){var o,a=i.ownerDocument,s=a.defaultView;if(!((o="parent"===r?i.parentNode:a.querySelector(r))instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var l=o,c=s.getComputedStyle(i),u=s.getComputedStyle(l);r={left:-i.offsetLeft+(0,vn.int)(u.paddingLeft)+(0,vn.int)(c.marginLeft),top:-i.offsetTop+(0,vn.int)(u.paddingTop)+(0,vn.int)(c.marginTop),right:(0,yn.innerWidth)(l)-(0,yn.outerWidth)(i)-i.offsetLeft+(0,vn.int)(u.paddingRight)-(0,vn.int)(c.marginRight),bottom:(0,yn.innerHeight)(l)-(0,yn.outerHeight)(i)-i.offsetTop+(0,vn.int)(u.paddingBottom)-(0,vn.int)(c.marginBottom)}}return(0,vn.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,vn.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,vn.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,vn.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function wn(e,t,n){return[Math.round(t/e[0])*e[0],Math.round(n/e[1])*e[1]]}function xn(e){return"both"===e.props.axis||"x"===e.props.axis}function kn(e){return"both"===e.props.axis||"y"===e.props.axis}function Sn(e,t,n){var r="number"==typeof t?(0,yn.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;var i=_n(n),o=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,yn.offsetXYFromParent)(r||e,o,n.props.scale)}function Cn(e,t,n){var r=e.state,i=!(0,vn.isNum)(r.lastX),o=_n(e);return i?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}}function En(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function Tn(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function _n(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var An={},On={};function Nn(){}function Mn(e){return(Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(On,"__esModule",{value:!0}),On.default=Nn,Object.defineProperty(An,"__esModule",{value:!0}),An.default=void 0;var Pn=Hn(bt),Dn=Fn(wt.exports),Ln=Fn(bt),Rn=At,In=gn,Bn=Ot,jn=Fn(On);function Fn(e){return e&&e.__esModule?e:{default:e}}function zn(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(zn=function(e){return e?n:t})(e)}function Hn(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==Mn(e)&&"function"!=typeof e)return{default:e};var n=zn(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function qn(e,t){return Gn(e)||$n(e,t)||Un(e,t)||Vn()}function Vn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Un(e,t){if(e){if("string"==typeof e)return Wn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wn(e,t)}}function Wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $n(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{!a&&null!=n.return&&n.return()}finally{if(s)throw i}}return o}}function Gn(e){if(Array.isArray(e))return e}function Xn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zn(e,t,n){return t&&Yn(e.prototype,t),n&&Yn(e,n),e}function Kn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jn(e,t)}function Jn(e,t){return(Jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qn(e){var t=nr();return function(){var n,r=rr(e);if(t){var i=rr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return er(this,n)}}function er(e,t){if(t&&("object"===Mn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return tr(e)}function tr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nr(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}}function rr(e){return(rr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ir(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var or={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},ar=or.mouse,sr=function(e){Kn(n,e);var t=Qn(n);function n(){var e;Xn(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ir(tr(e=t.call.apply(t,[this].concat(i))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),ir(tr(e),"mounted",!1),ir(tr(e),"handleDragStart",(function(t){if(e.props.onMouseDown(t),!e.props.allowAnyClick&&"number"==typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(e.props.disabled||!(t.target instanceof r.defaultView.Node)||e.props.handle&&!(0,Rn.matchesSelectorAndParentsTo)(t.target,e.props.handle,n)||e.props.cancel&&(0,Rn.matchesSelectorAndParentsTo)(t.target,e.props.cancel,n))){"touchstart"===t.type&&t.preventDefault();var i=(0,Rn.getTouchIdentifier)(t);e.setState({touchIdentifier:i});var o=(0,In.getControlPosition)(t,i,tr(e));if(null!=o){var a=o.x,s=o.y,l=(0,In.createCoreData)(tr(e),a,s);(0,jn.default)("DraggableCore: handleDragStart: %j",l),(0,jn.default)("calling",e.props.onStart),!1===e.props.onStart(t,l)||!1===e.mounted||(e.props.enableUserSelectHack&&(0,Rn.addUserSelectStyles)(r),e.setState({dragging:!0,lastX:a,lastY:s}),(0,Rn.addEvent)(r,ar.move,e.handleDrag),(0,Rn.addEvent)(r,ar.stop,e.handleDragStop))}}})),ir(tr(e),"handleDrag",(function(t){var n=(0,In.getControlPosition)(t,e.state.touchIdentifier,tr(e));if(null!=n){var r=n.x,i=n.y;if(Array.isArray(e.props.grid)){var o=r-e.state.lastX,a=i-e.state.lastY,s=qn((0,In.snapToGrid)(e.props.grid,o,a),2);if(o=s[0],a=s[1],!o&&!a)return;r=e.state.lastX+o,i=e.state.lastY+a}var l=(0,In.createCoreData)(tr(e),r,i);if((0,jn.default)("DraggableCore: handleDrag: %j",l),!1===e.props.onDrag(t,l)||!1===e.mounted){try{e.handleDragStop(new MouseEvent("mouseup"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.handleDragStop(c)}return}e.setState({lastX:r,lastY:i})}})),ir(tr(e),"handleDragStop",(function(t){if(e.state.dragging){var n=(0,In.getControlPosition)(t,e.state.touchIdentifier,tr(e));if(null!=n){var r=n.x,i=n.y,o=(0,In.createCoreData)(tr(e),r,i);if(!1===e.props.onStop(t,o)||!1===e.mounted)return!1;var a=e.findDOMNode();a&&e.props.enableUserSelectHack&&(0,Rn.removeUserSelectStyles)(a.ownerDocument),(0,jn.default)("DraggableCore: handleDragStop: %j",o),e.setState({dragging:!1,lastX:NaN,lastY:NaN}),a&&((0,jn.default)("DraggableCore: Removing handlers"),(0,Rn.removeEvent)(a.ownerDocument,ar.move,e.handleDrag),(0,Rn.removeEvent)(a.ownerDocument,ar.stop,e.handleDragStop))}}})),ir(tr(e),"onMouseDown",(function(t){return ar=or.mouse,e.handleDragStart(t)})),ir(tr(e),"onMouseUp",(function(t){return ar=or.mouse,e.handleDragStop(t)})),ir(tr(e),"onTouchStart",(function(t){return ar=or.touch,e.handleDragStart(t)})),ir(tr(e),"onTouchEnd",(function(t){return ar=or.touch,e.handleDragStop(t)})),e}return Zn(n,[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.findDOMNode();e&&(0,Rn.addEvent)(e,or.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.findDOMNode();if(e){var t=e.ownerDocument;(0,Rn.removeEvent)(t,or.mouse.move,this.handleDrag),(0,Rn.removeEvent)(t,or.touch.move,this.handleDrag),(0,Rn.removeEvent)(t,or.mouse.stop,this.handleDragStop),(0,Rn.removeEvent)(t,or.touch.stop,this.handleDragStop),(0,Rn.removeEvent)(e,or.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Rn.removeUserSelectStyles)(t)}}},{key:"findDOMNode",value:function(){var e,t,n;return null!==(e=null===(t=this.props)||void 0===t||null===(n=t.nodeRef)||void 0===n?void 0:n.current)&&void 0!==e?e:Ln.default.findDOMNode(this)}},{key:"render",value:function(){return Pn.cloneElement(Pn.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),n}(Pn.Component);An.default=sr,ir(sr,"displayName","DraggableCore"),ir(sr,"propTypes",{allowAnyClick:Dn.default.bool,disabled:Dn.default.bool,enableUserSelectHack:Dn.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Dn.default.arrayOf(Dn.default.number),handle:Dn.default.string,cancel:Dn.default.string,nodeRef:Dn.default.object,onStart:Dn.default.func,onDrag:Dn.default.func,onStop:Dn.default.func,onMouseDown:Dn.default.func,scale:Dn.default.number,className:Bn.dontSetMe,style:Bn.dontSetMe,transform:Bn.dontSetMe}),ir(sr,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),e.default=void 0;var n=f(bt),r=d(wt.exports),i=d(bt),o=d(_t),a=At,s=gn,l=Ot,c=d(An),u=d(On),p=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function d(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function f(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!==t(e)&&"function"!=typeof e)return{default:e};var r=h(n);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,r&&r.set(e,i),i}function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}function g(e,t){if(null==e)return{};var n,r,i=v(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(i[n]=e[n]))}return i}function v(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t){return E(e)||C(e,t)||k(e,t)||x()}function x(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function k(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{!a&&null!=n.return&&n.return()}finally{if(s)throw i}}return o}}function E(e){if(Array.isArray(e))return e}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),e}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=L();return function(){var n,r=R(e);if(t){var i=R(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,n){if(n&&("object"===t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return D(e)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=function(e){O(r,e);var t=M(r);function r(e){var n;return T(this,r),I(D(n=t.call(this,e)),"onDragStart",(function(e,t){if((0,u.default)("Draggable: onDragStart: %j",t),!1===n.props.onStart(e,(0,s.createDraggableData)(D(n),t)))return!1;n.setState({dragging:!0,dragged:!0})})),I(D(n),"onDrag",(function(e,t){if(!n.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",t);var r=(0,s.createDraggableData)(D(n),t),i={x:r.x,y:r.y};if(n.props.bounds){var o=i.x,a=i.y;i.x+=n.state.slackX,i.y+=n.state.slackY;var l=w((0,s.getBoundPosition)(D(n),i.x,i.y),2),c=l[0],p=l[1];i.x=c,i.y=p,i.slackX=n.state.slackX+(o-i.x),i.slackY=n.state.slackY+(a-i.y),r.x=i.x,r.y=i.y,r.deltaX=i.x-n.state.x,r.deltaY=i.y-n.state.y}if(!1===n.props.onDrag(e,r))return!1;n.setState(i)})),I(D(n),"onDragStop",(function(e,t){if(!n.state.dragging)return!1;if(!1===n.props.onStop(e,(0,s.createDraggableData)(D(n),t)))return!1;(0,u.default)("Draggable: onDragStop: %j",t);var r={dragging:!1,slackX:0,slackY:0};if(Boolean(n.props.position)){var i=n.props.position,o=i.x,a=i.y;r.x=o,r.y=a}n.setState(r)})),n.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:b({},e.position),slackX:0,slackY:0,isElementSVG:!1},e.position&&!(e.onDrag||e.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),n}return A(r,[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var e,t,n;return null!==(e=null===(t=this.props)||void 0===t||null===(n=t.nodeRef)||void 0===n?void 0:n.current)&&void 0!==e?e:i.default.findDOMNode(this)}},{key:"render",value:function(){var e,t=this.props;t.axis,t.bounds;var r=t.children,i=t.defaultPosition,l=t.defaultClassName,u=t.defaultClassNameDragging,d=t.defaultClassNameDragged,h=t.position,f=t.positionOffset;t.scale;var v=g(t,p),y={},w=null,x=!Boolean(h)||this.state.dragging,k=h||i,S={x:(0,s.canDragX)(this)&&x?this.state.x:k.x,y:(0,s.canDragY)(this)&&x?this.state.y:k.y};this.state.isElementSVG?w=(0,a.createSVGTransform)(S,f):y=(0,a.createCSSTransform)(S,f);var C=(0,o.default)(r.props.className||"",l,(I(e={},u,this.state.dragging),I(e,d,this.state.dragged),e));return n.createElement(c.default,m({},v,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),n.cloneElement(n.Children.only(r),{className:C,style:b(b({},r.props.style),y),transform:w}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:b({},n)})}}]),r}(n.Component);e.default=B,I(B,"displayName","Draggable"),I(B,"propTypes",b(b({},c.default.propTypes),{},{axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe})),I(B,"defaultProps",b(b({},c.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))}(yt);var lr=yt,cr=lr.default,ur=lr.DraggableCore;vt.exports=cr,vt.exports.default=cr,vt.exports.DraggableCore=ur;var pr=vt.exports,dr=["second","minute","hour","day","week","month","year"];function hr(e,t){if(0===t)return["just now","right now"];var n=dr[Math.floor(t/2)];return e>1&&(n+="s"),[e+" "+n+" ago","in "+e+" "+n]}var fr=["","","","","","",""];function mr(e,t){if(0===t)return["",""];var n=fr[~~(t/2)];return[e+" "+n+"",e+" "+n+""]}var gr={},vr=function(e,t){gr[e]=t},yr=function(e){return gr[e]||gr.en_US},br=[60,60,24,7,365/7/12,12];function wr(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(parseInt(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(e))}function xr(e,t){for(var n=e<0?1:0,r=e=Math.abs(e),i=0;e>=br[i]&&i<br.length;i++)e/=br[i];return(e=Math.floor(e))>(0==(i*=2)?9:1)&&(i+=1),t(e,i,r)[n].replace("%s",e.toString())}function kr(e,t){return(+(t?wr(t):new Date)-+wr(e))/1e3}function Sr(e){for(var t=1,n=0,r=Math.abs(e);e>=br[n]&&n<br.length;n++)e/=br[n],t*=br[n];return r=(r%=t)?t-r:t,Math.ceil(r)}var Cr=function(e,t,n){return xr(kr(e,n&&n.relativeDate),yr(t))},Er="timeago-id";function Tr(e){return e.getAttribute("datetime")}function _r(e,t){e.setAttribute(Er,t)}function Ar(e){return parseInt(e.getAttribute(Er))}var Or={},Nr=function(e){clearTimeout(e),delete Or[e]};function Mr(e,t,n,r){Nr(Ar(e));var i=r.relativeDate,o=r.minInterval,a=kr(t,i);e.innerText=xr(a,n);var s=setTimeout((function(){Mr(e,t,n,r)}),Math.min(1e3*Math.max(Sr(a),o||1),2147483647));Or[s]=0,_r(e,s)}function Pr(e){e?Nr(Ar(e)):Object.keys(Or).forEach(Nr)}function Dr(e,t,n){var r=e.length?e:[e];return r.forEach((function(e){Mr(e,Tr(e),yr(t),n||{})})),r}vr("en_US",hr),vr("zh_CN",mr);var Lr,Rr=globalThis&&globalThis.__extends||(Lr=function(e,t){return(Lr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Lr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ir=globalThis&&globalThis.__assign||function(){return Ir=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ir.apply(this,arguments)},Br=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},jr=function(e){return""+(e instanceof Date?e.getTime():e)},Fr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dom=null,t}return Rr(t,e),t.prototype.componentDidMount=function(){this.renderTimeAgo()},t.prototype.componentDidUpdate=function(){this.renderTimeAgo()},t.prototype.renderTimeAgo=function(){var e=this.props,t=e.live,n=e.datetime,r=e.locale,i=e.opts;Pr(this.dom),!1!==t&&(this.dom.setAttribute("datetime",jr(n)),Dr(this.dom,r,i))},t.prototype.componentWillUnmount=function(){Pr(this.dom)},t.prototype.render=function(){var e=this,t=this.props,n=t.datetime;t.live;var r=t.locale,i=t.opts,o=Br(t,["datetime","live","locale","opts"]);return v("time",Ir({ref:function(t){e.dom=t}},o),Cr(n,r,i))},t.defaultProps={live:!0,className:""},t}(ke);function zr(e,t){const n=n=>{e.current&&!e.current.contains(event.target)&&t()};oe((()=>(document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n))))}var Hr,qr=Object.prototype.toString,Vr=function(e){var t=qr.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===qr.call(e.callee)),n};if(!Object.keys){var Ur=Object.prototype.hasOwnProperty,Wr=Object.prototype.toString,$r=Vr,Gr=Object.prototype.propertyIsEnumerable,Xr=!Gr.call({toString:null},"toString"),Yr=Gr.call((function(){}),"prototype"),Zr=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Kr=function(e){var t=e.constructor;return t&&t.prototype===e},Jr={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},Qr=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!Jr["$"+e]&&Ur.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{Kr(window[e])}catch{return!0}}catch{return!0}return!1}(),ei=function(e){if("undefined"==typeof window||!Qr)return Kr(e);try{return Kr(e)}catch{return!1}};Hr=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===Wr.call(e),r=$r(e),i=t&&"[object String]"===Wr.call(e),o=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var a=Yr&&n;if(i&&e.length>0&&!Ur.call(e,0))for(var s=0;s<e.length;++s)o.push(String(s));if(r&&e.length>0)for(var l=0;l<e.length;++l)o.push(String(l));else for(var c in e)(!a||"prototype"!==c)&&Ur.call(e,c)&&o.push(String(c));if(Xr)for(var u=ei(e),p=0;p<Zr.length;++p)(!u||"constructor"!==Zr[p])&&Ur.call(e,Zr[p])&&o.push(Zr[p]);return o}}var ti=Hr,ni=Array.prototype.slice,ri=Vr,ii=Object.keys,oi=ii?function(e){return ii(e)}:ti,ai=Object.keys;oi.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return ri(e)?ai(ni.call(e)):ai(e)})}else Object.keys=oi;return Object.keys||oi};var si=oi,li="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),ci=Object.prototype.toString,ui=Array.prototype.concat,pi=Object.defineProperty,di=function(e){return"function"==typeof e&&"[object Function]"===ci.call(e)},hi=function(){var e={};try{for(var t in pi(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch{return!1}},fi=pi&&hi(),mi=function(e,t,n,r){t in e&&(!di(r)||!r())||(fi?pi(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},gi=function(e,t){var n=arguments.length>2?arguments[2]:{},r=si(t);li&&(r=ui.call(r,Object.getOwnPropertySymbols(t)));for(var i=0;i<r.length;i+=1)mi(e,r[i],t[r[i]],n[r[i]])};gi.supportsDescriptors=!!fi;var vi,yi=gi,bi={exports:{}},wi="Function.prototype.bind called on incompatible ",xi=Array.prototype.slice,ki=Object.prototype.toString,Si="[object Function]",Ci=function(e){var t=this;if("function"!=typeof t||ki.call(t)!==Si)throw new TypeError(wi+t);for(var n,r=xi.call(arguments,1),i=function(){if(this instanceof n){var i=t.apply(this,r.concat(xi.call(arguments)));return Object(i)===i?i:this}return t.apply(e,r.concat(xi.call(arguments)))},o=Math.max(0,t.length-r.length),a=[],s=0;s<o;s++)a.push("$"+s);if(n=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(i),t.prototype){var l=function(){};l.prototype=t.prototype,n.prototype=new l,l.prototype=null}return n},Ei=Ci,Ti=Function.prototype.bind||Ei,_i=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(n))return!1;var r=42;for(t in e[t]=r,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==r||!0!==o.enumerable)return!1}return!0},Ai="undefined"!=typeof Symbol&&Symbol,Oi=_i,Ni=function(){return"function"==typeof Ai&&"function"==typeof Symbol&&"symbol"==typeof Ai("foo")&&"symbol"==typeof Symbol("bar")&&Oi()},Mi=Ti.call(Function.call,Object.prototype.hasOwnProperty),Pi=SyntaxError,Di=Function,Li=TypeError,Ri=function(e){try{return Di('"use strict"; return ('+e+").constructor;")()}catch{}},Ii=Object.getOwnPropertyDescriptor;if(Ii)try{Ii({},"")}catch{Ii=null}var Bi=function(){throw new Li},ji=Ii?function(){try{return Bi}catch{try{return Ii(arguments,"callee").get}catch{return Bi}}}():Bi,Fi=Ni(),zi=Object.getPrototypeOf||function(e){return e.__proto__},Hi={},qi="undefined"==typeof Uint8Array?vi:zi(Uint8Array),Vi={"%AggregateError%":"undefined"==typeof AggregateError?vi:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?vi:ArrayBuffer,"%ArrayIteratorPrototype%":Fi?zi([][Symbol.iterator]()):vi,"%AsyncFromSyncIteratorPrototype%":vi,"%AsyncFunction%":Hi,"%AsyncGenerator%":Hi,"%AsyncGeneratorFunction%":Hi,"%AsyncIteratorPrototype%":Hi,"%Atomics%":"undefined"==typeof Atomics?vi:Atomics,"%BigInt%":"undefined"==typeof BigInt?vi:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?vi:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?vi:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?vi:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?vi:FinalizationRegistry,"%Function%":Di,"%GeneratorFunction%":Hi,"%Int8Array%":"undefined"==typeof Int8Array?vi:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?vi:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?vi:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Fi?zi(zi([][Symbol.iterator]())):vi,"%JSON%":"object"==typeof JSON?JSON:vi,"%Map%":"undefined"==typeof Map?vi:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&Fi?zi((new Map)[Symbol.iterator]()):vi,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?vi:Promise,"%Proxy%":"undefined"==typeof Proxy?vi:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?vi:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?vi:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&Fi?zi((new Set)[Symbol.iterator]()):vi,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?vi:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Fi?zi(""[Symbol.iterator]()):vi,"%Symbol%":Fi?Symbol:vi,"%SyntaxError%":Pi,"%ThrowTypeError%":ji,"%TypedArray%":qi,"%TypeError%":Li,"%Uint8Array%":"undefined"==typeof Uint8Array?vi:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?vi:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?vi:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?vi:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?vi:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?vi:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?vi:WeakSet},Ui=function e(t){var n;if("%AsyncFunction%"===t)n=Ri("async function () {}");else if("%GeneratorFunction%"===t)n=Ri("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=Ri("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(n=zi(i.prototype))}return Vi[t]=n,n},Wi={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},$i=Ti,Gi=Mi,Xi=$i.call(Function.call,Array.prototype.concat),Yi=$i.call(Function.apply,Array.prototype.splice),Zi=$i.call(Function.call,String.prototype.replace),Ki=$i.call(Function.call,String.prototype.slice),Ji=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Qi=/\\(\\)?/g,eo=function(e){var t=Ki(e,0,1),n=Ki(e,-1);if("%"===t&&"%"!==n)throw new Pi("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new Pi("invalid intrinsic syntax, expected opening `%`");var r=[];return Zi(e,Ji,(function(e,t,n,i){r[r.length]=n?Zi(i,Qi,"$1"):t||e})),r},to=function(e,t){var n,r=e;if(Gi(Wi,r)&&(r="%"+(n=Wi[r])[0]+"%"),Gi(Vi,r)){var i=Vi[r];if(i===Hi&&(i=Ui(r)),void 0===i&&!t)throw new Li("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new Pi("intrinsic "+e+" does not exist!")},no=function(e,t){if("string"!=typeof e||0===e.length)throw new Li("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new Li('"allowMissing" argument must be a boolean');var n=eo(e),r=n.length>0?n[0]:"",i=to("%"+r+"%",t),o=i.name,a=i.value,s=!1,l=i.alias;l&&(r=l[0],Yi(n,Xi([0,1],l)));for(var c=1,u=!0;c<n.length;c+=1){var p=n[c],d=Ki(p,0,1),h=Ki(p,-1);if(('"'===d||"'"===d||"`"===d||'"'===h||"'"===h||"`"===h)&&d!==h)throw new Pi("property names with quotes must have matching quotes");if(("constructor"===p||!u)&&(s=!0),Gi(Vi,o="%"+(r+="."+p)+"%"))a=Vi[o];else if(null!=a){if(!(p in a)){if(!t)throw new Li("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ii&&c+1>=n.length){var f=Ii(a,p);a=(u=!!f)&&"get"in f&&!("originalValue"in f.get)?f.get:a[p]}else u=Gi(a,p),a=a[p];u&&!s&&(Vi[o]=a)}}return a};!function(e){var t=Ti,n=no,r=n("%Function.prototype.apply%"),i=n("%Function.prototype.call%"),o=n("%Reflect.apply%",!0)||t.call(i,r),a=n("%Object.getOwnPropertyDescriptor%",!0),s=n("%Object.defineProperty%",!0),l=n("%Math.max%");if(s)try{s({},"a",{value:1})}catch{s=null}e.exports=function(e){var n=o(t,i,arguments);return a&&s&&a(n,"length").configurable&&s(n,"length",{value:1+l(0,e.length-(arguments.length-1))}),n};var c=function(){return o(t,r,arguments)};s?s(e.exports,"apply",{value:c}):e.exports.apply=c}(bi);var ro=no,io=bi.exports,oo=io(ro("String.prototype.indexOf")),ao=function(e,t){var n=ro(e,!!t);return"function"==typeof n&&oo(e,".prototype.")>-1?io(n):n},so=no("%TypeError%"),lo=function(e,t){if(null==e)throw new so(t||"Cannot call method on "+e);return e},co=no("%Array%"),uo=!co.isArray&&ao("Object.prototype.toString"),po=co.isArray||function(e){return"[object Array]"===uo(e)},ho=no,fo=ao,mo=ho("%TypeError%"),go=po,vo=ho("%Reflect.apply%",!0)||fo("%Function.prototype.apply%"),yo=function(e,t){var n=arguments.length>2?arguments[2]:[];if(!go(n))throw new mo("Assertion failed: optional `argumentsList`, if provided, must be a List");return vo(e,t,n)},bo={},wo=ht(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:bo})),xo="function"==typeof Map&&Map.prototype,ko=Object.getOwnPropertyDescriptor&&xo?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,So=xo&&ko&&"function"==typeof ko.get?ko.get:null,Co=xo&&Map.prototype.forEach,Eo="function"==typeof Set&&Set.prototype,To=Object.getOwnPropertyDescriptor&&Eo?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,_o=Eo&&To&&"function"==typeof To.get?To.get:null,Ao=Eo&&Set.prototype.forEach,Oo="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,No="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,Mo="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,Po=Boolean.prototype.valueOf,Do=Object.prototype.toString,Lo=Function.prototype.toString,Ro=String.prototype.match,Io=String.prototype.slice,Bo=String.prototype.replace,jo=String.prototype.toUpperCase,Fo=String.prototype.toLowerCase,zo=RegExp.prototype.test,Ho=Array.prototype.concat,qo=Array.prototype.join,Vo=Array.prototype.slice,Uo=Math.floor,Wo="function"==typeof BigInt?BigInt.prototype.valueOf:null,$o=Object.getOwnPropertySymbols,Go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Xo="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Yo="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,Zo=Object.prototype.propertyIsEnumerable,Ko=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function Jo(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||zo.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var r=e<0?-Uo(-e):Uo(e);if(r!==e){var i=String(r),o=Io.call(t,i.length+1);return Bo.call(i,n,"$&_")+"."+Bo.call(Bo.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Bo.call(t,n,"$&_")}var Qo=wo.custom,ea=Qo&&pa(Qo)?Qo:null,ta=function e(t,n,r,i){var o=n||{};if(fa(o,"quoteStyle")&&"single"!==o.quoteStyle&&"double"!==o.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(fa(o,"maxStringLength")&&("number"==typeof o.maxStringLength?o.maxStringLength<0&&o.maxStringLength!==1/0:null!==o.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=!fa(o,"customInspect")||o.customInspect;if("boolean"!=typeof a&&"symbol"!==a)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(fa(o,"indent")&&null!==o.indent&&"\t"!==o.indent&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(fa(o,"numericSeparator")&&"boolean"!=typeof o.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=o.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return Ca(t,o);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var l=String(t);return s?Jo(t,l):l}if("bigint"==typeof t){var c=String(t)+"n";return s?Jo(t,c):c}var u=void 0===o.depth?5:o.depth;if(void 0===r&&(r=0),r>=u&&u>0&&"object"==typeof t)return ia(t)?"[Array]":"[Object]";var p=Na(o,r);if(void 0===i)i=[];else if(va(i,t)>=0)return"[Circular]";function d(t,n,a){if(n&&(i=Vo.call(i)).push(n),a){var s={depth:o.depth};return fa(o,"quoteStyle")&&(s.quoteStyle=o.quoteStyle),e(t,s,r+1,i)}return e(t,o,r+1,i)}if("function"==typeof t){var h=ga(t),f=Pa(t,d);return"[Function"+(h?": "+h:" (anonymous)")+"]"+(f.length>0?" { "+qo.call(f,", ")+" }":"")}if(pa(t)){var m=Xo?Bo.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):Go.call(t);return"object"!=typeof t||Xo?m:Ta(m)}if(Sa(t)){for(var g="<"+Fo.call(String(t.nodeName)),v=t.attributes||[],y=0;y<v.length;y++)g+=" "+v[y].name+"="+na(ra(v[y].value),"double",o);return g+=">",t.childNodes&&t.childNodes.length&&(g+="..."),g+="</"+Fo.call(String(t.nodeName))+">"}if(ia(t)){if(0===t.length)return"[]";var b=Pa(t,d);return p&&!Oa(b)?"["+Ma(b,p)+"]":"[ "+qo.call(b,", ")+" ]"}if(sa(t)){var w=Pa(t,d);return"cause"in t&&!Zo.call(t,"cause")?"{ ["+String(t)+"] "+qo.call(Ho.call("[cause]: "+d(t.cause),w),", ")+" }":0===w.length?"["+String(t)+"]":"{ ["+String(t)+"] "+qo.call(w,", ")+" }"}if("object"==typeof t&&a){if(ea&&"function"==typeof t[ea])return t[ea]();if("symbol"!==a&&"function"==typeof t.inspect)return t.inspect()}if(ya(t)){var x=[];return Co.call(t,(function(e,n){x.push(d(n,t,!0)+" => "+d(e,t))})),Aa("Map",So.call(t),x,p)}if(xa(t)){var k=[];return Ao.call(t,(function(e){k.push(d(e,t))})),Aa("Set",_o.call(t),k,p)}if(ba(t))return _a("WeakMap");if(ka(t))return _a("WeakSet");if(wa(t))return _a("WeakRef");if(ca(t))return Ta(d(Number(t)));if(da(t))return Ta(d(Wo.call(t)));if(ua(t))return Ta(Po.call(t));if(la(t))return Ta(d(String(t)));if(!oa(t)&&!aa(t)){var S=Pa(t,d),C=Ko?Ko(t)===Object.prototype:t instanceof Object||t.constructor===Object,E=t instanceof Object?"":"null prototype",T=!C&&Yo&&Object(t)===t&&Yo in t?Io.call(ma(t),8,-1):E?"Object":"",_=(C||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(T||E?"["+qo.call(Ho.call([],T||[],E||[]),": ")+"] ":"");return 0===S.length?_+"{}":p?_+"{"+Ma(S,p)+"}":_+"{ "+qo.call(S,", ")+" }"}return String(t)};function na(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function ra(e){return Bo.call(String(e),/"/g,"&quot;")}function ia(e){return!("[object Array]"!==ma(e)||Yo&&"object"==typeof e&&Yo in e)}function oa(e){return!("[object Date]"!==ma(e)||Yo&&"object"==typeof e&&Yo in e)}function aa(e){return!("[object RegExp]"!==ma(e)||Yo&&"object"==typeof e&&Yo in e)}function sa(e){return!("[object Error]"!==ma(e)||Yo&&"object"==typeof e&&Yo in e)}function la(e){return!("[object String]"!==ma(e)||Yo&&"object"==typeof e&&Yo in e)}function ca(e){return!("[object Number]"!==ma(e)||Yo&&"object"==typeof e&&Yo in e)}function ua(e){return!("[object Boolean]"!==ma(e)||Yo&&"object"==typeof e&&Yo in e)}function pa(e){if(Xo)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!Go)return!1;try{return Go.call(e),!0}catch{}return!1}function da(e){if(!e||"object"!=typeof e||!Wo)return!1;try{return Wo.call(e),!0}catch{}return!1}var ha=Object.prototype.hasOwnProperty||function(e){return e in this};function fa(e,t){return ha.call(e,t)}function ma(e){return Do.call(e)}function ga(e){if(e.name)return e.name;var t=Ro.call(Lo.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function va(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function ya(e){if(!So||!e||"object"!=typeof e)return!1;try{So.call(e);try{_o.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function ba(e){if(!Oo||!e||"object"!=typeof e)return!1;try{Oo.call(e,Oo);try{No.call(e,No)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function wa(e){if(!Mo||!e||"object"!=typeof e)return!1;try{return Mo.call(e),!0}catch{}return!1}function xa(e){if(!_o||!e||"object"!=typeof e)return!1;try{_o.call(e);try{So.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function ka(e){if(!No||!e||"object"!=typeof e)return!1;try{No.call(e,No);try{Oo.call(e,Oo)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function Sa(e){return!(!e||"object"!=typeof e)&&("undefined"!=typeof HTMLElement&&e instanceof HTMLElement||"string"==typeof e.nodeName&&"function"==typeof e.getAttribute)}function Ca(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return Ca(Io.call(e,0,t.maxStringLength),t)+r}return na(Bo.call(Bo.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Ea),"single",t)}function Ea(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+jo.call(t.toString(16))}function Ta(e){return"Object("+e+")"}function _a(e){return e+" { ? }"}function Aa(e,t,n,r){return e+" ("+t+") {"+(r?Ma(n,r):qo.call(n,", "))+"}"}function Oa(e){for(var t=0;t<e.length;t++)if(va(e[t],"\n")>=0)return!1;return!0}function Na(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=qo.call(Array(e.indent+1)," ")}return{base:n,prev:qo.call(Array(t+1),n)}}function Ma(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+qo.call(e,","+n)+"\n"+t.prev}function Pa(e,t){var n=ia(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=fa(e,i)?t(e[i],e):""}var o,a="function"==typeof $o?$o(e):[];if(Xo){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var l in e)!fa(e,l)||n&&String(Number(l))===l&&l<e.length||Xo&&o["$"+l]instanceof Symbol||(zo.call(/[^\w$]/,l)?r.push(t(l,e)+": "+t(e[l],e)):r.push(l+": "+t(e[l],e)));if("function"==typeof $o)for(var c=0;c<a.length;c++)Zo.call(e,a[c])&&r.push("["+t(a[c])+"]: "+t(e[a[c]],e));return r}var Da,La,Ra=function(e){return"string"==typeof e||"symbol"==typeof e},Ia=function(e){return null===e?"Null":void 0===e?"Undefined":"function"==typeof e||"object"==typeof e?"Object":"number"==typeof e?"Number":"boolean"==typeof e?"Boolean":"string"==typeof e?"String":void 0},Ba=function(e){return"symbol"==typeof e?"Symbol":"bigint"==typeof e?"BigInt":Ia(e)},ja=no("%TypeError%"),Fa=ta,za=Ra,Ha=Ba,qa=function(e,t){if("Object"!==Ha(e))throw new ja("Assertion failed: Type(O) is not Object");if(!za(t))throw new ja("Assertion failed: IsPropertyKey(P) is not true, got "+Fa(t));return e[t]},Va=no("%TypeError%"),Ua=Ra,Wa=Ba,$a=function(e,t){if("Object"!==Wa(e))throw new Va("Assertion failed: `O` must be an Object");if(!Ua(t))throw new Va("Assertion failed: `P` must be a Property Key");return t in e},Ga=Function.prototype.toString,Xa="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof Xa&&"function"==typeof Object.defineProperty)try{Da=Object.defineProperty({},"length",{get:function(){throw La}}),La={},Xa((function(){throw 42}),null,Da)}catch(Lr){Lr!==La&&(Xa=null)}else Xa=null;var Ya=/^\s*class\b/,Za=function(e){try{var t=Ga.call(e);return Ya.test(t)}catch{return!1}},Ka=function(e){try{return!Za(e)&&(Ga.call(e),!0)}catch{return!1}},Ja=Object.prototype.toString,Qa="[object Function]",es="[object GeneratorFunction]",ts="function"==typeof Symbol&&!!Symbol.toStringTag,ns="object"==typeof document&&void 0===document.all&&void 0!==document.all?document.all:{},rs=Xa?function(e){if(e===ns)return!0;if(!e||"function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;try{Xa(e,null,Da)}catch(e){if(e!==La)return!1}return!Za(e)}:function(e){if(e===ns)return!0;if(!e||"function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(ts)return Ka(e);if(Za(e))return!1;var t=Ja.call(e);return t===Qa||t===es},is=rs,os=no,as=os("%Math%"),ss=os("%Number%").MAX_SAFE_INTEGER||as.pow(2,53)-1,ls=no("%Math.abs%"),cs=function(e){return ls(e)},us=Math.floor,ps=function(e){return us(e)},ds=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e},hs=Object.prototype.toString,fs=ds,ms=rs,gs={"[[DefaultValue]]":function(e){var t;if((t=arguments.length>1?arguments[1]:"[object Date]"===hs.call(e)?String:Number)===String||t===Number){var n,r,i=t===String?["toString","valueOf"]:["valueOf","toString"];for(r=0;r<i.length;++r)if(ms(e[i[r]])&&(n=e[i[r]](),fs(n)))return n;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")}},vs=function(e){return fs(e)?e:arguments.length>1?gs["[[DefaultValue]]"](e,arguments[1]):gs["[[DefaultValue]]"](e)},ys=vs,bs=function(e){var t=ys(e,Number);if("string"!=typeof t)return+t;var n=t.replace(/^[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+|[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+$/g,"");return/^0[ob]|^[+-]0x/.test(n)?NaN:+n},ws=Number.isNaN||function(e){return e!=e},xs=Number.isNaN||function(e){return e!=e},ks=Number.isFinite||function(e){return"number"==typeof e&&!xs(e)&&e!==1/0&&e!==-1/0},Ss=cs,Cs=ps,Es=bs,Ts=ws,_s=ks,As=function(e){return e>=0?1:-1},Os=function(e){var t=Es(e);return Ts(t)?0:0!==t&&_s(t)?As(t)*Cs(Ss(t)):t},Ns=no("RegExp.prototype.test"),Ms=bi.exports,Ps=function(e){return Ms(Ns,e)},Ds=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e},Ls=_i,Rs=function(){return Ls()&&!!Symbol.toStringTag},Is=Date.prototype.getDay,Bs=function(e){try{return Is.call(e),!0}catch{return!1}},js=Object.prototype.toString,Fs="[object Date]",zs=Rs(),Hs=function(e){return"object"==typeof e&&null!==e&&(zs?Bs(e):js.call(e)===Fs)},qs={exports:{}},Vs=Object.prototype.toString;if(Ni()){var Us=Symbol.prototype.toString,Ws=/^Symbol\(.*\)$/,$s=function(e){return"symbol"==typeof e.valueOf()&&Ws.test(Us.call(e))};qs.exports=function(e){if("symbol"==typeof e)return!0;if("[object Symbol]"!==Vs.call(e))return!1;try{return $s(e)}catch{return!1}}}else qs.exports=function(e){return!1};var Gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,Xs=ds,Ys=rs,Zs=Hs,Ks=qs.exports,Js=function(e,t){if(null==e)throw new TypeError("Cannot call method on "+e);if("string"!=typeof t||"number"!==t&&"string"!==t)throw new TypeError('hint must be "string" or "number"');var n,r,i,o="string"===t?["toString","valueOf"]:["valueOf","toString"];for(i=0;i<o.length;++i)if(n=e[o[i]],Ys(n)&&(r=n.call(e),Xs(r)))return r;throw new TypeError("No default value")},Qs=function(e,t){var n=e[t];if(null!=n){if(!Ys(n))throw new TypeError(n+" returned for property "+t+" of object "+e+" is not a function");return n}},el=function(e){if(Xs(e))return e;var t,n="default";if(arguments.length>1&&(arguments[1]===String?n="string":arguments[1]===Number&&(n="number")),Gs&&(Symbol.toPrimitive?t=Qs(e,Symbol.toPrimitive):Ks(e)&&(t=Symbol.prototype.valueOf)),void 0!==t){var r=t.call(e,n);if(Xs(r))return r;throw new TypeError("unable to convert exotic object to primitive")}return"default"===n&&(Zs(e)||Ks(e))&&(n="string"),Js(e,"default"===n?"number":n)},tl=el,nl=function(e){return arguments.length>1?tl(e,arguments[1]):tl(e)},rl=no,il=rl("%TypeError%"),ol=rl("%Number%"),al=rl("%RegExp%"),sl=rl("%parseInt%"),ll=ao,cl=Ps,ul=Ds,pl=ll("String.prototype.slice"),dl=cl(/^0b[01]+$/i),hl=cl(/^0o[0-7]+$/i),fl=cl(/^[-+]0x[0-9a-f]+$/i),ml=["","",""].join(""),gl=new al("["+ml+"]","g"),vl=cl(gl),yl=["\t\n\v\f\r ","\u2028","\u2029\ufeff"].join(""),bl=new RegExp("(^["+yl+"]+)|(["+yl+"]+$)","g"),wl=ll("String.prototype.replace"),xl=function(e){return wl(e,bl,"")},kl=nl,Sl=Os,Cl=function e(t){var n=ul(t)?t:kl(t,ol);if("symbol"==typeof n)throw new il("Cannot convert a Symbol value to a number");if("bigint"==typeof n)throw new il("Conversion from 'BigInt' to 'number' is not allowed.");if("string"==typeof n){if(dl(n))return e(sl(pl(n,2),2));if(hl(n))return e(sl(pl(n,2),8));if(vl(n)||fl(n))return NaN;var r=xl(n);if(r!==n)return e(r)}return ol(n)},El=ss,Tl=function(e){var t=Cl(e);return 0!==t&&(t=Sl(t)),0===t?0:t},_l=function(e){var t=Tl(e);return t<=0?0:t>El?El:t},Al=no("%TypeError%"),Ol=qa,Nl=_l,Ml=Ba,Pl=function(e){if("Object"!==Ml(e))throw new Al("Assertion failed: `obj` must be an Object");return Nl(Ol(e,"length"))},Dl=no("%Object%"),Ll=lo,Rl=function(e){return Ll(e),Dl(e)},Il=no,Bl=Il("%String%"),jl=Il("%TypeError%"),Fl=function(e){if("symbol"==typeof e)throw new jl("Cannot convert a Symbol value to a string");return Bl(e)},zl=String.prototype.valueOf,Hl=function(e){try{return zl.call(e),!0}catch{return!1}},ql=Object.prototype.toString,Vl="[object String]",Ul=Rs(),Wl=function(e){return"string"==typeof e||"object"==typeof e&&(Ul?Hl(e):ql.call(e)===Vl)},$l=ao,Gl=no("%TypeError%"),Xl=yo,Yl=qa,Zl=$a,Kl=is,Jl=Pl,Ql=Rl,ec=Fl,tc=Wl,nc=$l("String.prototype.split"),rc=Object("a"),ic="a"!==rc[0]||!(0 in rc),oc=function(e){var t,n=Ql(this),r=ic&&tc(this)?nc(this,""):n,i=Jl(r);if(!Kl(e))throw new Gl("Array.prototype.forEach callback must be a function");arguments.length>1&&(t=arguments[1]);for(var o=0;o<i;){var a=ec(o);if(Zl(r,a)){var s=Yl(r,a);Xl(e,t,[s,o,r])}o+=1}},ac=function(e){var t=!0,n=!0,r=!1;if("function"==typeof e){try{e.call("f",(function(e,n,r){"object"!=typeof r&&(t=!1)})),e.call([null],(function(){n="string"==typeof this}),"x")}catch{r=!0}return!r&&t&&n}return!1},sc=oc,lc=function(){var e=Array.prototype.forEach;return ac(e)?e:sc},cc=yi,uc=lc,pc=function(){var e=uc();return cc(Array.prototype,{forEach:e},{forEach:function(){return Array.prototype.forEach!==e}}),e},dc=yi,hc=bi.exports,fc=ao,mc=lo,gc=oc,vc=lc,yc=vc(),bc=pc,wc=fc("Array.prototype.slice"),xc=hc.apply(yc),kc=function(e,t){return mc(e),xc(e,wc(arguments,1))};dc(kc,{getPolyfill:vc,implementation:gc,shim:bc});var Sc=kc,Cc=lo,Ec=ao,Tc=Ec("Object.prototype.propertyIsEnumerable"),_c=Ec("Array.prototype.push"),Ac=function(e){var t=Cc(e),n=[];for(var r in t)Tc(t,r)&&_c(n,[r,t[r]]);return n},Oc=Ac,Nc=function(){return"function"==typeof Object.entries?Object.entries:Oc},Mc=Nc,Pc=yi,Dc=function(){var e=Mc();return Pc(Object,{entries:e},{entries:function(){return Object.entries!==e}}),e},Lc=yi,Rc=bi.exports,Ic=Ac,Bc=Nc,jc=Dc,Fc=Rc(Bc(),Object);Lc(Fc,{getPolyfill:Bc,implementation:Ic,shim:jc});var zc=Fc,Hc=lo,qc=Fl,Vc=ao("String.prototype.replace"),Uc=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,Wc=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/,$c=function(){var e=qc(Hc(this));return Vc(Vc(e,Uc,""),Wc,"")},Gc=$c,Xc="",Yc=function(){return String.prototype.trim&&Xc.trim()===Xc?String.prototype.trim:Gc},Zc=yi,Kc=Yc,Jc=function(){var e=Kc();return Zc(String.prototype,{trim:e},{trim:function(){return String.prototype.trim!==e}}),e},Qc=bi.exports,eu=yi,tu=$c,nu=Yc,ru=Jc,iu=Qc(nu());eu(iu,{getPolyfill:nu,implementation:tu,shim:ru});var ou=Sc,au=zc,su=Mi,lu=iu,cu=function(e){},uu=String.prototype.replace,pu=String.prototype.split,du="||||",hu=function(e){var t=e%100,n=t%10;return 11!==t&&1===n?0:2<=n&&n<=4&&!(t>=12&&t<=14)?1:2},fu={pluralTypes:{arabic:function(e){if(e<3)return e;var t=e%100;return t>=3&&t<=10?3:t>=11?4:5},bosnian_serbian:hu,chinese:function(){return 0},croatian:hu,french:function(e){return e>=2?1:0},german:function(e){return 1!==e?1:0},russian:hu,lithuanian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=9&&(e%100<11||e%100>19)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){if(1===e)return 0;var t=e%10;return 2<=t&&t<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0},slovenian:function(e){var t=e%100;return 1===t?0:2===t?1:3===t||4===t?2:3}},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]}};function mu(e){var t={};return ou(au(e),(function(e){var n=e[0],r=e[1];ou(r,(function(e){t[e]=n}))})),t}function gu(e,t){var n=mu(e.pluralTypeToLanguages);return n[t]||n[pu.call(t,/-/,1)[0]]||n.en}function vu(e,t,n){return e.pluralTypes[t](n)}function yu(){var e={};return function(t,n){var r=e[n];return r&&!t.pluralTypes[r]&&(r=null,e[n]=r),r||(r=gu(t,n))&&(e[n]=r),r}}function bu(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function wu(e){var t=e&&e.prefix||"%{",n=e&&e.suffix||"}";if(t===du||n===du)throw new RangeError('"'+du+'" token is reserved for pluralization');return new RegExp(bu(t)+"(.*?)"+bu(n),"g")}var xu=yu(),ku=/%\{(.*?)\}/g;function Su(e,t,n,r,i){if("string"!=typeof e)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==t)return e;var o=e,a=r||ku,s="number"==typeof t?{smart_count:t}:t;if(null!=s.smart_count&&e){var l=i||fu,c=pu.call(e,du),u=vu(l,xu(l,n||"en"),s.smart_count);o=lu(c[u]||c[0])}return o=uu.call(o,a,(function(e,t){return su(s,t)&&null!=s[t]?s[t]:e}))}function Cu(e){var t=e||{};this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en";var n=t.allowMissing?Su:null;this.onMissingKey="function"==typeof t.onMissingKey?t.onMissingKey:n,this.warn=t.warn||cu,this.tokenRegex=wu(t.interpolation),this.pluralRules=t.pluralRules||fu}Cu.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},Cu.prototype.extend=function(e,t){ou(au(e||{}),(function(e){var n=e[0],r=e[1],i=t?t+"."+n:n;"object"==typeof r?this.extend(r,i):this.phrases[i]=r}),this)},Cu.prototype.unset=function(e,t){"string"==typeof e?delete this.phrases[e]:ou(au(e||{}),(function(e){var n=e[0],r=e[1],i=t?t+"."+n:n;"object"==typeof r?this.unset(r,i):delete this.phrases[i]}),this)},Cu.prototype.clear=function(){this.phrases={}},Cu.prototype.replace=function(e){this.clear(),this.extend(e)},Cu.prototype.t=function(e,t){var n,r,i=null==t?{}:t;return"string"==typeof this.phrases[e]?n=this.phrases[e]:"string"==typeof i._?n=i._:this.onMissingKey?r=(0,this.onMissingKey)(e,i,this.currentLocale,this.tokenRegex,this.pluralRules):(this.warn('Missing translation for key: "'+e+'"'),r=e),"string"==typeof n&&(r=Su(n,i,this.currentLocale,this.tokenRegex,this.pluralRules)),r},Cu.prototype.has=function(e){return su(this.phrases,e)},Cu.transformPhrase=function(e,t,n){return Su(e,t,n)};var Eu=Cu,Tu={"Add a comment...":" ","Add a reply...":" ","Add tag...":" ",Cancel:"",Close:"",Edit:"Edit",Delete:"Delete",Ok:""},_u={"Add a comment...":"Napsat koment...","Add a reply...":"Odpovdt...","Add tag...":"Pidat ttek...",Cancel:"Zruit",Close:"Zavt",Edit:"Upravit",Delete:"Smazat",Ok:"Ok"},Au={"Add a comment...":"Kommentar schreiben...","Add a reply...":"Antwort schreiben...","Add tag...":"Tag...",Cancel:"Abbrechen",Close:"Schliessen",Edit:"Bearbeiten",Delete:"Lschen",Ok:"Ok"},Ou={"Add a comment...":"...","Add a reply...":"...","Add tag...":" tag...",Cancel:"",Close:"",Edit:"",Delete:"",Ok:"Ok"},Nu={"Add a comment...":"Agregar un comentario...","Add a reply...":"Agregar una respuesta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Cerrar",Edit:"Editar",Delete:"Eliminar",Ok:"Ok"},Mu={"Add a comment...":"Lis kommentti","Add a reply...":"Lis vastaus","Add tag...":"Lis tunniste",Cancel:"Peruuta",Close:"Sulje",Edit:"Muokkaa",Delete:"Poista",Ok:"Ok"},Pu={"Add a comment...":"Ajouter un commentaire...","Add a reply...":"Ajouter une rponse...","Add tag...":"Ajouter une tiquette...",Cancel:"Annuler",Close:"Fermer",Edit:"diter",Delete:"Supprimer",Ok:"Ok"},Du={"Add a comment...":"Engadir un comentario...","Add a reply...":"Engadir unha resposta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Pechar",Edit:"Edit",Delete:"Delete",Ok:"Ok"},Lu={"Add a comment...":" ","Add a reply...":" ","Add tag...":" ",Cancel:" ",Close:" ",Edit:" ",Delete:"",Ok:" "},Ru={"Add a comment...":"Commenta...","Add a reply...":"Rispondi...","Add tag...":"Aggiungi tag...",Cancel:"Annulla",Close:"Chiudi",Edit:"Edit",Delete:"Delete",Ok:"Ok"},Iu={"Add a comment...":"...","Add a reply...":"...","Add tag...":"...",Cancel:"",Close:"",Edit:"",Delete:"",Ok:"Ok"},Bu={"Add a comment...":" ","Add a reply...":" ","Add tag...":" ",Cancel:"",Close:"",Edit:"",Delete:"",Ok:""},ju={"Add a comment...":"Commentaar toevoegen...","Add a reply...":"Antwoord toevoegen...","Add tag...":"Tag toevoegen...",Cancel:"Afbreken",Close:"Sluiten",Edit:"Bewerken",Delete:"Verwijderen",Ok:"Ok"},Fu={"Add a comment...":"Adicionar um comentrio...","Add a reply...":"Adicionar uma resposta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Fechar",Edit:"Editar",Delete:"Apagar",Ok:"Ok"},zu={"Add a comment...":" ...","Add a reply...":" ...","Add tag...":" ...",Cancel:"",Close:"",Edit:"",Delete:"",Ok:""},Hu={"Add a comment...":"Skriv en kommentar...","Add a reply...":"Skriv ett svar...","Add tag...":"Tagg...",Cancel:"Cancel",Close:"Stng",Edit:"Edit",Delete:"Delete",Ok:"Ok"},qu={"Add a comment...":"...","Add a reply...":"...","Add tag...":"...",Cancel:"",Close:"",Edit:"",Delete:"",Ok:""},Vu={"Add a comment...":"Yorum ekle...","Add a reply...":"Cevap ekle...","Add tag...":"Tag Ekle...",Cancel:"ptal",Close:"Kapat",Edit:"Dzenle",Delete:"Sil",Ok:"Tamam"},Uu={"Add a comment...":" ","Add a reply...":" ","Add tag...":" ",Cancel:" ",Close:" ",Edit:" ",Delete:"",Ok:" "},Wu={"Add a comment...":"...","Add a reply...":"...","Add tag...":"...",Cancel:"",Close:"",Edit:"",Delete:"",Ok:""},$u={"Add a comment...":"...","Add a reply...":"...","Add tag...":"...",Cancel:"",Close:"",Edit:"",Delete:"",Ok:""},Gu={};Object.defineProperty(Gu,"__esModule",{value:!0});var Xu=[["","","%s ","%s "],["","","%s ","%s "],["","","%s ","%s "],["","","%s ","%s "],["","","%s ","%s "],["","","%s ","%s "],["","","%s ","%s "]];function Yu(e,t){return t<3?Xu[e][t-1]:t>=3&&t<=10?Xu[e][2]:Xu[e][3]}function Zu(e,t){if(0===t)return[" "," "];var n=Yu(Math.floor(t/2),e);return[" "+n," "+n]}var Ku=Gu.default=Zu,Ju={};function Qu(e,t){var n=0;return(1==t||3==t||5==t||7==t||9==t||11==t||13==t)&&e>=5&&(n=1),[[["prv te","prv te"]],[["ped %s vteinami","za %s vteiny"],["ped %s vteinami","za %s vtein"]],[["ped minutou","za minutu"]],[["ped %s minutami","za %s minuty"],["ped %s minutami","za %s minut"]],[["ped hodinou","za hodinu"]],[["ped %s hodinami","za %s hodiny"],["ped %s hodinami","za %s hodin"]],[["vera","ztra"]],[["ped %s dny","za %s dny"],["ped %s dny","za %s dn"]],[["minul tden","pt tden"]],[["ped %s tdny","za %s tdny"],["ped %s tdny","za %s tdn"]],[["minul msc","pst msc"]],[["ped %s msci","za %s msce"],["ped %s msci","za %s msc"]],[["ped rokem","pst rok"]],[["ped %s lety","za %s roky"],["ped %s lety","za %s let"]]][t][n]}Object.defineProperty(Ju,"__esModule",{value:!0});var ep=Ju.default=Qu,tp={};function np(e,t){return[["gerade eben","vor einer Weile"],["vor %s Sekunden","in %s Sekunden"],["vor 1 Minute","in 1 Minute"],["vor %s Minuten","in %s Minuten"],["vor 1 Stunde","in 1 Stunde"],["vor %s Stunden","in %s Stunden"],["vor 1 Tag","in 1 Tag"],["vor %s Tagen","in %s Tagen"],["vor 1 Woche","in 1 Woche"],["vor %s Wochen","in %s Wochen"],["vor 1 Monat","in 1 Monat"],["vor %s Monaten","in %s Monaten"],["vor 1 Jahr","in 1 Jahr"],["vor %s Jahren","in %s Jahren"]][t]}Object.defineProperty(tp,"__esModule",{value:!0});var rp=tp.default=np,ip={};function op(e,t){return[[" "," "],["%s  "," %s "],["1  "," 1 "],["%s  "," %s "],["1  "," 1 "],["%s  "," %s "],["1  "," 1 "],["%s  "," %s "],["1  "," 1 "],["%s  "," %s "],["1  "," 1 "],["%s  "," %s "],["1  "," 1 "],["%s  "," %s "]][t]}Object.defineProperty(ip,"__esModule",{value:!0});var ap=ip.default=op,sp={};function lp(e,t){return[["justo ahora","en un rato"],["hace %s segundos","en %s segundos"],["hace 1 minuto","en 1 minuto"],["hace %s minutos","en %s minutos"],["hace 1 hora","en 1 hora"],["hace %s horas","en %s horas"],["hace 1 da","en 1 da"],["hace %s das","en %s das"],["hace 1 semana","en 1 semana"],["hace %s semanas","en %s semanas"],["hace 1 mes","en 1 mes"],["hace %s meses","en %s meses"],["hace 1 ao","en 1 ao"],["hace %s aos","en %s aos"]][t]}Object.defineProperty(sp,"__esModule",{value:!0});var cp=sp.default=lp,up={};function pp(e,t){return[["juuri sken","juuri nyt"],["%s sekuntia sitten","%s sekunnin pst"],["minuutti sitten","minuutin pst"],["%s minuuttia sitten","%s minuutin pst"],["tunti sitten","tunnin pst"],["%s tuntia sitten","%s tunnin pst"],["piv sitten","pivn pst"],["%s piv sitten","%s pivn pst"],["viikko sitten","viikon pst"],["%s viikkoa sitten","%s viikon pst"],["kuukausi sitten","kuukauden pst"],["%s kuukautta sitten","%s kuukauden pst"],["vuosi sitten","vuoden pst"],["%s vuotta sitten","%s vuoden pst"]][t]}Object.defineProperty(up,"__esModule",{value:!0});var dp=up.default=pp,hp={};function fp(e,t){return[[" l'instant","dans un instant"],["il y a %s secondes","dans %s secondes"],["il y a 1 minute","dans 1 minute"],["il y a %s minutes","dans %s minutes"],["il y a 1 heure","dans 1 heure"],["il y a %s heures","dans %s heures"],["il y a 1 jour","dans 1 jour"],["il y a %s jours","dans %s jours"],["il y a 1 semaine","dans 1 semaine"],["il y a %s semaines","dans %s semaines"],["il y a 1 mois","dans 1 mois"],["il y a %s mois","dans %s mois"],["il y a 1 an","dans 1 an"],["il y a %s ans","dans %s ans"]][t]}Object.defineProperty(hp,"__esModule",{value:!0});var mp=hp.default=fp,gp={};function vp(e,t){return[["xusto agora","daqu a un pouco"],["hai %s segundos","en %s segundos"],["hai 1 minuto","nun minuto"],["hai %s minutos","en %s minutos"],["hai 1 hora","nunha hora"],["hai %s horas","en %s horas"],["hai 1 da","nun da"],["hai %s das","en %s das"],["hai 1 semana","nunha semana"],["hai %s semanas","en %s semanas"],["hai 1 mes","nun mes"],["hai %s meses","en %s meses"],["hai 1 ano","nun ano"],["hai %s anos","en %s anos"]][t]}Object.defineProperty(gp,"__esModule",{value:!0});var yp=gp.default=vp,bp={};function wp(e,t){return[[""," "],["%s  ","%s  "],["1  ","1  "],["%s  ","%s  "],["1  ","1  "],["%s  ","%s  "],["1  ","1  "],["%s  ","%s  "],["1  ","1  "],["%s  ","%s  "],["1  ","1  "],["%s  ","%s  "],["1  ","1  "],["%s  ","%s  "]][t]}Object.defineProperty(bp,"__esModule",{value:!0});var xp=bp.default=wp,kp={};function Sp(e,t){return[["poco fa","fra poco"],["%s secondi fa","fra %s secondi"],["un minuto fa","fra un minuto"],["%s minuti fa","fra %s minuti"],["un'ora fa","fra un'ora"],["%s ore fa","fra %s ore"],["un giorno fa","fra un giorno"],["%s giorni fa","fra %s giorni"],["una settimana fa","fra una settimana"],["%s settimane fa","fra %s settimane"],["un mese fa","fra un mese"],["%s mesi fa","fra %s mesi"],["un anno fa","fra un anno"],["%s anni fa","fra %s anni"]][t]}Object.defineProperty(kp,"__esModule",{value:!0});var Cp=kp.default=Sp,Ep={};function Tp(e,t){return[["",""],["%s","%s"],["1","1"],["%s","%s"],["1","1"],["%s","%s"],["1","1"],["%s","%s"],["1","1"],["%s","%s"],["1","1"],["%s","%s"],["1","1"],["%s","%s"]][t]}Object.defineProperty(Ep,"__esModule",{value:!0});var _p=Ep.default=Tp,Ap={};function Op(e,t){return[["",""],["%s ","%s "],["1 ","1 "],["%s ","%s "],["1 ","1 "],["%s ","%s "],["1 ","1 "],["%s ","%s "],["1 ","1 "],["%s ","%s "],["1 ","1 "],["%s ","%s "],["1 ","1 "],["%s ","%s "]][t]}Object.defineProperty(Ap,"__esModule",{value:!0});var Np=Ap.default=Op,Mp={};function Pp(e,t){return[["recent","binnenkort"],["%s seconden geleden","binnen %s seconden"],["1 minuut geleden","binnen 1 minuut"],["%s minuten geleden","binnen %s minuten"],["1 uur geleden","binnen 1 uur"],["%s uur geleden","binnen %s uur"],["1 dag geleden","binnen 1 dag"],["%s dagen geleden","binnen %s dagen"],["1 week geleden","binnen 1 week"],["%s weken geleden","binnen %s weken"],["1 maand geleden","binnen 1 maand"],["%s maanden geleden","binnen %s maanden"],["1 jaar geleden","binnen 1 jaar"],["%s jaar geleden","binnen %s jaar"]][t]}Object.defineProperty(Mp,"__esModule",{value:!0});var Dp=Mp.default=Pp,Lp={};function Rp(e,t){return[["agora mesmo","agora"],["h %s segundos","em %s segundos"],["h um minuto","em um minuto"],["h %s minutos","em %s minutos"],["h uma hora","em uma hora"],["h %s horas","em %s horas"],["h um dia","em um dia"],["h %s dias","em %s dias"],["h uma semana","em uma semana"],["h %s semanas","em %s semanas"],["h um ms","em um ms"],["h %s meses","em %s meses"],["h um ano","em um ano"],["h %s anos","em %s anos"]][t]}Object.defineProperty(Lp,"__esModule",{value:!0});var Ip=Lp.default=Rp,Bp={};function jp(e,t,n,r,i){var o=i%10,a=r;return 1===i?a=e:1===o&&i>20?a=t:o>1&&o<5&&(i>20||i<10)&&(a=n),a}Object.defineProperty(Bp,"__esModule",{value:!0});var Fp=jp.bind(null,"","%s ","%s ","%s "),zp=jp.bind(null,"","%s ","%s ","%s "),Hp=jp.bind(null,"","%s ","%s ","%s "),qp=jp.bind(null,"","%s ","%s ","%s "),Vp=jp.bind(null,"","%s ","%s ","%s "),Up=jp.bind(null,"","%s ","%s ","%s "),Wp=jp.bind(null,"","%s ","%s ","%s ");function $p(e,t){switch(t){case 0:return[" ","  "];case 1:return[Fp(e)+" "," "+Fp(e)];case 2:case 3:return[zp(e)+" "," "+zp(e)];case 4:case 5:return[Hp(e)+" "," "+Hp(e)];case 6:return["",""];case 7:return[qp(e)+" "," "+qp(e)];case 8:case 9:return[Vp(e)+" "," "+Vp(e)];case 10:case 11:return[Up(e)+" "," "+Up(e)];case 12:case 13:return[Wp(e)+" "," "+Wp(e)];default:return["",""]}}var Gp=Bp.default=$p,Xp={};function Yp(e,t){return[["just nu","om en stund"],["%s sekunder sedan","om %s sekunder"],["1 minut sedan","om 1 minut"],["%s minuter sedan","om %s minuter"],["1 timme sedan","om 1 timme"],["%s timmar sedan","om %s timmar"],["1 dag sedan","om 1 dag"],["%s dagar sedan","om %s dagar"],["1 vecka sedan","om 1 vecka"],["%s veckor sedan","om %s veckor"],["1 mnad sedan","om 1 mnad"],["%s mnader sedan","om %s mnader"],["1 r sedan","om 1 r"],["%s r sedan","om %s r"]][t]}Object.defineProperty(Xp,"__esModule",{value:!0});var Zp=Xp.default=Yp,Kp={};function Jp(e,t){return[["",""],["%s "," %s "],["1 "," 1 "],["%s "," %s "],["1 "," 1 "],["%s "," %s "],["1 "," 1 "],["%s "," %s "],["1 "," 1 "],["%s "," %s "],["1 "," 1 "],["%s "," %s "],["1 "," 1 "],["%s "," %s "]][t]}Object.defineProperty(Kp,"__esModule",{value:!0});var Qp=Kp.default=Jp,ed={};function td(e,t){return[["az nce","imdi"],["%s saniye nce","%s saniye iinde"],["1 dakika nce","1 dakika iinde"],["%s dakika nce","%s dakika iinde"],["1 saat nce","1 saat iinde"],["%s saat nce","%s saat iinde"],["1 gn nce","1 gn iinde"],["%s gn nce","%s gn iinde"],["1 hafta nce","1 hafta iinde"],["%s hafta nce","%s hafta iinde"],["1 ay nce","1 ay iinde"],["%s ay nce","%s ay iinde"],["1 yl nce","1 yl iinde"],["%s yl nce","%s yl iinde"]][t]}Object.defineProperty(ed,"__esModule",{value:!0});var nd=ed.default=td,rd={};Object.defineProperty(rd,"__esModule",{value:!0});var id=["","","","","","",""];function od(e,t){if(0===t)return["",""];var n=id[~~(t/2)];return[e+" "+n+"",e+" "+n+""]}var ad=rd.default=od,sd={};function ld(e,t){return[["",""],["%s ","%s "],["1 ","1 "],["%s ","%s "],["1 ","1 "],["%s ","%s "],["1 ","1 "],["%s ","%s "],["1 ","1 "],["%s ","%s "],["1 ","1 "],["%s ","%s "],["1 ","1 "],["%s ","%s "]][t]}Object.defineProperty(sd,"__esModule",{value:!0});var cd=sd.default=ld;const ud={ar:Tu,cs:_u,de:Au,el:Ou,es:Nu,fi:Mu,fr:Pu,gl:Du,hi:Lu,it:Ru,ja:Iu,ko:Bu,nl:ju,pt:Fu,ru:zu,sv:Hu,th:qu,tr:Vu,ur:Uu,"zh-CN":Wu,"zh-TW":$u},pd=Object.keys(ud),dd=new Eu({allowMissing:!0});dd.init=(e,t)=>{dd.clear(),e&&(dd.locale(e),dd.extend(ud[e])),t&&dd.extend(t)},vr("ar",Ku),vr("cs",ep),vr("de",rp),vr("el",ap),vr("es",cp),vr("fi",dp),vr("fr",mp),vr("gl",yp),vr("hi",xp),vr("it",Cp),vr("ja",_p),vr("ko",Np),vr("nl",Dp),vr("pt",Ip),vr("ru",Gp),vr("sv",Zp),vr("th",Qp),vr("tr",nd),vr("zh-CN",ad),vr("zh-TW",cd),dd.registerMessages=(e,t)=>{ud[e]?ud[e]={...ud[e],...t}:ud[e]=t};var hd=dd,fd=e=>{const t=se();return zr(t,(()=>e.onClickOutside())),ct.createElement("ul",{ref:t,className:"r6o-comment-dropdown-menu"},ct.createElement("li",{onClick:e.onEdit},hd.t("Edit")),ct.createElement("li",{onClick:e.onDelete},hd.t("Delete")))},md={},gd={},vd={exports:{}};
/*!
	autosize 4.0.4
	license: MIT
	http://www.jacklmoore.com/autosize
*/!function(e,t){!function(e,t){var n,r,i="function"==typeof Map?new Map:(n=[],r=[],{has:function(e){return n.indexOf(e)>-1},get:function(e){return r[n.indexOf(e)]},set:function(e,t){-1===n.indexOf(e)&&(n.push(e),r.push(t))},delete:function(e){var t=n.indexOf(e);t>-1&&(n.splice(t,1),r.splice(t,1))}}),o=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch{o=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function a(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!i.has(e)){var t=null,n=null,r=null,a=function(){e.clientWidth!==n&&d()},s=function(t){window.removeEventListener("resize",a,!1),e.removeEventListener("input",d,!1),e.removeEventListener("keyup",d,!1),e.removeEventListener("autosize:destroy",s,!1),e.removeEventListener("autosize:update",d,!1),Object.keys(t).forEach((function(n){e.style[n]=t[n]})),i.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",s,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",d,!1),window.addEventListener("resize",a,!1),e.addEventListener("input",d,!1),e.addEventListener("autosize:update",d,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",i.set(e,{destroy:s,update:d}),l()}function l(){var n=window.getComputedStyle(e,null);"vertical"===n.resize?e.style.resize="none":"both"===n.resize&&(e.style.resize="horizontal"),t="content-box"===n.boxSizing?-(parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)):parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),isNaN(t)&&(t=0),d()}function c(t){var n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n,e.style.overflowY=t}function u(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}function p(){if(0!==e.scrollHeight){var r=u(e),i=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+t+"px",n=e.clientWidth,r.forEach((function(e){e.node.scrollTop=e.scrollTop})),i&&(document.documentElement.scrollTop=i)}}function d(){p();var t=Math.round(parseFloat(e.style.height)),n=window.getComputedStyle(e,null),i="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):e.offsetHeight;if(i<t?"hidden"===n.overflowY&&(c("scroll"),p(),i="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==n.overflowY&&(c("hidden"),p(),i="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),r!==i){r=i;var a=o("autosize:resized");try{e.dispatchEvent(a)}catch{}}}}function s(e){var t=i.get(e);t&&t.destroy()}function l(e){var t=i.get(e);t&&t.update()}var c=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(c=function(e){return e},c.destroy=function(e){return e},c.update=function(e){return e}):(c=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],(function(e){return a(e)})),e},c.destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],s),e},c.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],l),e}),t.default=c,e.exports=t.default}(e,t)}(vd,vd.exports);var yd=function(e,t,n){return((n=window.getComputedStyle)?n(e):e.currentStyle)[t.replace(/-(\w)/gi,(function(e,t){return t.toUpperCase()}))]};function bd(e){var t=yd(e,"line-height"),n=parseFloat(t,10);if(t===n+""){var r=e.style.lineHeight;e.style.lineHeight=t+"em",t=yd(e,"line-height"),n=parseFloat(t,10),r?e.style.lineHeight=r:delete e.style.lineHeight}if(-1!==t.indexOf("pt")?(n*=4,n/=3):-1!==t.indexOf("mm")?(n*=96,n/=25.4):-1!==t.indexOf("cm")?(n*=96,n/=2.54):-1!==t.indexOf("in")?n*=96:-1!==t.indexOf("pc")&&(n*=16),n=Math.round(n),"normal"===t){var i=e.nodeName,o=document.createElement(i);o.innerHTML="&nbsp;","TEXTAREA"===i.toUpperCase()&&o.setAttribute("rows","1");var a=yd(e,"font-size");o.style.fontSize=a,o.style.padding="0px",o.style.border="0px";var s=document.body;s.appendChild(o),n=o.offsetHeight,s.removeChild(o)}return n}var wd=bd,xd=pt&&pt.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kd=pt&&pt.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Sd=pt&&pt.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n};gd.__esModule=!0;var Cd=bt,Ed=wt.exports,Td=vd.exports,_d=wd,Ad="autosize:resized",Od=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={lineHeight:null},t.textarea=null,t.onResize=function(e){t.props.onResize&&t.props.onResize(e)},t.updateLineHeight=function(){t.textarea&&t.setState({lineHeight:_d(t.textarea)})},t.onChange=function(e){var n=t.props.onChange;t.currentValue=e.currentTarget.value,n&&n(e)},t}return xd(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.maxRows,r=t.async;"number"==typeof n&&this.updateLineHeight(),"number"==typeof n||r?setTimeout((function(){return e.textarea&&Td(e.textarea)})):this.textarea&&Td(this.textarea),this.textarea&&this.textarea.addEventListener(Ad,this.onResize)},t.prototype.componentWillUnmount=function(){this.textarea&&(this.textarea.removeEventListener(Ad,this.onResize),Td.destroy(this.textarea))},t.prototype.render=function(){var e=this,t=this,n=t.props;n.onResize;var r=n.maxRows;n.onChange;var i=n.style;n.innerRef;var o=n.children,a=Sd(n,["onResize","maxRows","onChange","style","innerRef","children"]),s=t.state.lineHeight,l=r&&s?s*r:null;return Cd.createElement("textarea",kd({},a,{onChange:this.onChange,style:l?kd({},i,{maxHeight:l}):i,ref:function(t){e.textarea=t,"function"==typeof e.props.innerRef?e.props.innerRef(t):e.props.innerRef&&(e.props.innerRef.current=t)}}),o)},t.prototype.componentDidUpdate=function(){this.textarea&&Td.update(this.textarea)},t.defaultProps={rows:1,async:!1},t.propTypes={rows:Ed.number,maxRows:Ed.number,onResize:Ed.func,innerRef:Ed.any,async:Ed.bool},t}(Cd.Component);gd.TextareaAutosize=Cd.forwardRef((function(e,t){return Cd.createElement(Od,kd({},e,{innerRef:t}))})),function(e){e.__esModule=!0;var t=gd;e.default=t.TextareaAutosize}(md);var Nd=dt(md);class Md extends x{constructor(e){super(e),p(this,"onKeyDown",(e=>{13===e.which&&e.ctrlKey&&this.props.onSaveAndClose()})),this.element=b()}componentDidMount(){this.props.focus&&this.element.current&&this.element.current.focus({preventScroll:!0})}render(){return ct.createElement(Nd,{ref:this.element,className:"r6o-editable-text",value:this.props.content,placeholder:this.props.placeholder||hd.t("Add a comment..."),disabled:!this.props.editable,onChange:this.props.onChange,onKeyDown:this.onKeyDown})}}function Pd(){return Pd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pd.apply(this,arguments)}function Dd(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Ld(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Rd=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(Ld(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=Dd(t);try{n.insertRule(e,n.cssRules.length)}catch{}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Id="-ms-",Bd="-moz-",jd="-webkit-",Fd="comm",zd="rule",Hd="decl",qd="@import",Vd="@keyframes",Ud=Math.abs,Wd=String.fromCharCode,$d=Object.assign;function Gd(e,t){return(((t<<2^Jd(e,0))<<2^Jd(e,1))<<2^Jd(e,2))<<2^Jd(e,3)}function Xd(e){return e.trim()}function Yd(e,t){return(e=t.exec(e))?e[0]:e}function Zd(e,t,n){return e.replace(t,n)}function Kd(e,t){return e.indexOf(t)}function Jd(e,t){return 0|e.charCodeAt(t)}function Qd(e,t,n){return e.slice(t,n)}function eh(e){return e.length}function th(e){return e.length}function nh(e,t){return t.push(e),e}function rh(e,t){return e.map(t).join("")}var ih=1,oh=1,ah=0,sh=0,lh=0,ch="";function uh(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:ih,column:oh,length:a,return:""}}function ph(e,t){return $d(uh("",null,null,"",null,null,0),e,{length:-e.length},t)}function dh(){return lh}function hh(){return lh=sh>0?Jd(ch,--sh):0,oh--,10===lh&&(oh=1,ih--),lh}function fh(){return lh=sh<ah?Jd(ch,sh++):0,oh++,10===lh&&(oh=1,ih++),lh}function mh(){return Jd(ch,sh)}function gh(){return sh}function vh(e,t){return Qd(ch,e,t)}function yh(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function bh(e){return ih=oh=1,ah=eh(ch=e),sh=0,[]}function wh(e){return ch="",e}function xh(e){return Xd(vh(sh-1,Ch(91===e?e+2:40===e?e+1:e)))}function kh(e){for(;(lh=mh())&&lh<33;)fh();return yh(e)>2||yh(lh)>3?"":" "}function Sh(e,t){for(;--t&&fh()&&!(lh<48||lh>102||lh>57&&lh<65||lh>70&&lh<97););return vh(e,gh()+(t<6&&32==mh()&&32==fh()))}function Ch(e){for(;fh();)switch(lh){case e:return sh;case 34:case 39:34!==e&&39!==e&&Ch(lh);break;case 40:41===e&&Ch(e);break;case 92:fh()}return sh}function Eh(e,t){for(;fh()&&e+lh!==57&&(e+lh!==84||47!==mh()););return"/*"+vh(t,sh-1)+"*"+Wd(47===e?e:fh())}function Th(e){for(;!yh(mh());)fh();return vh(e,sh)}function _h(e){return wh(Ah("",null,null,null,[""],e=bh(e),0,[0],e))}function Ah(e,t,n,r,i,o,a,s,l){for(var c=0,u=0,p=a,d=0,h=0,f=0,m=1,g=1,v=1,y=0,b="",w=i,x=o,k=r,S=b;g;)switch(f=y,y=fh()){case 40:if(108!=f&&58==S.charCodeAt(p-1)){-1!=Kd(S+=Zd(xh(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:S+=xh(y);break;case 9:case 10:case 13:case 32:S+=kh(f);break;case 92:S+=Sh(gh()-1,7);continue;case 47:switch(mh()){case 42:case 47:nh(Nh(Eh(fh(),gh()),t,n),l);break;default:S+="/"}break;case 123*m:s[c++]=eh(S)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:h>0&&eh(S)-p&&nh(h>32?Mh(S+";",r,n,p-1):Mh(Zd(S," ","")+";",r,n,p-2),l);break;case 59:S+=";";default:if(nh(k=Oh(S,t,n,c,u,i,s,b,w=[],x=[],p),o),123===y)if(0===u)Ah(S,t,k,k,w,o,p,s,x);else switch(d){case 100:case 109:case 115:Ah(e,k,k,r&&nh(Oh(e,k,k,0,0,i,s,b,i,w=[],p),x),i,x,p,s,r?w:x);break;default:Ah(S,k,k,k,[""],x,0,s,x)}}c=u=h=0,m=v=1,b=S="",p=a;break;case 58:p=1+eh(S),h=f;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==hh())continue;switch(S+=Wd(y),y*m){case 38:v=u>0?1:(S+="\f",-1);break;case 44:s[c++]=(eh(S)-1)*v,v=1;break;case 64:45===mh()&&(S+=xh(fh())),d=mh(),u=p=eh(b=S+=Th(gh())),y++;break;case 45:45===f&&2==eh(S)&&(m=0)}}return o}function Oh(e,t,n,r,i,o,a,s,l,c,u){for(var p=i-1,d=0===i?o:[""],h=th(d),f=0,m=0,g=0;f<r;++f)for(var v=0,y=Qd(e,p+1,p=Ud(m=a[f])),b=e;v<h;++v)(b=Xd(m>0?d[v]+" "+y:Zd(y,/&\f/g,d[v])))&&(l[g++]=b);return uh(e,t,n,0===i?zd:s,l,c,u)}function Nh(e,t,n){return uh(e,t,n,Fd,Wd(dh()),Qd(e,2,-2),0)}function Mh(e,t,n,r){return uh(e,t,n,Hd,Qd(e,0,r),Qd(e,r+1,-1),r)}function Ph(e,t){switch(Gd(e,t)){case 5103:return jd+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return jd+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return jd+e+Bd+e+Id+e+e;case 6828:case 4268:return jd+e+Id+e+e;case 6165:return jd+e+Id+"flex-"+e+e;case 5187:return jd+e+Zd(e,/(\w+).+(:[^]+)/,jd+"box-$1$2"+Id+"flex-$1$2")+e;case 5443:return jd+e+Id+"flex-item-"+Zd(e,/flex-|-self/,"")+e;case 4675:return jd+e+Id+"flex-line-pack"+Zd(e,/align-content|flex-|-self/,"")+e;case 5548:return jd+e+Id+Zd(e,"shrink","negative")+e;case 5292:return jd+e+Id+Zd(e,"basis","preferred-size")+e;case 6060:return jd+"box-"+Zd(e,"-grow","")+jd+e+Id+Zd(e,"grow","positive")+e;case 4554:return jd+Zd(e,/([^-])(transform)/g,"$1"+jd+"$2")+e;case 6187:return Zd(Zd(Zd(e,/(zoom-|grab)/,jd+"$1"),/(image-set)/,jd+"$1"),e,"")+e;case 5495:case 3959:return Zd(e,/(image-set\([^]*)/,jd+"$1$`$1");case 4968:return Zd(Zd(e,/(.+:)(flex-)?(.*)/,jd+"box-pack:$3"+Id+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+jd+e+e;case 4095:case 3583:case 4068:case 2532:return Zd(e,/(.+)-inline(.+)/,jd+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(eh(e)-1-t>6)switch(Jd(e,t+1)){case 109:if(45!==Jd(e,t+4))break;case 102:return Zd(e,/(.+:)(.+)-([^]+)/,"$1"+jd+"$2-$3$1"+Bd+(108==Jd(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Kd(e,"stretch")?Ph(Zd(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Jd(e,t+1))break;case 6444:switch(Jd(e,eh(e)-3-(~Kd(e,"!important")&&10))){case 107:return Zd(e,":",":"+jd)+e;case 101:return Zd(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+jd+(45===Jd(e,14)?"inline-":"")+"box$3$1"+jd+"$2$3$1"+Id+"$2box$3")+e}break;case 5936:switch(Jd(e,t+11)){case 114:return jd+e+Id+Zd(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return jd+e+Id+Zd(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return jd+e+Id+Zd(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return jd+e+Id+e+e}return e}function Dh(e,t){for(var n="",r=th(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Lh(e,t,n,r){switch(e.type){case qd:case Hd:return e.return=e.return||e.value;case Fd:return"";case Vd:return e.return=e.value+"{"+Dh(e.children,r)+"}";case zd:e.value=e.props.join(",")}return eh(n=Dh(e.children,r))?e.return=e.value+"{"+n+"}":""}function Rh(e){var t=th(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}function Ih(e){return function(t){t.root||(t=t.return)&&e(t)}}function Bh(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Hd:e.return=Ph(e.value,e.length);break;case Vd:return Dh([ph(e,{value:Zd(e.value,"@","@"+jd)})],r);case zd:if(e.length)return rh(e.props,(function(t){switch(Yd(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Dh([ph(e,{props:[Zd(t,/:(read-\w+)/,":"+Bd+"$1")]})],r);case"::placeholder":return Dh([ph(e,{props:[Zd(t,/:(plac\w+)/,":"+jd+"input-$1")]}),ph(e,{props:[Zd(t,/:(plac\w+)/,":"+Bd+"$1")]}),ph(e,{props:[Zd(t,/:(plac\w+)/,Id+"input-$1")]})],r)}return""}))}}function jh(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Fh=function(e,t,n){for(var r=0,i=0;r=i,i=mh(),38===r&&12===i&&(t[n]=1),!yh(i);)fh();return vh(e,sh)},zh=function(e,t){var n=-1,r=44;do{switch(yh(r)){case 0:38===r&&12===mh()&&(t[n]=1),e[n]+=Fh(sh-1,t,n);break;case 2:e[n]+=xh(r);break;case 4:if(44===r){e[++n]=58===mh()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Wd(r)}}while(r=fh());return e},Hh=function(e,t){return wh(zh(bh(e),t))},qh=new WeakMap,Vh=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||qh.get(n))&&!r){qh.set(e,!0);for(var i=[],o=Hh(t,i),a=n.props,s=0,l=0;s<o.length;s++)for(var c=0;c<a.length;c++,l++)e.props[l]=i[s]?o[s].replace(/&\f/g,a[c]):a[c]+" "+o[s]}}},Uh=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},Wh=[Bh],$h=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,i=e.stylisPlugins||Wh,o={},a=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;a.push(e)}));var s,l,c=[Vh,Uh],u=[Lh,Ih((function(e){l.insert(e)}))],p=Rh(c.concat(i,u)),d=function(e){return Dh(_h(e),p)};s=function(e,t,n,r){l=n,d(e?e+"{"+t.styles+"}":t.styles),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new Rd({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:s};return h.sheet.hydrate(a),h},Gh={exports:{}},Xh={},Yh="function"==typeof Symbol&&Symbol.for,Zh=Yh?Symbol.for("react.element"):60103,Kh=Yh?Symbol.for("react.portal"):60106,Jh=Yh?Symbol.for("react.fragment"):60107,Qh=Yh?Symbol.for("react.strict_mode"):60108,ef=Yh?Symbol.for("react.profiler"):60114,tf=Yh?Symbol.for("react.provider"):60109,nf=Yh?Symbol.for("react.context"):60110,rf=Yh?Symbol.for("react.async_mode"):60111,of=Yh?Symbol.for("react.concurrent_mode"):60111,af=Yh?Symbol.for("react.forward_ref"):60112,sf=Yh?Symbol.for("react.suspense"):60113,lf=Yh?Symbol.for("react.suspense_list"):60120,cf=Yh?Symbol.for("react.memo"):60115,uf=Yh?Symbol.for("react.lazy"):60116,pf=Yh?Symbol.for("react.block"):60121,df=Yh?Symbol.for("react.fundamental"):60117,hf=Yh?Symbol.for("react.responder"):60118,ff=Yh?Symbol.for("react.scope"):60119;
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function mf(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case Zh:switch(e=e.type){case rf:case of:case Jh:case ef:case Qh:case sf:return e;default:switch(e=e&&e.$$typeof){case nf:case af:case uf:case cf:case tf:return e;default:return t}}case Kh:return t}}}function gf(e){return mf(e)===of}Xh.AsyncMode=rf,Xh.ConcurrentMode=of,Xh.ContextConsumer=nf,Xh.ContextProvider=tf,Xh.Element=Zh,Xh.ForwardRef=af,Xh.Fragment=Jh,Xh.Lazy=uf,Xh.Memo=cf,Xh.Portal=Kh,Xh.Profiler=ef,Xh.StrictMode=Qh,Xh.Suspense=sf,Xh.isAsyncMode=function(e){return gf(e)||mf(e)===rf},Xh.isConcurrentMode=gf,Xh.isContextConsumer=function(e){return mf(e)===nf},Xh.isContextProvider=function(e){return mf(e)===tf},Xh.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Zh},Xh.isForwardRef=function(e){return mf(e)===af},Xh.isFragment=function(e){return mf(e)===Jh},Xh.isLazy=function(e){return mf(e)===uf},Xh.isMemo=function(e){return mf(e)===cf},Xh.isPortal=function(e){return mf(e)===Kh},Xh.isProfiler=function(e){return mf(e)===ef},Xh.isStrictMode=function(e){return mf(e)===Qh},Xh.isSuspense=function(e){return mf(e)===sf},Xh.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===Jh||e===of||e===ef||e===Qh||e===sf||e===lf||"object"==typeof e&&null!==e&&(e.$$typeof===uf||e.$$typeof===cf||e.$$typeof===tf||e.$$typeof===nf||e.$$typeof===af||e.$$typeof===df||e.$$typeof===hf||e.$$typeof===ff||e.$$typeof===pf)},Xh.typeOf=mf,Gh.exports=Xh;var vf=Gh.exports,yf={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},bf={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},wf={};wf[vf.ForwardRef]=yf,wf[vf.Memo]=bf;var xf=!0;function kf(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var Sf=function(e,t,n){var r=e.key+"-"+t.name;if((!1===n||!1===xf)&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}};function Cf(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}var Ef={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Tf=/[A-Z]|^ms/g,_f=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Af=function(e){return 45===e.charCodeAt(1)},Of=function(e){return null!=e&&"boolean"!=typeof e},Nf=jh((function(e){return Af(e)?e:e.replace(Tf,"-$&").toLowerCase()})),Mf=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(_f,(function(e,t,n){return Lf={name:t,styles:n,next:Lf},t}))}return 1===Ef[e]||Af(e)||"number"!=typeof t||0===t?t:t+"px"};function Pf(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Lf={name:n.name,styles:n.styles,next:Lf},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Lf={name:r.name,styles:r.styles,next:Lf},r=r.next;return n.styles+";"}return Df(e,t,n);case"function":if(void 0!==e){var i=Lf,o=n(e);return Lf=i,Pf(e,t,o)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}function Df(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Pf(e,t,n[i])+";";else for(var o in n){var a=n[o];if("object"!=typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":Of(a)&&(r+=Nf(o)+":"+Mf(o,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=Pf(e,t,a);switch(o){case"animation":case"animationName":r+=Nf(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var l=0;l<a.length;l++)Of(a[l])&&(r+=Nf(o)+":"+Mf(o,a[l])+";")}return r}var Lf,Rf=/label:\s*([^\s;\n{]+)\s*(;|$)/g,If=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Lf=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=Pf(n,t,o)):i+=o[0];for(var a=1;a<e.length;a++)i+=Pf(n,t,e[a]),r&&(i+=o[a]);Rf.lastIndex=0;for(var s,l="";null!==(s=Rf.exec(i));)l+="-"+s[1];return{name:Cf(i)+l,styles:i,next:Lf}},Bf={}.hasOwnProperty,jf=U("undefined"!=typeof HTMLElement?$h({key:"css"}):null);jf.Provider;var Ff=function(e){return Te((function(t,n){var r=pe(jf);return e(t,r,n)}))},zf=U({}),Hf="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",qf=function(e,t){var n={};for(var r in t)Bf.call(t,r)&&(n[r]=t[r]);return n[Hf]=e,n},Vf=function(){return null},Uf=Ff((function(e,t,n){var r=e.css;"string"==typeof r&&void 0!==t.registered[r]&&(r=t.registered[r]);var i=e[Hf],o=[r],a="";"string"==typeof e.className?a=kf(t.registered,o,e.className):null!=e.className&&(a=e.className+" ");var s=If(o,void 0,pe(zf));Sf(t,s,"string"==typeof i),a+=t.key+"-"+s.name;var l={};for(var c in e)Bf.call(e,c)&&"css"!==c&&c!==Hf&&(l[c]=e[c]);l.ref=n,l.className=a;var u=v(i,l),p=v(Vf,null);return v(w,null,p,u)})),Wf=function(e,t){var n=arguments;if(null==t||!Bf.call(t,"css"))return v.apply(void 0,n);var r=n.length,i=new Array(r);i[0]=Uf,i[1]=qf(e,t);for(var o=2;o<r;o++)i[o]=n[o];return v.apply(null,i)};function $f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return If(t)}var Gf=function(){var e=$f.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Xf=function e(t){for(var n=t.length,r=0,i="";r<n;r++){var o=t[r];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))a=e(o);else for(var s in a="",o)o[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=o}a&&(i&&(i+=" "),i+=a)}}return i};function Yf(e,t,n){var r=[],i=kf(e,r,n);return r.length<2?n:i+t(r)}var Zf=function(){return null},Kf=Ff((function(e,t){var n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=If(n,t.registered);return Sf(t,i,!1),t.key+"-"+i.name},r=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return Yf(t.registered,n,Xf(r))},i={css:n,cx:r,theme:pe(zf)},o=e.children(i),a=v(Zf,null);return v(w,null,a,o)}));function Jf(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Qf(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}function em(e,t){if(null==e)return{};var n,r,i=Qf(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(i[n]=e[n]))}return i}function tm(e){return(tm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var nm={};Object.defineProperty(nm,"__esModule",{value:!0});var rm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},im=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),om=bt,am=lm(om),sm=lm(wt.exports);function lm(e){return e&&e.__esModule?e:{default:e}}function cm(e,t){var n={};for(var r in e)t.indexOf(r)>=0||!Object.prototype.hasOwnProperty.call(e,r)||(n[r]=e[r]);return n}function um(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pm(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function dm(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var hm={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},fm=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],mm=function(e){return fm.forEach((function(t){return delete e[t]})),e},gm=function(e,t){t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,t.style.textTransform=e.textTransform},vm=!("undefined"==typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),ym=function(){return vm?"_"+Math.random().toString(36).substr(2,12):void 0},bm=function(e){function t(e){um(this,t);var n=pm(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.inputRef=function(e){n.input=e,"function"==typeof n.props.inputRef&&n.props.inputRef(e)},n.placeHolderSizerRef=function(e){n.placeHolderSizer=e},n.sizerRef=function(e){n.sizer=e},n.state={inputWidth:e.minWidth,inputId:e.id||ym(),prevId:e.id},n}return dm(t,e),im(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.id;return n!==t.prevId?{inputId:n||ym(),prevId:n}:null}}]),im(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(e,t){t.inputWidth!==this.state.inputWidth&&"function"==typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var e=this.input&&window.getComputedStyle(this.input);!e||(gm(e,this.sizer),this.placeHolderSizer&&gm(e,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&void 0!==this.sizer.scrollWidth){var e=void 0;e=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(e+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var e=this.props.injectStyles;return vm&&e?am.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var e=[this.props.defaultValue,this.props.value,""].reduce((function(e,t){return null!=e?e:t})),t=rm({},this.props.style);t.display||(t.display="inline-block");var n=rm({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),r=cm(this.props,[]);return mm(r),r.className=this.props.inputClassName,r.id=this.state.inputId,r.style=n,am.default.createElement("div",{className:this.props.className,style:t},this.renderStyles(),am.default.createElement("input",rm({},r,{ref:this.inputRef})),am.default.createElement("div",{ref:this.sizerRef,style:hm},e),this.props.placeholder?am.default.createElement("div",{ref:this.placeHolderSizerRef,style:hm},this.props.placeholder):null)}}]),t}(om.Component);bm.propTypes={className:sm.default.string,defaultValue:sm.default.any,extraWidth:sm.default.oneOfType([sm.default.number,sm.default.string]),id:sm.default.string,injectStyles:sm.default.bool,inputClassName:sm.default.string,inputRef:sm.default.func,inputStyle:sm.default.object,minWidth:sm.default.oneOfType([sm.default.number,sm.default.string]),onAutosize:sm.default.func,onChange:sm.default.func,placeholder:sm.default.string,placeholderIsMinWidth:sm.default.bool,style:sm.default.object,value:sm.default.any},bm.defaultProps={minWidth:1,injectStyles:!0};var wm=nm.default=bm;function xm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function km(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sm(e,t,n){return t&&km(e.prototype,t),n&&km(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cm(e,t){return(Cm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Em(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cm(e,t)}function Tm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Am(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Om(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Am(Object(n),!0).forEach((function(t){_m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Am(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nm(e){return(Nm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mm(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch{return!1}}function Pm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dm(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Pm(e):t}function Lm(e){var t=Mm();return function(){var n,r=Nm(e);if(t){var i=Nm(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Dm(this,n)}}var Rm=function(){};function Im(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function Bm(e,t,n){var r=[n];if(t&&e)for(var i in t)t.hasOwnProperty(i)&&t[i]&&r.push("".concat(Im(e,i)));return r.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var jm=function(e){return Array.isArray(e)?e.filter(Boolean):"object"===tm(e)&&null!==e?[e]:[]},Fm=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,Om({},em(e,["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"]))};function zm(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function Hm(e){return zm(e)?window.pageYOffset:e.scrollTop}function qm(e,t){zm(e)?window.scrollTo(0,t):e.scrollTop=t}function Vm(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/,i=document.documentElement;if("fixed"===t.position)return i;for(var o=e;o=o.parentElement;)if(t=getComputedStyle(o),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return o;return i}function Um(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function Wm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Rm,i=Hm(e),o=t-i,a=10,s=0;function l(){var t=Um(s+=a,i,o,n);qm(e,t),s<n?window.requestAnimationFrame(l):r(e)}l()}function $m(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=t.offsetHeight/3;r.bottom+i>n.bottom?qm(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):r.top-i<n.top&&qm(e,Math.max(t.offsetTop-i,0))}function Gm(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function Xm(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Ym(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var Zm=!1,Km={get passive(){return Zm=!0}},Jm="undefined"!=typeof window?window:{};Jm.addEventListener&&Jm.removeEventListener&&(Jm.addEventListener("p",Rm,Km),Jm.removeEventListener("p",Rm,!1));var Qm=Zm;function eg(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,o=e.shouldScroll,a=e.isFixedPosition,s=e.theme.spacing,l=Vm(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var u=l.getBoundingClientRect().height,p=n.getBoundingClientRect(),d=p.bottom,h=p.height,f=p.top,m=n.offsetParent.getBoundingClientRect().top,g=window.innerHeight,v=Hm(l),y=parseInt(getComputedStyle(n).marginBottom,10),b=parseInt(getComputedStyle(n).marginTop,10),w=m-b,x=g-f,k=w+v,S=u-v-f,C=d-g+v+y,E=v+f-b,T=160;switch(i){case"auto":case"bottom":if(x>=h)return{placement:"bottom",maxHeight:t};if(S>=h&&!a)return o&&Wm(l,C,T),{placement:"bottom",maxHeight:t};if(!a&&S>=r||a&&x>=r)return o&&Wm(l,C,T),{placement:"bottom",maxHeight:a?x-y:S-y};if("auto"===i||a){var _=t,A=a?w:k;return A>=r&&(_=Math.min(A-y-s.controlHeight,t)),{placement:"top",maxHeight:_}}if("bottom"===i)return o&&qm(l,C),{placement:"bottom",maxHeight:t};break;case"top":if(w>=h)return{placement:"top",maxHeight:t};if(k>=h&&!a)return o&&Wm(l,E,T),{placement:"top",maxHeight:t};if(!a&&k>=r||a&&w>=r){var O=t;return(!a&&k>=r||a&&w>=r)&&(O=a?w-b:k-b),o&&Wm(l,E,T),{placement:"top",maxHeight:O}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}function tg(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}var ng=function(e){return"auto"===e?"bottom":e},rg=function(e){var t,n=e.placement,r=e.theme,i=r.borderRadius,o=r.spacing,a=r.colors;return Tm(t={label:"menu"},tg(n),"100%"),Tm(t,"backgroundColor",a.neutral0),Tm(t,"borderRadius",i),Tm(t,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),Tm(t,"marginBottom",o.menuGutter),Tm(t,"marginTop",o.menuGutter),Tm(t,"position","absolute"),Tm(t,"width","100%"),Tm(t,"zIndex",1),t},ig=U({getPortalPlacement:null}),og=function(e){Em(n,e);var t=Lm(n);function n(){var e;xm(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={maxHeight:e.props.maxMenuHeight,placement:null},e.getPlacement=function(t){var n=e.props,r=n.minMenuHeight,i=n.maxMenuHeight,o=n.menuPlacement,a=n.menuPosition,s=n.menuShouldScrollIntoView,l=n.theme;if(t){var c="fixed"===a,u=eg({maxHeight:i,menuEl:t,minHeight:r,placement:o,shouldScroll:s&&!c,isFixedPosition:c,theme:l}),p=e.context.getPortalPlacement;p&&p(u),e.setState(u)}},e.getUpdatedProps=function(){var t=e.props.menuPlacement,n=e.state.placement||ng(t);return Om(Om({},e.props),{},{placement:n,maxHeight:e.state.maxHeight})},e}return Sm(n,[{key:"render",value:function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),n}(x);og.contextType=ig;var ag=function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerRef,a=e.innerProps;return Wf("div",Pd({css:i("menu",e),className:r({menu:!0},n),ref:o},a),t)},sg=function(e){var t=e.maxHeight,n=e.theme.spacing.baseUnit;return{maxHeight:t,overflowY:"auto",paddingBottom:n,paddingTop:n,position:"relative",WebkitOverflowScrolling:"touch"}},lg=function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps,a=e.innerRef,s=e.isMulti;return Wf("div",Pd({css:i("menuList",e),className:r({"menu-list":!0,"menu-list--is-multi":s},n),ref:a},o),t)},cg=function(e){var t=e.theme,n=t.spacing.baseUnit;return{color:t.colors.neutral40,padding:"".concat(2*n,"px ").concat(3*n,"px"),textAlign:"center"}},ug=cg,pg=cg,dg=function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps;return Wf("div",Pd({css:i("noOptionsMessage",e),className:r({"menu-notice":!0,"menu-notice--no-options":!0},n)},o),t)};dg.defaultProps={children:"No options"};var hg=function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps;return Wf("div",Pd({css:i("loadingMessage",e),className:r({"menu-notice":!0,"menu-notice--loading":!0},n)},o),t)};hg.defaultProps={children:"Loading..."};var fg,mg=function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},gg=function(e){Em(n,e);var t=Lm(n);function n(){var e;xm(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={placement:null},e.getPortalPlacement=function(t){var n=t.placement;n!==ng(e.props.menuPlacement)&&e.setState({placement:n})},e}return Sm(n,[{key:"render",value:function(){var e=this.props,t=e.appendTo,n=e.children,r=e.className,i=e.controlElement,o=e.cx,a=e.innerProps,s=e.menuPlacement,l=e.menuPosition,c=e.getStyles,u="fixed"===l;if(!t&&!u||!i)return null;var p=this.state.placement||ng(s),d=Gm(i),h=u?0:window.pageYOffset,f=d[p]+h,m=Wf("div",Pd({css:c("menuPortal",{offset:f,position:l,rect:d}),className:o({"menu-portal":!0},r)},a),n);return Wf(ig.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},t?je(m,t):m)}}]),n}(x),vg=function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":null,pointerEvents:t?"none":null,position:"relative"}},yg=function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps,a=e.isDisabled,s=e.isRtl;return Wf("div",Pd({css:i("container",e),className:r({"--is-disabled":a,"--is-rtl":s},n)},o),t)},bg=function(e){var t=e.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(t.baseUnit/2,"px ").concat(2*t.baseUnit,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}},wg=function(e){var t=e.children,n=e.className,r=e.cx,i=e.innerProps,o=e.isMulti,a=e.getStyles,s=e.hasValue;return Wf("div",Pd({css:a("valueContainer",e),className:r({"value-container":!0,"value-container--is-multi":o,"value-container--has-value":s},n)},i),t)},xg=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},kg=function(e){var t=e.children,n=e.className,r=e.cx,i=e.innerProps,o=e.getStyles;return Wf("div",Pd({css:o("indicatorsContainer",e),className:r({indicators:!0},n)},i),t)},Sg={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Cg=function(e){var t=e.size,n=em(e,["size"]);return Wf("svg",Pd({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Sg},n))},Eg=function(e){return Wf(Cg,Pd({size:20},e),Wf("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Tg=function(e){return Wf(Cg,Pd({size:20},e),Wf("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},_g=function(e){var t=e.isFocused,n=e.theme,r=n.spacing.baseUnit,i=n.colors;return{label:"indicatorContainer",color:t?i.neutral60:i.neutral20,display:"flex",padding:2*r,transition:"color 150ms",":hover":{color:t?i.neutral80:i.neutral40}}},Ag=_g,Og=function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps;return Wf("div",Pd({css:i("dropdownIndicator",e),className:r({indicator:!0,"dropdown-indicator":!0},n)},o),t||Wf(Tg,null))},Ng=_g,Mg=function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps;return Wf("div",Pd({css:i("clearIndicator",e),className:r({indicator:!0,"clear-indicator":!0},n)},o),t||Wf(Eg,null))},Pg=function(e){var t=e.isDisabled,n=e.theme,r=n.spacing.baseUnit,i=n.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:t?i.neutral10:i.neutral20,marginBottom:2*r,marginTop:2*r,width:1}},Dg=function(e){var t=e.className,n=e.cx,r=e.getStyles,i=e.innerProps;return Wf("span",Pd({},i,{css:r("indicatorSeparator",e),className:n({"indicator-separator":!0},t)}))},Lg=Gf(fg||(fg=Jf(["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"]))),Rg=function(e){var t=e.isFocused,n=e.size,r=e.theme,i=r.colors,o=r.spacing.baseUnit;return{label:"loadingIndicator",color:t?i.neutral60:i.neutral20,display:"flex",padding:2*o,transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"}},Ig=function(e){var t=e.delay,n=e.offset;return Wf("span",{css:$f({animation:"".concat(Lg," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Bg=function(e){var t=e.className,n=e.cx,r=e.getStyles,i=e.innerProps,o=e.isRtl;return Wf("div",Pd({css:r("loadingIndicator",e),className:n({indicator:!0,"loading-indicator":!0},t)},i),Wf(Ig,{delay:0,offset:o}),Wf(Ig,{delay:160,offset:!0}),Wf(Ig,{delay:320,offset:!o}))};Bg.defaultProps={size:4};var jg=function(e){var t=e.isDisabled,n=e.isFocused,r=e.theme,i=r.colors,o=r.borderRadius,a=r.spacing;return{label:"control",alignItems:"center",backgroundColor:t?i.neutral5:i.neutral0,borderColor:t?i.neutral10:n?i.primary:i.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(i.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:n?i.primary:i.neutral30}}},Fg=function(e){var t=e.children,n=e.cx,r=e.getStyles,i=e.className,o=e.isDisabled,a=e.isFocused,s=e.innerRef,l=e.innerProps,c=e.menuIsOpen;return Wf("div",Pd({ref:s,css:r("control",e),className:n({control:!0,"control--is-disabled":o,"control--is-focused":a,"control--menu-is-open":c},i)},l),t)},zg=function(e){var t=e.theme.spacing;return{paddingBottom:2*t.baseUnit,paddingTop:2*t.baseUnit}},Hg=function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.Heading,a=e.headingProps,s=e.innerProps,l=e.label,c=e.theme,u=e.selectProps;return Wf("div",Pd({css:i("group",e),className:r({group:!0},n)},s),Wf(o,Pd({},a,{selectProps:u,theme:c,getStyles:i,cx:r}),l),Wf("div",null,t))},qg=function(e){var t=e.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:3*t.baseUnit,paddingRight:3*t.baseUnit,textTransform:"uppercase"}},Vg=function(e){var t=e.getStyles,n=e.cx,r=e.className,i=Fm(e);i.data;var o=em(i,["data"]);return Wf("div",Pd({css:t("groupHeading",e),className:n({"group-heading":!0},r)},o))},Ug=function(e){var t=e.isDisabled,n=e.theme,r=n.spacing,i=n.colors;return{margin:r.baseUnit/2,paddingBottom:r.baseUnit/2,paddingTop:r.baseUnit/2,visibility:t?"hidden":"visible",color:i.neutral80}},Wg=function(e){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:e?0:1,outline:0,padding:0,color:"inherit"}},$g=function(e){var t=e.className,n=e.cx,r=e.getStyles,i=Fm(e),o=i.innerRef,a=i.isDisabled,s=i.isHidden,l=em(i,["innerRef","isDisabled","isHidden"]);return Wf("div",{css:r("input",e)},Wf(wm,Pd({className:n({input:!0},t),inputRef:o,inputStyle:Wg(s),disabled:a},l)))},Gg=function(e){var t=e.theme,n=t.spacing,r=t.borderRadius;return{label:"multiValue",backgroundColor:t.colors.neutral10,borderRadius:r/2,display:"flex",margin:n.baseUnit/2,minWidth:0}},Xg=function(e){var t=e.theme,n=t.borderRadius,r=t.colors,i=e.cropWithEllipsis;return{borderRadius:n/2,color:r.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:i?"ellipsis":null,whiteSpace:"nowrap"}},Yg=function(e){var t=e.theme,n=t.spacing,r=t.borderRadius,i=t.colors;return{alignItems:"center",borderRadius:r/2,backgroundColor:e.isFocused&&i.dangerLight,display:"flex",paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}}},Zg=function(e){var t=e.children,n=e.innerProps;return Wf("div",n,t)},Kg=Zg,Jg=Zg;function Qg(e){var t=e.children,n=e.innerProps;return Wf("div",n,t||Wf(Eg,{size:14}))}var ev=function(e){var t=e.children,n=e.className,r=e.components,i=e.cx,o=e.data,a=e.getStyles,s=e.innerProps,l=e.isDisabled,c=e.removeProps,u=e.selectProps,p=r.Container,d=r.Label,h=r.Remove;return Wf(Kf,null,(function(r){var f=r.css,m=r.cx;return Wf(p,{data:o,innerProps:Om({className:m(f(a("multiValue",e)),i({"multi-value":!0,"multi-value--is-disabled":l},n))},s),selectProps:u},Wf(d,{data:o,innerProps:{className:m(f(a("multiValueLabel",e)),i({"multi-value__label":!0},n))},selectProps:u},t),Wf(h,{data:o,innerProps:Om({className:m(f(a("multiValueRemove",e)),i({"multi-value__remove":!0},n))},c),selectProps:u}))}))};ev.defaultProps={cropWithEllipsis:!0};var tv=function(e){var t=e.isDisabled,n=e.isFocused,r=e.isSelected,i=e.theme,o=i.spacing,a=i.colors;return{label:"option",backgroundColor:r?a.primary:n?a.primary25:"transparent",color:t?a.neutral20:r?a.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(2*o.baseUnit,"px ").concat(3*o.baseUnit,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!t&&(r?a.primary:a.primary50)}}},nv=function(e){var t=e.theme,n=t.spacing;return{label:"placeholder",color:t.colors.neutral50,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},rv=function(e){var t=e.isDisabled,n=e.theme,r=n.spacing,i=n.colors;return{label:"singleValue",color:t?i.neutral40:i.neutral80,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2,maxWidth:"calc(100% - ".concat(2*r.baseUnit,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},iv={ClearIndicator:Mg,Control:Fg,DropdownIndicator:Og,DownChevron:Tg,CrossIcon:Eg,Group:Hg,GroupHeading:Vg,IndicatorsContainer:kg,IndicatorSeparator:Dg,Input:$g,LoadingIndicator:Bg,Menu:ag,MenuList:lg,MenuPortal:gg,LoadingMessage:hg,NoOptionsMessage:dg,MultiValue:ev,MultiValueContainer:Kg,MultiValueLabel:Jg,MultiValueRemove:Qg,Option:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.isDisabled,a=e.isFocused,s=e.isSelected,l=e.innerRef,c=e.innerProps;return Wf("div",Pd({css:i("option",e),className:r({option:!0,"option--is-disabled":o,"option--is-focused":a,"option--is-selected":s},n),ref:l},c),t)},Placeholder:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps;return Wf("div",Pd({css:i("placeholder",e),className:r({placeholder:!0},n)},o),t)},SelectContainer:yg,SingleValue:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.isDisabled,a=e.innerProps;return Wf("div",Pd({css:i("singleValue",e),className:r({"single-value":!0,"single-value--is-disabled":o},n)},a),t)},ValueContainer:wg},ov=function(e){return Om(Om({},iv),e.components)};function av(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sv(e){if(Array.isArray(e))return av(e)}function lv(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function cv(e,t){if(e){if("string"==typeof e)return av(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return av(e,t)}}function uv(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function pv(e){return sv(e)||lv(e)||cv(e)||uv()}var dv=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function hv(e,t){return!!(e===t||dv(e)&&dv(t))}function fv(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!hv(e[n],t[n]))return!1;return!0}function mv(e,t){void 0===t&&(t=fv);var n,r,i=[],o=!1;function a(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return o&&n===this&&t(a,i)||(r=e.apply(this,a),o=!0,n=this,i=a),r}return a}for(var gv={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},vv=function(e){return Wf("span",Pd({css:gv},e))},yv={guidance:function(e){var t=e.isSearchable,n=e.isMulti,r=e.isDisabled,i=e.tabSelectsValue;switch(e.context){case"menu":return"Use Up and Down to choose options".concat(r?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,r=void 0===n?"":n,i=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"select-option":return"option ".concat(r,i?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,r=void 0===n?{}:n,i=e.options,o=e.label,a=void 0===o?"":o,s=e.selectValue,l=e.isDisabled,c=e.isSelected,u=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&s)return"value ".concat(a," focused, ").concat(u(s,r),".");if("menu"===t){var p=l?" disabled":"",d="".concat(c?"selected":"focused").concat(p);return"option ".concat(a," ").concat(d,", ").concat(u(i,r),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},bv=function(e){var t=e.ariaSelection,n=e.focusedOption,r=e.focusedValue,i=e.focusableOptions,o=e.isFocused,a=e.selectValue,s=e.selectProps,l=s.ariaLiveMessages,c=s.getOptionLabel,u=s.inputValue,p=s.isMulti,d=s.isOptionDisabled,h=s.isSearchable,f=s.menuIsOpen,m=s.options,g=s.screenReaderStatus,v=s.tabSelectsValue,y=s["aria-label"],b=s["aria-live"],w=ce((function(){return Om(Om({},yv),l||{})}),[l]),x=ce((function(){var e,n="";if(t&&w.onChange){var r=t.option,i=t.removedValue,o=t.value,a=i||r||(e=o,Array.isArray(e)?null:e),s=Om({isDisabled:a&&d(a),label:a?c(a):""},t);n=w.onChange(s)}return n}),[t,d,c,w]),k=ce((function(){var e="",t=n||r,i=!!(n&&a&&a.includes(n));if(t&&w.onFocus){var o={focused:t,label:c(t),isDisabled:d(t),isSelected:i,options:m,context:t===n?"menu":"value",selectValue:a};e=w.onFocus(o)}return e}),[n,r,c,d,w,m,a]),S=ce((function(){var e="";if(f&&m.length&&w.onFilter){var t=g({count:i.length});e=w.onFilter({inputValue:u,resultsMessage:t})}return e}),[i,u,f,w,m,g]),C=ce((function(){var e="";if(w.guidance){var t=r?"value":f?"menu":"input";e=w.guidance({"aria-label":y,context:t,isDisabled:n&&d(n),isMulti:p,isSearchable:h,tabSelectsValue:v})}return e}),[y,n,r,p,d,h,f,w,v]),E="".concat(k," ").concat(S," ").concat(C);return Wf(vv,{"aria-live":b,"aria-atomic":"false","aria-relevant":"additions text"},o&&Wf(ct.Fragment,null,Wf("span",{id:"aria-selection"},x),Wf("span",{id:"aria-context"},E)))},wv=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],xv=new RegExp("["+wv.map((function(e){return e.letters})).join("")+"]","g"),kv={},Sv=0;Sv<wv.length;Sv++)for(var Cv=wv[Sv],Ev=0;Ev<Cv.letters.length;Ev++)kv[Cv.letters[Ev]]=Cv.base;var Tv=function(e){return e.replace(xv,(function(e){return kv[e]}))},_v=mv(Tv),Av=function(e){return e.replace(/^\s+|\s+$/g,"")},Ov=function(e){return"".concat(e.label," ").concat(e.value)},Nv=function(e){return function(t,n){var r=Om({ignoreCase:!0,ignoreAccents:!0,stringify:Ov,trim:!0,matchFrom:"any"},e),i=r.ignoreCase,o=r.ignoreAccents,a=r.stringify,s=r.trim,l=r.matchFrom,c=s?Av(n):n,u=s?Av(a(t)):a(t);return i&&(c=c.toLowerCase(),u=u.toLowerCase()),o&&(c=_v(c),u=Tv(u)),"start"===l?u.substr(0,c.length)===c:u.indexOf(c)>-1}};function Mv(e){e.in,e.out,e.onExited,e.appear,e.enter,e.exit;var t=e.innerRef;e.emotion;var n=em(e,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return Wf("input",Pd({ref:t},n,{css:$f({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"","")}))}var Pv=function(e){e.preventDefault(),e.stopPropagation()};function Dv(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,i=e.onTopArrive,o=e.onTopLeave,a=se(!1),s=se(!1),l=se(0),c=se(null),u=ue((function(e,t){if(null!==c.current){var l=c.current,u=l.scrollTop,p=l.scrollHeight,d=l.clientHeight,h=c.current,f=t>0,m=p-d-u,g=!1;m>t&&a.current&&(r&&r(e),a.current=!1),f&&s.current&&(o&&o(e),s.current=!1),f&&t>m?(n&&!a.current&&n(e),h.scrollTop=p,g=!0,a.current=!0):!f&&-t>u&&(i&&!s.current&&i(e),h.scrollTop=0,g=!0,s.current=!0),g&&Pv(e)}}),[]),p=ue((function(e){u(e,e.deltaY)}),[u]),d=ue((function(e){l.current=e.changedTouches[0].clientY}),[]),h=ue((function(e){var t=l.current-e.changedTouches[0].clientY;u(e,t)}),[u]),f=ue((function(e){if(e){var t=!!Qm&&{passive:!1};"function"==typeof e.addEventListener&&e.addEventListener("wheel",p,t),"function"==typeof e.addEventListener&&e.addEventListener("touchstart",d,t),"function"==typeof e.addEventListener&&e.addEventListener("touchmove",h,t)}}),[h,d,p]),m=ue((function(e){!e||("function"==typeof e.removeEventListener&&e.removeEventListener("wheel",p,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchstart",d,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchmove",h,!1))}),[h,d,p]);return oe((function(){if(t){var e=c.current;return f(e),function(){m(e)}}}),[t,f,m]),function(e){c.current=e}}var Lv=["boxSizing","height","overflow","paddingRight","position"],Rv={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Iv(e){e.preventDefault()}function Bv(e){e.stopPropagation()}function jv(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function Fv(){return"ontouchstart"in window||navigator.maxTouchPoints}var zv=!("undefined"==typeof window||!window.document||!window.document.createElement),Hv=0,qv={capture:!1,passive:!1};function Vv(e){var t=e.isEnabled,n=e.accountForScrollbars,r=void 0===n||n,i=se({}),o=se(null),a=ue((function(e){if(zv){var t=document.body,n=t&&t.style;if(r&&Lv.forEach((function(e){var t=n&&n[e];i.current[e]=t})),r&&Hv<1){var o=parseInt(i.current.paddingRight,10)||0,a=document.body?document.body.clientWidth:0,s=window.innerWidth-a+o||0;Object.keys(Rv).forEach((function(e){var t=Rv[e];n&&(n[e]=t)})),n&&(n.paddingRight="".concat(s,"px"))}t&&Fv()&&(t.addEventListener("touchmove",Iv,qv),e&&(e.addEventListener("touchstart",jv,qv),e.addEventListener("touchmove",Bv,qv))),Hv+=1}}),[]),s=ue((function(e){if(zv){var t=document.body,n=t&&t.style;Hv=Math.max(Hv-1,0),r&&Hv<1&&Lv.forEach((function(e){var t=i.current[e];n&&(n[e]=t)})),t&&Fv()&&(t.removeEventListener("touchmove",Iv,qv),e&&(e.removeEventListener("touchstart",jv,qv),e.removeEventListener("touchmove",Bv,qv)))}}),[]);return oe((function(){if(t){var e=o.current;return a(e),function(){s(e)}}}),[t,a,s]),function(e){o.current=e}}var Uv=function(){return document.activeElement&&document.activeElement.blur()},Wv={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function $v(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,i=Dv({isEnabled:void 0===r||r,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),o=Vv({isEnabled:n}),a=function(e){i(e),o(e)};return Wf(ct.Fragment,null,n&&Wf("div",{onClick:Uv,css:Wv}),t(a))}var Gv=function(e){return e.label},Xv=function(e){return e.label},Yv=function(e){return e.value},Zv=function(e){return!!e.isDisabled},Kv={clearIndicator:Ng,container:vg,control:jg,dropdownIndicator:Ag,group:zg,groupHeading:qg,indicatorsContainer:xg,indicatorSeparator:Pg,input:Ug,loadingIndicator:Rg,loadingMessage:pg,menu:rg,menuList:sg,menuPortal:mg,multiValue:Gg,multiValueLabel:Xg,multiValueRemove:Yg,noOptionsMessage:ug,option:tv,placeholder:nv,singleValue:rv,valueContainer:bg},Jv=4,Qv={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:Jv,controlHeight:38,menuGutter:2*Jv}},ey={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Xm(),captureMenuScroll:!Xm(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Nv(),formatGroupLabel:Gv,getOptionLabel:Xv,getOptionValue:Yv,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Zv,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Ym(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0};function ty(e,t,n,r){return{type:"option",data:t,isDisabled:uy(e,t,n),isSelected:py(e,t,n),label:ly(e,t),value:cy(e,t),index:r}}function ny(e,t){return e.options.map((function(n,r){if(n.options){var i=n.options.map((function(n,r){return ty(e,n,t,r)})).filter((function(t){return oy(e,t)}));return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var o=ty(e,n,t,r);return oy(e,o)?o:void 0})).filter((function(e){return!!e}))}function ry(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,pv(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function iy(e,t){return ry(ny(e,t))}function oy(e,t){var n=e.inputValue,r=void 0===n?"":n,i=t.data,o=t.isSelected,a=t.label,s=t.value;return(!hy(e)||!o)&&dy(e,{label:a,value:s,data:i},r)}function ay(e,t){var n=e.focusedValue,r=e.selectValue.indexOf(n);if(r>-1){if(t.indexOf(n)>-1)return n;if(r<t.length)return t[r]}return null}function sy(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}var ly=function(e,t){return e.getOptionLabel(t)},cy=function(e,t){return e.getOptionValue(t)};function uy(e,t,n){return"function"==typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function py(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"==typeof e.isOptionSelected)return e.isOptionSelected(t,n);var r=cy(e,t);return n.some((function(t){return cy(e,t)===r}))}function dy(e,t,n){return!e.filterOption||e.filterOption(t,n)}var hy=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},fy=1,my=function(e){Em(n,e);var t=Lm(n);function n(e){var r;return xm(this,n),(r=t.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},r.blockOptionHover=!1,r.isComposing=!1,r.commonProps=void 0,r.initialTouchX=0,r.initialTouchY=0,r.instancePrefix="",r.openAfterFocus=!1,r.scrollToFocusedOptionOnUpdate=!1,r.userIsDragging=void 0,r.controlRef=null,r.getControlRef=function(e){r.controlRef=e},r.focusedOptionRef=null,r.getFocusedOptionRef=function(e){r.focusedOptionRef=e},r.menuListRef=null,r.getMenuListRef=function(e){r.menuListRef=e},r.inputRef=null,r.getInputRef=function(e){r.inputRef=e},r.focus=r.focusInput,r.blur=r.blurInput,r.onChange=function(e,t){var n=r.props,i=n.onChange,o=n.name;t.name=o,r.ariaOnChange(e,t),i(e,t)},r.setValue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set-value",n=arguments.length>2?arguments[2]:void 0,i=r.props,o=i.closeMenuOnSelect,a=i.isMulti;r.onInputChange("",{action:"set-value"}),o&&(r.setState({inputIsHiddenAfterUpdate:!a}),r.onMenuClose()),r.setState({clearFocusValueOnUpdate:!0}),r.onChange(e,{action:t,option:n})},r.selectOption=function(e){var t=r.props,n=t.blurInputOnSelect,i=t.isMulti,o=t.name,a=r.state.selectValue,s=i&&r.isOptionSelected(e,a),l=r.isOptionDisabled(e,a);if(s){var c=r.getOptionValue(e);r.setValue(a.filter((function(e){return r.getOptionValue(e)!==c})),"deselect-option",e)}else{if(l)return void r.ariaOnChange(e,{action:"select-option",name:o});i?r.setValue([].concat(pv(a),[e]),"select-option",e):r.setValue(e,"select-option")}n&&r.blurInput()},r.removeValue=function(e){var t=r.props.isMulti,n=r.state.selectValue,i=r.getOptionValue(e),o=n.filter((function(e){return r.getOptionValue(e)!==i})),a=t?o:o[0]||null;r.onChange(a,{action:"remove-value",removedValue:e}),r.focusInput()},r.clearValue=function(){var e=r.state.selectValue;r.onChange(r.props.isMulti?[]:null,{action:"clear",removedValues:e})},r.popValue=function(){var e=r.props.isMulti,t=r.state.selectValue,n=t[t.length-1],i=t.slice(0,t.length-1),o=e?i:i[0]||null;r.onChange(o,{action:"pop-value",removedValue:n})},r.getValue=function(){return r.state.selectValue},r.cx=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Bm.apply(void 0,[r.props.classNamePrefix].concat(t))},r.getOptionLabel=function(e){return ly(r.props,e)},r.getOptionValue=function(e){return cy(r.props,e)},r.getStyles=function(e,t){var n=Kv[e](t);n.boxSizing="border-box";var i=r.props.styles[e];return i?i(n,t):n},r.getElementId=function(e){return"".concat(r.instancePrefix,"-").concat(e)},r.getComponents=function(){return ov(r.props)},r.buildCategorizedOptions=function(){return ny(r.props,r.state.selectValue)},r.getCategorizedOptions=function(){return r.props.menuIsOpen?r.buildCategorizedOptions():[]},r.buildFocusableOptions=function(){return ry(r.buildCategorizedOptions())},r.getFocusableOptions=function(){return r.props.menuIsOpen?r.buildFocusableOptions():[]},r.ariaOnChange=function(e,t){r.setState({ariaSelection:Om({value:e},t)})},r.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),r.focusInput())},r.onMenuMouseMove=function(e){r.blockOptionHover=!1},r.onControlMouseDown=function(e){var t=r.props.openMenuOnClick;r.state.isFocused?r.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&r.onMenuClose():t&&r.openMenu("first"):(t&&(r.openAfterFocus=!0),r.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()},r.onDropdownIndicatorMouseDown=function(e){if(!(e&&"mousedown"===e.type&&0!==e.button||r.props.isDisabled)){var t=r.props,n=t.isMulti,i=t.menuIsOpen;r.focusInput(),i?(r.setState({inputIsHiddenAfterUpdate:!n}),r.onMenuClose()):r.openMenu("first"),e.preventDefault(),e.stopPropagation()}},r.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(r.clearValue(),e.stopPropagation(),r.openAfterFocus=!1,"touchend"===e.type?r.focusInput():setTimeout((function(){return r.focusInput()})))},r.onScroll=function(e){"boolean"==typeof r.props.closeMenuOnScroll?e.target instanceof HTMLElement&&zm(e.target)&&r.props.onMenuClose():"function"==typeof r.props.closeMenuOnScroll&&r.props.closeMenuOnScroll(e)&&r.props.onMenuClose()},r.onCompositionStart=function(){r.isComposing=!0},r.onCompositionEnd=function(){r.isComposing=!1},r.onTouchStart=function(e){var t=e.touches,n=t&&t.item(0);!n||(r.initialTouchX=n.clientX,r.initialTouchY=n.clientY,r.userIsDragging=!1)},r.onTouchMove=function(e){var t=e.touches,n=t&&t.item(0);if(n){var i=Math.abs(n.clientX-r.initialTouchX),o=Math.abs(n.clientY-r.initialTouchY),a=5;r.userIsDragging=i>a||o>a}},r.onTouchEnd=function(e){r.userIsDragging||(r.controlRef&&!r.controlRef.contains(e.target)&&r.menuListRef&&!r.menuListRef.contains(e.target)&&r.blurInput(),r.initialTouchX=0,r.initialTouchY=0)},r.onControlTouchEnd=function(e){r.userIsDragging||r.onControlMouseDown(e)},r.onClearIndicatorTouchEnd=function(e){r.userIsDragging||r.onClearIndicatorMouseDown(e)},r.onDropdownIndicatorTouchEnd=function(e){r.userIsDragging||r.onDropdownIndicatorMouseDown(e)},r.handleInputChange=function(e){var t=e.currentTarget.value;r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange(t,{action:"input-change"}),r.props.menuIsOpen||r.onMenuOpen()},r.onInputFocus=function(e){r.props.onFocus&&r.props.onFocus(e),r.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(r.openAfterFocus||r.props.openMenuOnFocus)&&r.openMenu("first"),r.openAfterFocus=!1},r.onInputBlur=function(e){r.menuListRef&&r.menuListRef.contains(document.activeElement)?r.inputRef.focus():(r.props.onBlur&&r.props.onBlur(e),r.onInputChange("",{action:"input-blur"}),r.onMenuClose(),r.setState({focusedValue:null,isFocused:!1}))},r.onOptionHover=function(e){r.blockOptionHover||r.state.focusedOption===e||r.setState({focusedOption:e})},r.shouldHideSelectedOptions=function(){return hy(r.props)},r.onKeyDown=function(e){var t=r.props,n=t.isMulti,i=t.backspaceRemovesValue,o=t.escapeClearsValue,a=t.inputValue,s=t.isClearable,l=t.isDisabled,c=t.menuIsOpen,u=t.onKeyDown,p=t.tabSelectsValue,d=t.openMenuOnFocus,h=r.state,f=h.focusedOption,m=h.focusedValue,g=h.selectValue;if(!(l||"function"==typeof u&&(u(e),e.defaultPrevented))){switch(r.blockOptionHover=!0,e.key){case"ArrowLeft":if(!n||a)return;r.focusValue("previous");break;case"ArrowRight":if(!n||a)return;r.focusValue("next");break;case"Delete":case"Backspace":if(a)return;if(m)r.removeValue(m);else{if(!i)return;n?r.popValue():s&&r.clearValue()}break;case"Tab":if(r.isComposing||e.shiftKey||!c||!p||!f||d&&r.isOptionSelected(f,g))return;r.selectOption(f);break;case"Enter":if(229===e.keyCode)break;if(c){if(!f||r.isComposing)return;r.selectOption(f);break}return;case"Escape":c?(r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange("",{action:"menu-close"}),r.onMenuClose()):s&&o&&r.clearValue();break;case" ":if(a)return;if(!c){r.openMenu("first");break}if(!f)return;r.selectOption(f);break;case"ArrowUp":c?r.focusOption("up"):r.openMenu("last");break;case"ArrowDown":c?r.focusOption("down"):r.openMenu("first");break;case"PageUp":if(!c)return;r.focusOption("pageup");break;case"PageDown":if(!c)return;r.focusOption("pagedown");break;case"Home":if(!c)return;r.focusOption("first");break;case"End":if(!c)return;r.focusOption("last");break;default:return}e.preventDefault()}},r.instancePrefix="react-select-"+(r.props.instanceId||++fy),r.state.selectValue=jm(e.value),r}return Sm(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,r=t.menuIsOpen,i=this.state.isFocused;(i&&!n&&e.isDisabled||i&&r&&!e.menuIsOpen)&&this.focusInput(),i&&n&&!e.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&($m(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){!this.inputRef||this.inputRef.focus()}},{key:"blurInput",value:function(){!this.inputRef||this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,r=n.selectValue,i=n.isFocused,o=this.buildFocusableOptions(),a="first"===e?0:o.length-1;if(!this.props.isMulti){var s=o.indexOf(r[0]);s>-1&&(a=s)}this.scrollToFocusedOptionOnUpdate=!(i&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:o[a]},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,r=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var i=n.indexOf(r);r||(i=-1);var o=n.length-1,a=-1;if(n.length){switch(e){case"previous":a=0===i?0:-1===i?o:i-1;break;case"next":i>-1&&i<o&&(a=i+1)}this.setState({inputIsHidden:-1!==a,focusedValue:n[a]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,r=this.getFocusableOptions();if(r.length){var i=0,o=r.indexOf(n);n||(o=-1),"up"===e?i=o>0?o-1:r.length-1:"down"===e?i=(o+1)%r.length:"pageup"===e?(i=o-t)<0&&(i=0):"pagedown"===e?(i=o+t)>r.length-1&&(i=r.length-1):"last"===e&&(i=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[i],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(Qv):Om(Om({},Qv),this.props.theme):Qv}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,r=this.getValue,i=this.selectOption,o=this.setValue,a=this.props,s=a.isMulti,l=a.isRtl,c=a.options;return{clearValue:e,cx:t,getStyles:n,getValue:r,hasValue:this.hasValue(),isMulti:s,isRtl:l,options:c,selectOption:i,selectProps:a,setValue:o,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return uy(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return py(this.props,e,t)}},{key:"filterOption",value:function(e,t){return dy(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"==typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,r=e.inputId,i=e.inputValue,o=e.tabIndex,a=e.form,s=this.getComponents().Input,l=this.state.inputIsHidden,c=this.commonProps,u=r||this.getElementId("input"),p={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};return n?ct.createElement(s,Pd({},c,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:u,innerRef:this.getInputRef,isDisabled:t,isHidden:l,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:o,form:a,type:"text",value:i},p)):ct.createElement(Mv,Pd({id:u,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Rm,onFocus:this.onInputFocus,readOnly:!0,disabled:t,tabIndex:o,form:a,value:""},p))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),n=t.MultiValue,r=t.MultiValueContainer,i=t.MultiValueLabel,o=t.MultiValueRemove,a=t.SingleValue,s=t.Placeholder,l=this.commonProps,c=this.props,u=c.controlShouldRenderValue,p=c.isDisabled,d=c.isMulti,h=c.inputValue,f=c.placeholder,m=this.state,g=m.selectValue,v=m.focusedValue,y=m.isFocused;if(!this.hasValue()||!u)return h?null:ct.createElement(s,Pd({},l,{key:"placeholder",isDisabled:p,isFocused:y}),f);if(d)return g.map((function(t,a){var s=t===v;return ct.createElement(n,Pd({},l,{components:{Container:r,Label:i,Remove:o},isFocused:s,isDisabled:p,key:"".concat(e.getOptionValue(t)).concat(a),index:a,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}},data:t}),e.formatOptionLabel(t,"value"))}));if(h)return null;var b=g[0];return ct.createElement(a,Pd({},l,{data:b,isDisabled:p}),this.formatOptionLabel(b,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,i=n.isLoading,o=this.state.isFocused;if(!this.isClearable()||!e||r||!this.hasValue()||i)return null;var a={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return ct.createElement(e,Pd({},t,{innerProps:a,isFocused:o}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,i=n.isLoading,o=this.state.isFocused;if(!e||!i)return null;var a={"aria-hidden":"true"};return ct.createElement(e,Pd({},t,{innerProps:a,isDisabled:r,isFocused:o}))}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var r=this.commonProps,i=this.props.isDisabled,o=this.state.isFocused;return ct.createElement(n,Pd({},r,{isDisabled:i,isFocused:o}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,r=this.state.isFocused,i={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return ct.createElement(e,Pd({},t,{innerProps:i,isDisabled:n,isFocused:r}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),n=t.Group,r=t.GroupHeading,i=t.Menu,o=t.MenuList,a=t.MenuPortal,s=t.LoadingMessage,l=t.NoOptionsMessage,c=t.Option,u=this.commonProps,p=this.state.focusedOption,d=this.props,h=d.captureMenuScroll,f=d.inputValue,m=d.isLoading,g=d.loadingMessage,v=d.minMenuHeight,y=d.maxMenuHeight,b=d.menuIsOpen,w=d.menuPlacement,x=d.menuPosition,k=d.menuPortalTarget,S=d.menuShouldBlockScroll,C=d.menuShouldScrollIntoView,E=d.noOptionsMessage,T=d.onMenuScrollToTop,_=d.onMenuScrollToBottom;if(!b)return null;var A,O=function(t,n){var r=t.type,i=t.data,o=t.isDisabled,a=t.isSelected,s=t.label,l=t.value,d=p===i,h=o?void 0:function(){return e.onOptionHover(i)},f=o?void 0:function(){return e.selectOption(i)},m="".concat(e.getElementId("option"),"-").concat(n),g={id:m,onClick:f,onMouseMove:h,onMouseOver:h,tabIndex:-1};return ct.createElement(c,Pd({},u,{innerProps:g,data:i,isDisabled:o,isSelected:a,key:m,label:s,type:r,value:l,isFocused:d,innerRef:d?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())A=this.getCategorizedOptions().map((function(t){if("group"===t.type){var i=t.data,o=t.options,a=t.index,s="".concat(e.getElementId("group"),"-").concat(a),l="".concat(s,"-heading");return ct.createElement(n,Pd({},u,{key:s,data:i,options:o,Heading:r,headingProps:{id:l,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return O(e,"".concat(a,"-").concat(e.index))})))}if("option"===t.type)return O(t,"".concat(t.index))}));else if(m){var N=g({inputValue:f});if(null===N)return null;A=ct.createElement(s,u,N)}else{var M=E({inputValue:f});if(null===M)return null;A=ct.createElement(l,u,M)}var P={minMenuHeight:v,maxMenuHeight:y,menuPlacement:w,menuPosition:x,menuShouldScrollIntoView:C},D=ct.createElement(og,Pd({},u,P),(function(t){var n=t.ref,r=t.placerProps,a=r.placement,s=r.maxHeight;return ct.createElement(i,Pd({},u,P,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:m,placement:a}),ct.createElement($v,{captureEnabled:h,onTopArrive:T,onBottomArrive:_,lockEnabled:S},(function(t){return ct.createElement(o,Pd({},u,{innerRef:function(n){e.getMenuListRef(n),t(n)},isLoading:m,maxHeight:s,focusedOption:p}),A)})))}));return k||"fixed"===x?ct.createElement(a,Pd({},u,{appendTo:k,controlElement:this.controlRef,menuPlacement:w,menuPosition:x}),D):D}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,r=t.isDisabled,i=t.isMulti,o=t.name,a=this.state.selectValue;if(o&&!r){if(i){if(n){var s=a.map((function(t){return e.getOptionValue(t)})).join(n);return ct.createElement("input",{name:o,type:"hidden",value:s})}var l=a.length>0?a.map((function(t,n){return ct.createElement("input",{key:"i-".concat(n),name:o,type:"hidden",value:e.getOptionValue(t)})})):ct.createElement("input",{name:o,type:"hidden"});return ct.createElement("div",null,l)}var c=a[0]?this.getOptionValue(a[0]):"";return ct.createElement("input",{name:o,type:"hidden",value:c})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,n=t.ariaSelection,r=t.focusedOption,i=t.focusedValue,o=t.isFocused,a=t.selectValue,s=this.getFocusableOptions();return ct.createElement(bv,Pd({},e,{ariaSelection:n,focusedOption:r,focusedValue:i,isFocused:o,selectValue:a,focusableOptions:s}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,n=e.IndicatorsContainer,r=e.SelectContainer,i=e.ValueContainer,o=this.props,a=o.className,s=o.id,l=o.isDisabled,c=o.menuIsOpen,u=this.state.isFocused,p=this.commonProps=this.getCommonProps();return ct.createElement(r,Pd({},p,{className:a,innerProps:{id:s,onKeyDown:this.onKeyDown},isDisabled:l,isFocused:u}),this.renderLiveRegion(),ct.createElement(t,Pd({},p,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:l,isFocused:u,menuIsOpen:c}),ct.createElement(i,Pd({},p,{isDisabled:l}),this.renderPlaceholderOrValue(),this.renderInput()),ct.createElement(n,Pd({},p,{isDisabled:l}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t.clearFocusValueOnUpdate,i=t.inputIsHiddenAfterUpdate,o=e.options,a=e.value,s=e.menuIsOpen,l=e.inputValue,c={};if(n&&(a!==n.value||o!==n.options||s!==n.menuIsOpen||l!==n.inputValue)){var u=jm(a),p=s?iy(e,u):[],d=r?ay(t,u):null;c={selectValue:u,focusedOption:sy(t,p),focusedValue:d,clearFocusValueOnUpdate:!1}}var h=null!=i&&e!==n?{inputIsHidden:i,inputIsHiddenAfterUpdate:void 0}:{};return Om(Om(Om({},c),h),{},{prevProps:e})}}]),n}(x);my.defaultProps=ey;var gy={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},vy=function(e){var t,n;return n=t=function(t){Em(r,t);var n=Lm(r);function r(){var e;xm(this,r);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).select=void 0,e.state={inputValue:void 0!==e.props.inputValue?e.props.inputValue:e.props.defaultInputValue,menuIsOpen:void 0!==e.props.menuIsOpen?e.props.menuIsOpen:e.props.defaultMenuIsOpen,value:void 0!==e.props.value?e.props.value:e.props.defaultValue},e.onChange=function(t,n){e.callProp("onChange",t,n),e.setState({value:t})},e.onInputChange=function(t,n){var r=e.callProp("onInputChange",t,n);e.setState({inputValue:void 0!==r?r:t})},e.onMenuOpen=function(){e.callProp("onMenuOpen"),e.setState({menuIsOpen:!0})},e.onMenuClose=function(){e.callProp("onMenuClose"),e.setState({menuIsOpen:!1})},e}return Sm(r,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(e){return void 0!==this.props[e]?this.props[e]:this.state[e]}},{key:"callProp",value:function(e){if("function"==typeof this.props[e]){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=this.props)[e].apply(t,r)}}},{key:"render",value:function(){var t=this,n=this.props;n.defaultInputValue,n.defaultMenuIsOpen,n.defaultValue;var r=em(n,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return ct.createElement(e,Pd({},r,{ref:function(e){t.select=e},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),r}(x),t.defaultProps=gy,n},yy=vy(my);const by=[{value:"assessing",label:"Assessing"},{value:"bookmarking",label:"Bookmarking"},{value:"classifying",label:"Classifying"},{value:"commenting",label:"Commenting"},{value:"describing",label:"Describing"},{value:"editing",label:"Editing"},{value:"highlighting",label:"Highlighting"},{value:"identifying",label:"Identifying"},{value:"linking",label:"Linking"},{value:"moderating",label:"Moderating"},{value:"questioning",label:"Questioning"},{value:"replying",label:"Replying"},{value:"supplementing",label:"Transcription"}];var wy=e=>{const t=e.content?by.find((t=>t.value===e.content)):null;return ct.createElement("div",{className:"r6o-purposedropdown"},ct.createElement(yy,{value:t,onChange:e.onChange,options:by,isDisabled:!e.editable}))};const xy=e=>ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 940",width:e.width},ct.createElement("metadata",null,"IcoFont Icons"),ct.createElement("title",null,"simple-down"),ct.createElement("glyph",{glyphName:"simple-down",unicode:"",horizAdvX:"1000"}),ct.createElement("path",{fill:"currentColor",d:"M200 392.6l300 300 300-300-85.10000000000002-85.10000000000002-214.89999999999998 214.79999999999995-214.89999999999998-214.89999999999998-85.10000000000002 85.20000000000005z"})),ky=e=>ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"180 150 700 800",width:e.width},ct.createElement("metadata",null,"IcoFont Icons"),ct.createElement("title",null,"close"),ct.createElement("glyph",{glyphName:"close",unicode:"",horizAdvX:"1000"}),ct.createElement("path",{fill:"currentColor",d:"M709.8 206.6c-64.39999999999998 65.50000000000003-128.89999999999998 131.20000000000002-194.19999999999993 197.6-8.600000000000023 8.699999999999989-22.400000000000034 8.800000000000011-31 0-65-66-129.70000000000005-131.8-194.5-197.6-8.600000000000023-8.699999999999989-22.400000000000034-8.599999999999994-30.900000000000034 0.09999999999999432-15.699999999999989 16.200000000000017-31.099999999999994 32.30000000000001-47.099999999999994 48.80000000000001-8.5 8.800000000000011-8.299999999999983 23 0.20000000000001705 31.69999999999999 63.099999999999966 64.19999999999999 127.89999999999998 130.10000000000002 193.59999999999997 197 8.600000000000023 8.699999999999989 8.5 22.80000000000001 0 31.599999999999966-65.19999999999999 66.40000000000009-130.2 132.5-194.7 198.10000000000002-8.5 8.700000000000045-8.5 22.800000000000068 0.20000000000001705 31.399999999999977l47.79999999999998 47.90000000000009c8.600000000000023 8.599999999999909 22.600000000000023 8.599999999999909 31.100000000000023-0.10000000000002274l194.2-197.30000000000007c8.600000000000023-8.699999999999932 22.399999999999977-8.699999999999932 31 0 64.70000000000005 65.80000000000007 129.20000000000005 131.4000000000001 194.20000000000005 197.5 8.599999999999909 8.700000000000045 22.5 8.800000000000068 31 0.10000000000002274 16-16.199999999999932 31.699999999999932-32.19999999999993 47.59999999999991-48.299999999999955 8.600000000000023-8.700000000000045 8.600000000000023-22.899999999999977 0.10000000000002274-31.600000000000023-63.799999999999955-65-128.5-130.89999999999998-194.19999999999993-197.79999999999995-8.600000000000023-8.700000000000045-8.600000000000023-22.900000000000034 0-31.600000000000023 65.19999999999993-66.40000000000003 130.0999999999999-132.5 194.5-198.20000000000005 8.599999999999909-8.699999999999989 8.5-22.799999999999955-0.10000000000002274-31.49999999999997l-47.80000000000007-48.099999999999994c-8.5-8.5-22.399999999999977-8.400000000000006-31 0.29999999999998295z"})),Sy=e=>ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:e.width},ct.createElement("path",{fill:"currentColor",d:"M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z"}));var Cy=e=>{const[t,n]=re(!1),[r,i]=re(!1),o=e=>{n(!0),i(!1)},a=t=>{e.onDelete(e.body),i(!1)},s=t=>e.onUpdate(e.body,{...e.body,value:t.target.value}),l=t=>e.onUpdate(e.body,{...e.body,purpose:t.value}),c=e.body.modified||e.body.created,u=e.body.creator&&ct.createElement("div",{className:"r6o-lastmodified"},ct.createElement("span",{className:"r6o-lastmodified-by"},e.body.creator.name||e.body.creator.id),e.body.created&&ct.createElement("span",{className:"r6o-lastmodified-at"},ct.createElement(Fr,{datetime:e.env.toClientTime(c),locale:hd.locale()})));return e.readOnly?ct.createElement("div",{className:"r6o-widget comment"},ct.createElement("div",{className:"r6o-readonly-comment"},e.body.value),u):ct.createElement("div",{className:t?"r6o-widget comment editable":"r6o-widget comment"},ct.createElement(Md,{editable:t,content:e.body.value,onChange:s,onSaveAndClose:e.onSaveAndClose}),!t&&u,e.purposeSelector&&ct.createElement(wy,{editable:t,content:e.body.purpose,onChange:l,onSaveAndClose:e.onSaveAndClose}),ct.createElement("div",{className:r?"r6o-icon r6o-arrow-down r6o-menu-open":"r6o-icon r6o-arrow-down",onClick:()=>i(!r)},ct.createElement(xy,{width:12})),r&&ct.createElement(fd,{onEdit:o,onDelete:a,onClickOutside:()=>i(!1)}))};const Ey=by.map((e=>e.value)),Ty=(e,t)=>{const n=t?Ey.indexOf(e.purpose)>-1:"commenting"==e.purpose||"replying"==e.purpose;return"TextualBody"===e.type&&(!e.hasOwnProperty("purpose")||n)},_y=(e,t)=>{var n,r;if(!0===t.editable)return!1;if(!1===t.editable)return!0;if("MINE_ONLY"===t.editable){const i=null==(n=e.creator)?void 0:n.id;return(null==(r=t.env.user)?void 0:r.id)!==i}return t.readOnly},Ay=(e,t)=>e||{type:"TextualBody",value:"",purpose:t?"replying":"commenting",draft:!0},Oy=e=>{const t=e.annotation?e.annotation.bodies.filter((t=>Ty(t,e.purposeSelector))):[],n=Ay(t.find((e=>1==e.draft)),t.length>1),r=t.filter((e=>e!=n)),i=t=>{const r=n.value,i=t.target.value;0===r.length&&i.length>0?e.onAppendBody({...n,value:i}):r.length>0&&0===i.length?e.onRemoveBody(n):e.onUpdateBody(n,{...n,value:i})},o=t=>e.onUpdateBody(n,{...n,purpose:t.value});return ct.createElement(ct.Fragment,null,r.map(((t,n)=>ct.createElement(Cy,{key:n,env:e.env,purposeSelector:e.purposeSelector,readOnly:_y(t,e),body:t,onUpdate:e.onUpdateBody,onDelete:e.onRemoveBody,onSaveAndClose:e.onSaveAndClose}))),!e.readOnly&&e.annotation&&ct.createElement("div",{className:"r6o-widget comment editable"},ct.createElement(Md,{focus:e.focus,content:n.value,editable:!0,placeholder:r.length>0?hd.t("Add a reply..."):hd.t("Add a comment..."),onChange:i,onSaveAndClose:()=>e.onSaveAndClose()}),e.purposeSelector&&n.value.length>0&&ct.createElement(wy,{editable:!0,content:n.purpose,onChange:o,onSaveAndClose:()=>e.onSaveAndClose()})))};Oy.disableDelete=(e,t)=>e.bodies.filter((e=>Ty(e,t.purposeSelector))).some((e=>_y(e,t)));var Ny=Oy;function My(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Cm(e,t)}function Py(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}function Dy(e,t){e.classList?e.classList.add(t):Py(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Ly(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Ry(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=Ly(e.className,t):e.setAttribute("class",Ly(e.className&&e.className.baseVal||"",t))}var Iy={disabled:!1},By=ct.createContext(null),jy="unmounted",Fy="exited",zy="entering",Hy="entered",qy="exiting",Vy=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=Fy,r.appearStatus=zy):i=Hy:i=t.unmountOnExit||t.mountOnEnter?jy:Fy,r.state={status:i},r.nextCallback=null,r}My(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===jy?{status:Fy}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==zy&&n!==Hy&&(t=zy):(n===zy||n===Hy)&&(t=qy)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===zy?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===Fy&&this.setState({status:jy})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[ct.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||Iy.disabled?this.safeSetState({status:Hy},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:zy},(function(){t.props.onEntering(o,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:Hy},(function(){t.props.onEntered(o,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:ct.findDOMNode(this);t&&!Iy.disabled?(this.props.onExit(r),this.safeSetState({status:qy},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Fy},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Fy},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:ct.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===jy)return null;var t=this.props,n=t.children;t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef;var r=Qf(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ct.createElement(By.Provider,{value:null},"function"==typeof n?n(e,r):ct.cloneElement(ct.Children.only(n),r))},t}(ct.Component);function Uy(){}Vy.contextType=By,Vy.propTypes={},Vy.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Uy,onEntering:Uy,onEntered:Uy,onExit:Uy,onExiting:Uy,onExited:Uy},Vy.UNMOUNTED=jy,Vy.EXITED=Fy,Vy.ENTERING=zy,Vy.ENTERED=Hy,Vy.EXITING=qy;var Wy=Vy,$y=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return Dy(e,t)}))},Gy=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return Ry(e,t)}))},Xy=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1];t.removeClasses(i,"exit"),t.addClass(i,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.addClass(i,o,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.removeClasses(i,o),t.addClass(i,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,i=r?(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}My(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&e.scrollTop,r&&(this.appliedClasses[t][n]=r,$y(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,o=n.done;this.appliedClasses[t]={},r&&Gy(e,r),i&&Gy(e,i),o&&Gy(e,o)},n.render=function(){var e=this.props;e.classNames;var t=Qf(e,["classNames"]);return ct.createElement(Wy,Pd({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(ct.Component);Xy.defaultProps={classNames:""},Xy.propTypes={};var Yy=Xy;const Zy=(e,t)=>t.filter((t=>(t.label?t.label:t).toLowerCase().startsWith(e.toLowerCase()))),Ky=(e,t)=>t(e);var Jy=e=>{const t=se(),[n,r]=re(e.initialValue||""),[i,o]=re([]),[a,s]=re(null);oe((()=>{e.focus&&t.current.querySelector("input").focus({preventScroll:!0})}),[]),oe((()=>{e.onChange&&e.onChange(n)}),[n]);const l=t=>{if("function"==typeof e.vocabulary){const n=Ky(t,e.vocabulary);n.then?n.then(o):o(n)}else{const n=Zy(t,e.vocabulary);o(n)}},c=()=>{if(null!==a)e.onSubmit(i[a]);else{const t=n.trim();if(t){const n=Array.isArray(e.vocabulary)?e.vocabulary.find((e=>(e.label||e).toLowerCase()===t.toLowerCase())):null;n?e.onSubmit(n):e.onSubmit(t)}}r(""),o([]),s(null)},u=t=>{if(13===t.which)c();else if(27===t.which)e.onCancel&&e.onCancel();else if(i.length>0){if(38===t.which)if(null===a)s(0);else{const e=Math.max(0,a-1);s(e)}else if(40===t.which)if(null===a)s(0);else{const e=Math.min(i.length-1,a+1);s(e)}}else 40===t.which&&Array.isArray(e.vocabulary)&&o(e.vocabulary)},p=e=>{const{value:t}=e.target;r(t),s(null),t?l(t):o([])};return ct.createElement("div",{ref:t,className:"r6o-autocomplete"},ct.createElement("div",null,ct.createElement("input",{onKeyDown:u,onChange:p,value:n,placeholder:e.placeholder})),ct.createElement("ul",null,i.length>0&&i.map(((e,t)=>ct.createElement("li",{key:`${e.label?e.label:e}${t}`,onClick:c,onMouseEnter:()=>s(t),style:a===t?{backgroundColor:"#bde4ff"}:{}},e.label?e.label:e)))))};const Qy=e=>e||{type:"TextualBody",value:"",purpose:"tagging",draft:!0};var eb=e=>{const t=e.annotation?e.annotation.bodies.filter((e=>"tagging"===e.purpose)):[],n=Qy(t.slice().reverse().find((e=>e.draft))),r=t.filter((e=>e!=n)),[i,o]=re(!1),a=e=>t=>{o(i!==e&&e)},s=t=>{const r=n.value.trim(),i=t.trim();0===r.length&&i.length>0?e.onAppendBody({...n,value:i}):r.length>0&&0===i.length?e.onRemoveBody(n):r!==i&&e.onUpdateBody(n,{...n,value:i})},l=t=>n=>{n.stopPropagation(),e.onRemoveBody(t)},c=t=>{const r=t.uri?{type:"SpecificResource",purpose:"tagging",source:{id:t.uri,label:t.label}}:{type:"TextualBody",purpose:"tagging",value:t.label||t};0===n.value.trim().length?e.onAppendBody(r):e.onUpdateBody(n,r)},u=e=>e.value||e.source.label;return ct.createElement("div",{className:"r6o-widget r6o-tag"},r.length>0&&ct.createElement("ul",{className:"r6o-taglist"},r.map((t=>ct.createElement("li",{key:u(t),onClick:a(t)},ct.createElement("span",{className:"r6o-label"},u(t)),!e.readOnly&&ct.createElement(Yy,{in:i===t,timeout:200,classNames:"r6o-delete"},ct.createElement("span",{className:"r6o-delete-wrapper",onClick:l(t)},ct.createElement("span",{className:"r6o-delete"},ct.createElement(ky,{width:12})))))))),!e.readOnly&&ct.createElement(Jy,{focus:e.focus,placeholder:hd.t("Add tag..."),vocabulary:e.vocabulary||[],onChange:s,onSubmit:c}))};class tb extends x{constructor(e){super(e),this.element=ct.createRef()}renderWidget(e){const t=this.props.widget({annotation:e.annotation,readOnly:e.readOnly,...e.config,onAppendBody:(t,n)=>e.onAppendBody(t,n),onUpdateBody:(t,n,r)=>e.onUpdateBody(t,n,r),onUpsertBody:(t,n,r)=>e.onUpsertBody(t,n,r),onRemoveBody:(t,n)=>e.onRemoveBody(t,n),onBatchModify:(t,n)=>e.onBatchModify(t,n),onSetProperty:(t,n)=>e.onSetProperty(t,n),onAddContext:t=>e.onAddContext(t),onSaveAndClose:()=>e.onSaveAndClose()});for(;this.element.current.firstChild;)this.element.current.removeChild(this.element.current.lastChild);this.element.current.appendChild(t)}componentDidMount(){this.renderWidget(this.props)}componentWillReceiveProps(e){this.element.current&&this.props.annotation!==e.annotation&&this.renderWidget(e)}render(){return ct.createElement("div",{ref:this.element,className:"widget"})}}window.React=ct,window.ReactDOM=ct;const nb={COMMENT:Ny,TAG:eb},rb=[ct.createElement(Ny,null),ct.createElement(eb,null)],ib=e=>{const t=e=>"function"==typeof e&&(String(e).match(/return .+\(['|"].+['|"],\s*\{/g)||String(e).match(/return .+preact_compat/)||String(e).match(/return .+\.createElement/g));return"function"==typeof(n=e)&&!(null==(r=n.prototype)||!r.isReactComponent)||t(e);var n,r},ob=e=>{const t=(e,t,n)=>{if("string"==typeof e||e instanceof String)return ct.createElement(nb[e],t);if("react"===(null==n?void 0:n.toLowerCase()))return ct.createElement(e,t);if("plainjs"===(null==n?void 0:n.toLowerCase()))return ct.createElement(tb,{widget:e,config:t});if(ib(e))return ct.createElement(e,t);if("function"==typeof e||e instanceof Function)return ct.createElement(tb,{widget:e,config:t});throw`${e} is not a valid plugin`};if(e.widget){const{widget:n,force:r,...i}=e;return t(n,i,r)}return t(e)},ab=14;var sb=(e,t,n,r)=>{const i=e.getBoundingClientRect();t.className="r6o-editor r6o-arrow-top r6o-arrow-left";const{left:o,top:a,right:s,bottom:l}=n.getBoundingClientRect();if(t.style.top=`${l-i.top+ab}px`,t.style.left=o-i.left+"px",r){const n=t.children[1].getBoundingClientRect(),{innerWidth:r,innerHeight:o}=e.ownerDocument.defaultView;if(n.right>r&&(t.classList.remove("r6o-arrow-left"),t.classList.add("r6o-arrow-right"),t.style.left=s-n.width-i.left+"px"),n.bottom>o){t.classList.remove("r6o-arrow-top"),t.classList.add("r6o-arrow-bottom");const e=t.children[1].getBoundingClientRect().height;t.style.top=a-i.top-e-ab+"px"}const c=t.children[1].getBoundingClientRect();if(c.top<0){t.classList.add("pushed","down"),t.style.top=-i.top+"px";const e=l-i.top;c.height-i.top>e&&t.classList.remove("r6o-arrow-bottom")}c.left<0&&(t.classList.add("pushed","right"),t.style.left=-i.left+"px"),requestAnimationFrame((()=>t.style.opacity=1))}};const lb=e=>{const{top:t,left:n,width:r,height:i}=e.getBoundingClientRect();return`${t}, ${n}, ${r}, ${i}`};class cb extends x{constructor(e){super(e),p(this,"initResizeObserver",(()=>{const e=void 0===this.props.autoPosition||this.props.autoPosition;if(null!=window&&window.ResizeObserver){const t=new ResizeObserver((()=>{this.state.dragged||sb(this.props.wrapperEl,this.element.current,this.props.selectedElement,e)}));return t.observe(this.props.wrapperEl),()=>t.disconnect()}this.state.dragged||sb(this.props.wrapperEl,this.element.current,this.props.selectedElement,e)})),p(this,"creationMeta",(e=>{const t={},{user:n}=this.props.env;return n&&(t.creator={},n.id&&(t.creator.id=n.id),n.displayName&&(t.creator.name=n.displayName),t[e.created?"modified":"created"]=this.props.env.getCurrentTimeAdjusted()),t})),p(this,"getCurrentAnnotation",(()=>this.state.currentAnnotation.clone())),p(this,"hasChanges",(()=>{var e;return!(null!=(e=this.props.annotation)&&e.isEqual(this.state.currentAnnotation))})),p(this,"updateCurrentAnnotation",((e,t)=>{this.setState({currentAnnotation:this.state.currentAnnotation.clone(e)},(()=>{t?this.onOk():this.props.onChanged&&this.props.onChanged()}))})),p(this,"onAppendBody",((e,t)=>this.updateCurrentAnnotation({body:[...this.state.currentAnnotation.bodies,{...e,...this.creationMeta(e)}]},t))),p(this,"onUpdateBody",((e,t,n)=>this.updateCurrentAnnotation({body:this.state.currentAnnotation.bodies.map((n=>n===e?{...t,...this.creationMeta(t)}:n))},n))),p(this,"onRemoveBody",((e,t)=>this.updateCurrentAnnotation({body:this.state.currentAnnotation.bodies.filter((t=>t!==e))},t))),p(this,"onUpsertBody",((e,t,n)=>{if(null==e&&null!=t)this.onAppendBody(t,n);else if(null!=e&&null!=t)this.onUpdateBody(e,t,n);else if(null!=e&&null==t){const t=this.state.currentAnnotation.bodies.find((t=>t.purpose===e.purpose));t?this.onUpdateBody(t,e,n):this.onAppendBody(e,n)}})),p(this,"onBatchModify",((e,t)=>{const n=e.filter((e=>"upsert"===e.action&&e.body)).map((e=>({previous:this.state.currentAnnotation.bodies.find((t=>t.purpose===e.body.purpose)),updated:{...e.body,...this.creationMeta(e.body)}}))),r=e.filter((e=>"remove"===e.action)).map((e=>e.body)),i=[...e.filter((e=>"append"===e.action||"upsert"===e.action&&e.updated&&!e.previous)).map((e=>({...e.body,...this.creationMeta(e.body)}))),...n.filter((e=>!e.previous)).map((e=>e.updated))],o=[...e.filter((e=>"update"===e.action||"upsert"===e.action&&e.updated&&e.previous)).map((e=>({previous:e.previous,updated:{...e.updated,...this.creationMeta(e.updated)}}))),...n.filter((e=>e.previous))],a=[...this.state.currentAnnotation.bodies.filter((e=>!r.includes(e))).map((e=>{const t=o.find((t=>t.previous===e));return t?t.updated:e})),...i];this.updateCurrentAnnotation({body:a},t)})),p(this,"onSetProperty",((e,t)=>{if(["@context","id","type","body","target"].includes(e))throw new Exception(`Cannot set ${e} - not allowed`);if(t)this.updateCurrentAnnotation({[e]:t});else{const t=this.currentAnnotation.clone();delete t[e],this.setState({currentAnnotation:t})}})),p(this,"onAddContext",(e=>{const{currentAnnotation:t}=this.state,n=Array.isArray(t.context)?t.context:[t.context];n.indexOf(e)<0&&(n.push(e),this.updateCurrentAnnotation({"@context":n}))})),p(this,"onCancel",(()=>this.props.onCancel(this.props.annotation))),p(this,"onOk",(()=>{const e=e=>e.clone({body:e.bodies.map((({draft:e,...t})=>t))}),{currentAnnotation:t}=this.state;0!==t.bodies.length||this.props.allowEmpty?t.isSelection?this.props.onAnnotationCreated(e(t).toAnnotation()):this.props.onAnnotationUpdated(e(t),this.props.annotation):t.isSelection?this.onCancel():this.props.onAnnotationDeleted(this.props.annotation)})),p(this,"onDelete",(()=>this.props.onAnnotationDeleted(this.props.annotation))),this.element=ct.createRef(),this.state={currentAnnotation:e.annotation,dragged:!1,selectionBounds:lb(e.selectedElement)}}componentWillReceiveProps(e){var t;const{selectionBounds:n}=this.state,r=lb(e.selectedElement);null!=(t=this.props.annotation)&&t.isEqual(e.annotation)?this.setState({selectionBounds:r}):this.setState({currentAnnotation:e.annotation,selectionBounds:r}),this.props.modifiedTarget!=e.modifiedTarget&&this.state.currentAnnotation&&this.updateCurrentAnnotation({target:this.props.modifiedTarget}),n!=r&&this.element.current&&(this.removeObserver&&this.removeObserver(),this.removeObserver=this.initResizeObserver())}componentDidMount(){this.removeObserver=this.initResizeObserver(),new MutationObserver((()=>{this.element.current&&(this.removeObserver&&this.removeObserver(),this.removeObserver=this.initResizeObserver())})).observe(this.element.current,{childList:!0,subtree:!0})}componentWillUnmount(){this.removeObserver&&this.removeObserver()}render(){const{currentAnnotation:e}=this.state,t=this.props.widgets?this.props.widgets.map(ob):rb,n=t=>!!t.type.disableDelete&&t.type.disableDelete(e,{...t.props,readOnly:this.props.readOnly,env:this.props.env}),r=e&&(e.bodies.length>0||this.props.allowEmpty)&&!this.props.readOnly&&!e.isSelection&&!t.some(n);return ct.createElement(pr,{disabled:!this.props.detachable,handle:".r6o-draggable",cancel:".r6o-btn, .r6o-btn *",onDrag:()=>this.setState({dragged:!0})},ct.createElement("div",{ref:this.element,className:this.state.dragged?"r6o-editor dragged":"r6o-editor"},ct.createElement("div",{className:"r6o-arrow"}),ct.createElement("div",{className:"r6o-editor-inner"},t.map(((t,n)=>ct.cloneElement(t,{key:`${n}`,focus:0===n,annotation:e,readOnly:this.props.readOnly,env:this.props.env,onAppendBody:this.onAppendBody,onUpdateBody:this.onUpdateBody,onRemoveBody:this.onRemoveBody,onUpsertBody:this.onUpsertBody,onBatchModify:this.onBatchModify,onSetProperty:this.onSetProperty,onAddContext:this.onAddContext,onSaveAndClose:this.onOk}))),this.props.readOnly?ct.createElement("div",{className:"r6o-footer"},ct.createElement("button",{className:"r6o-btn",onClick:this.onCancel},hd.t("Close"))):ct.createElement("div",{className:this.props.detachable?"r6o-footer r6o-draggable":"r6o-footer"},r&&ct.createElement("button",{className:"r6o-btn left delete-annotation",title:hd.t("Delete"),onClick:this.onDelete},ct.createElement(Sy,{width:12})),ct.createElement("button",{className:"r6o-btn outline",onClick:this.onCancel},hd.t("Cancel")),ct.createElement("button",{className:"r6o-btn ",onClick:this.onOk},hd.t("Ok"))))))}}var ub,pb=new Uint8Array(16);function db(){if(!ub&&!(ub="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ub(pb)}var hb=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function fb(e){return"string"==typeof e&&hb.test(e)}for(var mb=[],gb=0;gb<256;++gb)mb.push((gb+256).toString(16).substr(1));function vb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(mb[e[t+0]]+mb[e[t+1]]+mb[e[t+2]]+mb[e[t+3]]+"-"+mb[e[t+4]]+mb[e[t+5]]+"-"+mb[e[t+6]]+mb[e[t+7]]+"-"+mb[e[t+8]]+mb[e[t+9]]+"-"+mb[e[t+10]]+mb[e[t+11]]+mb[e[t+12]]+mb[e[t+13]]+mb[e[t+14]]+mb[e[t+15]]).toLowerCase();if(!fb(n))throw TypeError("Stringified UUID is invalid");return n}function yb(e,t,n){var r=(e=e||{}).random||(e.rng||db)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return vb(r)}var bb=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){var a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n};const wb=class{constructor(e,t){p(this,"clone",((e,t)=>new wb({...this.underlying,...e},{...this.opts,...t}))),p(this,"selector",(e=>{const{target:t}=this.underlying;if(t.selector)return(Array.isArray(t.selector)?t.selector:[t.selector]).find((t=>t.type===e))})),this.underlying=e,this.opts=t}isEqual(e){return"Annotation"===(null==e?void 0:e.type)&&(this.underlying===e.underlying||!(!this.underlying.id||!e.underlying.id)&&bb(this.underlying,e.underlying))}get readOnly(){var e;return null==(e=this.opts)?void 0:e.readOnly}get id(){return this.underlying.id}get context(){return this.underlying["@context"]}get type(){return this.underlying.type}get motivation(){return this.underlying.motivation}get body(){return this.underlying.body}get target(){return this.underlying.target}get bodies(){return Array.isArray(this.underlying.body)?this.underlying.body:[this.underlying.body]}set bodies(e){this.underlying.body=e}get targets(){return Array.isArray(this.underlying.target)?this.underlying.target:[this.underlying.target]}get quote(){var e;return null==(e=this.selector("TextQuoteSelector"))?void 0:e.exact}get start(){var e;return null==(e=this.selector("TextPositionSelector"))?void 0:e.start}get end(){var e;return null==(e=this.selector("TextPositionSelector"))?void 0:e.end}};let xb=wb;p(xb,"create",(e=>{const t={"@context":"http://www.w3.org/ns/anno.jsonld",type:"Annotation",id:`#${yb()}`,body:[]};return new wb({...t,...e})}));class kb{constructor(e,t){p(this,"clone",(e=>{const t=new kb;return t.underlying=JSON.parse(JSON.stringify(this.underlying)),e&&(t.underlying={...t.underlying,...e}),t})),p(this,"selector",(e=>{const{target:t}=this.underlying;if(t.selector)return(Array.isArray(t.selector)?t.selector:[t.selector]).find((t=>t.type===e))})),p(this,"toAnnotation",(()=>{const e=Object.assign({},this.underlying,{type:"Annotation",id:`#${yb()}`});return new xb(e)})),this.underlying={"@context":"http://www.w3.org/ns/anno.jsonld",type:"Selection",body:t||[],target:e}}get context(){return this.underlying["@context"]}get type(){return this.underlying.type}get body(){return this.underlying.body}get target(){return this.underlying.target}get targets(){return Array.isArray(this.underlying.target)?this.underlying.target:[this.underlying.target]}isEqual(e){return!!e&&bb(this.underlying,e.underlying)}get bodies(){return Array.isArray(this.underlying.body)?this.underlying.body:[this.underlying.body]}get quote(){var e;return null==(e=this.selector("TextQuoteSelector"))?void 0:e.exact}get isSelection(){return!0}}let Sb=0;var Cb=()=>({setServerTime:e=>{const t=Date.now();Sb=e-t},getCurrentTimeAdjusted:()=>new Date(Date.now()+Sb).toISOString(),toClientTime:e=>Date.parse(e)-Sb});const Eb=(e,t)=>{if(e){const n="auto"===e?window.navigator.userLanguage||window.navigator.language:e,r=n.split("-")[0].toLowerCase(),i=[n,r].find((e=>pd.includes(e)));i||console.warn(`Unsupported locale '${n}'. Falling back to default en.`),hd.init(i,t)}else hd.init(null,t)};var Tb={exports:{}};!function(e){
//! Built on 2021-12-15
//! Git commit: v3.0.0-0-3eded36
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function t(e){return new t.Viewer(e)}var n,r;(function(e){e.version={versionStr:"3.0.0",major:parseInt("3",10),minor:parseInt("0",10),revision:parseInt("0",10)};var n,r={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},i=Object.prototype.toString,o=Object.prototype.hasOwnProperty;e.isFunction=function(t){return"function"===e.type(t)},e.isArray=Array.isArray||function(t){return"array"===e.type(t)},e.isWindow=function(e){return e&&"object"==typeof e&&"setInterval"in e},e.type=function(e){return null==e?String(e):r[i.call(e)]||"object"},e.isPlainObject=function(n){if(!n||"object"!==t.type(n)||n.nodeType||e.isWindow(n)||n.constructor&&!o.call(n,"constructor")&&!o.call(n.constructor.prototype,"isPrototypeOf"))return!1;var r;for(var i in n)r=i;return void 0===r||o.call(n,r)},e.isEmptyObject=function(e){for(var t in e)return!1;return!0},e.freezeObject=function(t){return Object.freeze?e.freezeObject=Object.freeze:e.freezeObject=function(e){return e},e.freezeObject(t)},e.supportsCanvas=(n=document.createElement("canvas"),!(!e.isFunction(n.getContext)||!n.getContext("2d"))),e.isCanvasTainted=function(e){var t=!1;try{e.getContext("2d").getImageData(0,0,1,1)}catch{t=!0}return t},e.supportsAddEventListener=!(!document.documentElement.addEventListener||!document.addEventListener),e.supportsRemoveEventListener=!(!document.documentElement.removeEventListener||!document.removeEventListener),e.supportsEventListenerOptions=function(){var t=0;if(e.supportsAddEventListener)try{var n={get capture(){return t++,!1},get once(){return t++,!1},get passive(){return t++,!1}};window.addEventListener("test",null,n),window.removeEventListener("test",null,n)}catch{t=0}return t>=3}(),e.getCurrentPixelDensityRatio=function(){if(e.supportsCanvas){var t=document.createElement("canvas").getContext("2d"),n=window.devicePixelRatio||1,r=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return Math.max(n,1)/r}return 1},e.pixelDensityRatio=e.getCurrentPixelDensityRatio()})(t),function(e){e.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},l=arguments.length,c=!1,u=1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},u=2),"object"!=typeof s&&!t.isFunction(s)&&(s={}),l===u&&(s=this,--u);u<l;u++)if(null!==(e=arguments[u])||void 0!==e)for(n in e)r=s[n],s!==(i=e[n])&&(c&&i&&(t.isPlainObject(i)||(o=t.isArray(i)))?(o?(o=!1,a=r&&t.isArray(r)?r:[]):a=r&&t.isPlainObject(r)?r:{},s[n]=t.extend(c,a,i)):void 0!==i&&(s[n]=i));return s};var n=function(){if("object"!=typeof navigator)return!1;var e=navigator.userAgent;return"string"==typeof e&&(-1!==e.indexOf("iPhone")||-1!==e.indexOf("iPad")||-1!==e.indexOf("iPod"))};e.extend(e,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:n(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"]},SIGNAL:"----seadragon----",delegate:function(e,t){return function(){var n=arguments;return void 0===n&&(n=[]),t.apply(e,n)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},_viewers:new Map,getViewer:function(t){return e._viewers.get(this.getElement(t))},getElement:function(e){return"string"==typeof e&&(e=document.getElementById(e)),e},getElementPosition:function(t){var n,r,i=new e.Point;for(r=a(t=e.getElement(t),n="fixed"===e.getElementStyle(t).position);r;)i.x+=t.offsetLeft,i.y+=t.offsetTop,n&&(i=i.plus(e.getPageScroll())),r=a(t=r,n="fixed"===e.getElementStyle(t).position);return i},getElementOffset:function(t){var n,r,i=(t=e.getElement(t))&&t.ownerDocument,o={top:0,left:0};return i?(n=i.documentElement,void 0!==t.getBoundingClientRect&&(o=t.getBoundingClientRect()),r=i===i.window?i:9===i.nodeType&&(i.defaultView||i.parentWindow),new e.Point(o.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0),o.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0))):new e.Point},getElementSize:function(t){return t=e.getElement(t),new e.Point(t.clientWidth,t.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(t){return(t=e.getElement(t)).currentStyle}:function(t){return t=e.getElement(t),window.getComputedStyle(t,"")},getCssPropertyWithVendorPrefix:function(t){var n={};return e.getCssPropertyWithVendorPrefix=function(t){if(void 0!==n[t])return n[t];var r=document.createElement("div").style,i=null;if(void 0!==r[t])i=t;else for(var o=["Webkit","Moz","MS","O","webkit","moz","ms","o"],a=e.capitalizeFirstLetter(t),s=0;s<o.length;s++){var l=o[s]+a;if(void 0!==r[l]){i=l;break}}return n[t]=i,i},e.getCssPropertyWithVendorPrefix(t)},capitalizeFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},positiveModulo:function(e,t){var n=e%t;return n<0&&(n+=t),n},pointInElement:function(t,n){t=e.getElement(t);var r=e.getElementOffset(t),i=e.getElementSize(t);return n.x>=r.x&&n.x<r.x+i.x&&n.y<r.y+i.y&&n.y>=r.y},getMousePosition:function(t){if("number"==typeof t.pageX)e.getMousePosition=function(t){var n=new e.Point;return n.x=t.pageX,n.y=t.pageY,n};else{if("number"!=typeof t.clientX)throw new Error("Unknown event mouse position, no known technique.");e.getMousePosition=function(t){var n=new e.Point;return n.x=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n.y=t.clientY+document.body.scrollTop+document.documentElement.scrollTop,n}}return e.getMousePosition(t)},getPageScroll:function(){var t=document.documentElement||{},n=document.body||{};if("number"==typeof window.pageXOffset)e.getPageScroll=function(){return new e.Point(window.pageXOffset,window.pageYOffset)};else if(n.scrollLeft||n.scrollTop)e.getPageScroll=function(){return new e.Point(document.body.scrollLeft,document.body.scrollTop)};else{if(!t.scrollLeft&&!t.scrollTop)return new e.Point(0,0);e.getPageScroll=function(){return new e.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)}}return e.getPageScroll()},setPageScroll:function(t){if(void 0!==window.scrollTo)e.setPageScroll=function(e){window.scrollTo(e.x,e.y)};else{var n=e.getPageScroll();if(n.x===t.x&&n.y===t.y)return;document.body.scrollLeft=t.x,document.body.scrollTop=t.y;var r=e.getPageScroll();if(r.x!==n.x&&r.y!==n.y)return void(e.setPageScroll=function(e){document.body.scrollLeft=e.x,document.body.scrollTop=e.y});if(document.documentElement.scrollLeft=t.x,document.documentElement.scrollTop=t.y,(r=e.getPageScroll()).x!==n.x&&r.y!==n.y)return void(e.setPageScroll=function(e){document.documentElement.scrollLeft=e.x,document.documentElement.scrollTop=e.y});e.setPageScroll=function(e){}}e.setPageScroll(t)},getWindowSize:function(){var t=document.documentElement||{},n=document.body||{};if("number"==typeof window.innerWidth)e.getWindowSize=function(){return new e.Point(window.innerWidth,window.innerHeight)};else if(t.clientWidth||t.clientHeight)e.getWindowSize=function(){return new e.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else{if(!n.clientWidth&&!n.clientHeight)throw new Error("Unknown window size, no known technique.");e.getWindowSize=function(){return new e.Point(document.body.clientWidth,document.body.clientHeight)}}return e.getWindowSize()},makeCenteredNode:function(t){t=e.getElement(t);var n=[e.makeNeutralElement("div"),e.makeNeutralElement("div"),e.makeNeutralElement("div")];return e.extend(n[0].style,{display:"table",height:"100%",width:"100%"}),e.extend(n[1].style,{display:"table-row"}),e.extend(n[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),n[0].appendChild(n[1]),n[1].appendChild(n[2]),n[2].appendChild(t),n[0]},makeNeutralElement:function(e){var t=document.createElement(e),n=t.style;return n.background="transparent none",n.border="none",n.margin="0px",n.padding="0px",n.position="static",t},now:function(){return Date.now?e.now=Date.now:e.now=function(){return(new Date).getTime()},e.now()},makeTransparentImage:function(t){var n=e.makeNeutralElement("img");return n.src=t,n},setElementOpacity:function(t,n,r){var i;t=e.getElement(t),r&&!e.Browser.alpha&&(n=Math.round(n)),e.Browser.opacity?t.style.opacity=n<1?n:"":n<1?(i="alpha(opacity="+Math.round(100*n)+")",t.style.filter=i):t.style.filter=""},setElementTouchActionNone:function(t){void 0!==(t=e.getElement(t)).style.touchAction?t.style.touchAction="none":void 0!==t.style.msTouchAction&&(t.style.msTouchAction="none")},setElementPointerEvents:function(t,n){void 0!==(t=e.getElement(t)).style.pointerEvents&&(t.style.pointerEvents=n)},setElementPointerEventsNone:function(t){e.setElementPointerEvents(t,"none")},addClass:function(t,n){(t=e.getElement(t)).className?-1===(" "+t.className+" ").indexOf(" "+n+" ")&&(t.className+=" "+n):t.className=n},indexOf:function(e,t,n){return Array.prototype.indexOf?this.indexOf=function(e,t,n){return e.indexOf(t,n)}:this.indexOf=function(e,t,n){var r,i,o=n||0;if(!e)throw new TypeError;if(0===(i=e.length)||o>=i)return-1;for(o<0&&(o=i-Math.abs(o)),r=o;r<i;r++)if(e[r]===t)return r;return-1},this.indexOf(e,t,n)},removeClass:function(t,n){var r,i,o=[];for(r=(t=e.getElement(t)).className.split(/\s+/),i=0;i<r.length;i++)r[i]&&r[i]!==n&&o.push(r[i]);t.className=o.join(" ")},normalizeEventListenerOptions:function(t){return void 0!==t?"boolean"==typeof t?e.supportsEventListenerOptions?{capture:t}:t:e.supportsEventListenerOptions?t:void 0!==t.capture&&t.capture:!!e.supportsEventListenerOptions&&{capture:!1}},addEvent:function(){if(e.supportsAddEventListener)return function(t,n,r,i){i=e.normalizeEventListenerOptions(i),(t=e.getElement(t)).addEventListener(n,r,i)};if(document.documentElement.attachEvent&&document.attachEvent)return function(t,n,r){(t=e.getElement(t)).attachEvent("on"+n,r)};throw new Error("No known event model.")}(),removeEvent:function(){if(e.supportsRemoveEventListener)return function(t,n,r,i){i=e.normalizeEventListenerOptions(i),(t=e.getElement(t)).removeEventListener(n,r,i)};if(document.documentElement.detachEvent&&document.detachEvent)return function(t,n,r){(t=e.getElement(t)).detachEvent("on"+n,r)};throw new Error("No known event model.")}(),cancelEvent:function(e){e.preventDefault()},eventIsCanceled:function(e){return e.defaultPrevented},stopEvent:function(e){e.stopPropagation()},createCallback:function(e,t){var n,r=[];for(n=2;n<arguments.length;n++)r.push(arguments[n]);return function(){var n,i=r.concat([]);for(n=0;n<arguments.length;n++)i.push(arguments[n]);return t.apply(e,i)}},getUrlParameter:function(e){return o[e]||null},getUrlProtocol:function(e){var t=e.match(/^([a-z]+:)\/\//i);return null===t?window.location.protocol:t[1].toLowerCase()},createAjaxRequest:function(t){var n;try{new ActiveXObject("Microsoft.XMLHTTP"),n=!0}catch{n=!1}if(n)window.XMLHttpRequest?e.createAjaxRequest=function(e){return e?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:e.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else{if(!window.XMLHttpRequest)throw new Error("Browser doesn't support XMLHttpRequest.");e.createAjaxRequest=function(){return new XMLHttpRequest}}return e.createAjaxRequest(t)},makeAjaxRequest:function(t,n,r){var i,o,a;e.isPlainObject(t)&&(n=t.success,r=t.error,i=t.withCredentials,o=t.headers,a=t.responseType||null,t=t.url);var s=e.getUrlProtocol(t),l=e.createAjaxRequest("file:"===s);if(!e.isFunction(n))throw new Error("makeAjaxRequest requires a success callback");l.onreadystatechange=function(){4===l.readyState&&(l.onreadystatechange=function(){},l.status>=200&&l.status<300||0===l.status&&"http:"!==s&&"https:"!==s?n(l):(e.console.log("AJAX request returned %d: %s",l.status,t),e.isFunction(r)&&r(l)))};try{if(l.open("GET",t,!0),a&&(l.responseType=a),o)for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&l.setRequestHeader(c,o[c]);i&&(l.withCredentials=!0),l.send(null)}catch(t){e.console.log("%s while making AJAX request: %s",t.name,t.message),l.onreadystatechange=function(){},e.isFunction(r)&&r(l,t)}return l},jsonp:function(t){var n,r=t.url,i=document.head||document.getElementsByTagName("head")[0]||document.documentElement,o=t.callbackName||"openseadragon"+e.now(),a=window[o],s="$1"+o+"$2",l=t.param||"callback",c=t.callback;r=r.replace(/(=)\?(&|$)|\?\?/i,s),r+=(/\?/.test(r)?"&":"?")+l+"="+o,window[o]=function(t){if(a)window[o]=a;else try{delete window[o]}catch{}c&&e.isFunction(c)&&c(t)},n=document.createElement("script"),(void 0!==t.async||!1!==t.async)&&(n.async="async"),t.scriptCharset&&(n.charset=t.scriptCharset),n.src=r,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,i&&n.parentNode&&i.removeChild(n),n=void 0)},i.insertBefore(n,i.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(t){if(window.DOMParser)e.parseXml=function(e){return(new DOMParser).parseFromString(e,"text/xml")};else{if(!window.ActiveXObject)throw new Error("Browser doesn't support XML DOM.");e.parseXml=function(e){var t=null;return(t=new ActiveXObject("Microsoft.XMLDOM")).async=!1,t.loadXML(e),t}}return e.parseXml(t)},parseJSON:function(t){return e.parseJSON=window.JSON.parse,e.parseJSON(t)},imageFormatSupported:function(e){return!!i[(e=e||"").toLowerCase()]},setImageFormatsSupported:function(t){e.extend(i,t)}});var r=function(e){};e.console=window.console||{log:r,debug:r,info:r,warn:r,error:r,assert:r},e.Browser={vendor:e.BROWSERS.UNKNOWN,version:0,alpha:!0};var i={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},o={};function a(e,t){return t&&e!==document.body?document.body:e.offsetParent}(function(){var t=navigator.appVersion,n=navigator.userAgent;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&(e.Browser.vendor=e.BROWSERS.IE,e.Browser.version=parseFloat(n.substring(n.indexOf("MSIE")+5,n.indexOf(";",n.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(n.indexOf("Edge")>=0?(e.Browser.vendor=e.BROWSERS.EDGE,e.Browser.version=parseFloat(n.substring(n.indexOf("Edge")+5))):n.indexOf("Edg")>=0?(e.Browser.vendor=e.BROWSERS.CHROMEEDGE,e.Browser.version=parseFloat(n.substring(n.indexOf("Edg")+4))):n.indexOf("Firefox")>=0?(e.Browser.vendor=e.BROWSERS.FIREFOX,e.Browser.version=parseFloat(n.substring(n.indexOf("Firefox")+8))):n.indexOf("Safari")>=0?(e.Browser.vendor=n.indexOf("Chrome")>=0?e.BROWSERS.CHROME:e.BROWSERS.SAFARI,e.Browser.version=parseFloat(n.substring(n.substring(0,n.indexOf("Safari")).lastIndexOf("/")+1,n.indexOf("Safari")))):null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(n)&&(e.Browser.vendor=e.BROWSERS.IE,e.Browser.version=parseFloat(RegExp.$1)));break;case"Opera":e.Browser.vendor=e.BROWSERS.OPERA,e.Browser.version=parseFloat(t)}var r,i,a,s=window.location.search.substring(1).split("&");for(a=0;a<s.length;a++)if((i=(r=s[a]).indexOf("="))>0){var l=r.substring(0,i),c=r.substring(i+1);try{o[l]=decodeURIComponent(c)}catch{e.console.error("Ignoring malformed URL parameter: %s=%s",l,c)}}e.Browser.alpha=!(e.Browser.vendor===e.BROWSERS.CHROME&&e.Browser.version<2),e.Browser.opacity=!0,e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<11&&e.console.error("Internet Explorer versions < 11 are not supported by OpenSeadragon")})(),function(t){var n=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame,r=t.cancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelAnimationFrame||t.msCancelAnimationFrame;if(n&&r)e.requestAnimationFrame=function(){return n.apply(t,arguments)},e.cancelAnimationFrame=function(){return r.apply(t,arguments)};else{var i,o=[],a=[],s=0;e.requestAnimationFrame=function(t){return o.push([++s,t]),i||(i=setInterval((function(){if(o.length){var t=e.now(),n=a;for(a=o,o=n;a.length;)a.shift()[1](t)}else clearInterval(i),i=void 0}),20)),s},e.cancelAnimationFrame=function(e){var t,n;for(t=0,n=o.length;t<n;t+=1)if(o[t][0]===e)return void o.splice(t,1);for(t=0,n=a.length;t<n;t+=1)if(a[t][0]===e)return void a.splice(t,1)}}}(window)}(t),n=pt,r=function(){return t},e.exports?e.exports=r():n.OpenSeadragon=r(),function(e){var t={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.fullscreenElement},t.requestFullScreen=function(e){return e.requestFullscreen()},t.exitFullScreen=function(){document.exitFullscreen()},t.fullScreenEventName="fullscreenchange",t.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.msFullscreenElement},t.requestFullScreen=function(e){return e.msRequestFullscreen()},t.exitFullScreen=function(){document.msExitFullscreen()},t.fullScreenEventName="MSFullscreenChange",t.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.webkitFullscreenElement},t.requestFullScreen=function(e){return e.webkitRequestFullscreen()},t.exitFullScreen=function(){document.webkitExitFullscreen()},t.fullScreenEventName="webkitfullscreenchange",t.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},t.requestFullScreen=function(e){return e.webkitRequestFullScreen()},t.exitFullScreen=function(){document.webkitCancelFullScreen()},t.fullScreenEventName="webkitfullscreenchange",t.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.mozFullScreenElement},t.requestFullScreen=function(e){return e.mozRequestFullScreen()},t.exitFullScreen=function(){document.mozCancelFullScreen()},t.fullScreenEventName="mozfullscreenchange",t.fullScreenErrorEventName="mozfullscreenerror"),t.isFullScreen=function(){return null!==t.getFullScreenElement()},t.cancelFullScreen=function(){e.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),t.exitFullScreen()},e.extend(e,t)}(t),function(e){e.EventSource=function(){this.events={}},e.EventSource.prototype={addOnceHandler:function(e,t,n,r){var i=this;r=r||1;var o=0,a=function(n){++o===r&&i.removeHandler(e,a),t(n)};this.addHandler(e,a,n)},addHandler:function(t,n,r){var i=this.events[t];i||(this.events[t]=i=[]),n&&e.isFunction(n)&&(i[i.length]={handler:n,userData:r||null})},removeHandler:function(t,n){var r,i=this.events[t],o=[];if(i&&e.isArray(i)){for(r=0;r<i.length;r++)i[r].handler!==n&&o.push(i[r]);this.events[t]=o}},removeAllHandlers:function(e){if(e)this.events[e]=[];else for(var t in this.events)this.events[t]=[]},getHandler:function(e){var t=this.events[e];return t&&t.length?(t=1===t.length?[t[0]]:Array.apply(null,t),function(e,n){var r,i=t.length;for(r=0;r<i;r++)t[r]&&(n.eventSource=e,n.userData=t[r].userData,t[r].handler(n))}):null},raiseEvent:function(e,t){var n=this.getHandler(e);n&&(t||(t={}),n(this,t))}}}(t),function(e){var t={};e.MouseTracker=function(n){var r=arguments;e.isPlainObject(n)||(n={element:r[0],clickTimeThreshold:r[1],clickDistThreshold:r[2]}),this.hash=Math.random(),this.element=e.getElement(n.element),this.clickTimeThreshold=n.clickTimeThreshold||e.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=n.clickDistThreshold||e.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=n.dblClickTimeThreshold||e.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=n.dblClickDistThreshold||e.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=n.userData||null,this.stopDelay=n.stopDelay||50,this.preProcessEventHandler=n.preProcessEventHandler||null,this.contextMenuHandler=n.contextMenuHandler||null,this.enterHandler=n.enterHandler||null,this.leaveHandler=n.leaveHandler||null,this.exitHandler=n.exitHandler||null,this.overHandler=n.overHandler||null,this.outHandler=n.outHandler||null,this.pressHandler=n.pressHandler||null,this.nonPrimaryPressHandler=n.nonPrimaryPressHandler||null,this.releaseHandler=n.releaseHandler||null,this.nonPrimaryReleaseHandler=n.nonPrimaryReleaseHandler||null,this.moveHandler=n.moveHandler||null,this.scrollHandler=n.scrollHandler||null,this.clickHandler=n.clickHandler||null,this.dblClickHandler=n.dblClickHandler||null,this.dragHandler=n.dragHandler||null,this.dragEndHandler=n.dragEndHandler||null,this.pinchHandler=n.pinchHandler||null,this.stopHandler=n.stopHandler||null,this.keyDownHandler=n.keyDownHandler||null,this.keyUpHandler=n.keyUpHandler||null,this.keyHandler=n.keyHandler||null,this.focusHandler=n.focusHandler||null,this.blurHandler=n.blurHandler||null;var i=this;t[this.hash]={click:function(e){k(i,e)},dblclick:function(e){S(i,e)},keydown:function(e){C(i,e)},keyup:function(e){E(i,e)},keypress:function(e){T(i,e)},focus:function(e){_(i,e)},blur:function(e){A(i,e)},contextmenu:function(e){O(i,e)},wheel:function(e){N(i,e)},mousewheel:function(e){M(i,e)},DOMMouseScroll:function(e){M(i,e)},MozMousePixelScroll:function(e){M(i,e)},losecapture:function(e){D(i,e)},mouseenter:function(e){q(i,e)},mouseleave:function(e){V(i,e)},mouseover:function(e){U(i,e)},mouseout:function(e){W(i,e)},mousedown:function(e){$(i,e)},mouseup:function(e){G(i,e)},mousemove:function(e){Z(i,e)},touchstart:function(e){L(i,e)},touchend:function(e){R(i,e)},touchmove:function(e){I(i,e)},touchcancel:function(e){B(i,e)},gesturestart:function(e){j(i,e)},gesturechange:function(e){F(i,e)},gotpointercapture:function(e){z(i,e)},lostpointercapture:function(e){H(i,e)},pointerenter:function(e){q(i,e)},pointerleave:function(e){V(i,e)},pointerover:function(e){U(i,e)},pointerout:function(e){W(i,e)},pointerdown:function(e){$(i,e)},pointerup:function(e){G(i,e)},pointermove:function(e){Z(i,e)},pointercancel:function(e){Q(i,e)},pointerupcaptured:function(e){X(i,e)},pointermovecaptured:function(e){K(i,e)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,e.MouseTracker.havePointerEvents&&e.setElementPointerEvents(this.element,"auto"),this.exitHandler&&e.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),n.startDisabled||this.setTracking(!0)},e.MouseTracker.prototype={destroy:function(){p(this),this.element=null,t[this.hash]=null,delete t[this.hash]},isTracking:function(){return t[this.hash].tracking},setTracking:function(e){return e?u(this):p(this),this},getActivePointersListByType:function(n){var r,i,o=t[this.hash],a=o.activePointersLists.length;for(r=0;r<a;r++)if(o.activePointersLists[r].type===n)return o.activePointersLists[r];return i=new e.MouseTracker.GesturePointList(n),o.activePointersLists.push(i),i},getActivePointerCount:function(){var e,n=t[this.hash],r=n.activePointersLists.length,i=0;for(e=0;e<r;e++)i+=n.activePointersLists[e].getLength();return i},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var n,r,i,o,a,s=function(){try{return window.self!==window.top}catch{return!0}}();function l(e){try{return e.addEventListener&&e.removeEventListener}catch{return!1}}function c(e){var n,r,i,o,a,s=t[e.hash],l=s.activePointersLists.length;for(n=0;n<l;n++)if((i=s.activePointersLists[n]).getLength()>0){for(a=[],o=i.asArray(),r=0;r<o.length;r++)a.push(o[r]);for(r=0;r<a.length;r++)te(e,i,a[r])}for(n=0;n<l;n++)s.activePointersLists.pop();s.sentDragEvent=!1}function u(n){var r,i,o=t[n.hash];if(!o.tracking){for(i=0;i<e.MouseTracker.subscribeEvents.length;i++)r=e.MouseTracker.subscribeEvents[i],e.addEvent(n.element,r,o[r],r===e.MouseTracker.wheelEventName&&{passive:!1,capture:!1});c(n),o.tracking=!0}}function p(n){var r,i,o=t[n.hash];if(o.tracking){for(i=0;i<e.MouseTracker.subscribeEvents.length;i++)r=e.MouseTracker.subscribeEvents[i],e.removeEvent(n.element,r,o[r],!1);c(n),o.tracking=!1}}function d(e,n){var r=t[e.hash];if("pointerevent"===n)return{upName:"pointerup",upHandler:r.pointerupcaptured,moveName:"pointermove",moveHandler:r.pointermovecaptured};if("mouse"===n)return{upName:"pointerup",upHandler:r.pointerupcaptured,moveName:"pointermove",moveHandler:r.pointermovecaptured};if("touch"===n)return{upName:"touchend",upHandler:r.touchendcaptured,moveName:"touchmove",moveHandler:r.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function h(t,n){var r;if(e.MouseTracker.havePointerCapture)if(e.MouseTracker.havePointerEvents)try{t.element.setPointerCapture(n.id)}catch{return void e.console.warn("setPointerCapture() called on invalid pointer ID")}else t.element.setCapture(!0);else r=d(t,e.MouseTracker.havePointerEvents?"pointerevent":n.type),s&&l(window.top)&&e.addEvent(window.top,r.upName,r.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,r.upName,r.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,r.moveName,r.moveHandler,!0);ie(t,n,!0)}function f(t,n){var r,i;if(e.MouseTracker.havePointerCapture)if(e.MouseTracker.havePointerEvents){if(!(i=t.getActivePointersListByType(n.type).getById(n.id))||!i.captured)return;try{t.element.releasePointerCapture(n.id)}catch{}}else t.element.releaseCapture();else r=d(t,e.MouseTracker.havePointerEvents?"pointerevent":n.type),s&&l(window.top)&&e.removeEvent(window.top,r.upName,r.upHandler,!0),e.removeEvent(e.MouseTracker.captureElement,r.moveName,r.moveHandler,!0),e.removeEvent(e.MouseTracker.captureElement,r.upName,r.upHandler,!0);ie(t,n,!1)}function m(t){return e.MouseTracker.havePointerEvents?t.pointerId:e.MouseTracker.mousePointerId}function g(t){return e.MouseTracker.havePointerEvents?t.pointerType||(e.Browser.vendor===e.BROWSERS.IE?"mouse":""):"mouse"}function v(t){return!e.MouseTracker.havePointerEvents||t.isPrimary}function y(t){return e.getMousePosition(t)}function b(e,t){return w(y(e),t)}function w(t,n){var r=e.getElementOffset(n);return t.minus(r)}function x(t,n){return new e.Point((t.x+n.x)/2,(t.y+n.y)/2)}function k(t,n){var r={originalEvent:n,eventType:"click",pointerType:"mouse",isEmulated:!1};re(t,r),r.preventDefault&&!r.defaultPrevented&&e.cancelEvent(n),r.stopPropagation&&e.stopEvent(n)}function S(t,n){var r={originalEvent:n,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};re(t,r),r.preventDefault&&!r.defaultPrevented&&e.cancelEvent(n),r.stopPropagation&&e.stopEvent(n)}function C(t,n){var r=null,i={originalEvent:n,eventType:"keydown",pointerType:"",isEmulated:!1};re(t,i),t.keyDownHandler&&!i.preventGesture&&!i.defaultPrevented&&(r={eventSource:t,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefault:i.preventDefault||i.defaultPrevented,userData:t.userData},t.keyDownHandler(r)),(r&&r.preventDefault||i.preventDefault&&!i.defaultPrevented)&&e.cancelEvent(n),i.stopPropagation&&e.stopEvent(n)}function E(t,n){var r=null,i={originalEvent:n,eventType:"keyup",pointerType:"",isEmulated:!1};re(t,i),t.keyUpHandler&&!i.preventGesture&&!i.defaultPrevented&&(r={eventSource:t,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefault:i.preventDefault||i.defaultPrevented,userData:t.userData},t.keyUpHandler(r)),(r&&r.preventDefault||i.preventDefault&&!i.defaultPrevented)&&e.cancelEvent(n),i.stopPropagation&&e.stopEvent(n)}function T(t,n){var r=null,i={originalEvent:n,eventType:"keypress",pointerType:"",isEmulated:!1};re(t,i),t.keyHandler&&!i.preventGesture&&!i.defaultPrevented&&(r={eventSource:t,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefault:i.preventDefault||i.defaultPrevented,userData:t.userData},t.keyHandler(r)),(r&&r.preventDefault||i.preventDefault&&!i.defaultPrevented)&&e.cancelEvent(n),i.stopPropagation&&e.stopEvent(n)}function _(e,t){var n={originalEvent:t,eventType:"focus",pointerType:"",isEmulated:!1};re(e,n),e.focusHandler&&!n.preventGesture&&e.focusHandler({eventSource:e,originalEvent:t,userData:e.userData})}function A(e,t){var n={originalEvent:t,eventType:"blur",pointerType:"",isEmulated:!1};re(e,n),e.blurHandler&&!n.preventGesture&&e.blurHandler({eventSource:e,originalEvent:t,userData:e.userData})}function O(t,n){var r=null,i={originalEvent:n,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};re(t,i),t.contextMenuHandler&&!i.preventGesture&&!i.defaultPrevented&&(r={eventSource:t,position:w(y(n),t.element),originalEvent:i.originalEvent,preventDefault:i.preventDefault||i.defaultPrevented,userData:t.userData},t.contextMenuHandler(r)),(r&&r.preventDefault||i.preventDefault&&!i.defaultPrevented)&&e.cancelEvent(n),i.stopPropagation&&e.stopEvent(n)}function N(e,t){P(e,t,t)}function M(t,n){var r={target:n.target||n.srcElement,type:"wheel",shiftKey:n.shiftKey||!1,clientX:n.clientX,clientY:n.clientY,pageX:n.pageX?n.pageX:n.clientX,pageY:n.pageY?n.pageY:n.clientY,deltaMode:"MozMousePixelScroll"===n.type?0:1,deltaX:0,deltaZ:0};"mousewheel"===e.MouseTracker.wheelEventName?r.deltaY=-n.wheelDelta/e.DEFAULT_SETTINGS.pixelsPerWheelLine:r.deltaY=n.detail,P(t,r,n)}function P(t,n,r){var i,o=0,a=null;o=n.deltaY<0?1:-1,re(t,i={originalEvent:n,eventType:"wheel",pointerType:"mouse",isEmulated:n!==r}),t.scrollHandler&&!i.preventGesture&&!i.defaultPrevented&&(a={eventSource:t,pointerType:"mouse",position:b(n,t.element),scroll:o,shift:n.shiftKey,isTouchEvent:!1,originalEvent:r,preventDefault:i.preventDefault||i.defaultPrevented,userData:t.userData},t.scrollHandler(a)),i.stopPropagation&&e.stopEvent(r),(a&&a.preventDefault||i.preventDefault&&!i.defaultPrevented)&&e.cancelEvent(r)}function D(t,n){var r={id:e.MouseTracker.mousePointerId,type:"mouse"},i={originalEvent:n,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};re(t,i),n.target===t.element&&ie(t,r,!1),i.stopPropagation&&e.stopEvent(n)}function L(t,n){var r,i,o,a=n.changedTouches.length,s=t.getActivePointersListByType("touch");r=e.now(),s.getLength()>n.touches.length-a&&e.console.warn("Tracked touch contact count doesn't match event.touches.length");var l={originalEvent:n,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(re(t,l),i=0;i<a;i++)oe(t,l,o={id:n.changedTouches[i].identifier,type:"touch",isPrimary:0===s.getLength(),currentPos:y(n.changedTouches[i]),currentTime:r}),ce(t,l,o,0),ie(t,o,!0);l.preventDefault&&!l.defaultPrevented&&e.cancelEvent(n),l.stopPropagation&&e.stopEvent(n)}function R(t,n){var r,i,o,a=n.changedTouches.length;r=e.now();var s={originalEvent:n,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(re(t,s),i=0;i<a;i++)ue(t,s,o={id:n.changedTouches[i].identifier,type:"touch",currentPos:y(n.changedTouches[i]),currentTime:r},0),ie(t,o,!1),ae(t,s,o);s.preventDefault&&!s.defaultPrevented&&e.cancelEvent(n),s.stopPropagation&&e.stopEvent(n)}function I(t,n){var r,i,o=n.changedTouches.length;r=e.now();var a={originalEvent:n,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(re(t,a),i=0;i<o;i++)pe(t,a,{id:n.changedTouches[i].identifier,type:"touch",currentPos:y(n.changedTouches[i]),currentTime:r});a.preventDefault&&!a.defaultPrevented&&e.cancelEvent(n),a.stopPropagation&&e.stopEvent(n)}function B(t,n){var r,i=n.changedTouches.length,o={originalEvent:n,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(re(t,o),r=0;r<i;r++)de(t,o,{id:n.changedTouches[r].identifier,type:"touch"});o.stopPropagation&&e.stopEvent(n)}function j(t,n){return e.eventIsCanceled(n)||n.preventDefault(),!1}function F(t,n){return e.eventIsCanceled(n)||n.preventDefault(),!1}function z(t,n){var r={originalEvent:n,eventType:"gotpointercapture",pointerType:g(n),isEmulated:!1};re(t,r),n.target===t.element&&ie(t,{id:n.pointerId,type:g(n)},!0),r.stopPropagation&&e.stopEvent(n)}function H(t,n){var r={originalEvent:n,eventType:"lostpointercapture",pointerType:g(n),isEmulated:!1};re(t,r),n.target===t.element&&ie(t,{id:n.pointerId,type:g(n)},!1),r.stopPropagation&&e.stopEvent(n)}function q(t,n){var r={id:m(n),type:g(n),isPrimary:v(n),currentPos:y(n),currentTime:e.now()},i={originalEvent:n,eventType:"pointerenter",pointerType:r.type,isEmulated:!1};re(t,i),oe(t,i,r)}function V(t,n){var r={id:m(n),type:g(n),isPrimary:v(n),currentPos:y(n),currentTime:e.now()},i={originalEvent:n,eventType:"pointerleave",pointerType:r.type,isEmulated:!1};re(t,i),ae(t,i,r)}function U(t,n){var r={id:m(n),type:g(n),isPrimary:v(n),currentPos:y(n),currentTime:e.now()},i={originalEvent:n,eventType:"pointerover",pointerType:r.type,isEmulated:!1};re(t,i),se(t,i,r),i.preventDefault&&!i.defaultPrevented&&e.cancelEvent(n),i.stopPropagation&&e.stopEvent(n)}function W(t,n){var r={id:m(n),type:g(n),isPrimary:v(n),currentPos:y(n),currentTime:e.now()},i={originalEvent:n,eventType:"pointerout",pointerType:r.type,isEmulated:!1};re(t,i),le(t,i,r),i.preventDefault&&!i.defaultPrevented&&e.cancelEvent(n),i.stopPropagation&&e.stopEvent(n)}function $(t,n){var r={id:m(n),type:g(n),isPrimary:v(n),currentPos:y(n),currentTime:e.now()},i=e.MouseTracker.havePointerEvents&&"touch"===r.type&&e.Browser.vendor!==e.BROWSERS.IE,o={originalEvent:n,eventType:"pointerdown",pointerType:r.type,isEmulated:!1};re(t,o),ce(t,o,r,n.button),o.preventDefault&&!o.defaultPrevented&&e.cancelEvent(n),o.stopPropagation&&e.stopEvent(n),o.shouldCapture&&(i?ie(t,r,!0):h(t,r))}function G(e,t){Y(e,t)}function X(t,n){t.getActivePointersListByType(g(n)).getById(n.pointerId)&&Y(t,n),e.stopEvent(n)}function Y(t,n){var r,i={originalEvent:n,eventType:"pointerup",pointerType:(r={id:m(n),type:g(n),isPrimary:v(n),currentPos:y(n),currentTime:e.now()}).type,isEmulated:!1};re(t,i),ue(t,i,r,n.button),i.preventDefault&&!i.defaultPrevented&&e.cancelEvent(n),i.stopPropagation&&e.stopEvent(n),i.shouldReleaseCapture&&(n.target===t.element?f(t,r):ie(t,r,!1))}function Z(e,t){J(e,t)}function K(t,n){t.getActivePointersListByType(g(n)).getById(n.pointerId)&&J(t,n),e.stopEvent(n)}function J(t,n){var r={id:m(n),type:g(n),isPrimary:v(n),currentPos:y(n),currentTime:e.now()},i={originalEvent:n,eventType:"pointermove",pointerType:r.type,isEmulated:!1};re(t,i),pe(t,i,r),i.preventDefault&&!i.defaultPrevented&&e.cancelEvent(n),i.stopPropagation&&e.stopEvent(n)}function Q(t,n){var r={id:n.pointerId,type:g(n)},i={originalEvent:n,eventType:"pointercancel",pointerType:r.type,isEmulated:!1};re(t,i),de(t,i,r),i.stopPropagation&&e.stopEvent(n)}function ee(e,t){return t.speed=0,t.direction=0,t.contactPos=t.currentPos,t.contactTime=t.currentTime,t.lastPos=t.currentPos,t.lastTime=t.currentTime,e.add(t)}function te(t,n,r){var i,o=n.getById(r.id);return o?(o.captured&&(e.console.warn("stopTrackingPointer() called on captured pointer"),f(t,o)),("mouse"===n.type||"pen"===n.type)&&n.contacts>0&&n.removeContact(),i=n.removeById(r.id)):i=n.getLength(),i}function ne(e,t){switch(t.eventType){case"pointermove":case"pointerdown":case"pointerup":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!1,t.preventGesture=!e.hasGestureHandlers,t.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!1,t.preventGesture=!1,t.stopPropagation=!1;break;case"wheel":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!1,t.preventGesture=!e.hasScrollHandler,t.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":t.isStoppable=!0,t.isCancelable=!1,t.preventDefault=!1,t.preventGesture=!1,t.stopPropagation=!1;break;case"click":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!!e.clickHandler,t.preventGesture=!1,t.stopPropagation=!1;break;case"dblclick":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!!e.dblClickHandler,t.preventGesture=!1,t.stopPropagation=!1;break;default:t.isStoppable=!1,t.isCancelable=!1,t.preventDefault=!1,t.preventGesture=!1,t.stopPropagation=!1}}function re(t,n){n.eventSource=t,n.eventPhase=n.originalEvent&&void 0!==n.originalEvent.eventPhase?n.originalEvent.eventPhase:0,n.defaultPrevented=e.eventIsCanceled(n.originalEvent),n.shouldCapture=!1,n.shouldReleaseCapture=!1,n.userData=t.userData,ne(t,n),t.preProcessEventHandler&&t.preProcessEventHandler(n)}function ie(t,n,r){var i=t.getActivePointersListByType(n.type),o=i.getById(n.id);o?r&&!o.captured?(o.captured=!0,i.captureCount++):!r&&o.captured&&(o.captured=!1,i.captureCount--,i.captureCount<0&&(i.captureCount=0,e.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):e.console.warn("updatePointerCaptured() called on untracked pointer")}function oe(e,t,n){var r,i=e.getActivePointersListByType(n.type);(r=i.getById(n.id))?(r.insideElement=!0,r.lastPos=r.currentPos,r.lastTime=r.currentTime,r.currentPos=n.currentPos,r.currentTime=n.currentTime,n=r):(n.captured=!1,n.insideElementPressed=!1,n.insideElement=!0,ee(i,n)),e.enterHandler&&e.enterHandler({eventSource:e,pointerType:n.type,position:w(n.currentPos,e.element),buttons:i.buttons,pointers:e.getActivePointerCount(),insideElementPressed:n.insideElementPressed,buttonDownAny:0!==i.buttons,isTouchEvent:"touch"===n.type,originalEvent:t.originalEvent,userData:e.userData})}function ae(e,t,n){var r,i,o=e.getActivePointersListByType(n.type);(r=o.getById(n.id))?(r.captured?(r.insideElement=!1,r.lastPos=r.currentPos,r.lastTime=r.currentTime,r.currentPos=n.currentPos,r.currentTime=n.currentTime):te(e,o,r),n=r):(n.captured=!1,n.insideElementPressed=!1),(e.leaveHandler||e.exitHandler)&&(i={eventSource:e,pointerType:n.type,position:n.currentPos&&w(n.currentPos,e.element),buttons:o.buttons,pointers:e.getActivePointerCount(),insideElementPressed:n.insideElementPressed,buttonDownAny:0!==o.buttons,isTouchEvent:"touch"===n.type,originalEvent:t.originalEvent,userData:e.userData},e.leaveHandler&&e.leaveHandler(i),e.exitHandler&&e.exitHandler(i))}function se(e,t,n){var r,i;(i=(r=e.getActivePointersListByType(n.type)).getById(n.id))?n=i:(n.captured=!1,n.insideElementPressed=!1),e.overHandler&&e.overHandler({eventSource:e,pointerType:n.type,position:w(n.currentPos,e.element),buttons:r.buttons,pointers:e.getActivePointerCount(),insideElementPressed:n.insideElementPressed,buttonDownAny:0!==r.buttons,isTouchEvent:"touch"===n.type,originalEvent:t.originalEvent,userData:e.userData})}function le(e,t,n){var r,i;(i=(r=e.getActivePointersListByType(n.type)).getById(n.id))?n=i:(n.captured=!1,n.insideElementPressed=!1),e.outHandler&&e.outHandler({eventSource:e,pointerType:n.type,position:n.currentPos&&w(n.currentPos,e.element),buttons:r.buttons,pointers:e.getActivePointerCount(),insideElementPressed:n.insideElementPressed,buttonDownAny:0!==r.buttons,isTouchEvent:"touch"===n.type,originalEvent:t.originalEvent,userData:e.userData})}function ce(n,r,i,o){var a,s=t[n.hash],l=n.getActivePointersListByType(i.type);return void 0!==r.originalEvent.buttons?l.buttons=r.originalEvent.buttons:0===o?l.buttons|=1:1===o?l.buttons|=4:2===o?l.buttons|=2:3===o?l.buttons|=8:4===o?l.buttons|=16:5===o&&(l.buttons|=32),0!==o?(r.shouldCapture=!1,r.shouldReleaseCapture=!1,void(n.nonPrimaryPressHandler&&!r.preventGesture&&!r.defaultPrevented&&(r.preventDefault=!0,n.nonPrimaryPressHandler({eventSource:n,pointerType:i.type,position:w(i.currentPos,n.element),button:o,buttons:l.buttons,isTouchEvent:"touch"===i.type,originalEvent:r.originalEvent,userData:n.userData})))):(a=l.getById(i.id))?(a.insideElementPressed=!0,a.insideElement=!0,a.originalTarget=r.originalEvent.target,a.contactPos=i.currentPos,a.contactTime=i.currentTime,a.lastPos=a.currentPos,a.lastTime=a.currentTime,a.currentPos=i.currentPos,a.currentTime=i.currentTime,i=a,l.addContact(),void(r.preventGesture||r.defaultPrevented?(r.shouldCapture=!1,r.shouldReleaseCapture=!1):(r.shouldCapture=!0,r.shouldReleaseCapture=!1,r.preventDefault=!0,(n.dragHandler||n.dragEndHandler||n.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.addPoint(n,i),1===l.contacts?n.pressHandler&&!r.preventGesture&&n.pressHandler({eventSource:n,pointerType:i.type,position:w(i.contactPos,n.element),buttons:l.buttons,isTouchEvent:"touch"===i.type,originalEvent:r.originalEvent,userData:n.userData}):2===l.contacts&&n.pinchHandler&&"touch"===i.type&&(s.pinchGPoints=l.asArray(),s.lastPinchDist=s.currentPinchDist=s.pinchGPoints[0].currentPos.distanceTo(s.pinchGPoints[1].currentPos),s.lastPinchCenter=s.currentPinchCenter=x(s.pinchGPoints[0].currentPos,s.pinchGPoints[1].currentPos))))):(e.console.warn("pointerdown event on untracked pointer"),i.captured=!1,i.insideElementPressed=!0,i.insideElement=!0,i.originalTarget=r.originalEvent.target,void ee(l,i))}function ue(n,r,i,o){var a,s,l,c,u=t[n.hash],p=n.getActivePointersListByType(i.type),d=!1;if(void 0!==r.originalEvent.buttons?p.buttons=r.originalEvent.buttons:0===o?p.buttons^=-2:1===o?p.buttons^=-5:2===o?p.buttons^=-3:3===o?p.buttons^=-9:4===o?p.buttons^=-17:5===o&&(p.buttons^=-33),r.shouldCapture=!1,0!==o)return r.shouldReleaseCapture=!1,void(n.nonPrimaryReleaseHandler&&!r.preventGesture&&!r.defaultPrevented&&(r.preventDefault=!0,n.nonPrimaryReleaseHandler({eventSource:n,pointerType:i.type,position:w(i.currentPos,n.element),button:o,buttons:p.buttons,isTouchEvent:"touch"===i.type,originalEvent:r.originalEvent,userData:n.userData})));(l=p.getById(i.id))?(p.removeContact(),l.captured&&(d=!0),l.lastPos=l.currentPos,l.lastTime=l.currentTime,l.currentPos=i.currentPos,l.currentTime=i.currentTime,l.insideElement||te(n,p,l),a=l.currentPos,s=l.currentTime):(e.console.warn("updatePointerUp(): pointerup on untracked gPoint"),i.captured=!1,i.insideElementPressed=!1,i.insideElement=!0,ee(p,i),l=i),!r.preventGesture&&!r.defaultPrevented&&(d?(r.shouldReleaseCapture=!0,r.preventDefault=!0,(n.dragHandler||n.dragEndHandler||n.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.removePoint(n,l),0===p.contacts?(n.releaseHandler&&n.releaseHandler({eventSource:n,pointerType:l.type,position:w(a,n.element),buttons:p.buttons,insideElementPressed:l.insideElementPressed,insideElementReleased:l.insideElement,isTouchEvent:"touch"===l.type,originalEvent:r.originalEvent,userData:n.userData}),n.dragEndHandler&&u.sentDragEvent&&n.dragEndHandler({eventSource:n,pointerType:l.type,position:w(l.currentPos,n.element),speed:l.speed,direction:l.direction,shift:r.originalEvent.shiftKey,isTouchEvent:"touch"===l.type,originalEvent:r.originalEvent,userData:n.userData}),u.sentDragEvent=!1,(n.clickHandler||n.dblClickHandler)&&l.insideElement&&(c=s-l.contactTime<=n.clickTimeThreshold&&l.contactPos.distanceTo(a)<=n.clickDistThreshold,n.clickHandler&&n.clickHandler({eventSource:n,pointerType:l.type,position:w(l.currentPos,n.element),quick:c,shift:r.originalEvent.shiftKey,isTouchEvent:"touch"===l.type,originalEvent:r.originalEvent,originalTarget:l.originalTarget,userData:n.userData}),n.dblClickHandler&&c&&(p.clicks++,1===p.clicks?(u.lastClickPos=a,u.dblClickTimeOut=setTimeout((function(){p.clicks=0}),n.dblClickTimeThreshold)):2===p.clicks&&(clearTimeout(u.dblClickTimeOut),p.clicks=0,u.lastClickPos.distanceTo(a)<=n.dblClickDistThreshold&&n.dblClickHandler({eventSource:n,pointerType:l.type,position:w(l.currentPos,n.element),shift:r.originalEvent.shiftKey,isTouchEvent:"touch"===l.type,originalEvent:r.originalEvent,userData:n.userData}),u.lastClickPos=null)))):2===p.contacts&&n.pinchHandler&&"touch"===l.type&&(u.pinchGPoints=p.asArray(),u.lastPinchDist=u.currentPinchDist=u.pinchGPoints[0].currentPos.distanceTo(u.pinchGPoints[1].currentPos),u.lastPinchCenter=u.currentPinchCenter=x(u.pinchGPoints[0].currentPos,u.pinchGPoints[1].currentPos))):(r.shouldReleaseCapture=!1,n.releaseHandler&&(n.releaseHandler({eventSource:n,pointerType:l.type,position:w(a,n.element),buttons:p.buttons,insideElementPressed:l.insideElementPressed,insideElementReleased:l.insideElement,isTouchEvent:"touch"===l.type,originalEvent:r.originalEvent,userData:n.userData}),r.preventDefault=!0)))}function pe(e,n,r){var i,o,a,s=t[e.hash],l=e.getActivePointersListByType(r.type);void 0!==n.originalEvent.buttons&&(l.buttons=n.originalEvent.buttons),(i=l.getById(r.id))&&(i.lastPos=i.currentPos,i.lastTime=i.currentTime,i.currentPos=r.currentPos,i.currentTime=r.currentTime,n.shouldCapture=!1,n.shouldReleaseCapture=!1,e.stopHandler&&"mouse"===r.type&&(clearTimeout(e.stopTimeOut),e.stopTimeOut=setTimeout((function(){he(e,n.originalEvent,r.type)}),e.stopDelay)),0===l.contacts?e.moveHandler&&e.moveHandler({eventSource:e,pointerType:r.type,position:w(r.currentPos,e.element),buttons:l.buttons,isTouchEvent:"touch"===r.type,originalEvent:n.originalEvent,userData:e.userData}):1===l.contacts?(e.moveHandler&&(i=l.asArray()[0],e.moveHandler({eventSource:e,pointerType:i.type,position:w(i.currentPos,e.element),buttons:l.buttons,isTouchEvent:"touch"===i.type,originalEvent:n.originalEvent,userData:e.userData})),e.dragHandler&&!n.preventGesture&&!n.defaultPrevented&&(a=(i=l.asArray()[0]).currentPos.minus(i.lastPos),e.dragHandler({eventSource:e,pointerType:i.type,position:w(i.currentPos,e.element),buttons:l.buttons,delta:a,speed:i.speed,direction:i.direction,shift:n.originalEvent.shiftKey,isTouchEvent:"touch"===i.type,originalEvent:n.originalEvent,userData:e.userData}),n.preventDefault=!0,s.sentDragEvent=!0)):2===l.contacts&&(e.moveHandler&&(o=l.asArray(),e.moveHandler({eventSource:e,pointerType:o[0].type,position:w(x(o[0].currentPos,o[1].currentPos),e.element),buttons:l.buttons,isTouchEvent:"touch"===o[0].type,originalEvent:n.originalEvent,userData:e.userData})),e.pinchHandler&&"touch"===r.type&&!n.preventGesture&&!n.defaultPrevented&&(a=s.pinchGPoints[0].currentPos.distanceTo(s.pinchGPoints[1].currentPos))!==s.currentPinchDist&&(s.lastPinchDist=s.currentPinchDist,s.currentPinchDist=a,s.lastPinchCenter=s.currentPinchCenter,s.currentPinchCenter=x(s.pinchGPoints[0].currentPos,s.pinchGPoints[1].currentPos),e.pinchHandler({eventSource:e,pointerType:"touch",gesturePoints:s.pinchGPoints,lastCenter:w(s.lastPinchCenter,e.element),center:w(s.currentPinchCenter,e.element),lastDistance:s.lastPinchDist,distance:s.currentPinchDist,shift:n.originalEvent.shiftKey,originalEvent:n.originalEvent,userData:e.userData}),n.preventDefault=!0)))}function de(e,t,n){var r,i=e.getActivePointersListByType(n.type);(r=i.getById(n.id))&&te(e,i,r)}function he(e,t,n){e.stopHandler&&e.stopHandler({eventSource:e,pointerType:n,position:b(t,e.element),buttons:e.getActivePointersListByType(n).buttons,isTouchEvent:"touch"===n,originalEvent:t,userData:e.userData})}e.MouseTracker.gesturePointVelocityTracker=(n=[],r=0,i=0,o=function(e,t){return e.hash.toString()+t.type+t.id.toString()},a=function(){var t,r,o,a,s,l,c=n.length,u=e.now();for(a=u-i,i=u,t=0;t<c;t++)(o=(r=n[t]).gPoint).direction=Math.atan2(o.currentPos.y-r.lastPos.y,o.currentPos.x-r.lastPos.x),s=r.lastPos.distanceTo(o.currentPos),r.lastPos=o.currentPos,l=1e3*s/(a+1),o.speed=.75*l+.25*o.speed},{addPoint:function(t,s){var l=o(t,s);n.push({guid:l,gPoint:s,lastPos:s.currentPos}),1===n.length&&(i=e.now(),r=window.setInterval(a,50))},removePoint:function(e,t){var i,a=o(e,t),s=n.length;for(i=0;i<s;i++)if(n[i].guid===a){n.splice(i,1),0==--s&&window.clearInterval(r);break}}}),e.MouseTracker.captureElement=document,e.MouseTracker.wheelEventName=e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",e.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",e.MouseTracker.wheelEventName],"DOMMouseScroll"===e.MouseTracker.wheelEventName&&e.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(e.MouseTracker.havePointerEvents=!0,e.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),e.MouseTracker.havePointerCapture=function(){var t=document.createElement("div");return e.isFunction(t.setPointerCapture)&&e.isFunction(t.releasePointerCapture)}(),e.MouseTracker.havePointerCapture&&e.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(e.MouseTracker.havePointerEvents=!1,e.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),e.MouseTracker.mousePointerId="legacy-mouse",e.MouseTracker.havePointerCapture=function(){var t=document.createElement("div");return e.isFunction(t.setCapture)&&e.isFunction(t.releaseCapture)}(),e.MouseTracker.havePointerCapture&&e.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&e.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&e.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),e.MouseTracker.GesturePointList=function(e){this._gPoints=[],this.type=e,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},e.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(e){return this._gPoints.push(e)},removeById:function(e){var t,n=this._gPoints.length;for(t=0;t<n;t++)if(this._gPoints[t].id===e){this._gPoints.splice(t,1);break}return this._gPoints.length},getByIndex:function(e){return e<this._gPoints.length?this._gPoints[e]:null},getById:function(e){var t,n=this._gPoints.length;for(t=0;t<n;t++)if(this._gPoints[t].id===e)return this._gPoints[t];return null},getPrimary:function(e){var t,n=this._gPoints.length;for(t=0;t<n;t++)if(this._gPoints[t].isPrimary)return this._gPoints[t];return null},addContact:function(){++this.contacts,this.contacts>1&&("mouse"===this.type||"pen"===this.type)&&(e.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(e.console.warn("GesturePointList.removeContact() Implausible contacts value"),this.contacts=0)}}}(t),function(e){e.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},e.Control=function(t,n,r){var i=t.parentNode;"number"==typeof n&&(e.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),n={anchor:n}),n.attachToViewer=void 0===n.attachToViewer||n.attachToViewer,this.autoFade=void 0===n.autoFade||n.autoFade,this.element=t,this.anchor=n.anchor,this.container=r,this.anchor===e.ControlAnchor.ABSOLUTE?(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top="number"==typeof n.top?n.top+"px":n.top,this.wrapper.style.left="number"==typeof n.left?n.left+"px":n.left,this.wrapper.style.height="number"==typeof n.height?n.height+"px":n.height,this.wrapper.style.width="number"==typeof n.width?n.width+"px":n.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===e.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),n.attachToViewer?this.anchor===e.ControlAnchor.TOP_RIGHT||this.anchor===e.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):i.appendChild(this.wrapper)},e.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==e.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return"none"!==this.wrapper.style.display},setVisible:function(t){this.wrapper.style.display=t?this.anchor===e.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(t){this.element[e.SIGNAL]&&e.Browser.vendor===e.BROWSERS.IE?e.setElementOpacity(this.element,t,!0):e.setElementOpacity(this.wrapper,t,!0)}}}(t),function(e){function t(e,t){var n,r=e.controls;for(n=r.length-1;n>=0;n--)if(r[n].element===t)return n;return-1}e.ControlDock=function(t){var n,r,i=["topleft","topright","bottomright","bottomleft"];for(e.extend(!0,this,{id:"controldock-"+e.now()+"-"+Math.floor(1e6*Math.random()),container:e.makeNeutralElement("div"),controls:[]},t),this.container.onsubmit=function(){return!1},this.element&&(this.element=e.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),r=0;r<i.length;r++)n=i[r],this.controls[n]=e.makeNeutralElement("div"),this.controls[n].style.position="absolute",n.match("left")&&(this.controls[n].style.left="0px"),n.match("right")&&(this.controls[n].style.right="0px"),n.match("top")&&(this.controls[n].style.top="0px"),n.match("bottom")&&(this.controls[n].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},e.ControlDock.prototype={addControl:function(n,r){var i=null;if(!(t(this,n=e.getElement(n))>=0)){switch(r.anchor){case e.ControlAnchor.TOP_RIGHT:i=this.controls.topright,n.style.position="relative",n.style.paddingRight="0px",n.style.paddingTop="0px";break;case e.ControlAnchor.BOTTOM_RIGHT:i=this.controls.bottomright,n.style.position="relative",n.style.paddingRight="0px",n.style.paddingBottom="0px";break;case e.ControlAnchor.BOTTOM_LEFT:i=this.controls.bottomleft,n.style.position="relative",n.style.paddingLeft="0px",n.style.paddingBottom="0px";break;case e.ControlAnchor.TOP_LEFT:i=this.controls.topleft,n.style.position="relative",n.style.paddingLeft="0px",n.style.paddingTop="0px";break;case e.ControlAnchor.ABSOLUTE:default:case e.ControlAnchor.NONE:i=this.container,n.style.margin="0px",n.style.padding="0px"}this.controls.push(new e.Control(n,r,i)),n.style.display="inline-block"}},removeControl:function(n){var r=t(this,n=e.getElement(n));return r>=0&&(this.controls[r].destroy(),this.controls.splice(r,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var e;for(e=this.controls.length-1;e>=0;e--)if(this.controls[e].isVisible())return!0;return!1},setControlsEnabled:function(e){var t;for(t=this.controls.length-1;t>=0;t--)this.controls[t].setVisible(e);return this}}}(t),function(e){e.Placement=e.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(t),function(e){var t={},n=1;function r(t){return t=e.getElement(t),new e.Point(0===t.clientWidth?1:t.clientWidth,0===t.clientHeight?1:t.clientHeight)}function i(t,n,r,i,o){var a=t;if("string"===e.type(n))if(n.match(/^\s*<.*>\s*$/))n=e.parseXml(n);else if(n.match(/^\s*[{[].*[}\]]\s*$/))try{var s=e.parseJSON(n);n=s}catch{}function l(e,t){e.ready?i(e):(e.addHandler("ready",(function(){i(e)})),e.addHandler("open-failed",(function(e){o({message:e.message,source:t})})))}setTimeout((function(){if("string"===e.type(n))(n=new e.TileSource({url:n,crossOriginPolicy:void 0!==r.crossOriginPolicy?r.crossOriginPolicy:t.crossOriginPolicy,ajaxWithCredentials:t.ajaxWithCredentials,ajaxHeaders:r.ajaxHeaders?r.ajaxHeaders:t.ajaxHeaders,useCanvas:t.useCanvas,success:function(e){i(e.tileSource)}})).addHandler("open-failed",(function(e){o(e)}));else if(e.isPlainObject(n)||n.nodeType)if(void 0===n.crossOriginPolicy&&(void 0!==r.crossOriginPolicy||void 0!==t.crossOriginPolicy)&&(n.crossOriginPolicy=void 0!==r.crossOriginPolicy?r.crossOriginPolicy:t.crossOriginPolicy),void 0===n.ajaxWithCredentials&&(n.ajaxWithCredentials=t.ajaxWithCredentials),void 0===n.useCanvas&&(n.useCanvas=t.useCanvas),e.isFunction(n.getTileUrl)){var s=new e.TileSource(n);s.getTileUrl=n.getTileUrl,i(s)}else{var c=e.TileSource.determineType(a,n);if(!c)return void o({message:"Unable to load TileSource",source:n});var u=c.prototype.configure.apply(a,[n]);l(new c(u),n)}else l(n,n)}))}function o(t,n){if(n instanceof e.Overlay)return n;var r=null;if(n.element)r=e.getElement(n.element);else{var i=n.id?n.id:"openseadragon-overlay-"+Math.floor(1e7*Math.random());(r=e.getElement(n.id))||((r=document.createElement("a")).href="#/overlay/"+i),r.id=i,e.addClass(r,n.className?n.className:"openseadragon-overlay")}var o=n.location,a=n.width,s=n.height;if(!o){var l=n.x,c=n.y;if(void 0!==n.px){var u=t.viewport.imageToViewportRectangle(new e.Rect(n.px,n.py,a||0,s||0));l=u.x,c=u.y,a=void 0!==a?u.width:void 0,s=void 0!==s?u.height:void 0}o=new e.Point(l,c)}var p=n.placement;return p&&"string"===e.type(p)&&(p=e.Placement[n.placement.toUpperCase()]),new e.Overlay({element:r,location:o,placement:p,onDraw:n.onDraw,checkResize:n.checkResize,width:a,height:s,rotationMode:n.rotationMode})}function a(e,t){var n;for(n=e.length-1;n>=0;n--)if(e[n].element===t)return n;return-1}function s(t,n){return e.requestAnimationFrame((function(){n(t)}))}function l(t){e.requestAnimationFrame((function(){u(t)}))}function c(t){!t.autoHideControls||(t.controlsShouldFade=!0,t.controlsFadeBeginTime=e.now()+t.controlsFadeDelay,window.setTimeout((function(){l(t)}),t.controlsFadeDelay))}function u(t){var n,r;if(t.controlsShouldFade){for(n=1-(e.now()-t.controlsFadeBeginTime)/t.controlsFadeLength,n=Math.min(1,n),n=Math.max(0,n),r=t.controls.length-1;r>=0;r--)t.controls[r].autoFade&&t.controls[r].setOpacity(n);n>0&&l(t)}}function p(e){var t;for(e.controlsShouldFade=!1,t=e.controls.length-1;t>=0;t--)e.controls[t].setOpacity(1)}function d(){p(this)}function h(){c(this)}function f(e){var t={tracker:e.eventSource,position:e.position,originalEvent:e.originalEvent,preventDefault:e.preventDefault};this.raiseEvent("canvas-contextmenu",t),e.preventDefault=t.preventDefault}function m(t){var n={originalEvent:t.originalEvent,preventDefaultAction:!1,preventVerticalPan:t.preventVerticalPan,preventHorizontalPan:t.preventHorizontalPan};if(this.raiseEvent("canvas-key",n),n.preventDefaultAction||t.ctrl||t.alt||t.meta)t.preventDefault=!1;else switch(t.keyCode){case 38:n.preventVerticalPan||(t.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 40:n.preventVerticalPan||(t.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 37:n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 39:n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),t.preventDefault=!0;break;default:t.preventDefault=!1}}function g(t){var n={originalEvent:t.originalEvent,preventDefaultAction:!1,preventVerticalPan:t.preventVerticalPan,preventHorizontalPan:t.preventHorizontalPan};if(this.raiseEvent("canvas-key",n),n.preventDefaultAction||t.ctrl||t.alt||t.meta)t.preventDefault=!1;else switch(t.keyCode){case 43:case 61:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),t.preventDefault=!0;break;case 45:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),t.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),t.preventDefault=!0;break;case 119:case 87:n.preventVerticalPan||(t.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-40))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 115:case 83:n.preventVerticalPan||(t.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,40))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 97:n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-40,0))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 100:n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(40,0))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 114:this.viewport.flipped?this.viewport.setRotation(e.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)):this.viewport.setRotation(e.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)),this.viewport.applyConstraints(),t.preventDefault=!0;break;case 82:this.viewport.flipped?this.viewport.setRotation(e.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)):this.viewport.setRotation(e.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)),this.viewport.applyConstraints(),t.preventDefault=!0;break;case 102:this.viewport.toggleFlip(),t.preventDefault=!0;break;case 106:this.goToPreviousPage();break;case 107:this.goToNextPage();break;default:t.preventDefault=!1}}function v(e){var t;document.activeElement===this.canvas||this.canvas.focus(),this.viewport.flipped&&(e.position.x=this.viewport.getContainerSize().x-e.position.x);var n={tracker:e.eventSource,position:e.position,quick:e.quick,shift:e.shift,originalEvent:e.originalEvent,originalTarget:e.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",n),!n.preventDefaultAction&&this.viewport&&e.quick&&(t=this.gestureSettingsByDeviceType(e.pointerType)).clickToZoom&&(this.viewport.zoomBy(e.shift?1/this.zoomPerClick:this.zoomPerClick,t.zoomToRefPoint?this.viewport.pointFromPixel(e.position,!0):null),this.viewport.applyConstraints())}function y(e){var t,n={tracker:e.eventSource,position:e.position,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",n),!n.preventDefaultAction&&this.viewport&&(t=this.gestureSettingsByDeviceType(e.pointerType)).dblClickToZoom&&(this.viewport.zoomBy(e.shift?1/this.zoomPerClick:this.zoomPerClick,t.zoomToRefPoint?this.viewport.pointFromPixel(e.position,!0):null),this.viewport.applyConstraints())}function b(e){var t,n={tracker:e.eventSource,pointerType:e.pointerType,position:e.position,delta:e.delta,speed:e.speed,direction:e.direction,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",n),(t=this.gestureSettingsByDeviceType(e.pointerType)).dragToPan&&!n.preventDefaultAction&&this.viewport){if(this.panHorizontal||(e.delta.x=0),this.panVertical||(e.delta.y=0),this.viewport.flipped&&(e.delta.x=-e.delta.x),this.constrainDuringPan){var r=this.viewport.deltaPointsFromPixels(e.delta.negate());this.viewport.centerSpringX.target.value+=r.x,this.viewport.centerSpringY.target.value+=r.y;var i=this.viewport.getBounds(),o=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=r.x,this.viewport.centerSpringY.target.value-=r.y,i.x!==o.x&&(e.delta.x=0),i.y!==o.y&&(e.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta.negate()),t.flickEnabled&&!this.constrainDuringPan)}}function w(t){var n={tracker:t.eventSource,pointerType:t.pointerType,position:t.position,speed:t.speed,direction:t.direction,shift:t.shift,originalEvent:t.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",n),!n.preventDefaultAction&&this.viewport){var r=this.gestureSettingsByDeviceType(t.pointerType);if(r.flickEnabled&&t.speed>=r.flickMinSpeed){var i=0;this.panHorizontal&&(i=r.flickMomentum*t.speed*Math.cos(t.direction));var o=0;this.panVertical&&(o=r.flickMomentum*t.speed*Math.sin(t.direction));var a=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),s=this.viewport.pointFromPixel(new e.Point(a.x-i,a.y-o));this.viewport.panTo(s,!1)}this.viewport.applyConstraints()}}function x(e){this.raiseEvent("canvas-enter",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function k(e){this.raiseEvent("canvas-exit",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function S(e){this.raiseEvent("canvas-press",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,insideElementPressed:e.insideElementPressed,insideElementReleased:e.insideElementReleased,originalEvent:e.originalEvent})}function C(e){this.raiseEvent("canvas-release",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,insideElementPressed:e.insideElementPressed,insideElementReleased:e.insideElementReleased,originalEvent:e.originalEvent})}function E(e){this.raiseEvent("canvas-nonprimary-press",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function T(e){this.raiseEvent("canvas-nonprimary-release",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function _(e){var t,n,r,i={tracker:e.eventSource,pointerType:e.pointerType,gesturePoints:e.gesturePoints,lastCenter:e.lastCenter,center:e.center,lastDistance:e.lastDistance,distance:e.distance,shift:e.shift,originalEvent:e.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",i),this.viewport&&((t=this.gestureSettingsByDeviceType(e.pointerType)).pinchToZoom&&(!i.preventDefaultPanAction||!i.preventDefaultZoomAction)&&(n=this.viewport.pointFromPixel(e.center,!0),i.preventDefaultZoomAction||this.viewport.zoomBy(e.distance/e.lastDistance,n,!0),t.zoomToRefPoint&&!i.preventDefaultPanAction&&(r=this.viewport.pointFromPixel(e.lastCenter,!0).minus(n),this.panHorizontal||(r.x=0),this.panVertical||(r.y=0),this.viewport.panBy(r,!0)),this.viewport.applyConstraints()),t.pinchRotate&&!i.preventDefaultRotateAction)){var o=Math.atan2(e.gesturePoints[0].currentPos.y-e.gesturePoints[1].currentPos.y,e.gesturePoints[0].currentPos.x-e.gesturePoints[1].currentPos.x),a=Math.atan2(e.gesturePoints[0].lastPos.y-e.gesturePoints[1].lastPos.y,e.gesturePoints[0].lastPos.x-e.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(o-a)*(180/Math.PI))}}function A(t){var n,r,i,o;(o=e.now())-this._lastScrollTime>this.minScrollDeltaTime?(this._lastScrollTime=o,n={tracker:t.eventSource,position:t.position,scroll:t.scroll,shift:t.shift,originalEvent:t.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",n),!n.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(t.position.x=this.viewport.getContainerSize().x-t.position.x),(r=this.gestureSettingsByDeviceType(t.pointerType)).scrollToZoom&&(i=Math.pow(this.zoomPerScroll,t.scroll),this.viewport.zoomBy(i,r.zoomToRefPoint?this.viewport.pointFromPixel(t.position,!0):null),this.viewport.applyConstraints())),t.preventDefault=n.preventDefault):t.preventDefault=!0}function O(e){t[this.hash].mouseInside=!0,p(this),this.raiseEvent("container-enter",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function N(e){e.pointers<1&&(t[this.hash].mouseInside=!1,t[this.hash].animating||c(this)),this.raiseEvent("container-exit",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function M(e){P(e),e.isOpen()?e._updateRequestId=s(e,M):e._updateRequestId=!1}function P(e){if(!e._opening&&t[e.hash]){if(e.autoResize){var n=r(e.container),i=t[e.hash].prevContainerSize;if(!n.equals(i)){var o=e.viewport;if(e.preserveImageSizeOnResize){var a=i.x/n.x,s=o.getZoom()*a,l=o.getCenter();o.resize(n,!1),o.zoomTo(s,null,!0),o.panTo(l,!0)}else{var u=o.getBounds();o.resize(n,!0),o.fitBoundsWithConstraints(u,!0)}t[e.hash].prevContainerSize=n,t[e.hash].forceRedraw=!0}}var d=e.viewport.update(),h=e.world.update()||d;d&&e.raiseEvent("viewport-change"),e.referenceStrip&&(h=e.referenceStrip.update(e.viewport)||h),!t[e.hash].animating&&h&&(e.raiseEvent("animation-start"),p(e)),(h||t[e.hash].forceRedraw||e.world.needsDraw())&&(D(e),e._drawOverlays(),e.navigator&&e.navigator.update(e.viewport),t[e.hash].forceRedraw=!1,h&&e.raiseEvent("animation")),t[e.hash].animating&&!h&&(e.raiseEvent("animation-finish"),t[e.hash].mouseInside||c(e)),t[e.hash].animating=h}}function D(e){e.imageLoader.clear(),e.drawer.clear(),e.world.draw(),e.raiseEvent("update-viewport",{})}function L(e,t){return e?e+t:t}function R(){t[this.hash].lastZoomTime=e.now(),t[this.hash].zoomFactor=this.zoomPerSecond,t[this.hash].zooming=!0,j(this)}function I(){t[this.hash].lastZoomTime=e.now(),t[this.hash].zoomFactor=1/this.zoomPerSecond,t[this.hash].zooming=!0,j(this)}function B(){t[this.hash].zooming=!1}function j(t){e.requestAnimationFrame(e.delegate(t,F))}function F(){var n,r,i;t[this.hash].zooming&&this.viewport&&(r=(n=e.now())-t[this.hash].lastZoomTime,i=Math.pow(t[this.hash].zoomFactor,r/1e3),this.viewport.zoomBy(i),this.viewport.applyConstraints(),t[this.hash].lastZoomTime=n,j(this))}function z(){this.viewport&&(t[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function H(){this.viewport&&(t[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function q(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function V(){this.viewport&&this.viewport.goHome()}function U(){this.isFullPage()&&!e.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function W(){if(this.viewport){var t=this.viewport.getRotation();t=this.viewport.flipped?e.positiveModulo(t+this.rotationIncrement,360):e.positiveModulo(t-this.rotationIncrement,360),this.viewport.setRotation(t)}}function $(){if(this.viewport){var t=this.viewport.getRotation();t=this.viewport.flipped?e.positiveModulo(t-this.rotationIncrement,360):e.positiveModulo(t+this.rotationIncrement,360),this.viewport.setRotation(t)}}function G(){this.viewport.toggleFlip()}e.Viewer=function(i){var o,a,l=arguments,u=this;if(e.isPlainObject(i)||(i={id:l[0],xmlPath:l.length>1?l[1]:void 0,prefixUrl:l.length>2?l[2]:void 0,controls:l.length>3?l[3]:void 0,overlays:l.length>4?l[4]:void 0}),i.config&&(e.extend(!0,i,i.config),delete i.config),e.extend(!0,this,{id:i.id,hash:i.hash||n++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},e.DEFAULT_SETTINGS,i),void 0===this.hash)throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(void 0!==t[this.hash]&&e.console.warn("Hash "+this.hash+" has already been used."),t[this.hash]={fsBoundsDelta:new e.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=e.now(),e.EventSource.call(this),this.addHandler("open-failed",(function(t){var n=e.getString("Errors.OpenFailed",t.eventSource,t.message);u._showMessage(n)})),e.ControlDock.call(this,i),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=e.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",(a=this.canvas.style).width="100%",a.height="100%",a.overflow="hidden",a.position="absolute",a.top="0px",a.left="0px",e.setElementTouchActionNone(this.canvas),""!==i.tabIndex&&(this.canvas.tabIndex=void 0===i.tabIndex?0:i.tabIndex),this.container.className="openseadragon-container",function(e){e.width="100%",e.height="100%",e.position="relative",e.overflow="hidden",e.left="0px",e.top="0px",e.textAlign="left"}(this.container.style),e.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new e.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:e.delegate(this,f),keyDownHandler:e.delegate(this,m),keyHandler:e.delegate(this,g),clickHandler:e.delegate(this,v),dblClickHandler:e.delegate(this,y),dragHandler:e.delegate(this,b),dragEndHandler:e.delegate(this,w),enterHandler:e.delegate(this,x),leaveHandler:e.delegate(this,k),pressHandler:e.delegate(this,S),releaseHandler:e.delegate(this,C),nonPrimaryPressHandler:e.delegate(this,E),nonPrimaryReleaseHandler:e.delegate(this,T),scrollHandler:e.delegate(this,A),pinchHandler:e.delegate(this,_)}),this.outerTracker=new e.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:e.delegate(this,O),leaveHandler:e.delegate(this,N)}),this.toolbar&&(this.toolbar=new e.ControlDock({element:this.toolbar})),this.bindStandardControls(),t[this.hash].prevContainerSize=r(this.container),this.world=new e.World({viewer:this}),this.world.addHandler("add-item",(function(e){u.source=u.world.getItemAt(0).source,t[u.hash].forceRedraw=!0,u._updateRequestId||(u._updateRequestId=s(u,M))})),this.world.addHandler("remove-item",(function(e){u.world.getItemCount()?u.source=u.world.getItemAt(0).source:u.source=null,t[u.hash].forceRedraw=!0})),this.world.addHandler("metrics-change",(function(e){u.viewport&&u.viewport._setContentBounds(u.world.getHomeBounds(),u.world.getContentFactor())})),this.world.addHandler("item-index-change",(function(e){u.source=u.world.getItemAt(0).source})),this.viewport=new e.Viewport({containerSize:t[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new e.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:i.timeout}),this.tileCache=new e.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new e.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=e.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(o=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(o,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(o=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(o,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new e.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),o=0;o<this.customControls.length;o++)this.addControl(this.customControls[o].id,{anchor:this.customControls[o].anchor});e.requestAnimationFrame((function(){c(u)})),void 0!==this.imageSmoothingEnabled&&!this.imageSmoothingEnabled&&this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),e._viewers.set(this.element,this)},e.extend(e.Viewer.prototype,e.EventSource.prototype,e.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(t){return e.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(t)},openTileSource:function(t){return e.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(t)},open:function(t,n){var r=this;if(this.close(),!t)return this;if(this.sequenceMode&&e.isArray(t))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),void 0!==n&&!isNaN(n)&&(this.initialPage=n),this.tileSources=t,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(e.isArray(t)||(t=[t]),!t.length)return this;this._opening=!0;for(var i,a=t.length,s=0,l=0,c=function(){if(s+l===a)if(s){(r._firstOpen||!r.preserveViewport)&&(r.viewport.goHome(!0),r.viewport.update()),r._firstOpen=!1;var e=t[0];if(e.tileSource&&(e=e.tileSource),r.overlays&&!r.preserveOverlays)for(var n=0;n<r.overlays.length;n++)r.currentOverlays[n]=o(r,r.overlays[n]);r._drawOverlays(),r._opening=!1,r.raiseEvent("open",{source:e})}else r._opening=!1,r.raiseEvent("open-failed",i)},u=function(t){(!e.isPlainObject(t)||!t.tileSource)&&(t={tileSource:t}),void 0!==t.index&&(e.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete t.index),void 0===t.collectionImmediately&&(t.collectionImmediately=!0);var n=t.success;t.success=function(e){if(s++,t.tileSource.overlays)for(var i=0;i<t.tileSource.overlays.length;i++)r.addOverlay(t.tileSource.overlays[i]);n&&n(e),c()};var o=t.error;t.error=function(e){l++,i||(i=e),o&&o(e),c()},r.addTiledImage(t)},p=0;p<t.length;p++)u(t[p]);return this},close:function(){return t[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),t[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(t[this.hash]){if(this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),null!==this._updateRequestId&&(e.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),t[this.navigator.hash]=null,delete t[this.navigator.hash],this.navigator=null),this.removeAllHandlers(),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),t[this.hash]=null,delete t[this.hash],this.canvas=null,this.container=null,e._viewers.delete(this.element),this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(e){return this.innerTracker.setTracking(e),this.outerTracker.setTracking(e),this.raiseEvent("mouse-enabled",{enabled:e}),this},areControlsEnabled:function(){var e,t=this.controls.length;for(e=0;e<this.controls.length;e++)t=t&&this.controls[e].isVisible();return t},setControlsEnabled:function(e){return e?p(this):c(this),this.raiseEvent("controls-enabled",{enabled:e}),this},setDebugMode:function(e){for(var t=0;t<this.world.getItemCount();t++)this.world.getItemAt(t).debugMode=e;this.debugMode=e,this.forceRedraw()},isFullPage:function(){return t[this.hash].fullPage},setFullPage:function(n){var r,i,o=document.body,a=o.style,s=document.documentElement.style,l=this;if(n===this.isFullPage())return this;var c={fullPage:n,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",c),c.preventDefaultAction)return this;if(n){for(this.elementSize=e.getElementSize(this.element),this.pageScroll=e.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=a.margin,this.docMargin=s.margin,a.margin="0",s.margin="0",this.bodyPadding=a.padding,this.docPadding=s.padding,a.padding="0",s.padding="0",this.bodyWidth=a.width,this.docWidth=s.width,a.width="100%",s.width="100%",this.bodyHeight=a.height,this.docHeight=s.height,a.height="100%",s.height="100%",this.bodyDisplay=a.display,a.display="block",this.previousBody=[],t[this.hash].prevElementParent=this.element.parentNode,t[this.hash].prevNextSibling=this.element.nextSibling,t[this.hash].prevElementWidth=this.element.style.width,t[this.hash].prevElementHeight=this.element.style.height,r=o.childNodes.length,i=0;i<r;i++)this.previousBody.push(o.childNodes[0]),o.removeChild(o.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,o.appendChild(this.toolbar.element),e.addClass(this.toolbar.element,"fullpage")),e.addClass(this.element,"fullpage"),o.appendChild(this.element),this.element.style.height=e.getWindowSize().y+"px",this.element.style.width=e.getWindowSize().x+"px",this.toolbar&&this.toolbar.element&&(this.element.style.height=e.getElementSize(this.element).y-e.getElementSize(this.toolbar.element).y+"px"),t[this.hash].fullPage=!0,e.delegate(this,O)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,a.margin=this.bodyMargin,s.margin=this.docMargin,a.padding=this.bodyPadding,s.padding=this.docPadding,a.width=this.bodyWidth,s.width=this.docWidth,a.height=this.bodyHeight,s.height=this.docHeight,a.display=this.bodyDisplay,o.removeChild(this.element),r=this.previousBody.length,i=0;i<r;i++)o.appendChild(this.previousBody.shift());e.removeClass(this.element,"fullpage"),t[this.hash].prevElementParent.insertBefore(this.element,t[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(o.removeChild(this.toolbar.element),e.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=t[this.hash].prevElementWidth,this.element.style.height=t[this.hash].prevElementHeight;var u=0,p=function(){e.setPageScroll(l.pageScroll);var t=e.getPageScroll();++u<10&&(t.x!==l.pageScroll.x||t.y!==l.pageScroll.y)&&e.requestAnimationFrame(p)};e.requestAnimationFrame(p),t[this.hash].fullPage=!1,e.delegate(this,N)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:n}),this},setFullScreen:function(t){var n=this;if(!e.supportsFullScreen)return this.setFullPage(t);if(e.isFullScreen()===t)return this;var r={fullScreen:t,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",r),r.preventDefaultAction)return this;if(t){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var i=function(){var t=e.isFullScreen();t||(e.removeEvent(document,e.fullScreenEventName,i),e.removeEvent(document,e.fullScreenErrorEventName,i),n.setFullPage(!1),n.isFullPage()&&(n.element.style.width=n.fullPageStyleWidth,n.element.style.height=n.fullPageStyleHeight)),n.navigator&&n.viewport&&setTimeout((function(){n.navigator.update(n.viewport)})),n.raiseEvent("full-screen",{fullScreen:t})};e.addEvent(document,e.fullScreenEventName,i),e.addEvent(document,e.fullScreenErrorEventName,i),e.requestFullScreen(document.body)}else e.exitFullScreen();return this},isVisible:function(){return"hidden"!==this.container.style.visibility},setVisible:function(e){return this.container.style.visibility=e?"":"hidden",this.raiseEvent("visible",{visible:e}),this},addTiledImage:function(t){e.console.assert(t,"[Viewer.addTiledImage] options is required"),e.console.assert(t.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),e.console.assert(!t.replace||t.index>-1&&t.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var n=this;t.replace&&(t.replaceItem=n.world.getItemAt(t.index)),this._hideMessage(),void 0===t.placeholderFillStyle&&(t.placeholderFillStyle=this.placeholderFillStyle),void 0===t.opacity&&(t.opacity=this.opacity),void 0===t.preload&&(t.preload=this.preload),void 0===t.compositeOperation&&(t.compositeOperation=this.compositeOperation),void 0===t.crossOriginPolicy&&(t.crossOriginPolicy=void 0!==t.tileSource.crossOriginPolicy?t.tileSource.crossOriginPolicy:this.crossOriginPolicy),void 0===t.ajaxWithCredentials&&(t.ajaxWithCredentials=this.ajaxWithCredentials),void 0===t.loadTilesWithAjax&&(t.loadTilesWithAjax=this.loadTilesWithAjax),void 0===t.ajaxHeaders||null===t.ajaxHeaders?t.ajaxHeaders=this.ajaxHeaders:e.isPlainObject(t.ajaxHeaders)&&e.isPlainObject(this.ajaxHeaders)&&(t.ajaxHeaders=e.extend({},this.ajaxHeaders,t.ajaxHeaders));var r={options:t};function o(e){for(var i=0;i<n._loadQueue.length;i++)if(n._loadQueue[i]===r){n._loadQueue.splice(i,1);break}0===n._loadQueue.length&&a(r),n.raiseEvent("add-item-failed",e),t.error&&t.error(e)}function a(e){n.collectionMode&&(n.world.arrange({immediately:e.options.collectionImmediately,rows:n.collectionRows,columns:n.collectionColumns,layout:n.collectionLayout,tileSize:n.collectionTileSize,tileMargin:n.collectionTileMargin}),n.world.setAutoRefigureSizes(!0))}function s(){for(var t,r,i;n._loadQueue.length&&(t=n._loadQueue[0]).tileSource;){if(n._loadQueue.splice(0,1),t.options.replace){var o=n.world.getIndexOfItem(t.options.replaceItem);-1!==o&&(t.options.index=o),n.world.removeItem(t.options.replaceItem)}r=new e.TiledImage({viewer:n,source:t.tileSource,viewport:n.viewport,drawer:n.drawer,tileCache:n.tileCache,imageLoader:n.imageLoader,x:t.options.x,y:t.options.y,width:t.options.width,height:t.options.height,fitBounds:t.options.fitBounds,fitBoundsPlacement:t.options.fitBoundsPlacement,clip:t.options.clip,placeholderFillStyle:t.options.placeholderFillStyle,opacity:t.options.opacity,preload:t.options.preload,degrees:t.options.degrees,flipped:t.options.flipped,compositeOperation:t.options.compositeOperation,springStiffness:n.springStiffness,animationTime:n.animationTime,minZoomImageRatio:n.minZoomImageRatio,wrapHorizontal:n.wrapHorizontal,wrapVertical:n.wrapVertical,immediateRender:n.immediateRender,blendTime:n.blendTime,alwaysBlend:n.alwaysBlend,minPixelRatio:n.minPixelRatio,smoothTileEdgesMinZoom:n.smoothTileEdgesMinZoom,iOSDevice:n.iOSDevice,crossOriginPolicy:t.options.crossOriginPolicy,ajaxWithCredentials:t.options.ajaxWithCredentials,loadTilesWithAjax:t.options.loadTilesWithAjax,ajaxHeaders:t.options.ajaxHeaders,debugMode:n.debugMode}),n.collectionMode&&n.world.setAutoRefigureSizes(!1),n.navigator&&(i=e.extend({},t.options,{replace:!1,originalTiledImage:r,tileSource:t.tileSource}),n.navigator.addTiledImage(i)),n.world.addItem(r,{index:t.options.index}),0===n._loadQueue.length&&a(t),1===n.world.getItemCount()&&!n.preserveViewport&&n.viewport.goHome(!0),t.options.success&&t.options.success({item:r})}}e.isArray(t.tileSource)?setTimeout((function(){o({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:t.tileSource,options:t})})):(this._loadQueue.push(r),i(this,t.tileSource,t,(function(e){r.tileSource=e,s()}),(function(e){e.options=t,o(e),s()})))},addSimpleImage:function(t){e.console.assert(t,"[Viewer.addSimpleImage] options is required"),e.console.assert(t.url,"[Viewer.addSimpleImage] options.url is required");var n=e.extend({},t,{tileSource:{type:"image",url:t.url}});delete n.url,this.addTiledImage(n)},addLayer:function(t){var n=this;e.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var r=e.extend({},t,{success:function(e){n.raiseEvent("add-layer",{options:t,drawer:e.item})},error:function(e){n.raiseEvent("add-layer-failed",e)}});return this.addTiledImage(r),this},getLayerAtLevel:function(t){return e.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(t)},getLevelOfLayer:function(t){return e.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(t)},getLayersCount:function(){return e.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(t,n){return e.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(t,n)},removeLayer:function(t){return e.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(t)},forceRedraw:function(){return t[this.hash].forceRedraw=!0,this},bindSequenceControls:function(){var t=e.delegate(this,d),n=e.delegate(this,h),r=e.delegate(this,this.goToNextPage),i=e.delegate(this,this.goToPreviousPage),o=this.navImages,a=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(a=!1),this.previousButton=new e.Button({element:this.previousButton?e.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.PreviousPage"),srcRest:L(this.prefixUrl,o.previous.REST),srcGroup:L(this.prefixUrl,o.previous.GROUP),srcHover:L(this.prefixUrl,o.previous.HOVER),srcDown:L(this.prefixUrl,o.previous.DOWN),onRelease:i,onFocus:t,onBlur:n}),this.nextButton=new e.Button({element:this.nextButton?e.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.NextPage"),srcRest:L(this.prefixUrl,o.next.REST),srcGroup:L(this.prefixUrl,o.next.GROUP),srcHover:L(this.prefixUrl,o.next.HOVER),srcDown:L(this.prefixUrl,o.next.DOWN),onRelease:r,onFocus:t,onBlur:n}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),a&&(this.paging=new e.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:e.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||e.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var t=e.delegate(this,R),n=e.delegate(this,B),r=e.delegate(this,z),i=e.delegate(this,I),o=e.delegate(this,H),a=e.delegate(this,V),s=e.delegate(this,U),l=e.delegate(this,W),c=e.delegate(this,$),u=e.delegate(this,G),p=e.delegate(this,d),f=e.delegate(this,h),m=this.navImages,g=[],v=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(v=!1),this.showZoomControl&&(g.push(this.zoomInButton=new e.Button({element:this.zoomInButton?e.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomIn"),srcRest:L(this.prefixUrl,m.zoomIn.REST),srcGroup:L(this.prefixUrl,m.zoomIn.GROUP),srcHover:L(this.prefixUrl,m.zoomIn.HOVER),srcDown:L(this.prefixUrl,m.zoomIn.DOWN),onPress:t,onRelease:n,onClick:r,onEnter:t,onExit:n,onFocus:p,onBlur:f})),g.push(this.zoomOutButton=new e.Button({element:this.zoomOutButton?e.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomOut"),srcRest:L(this.prefixUrl,m.zoomOut.REST),srcGroup:L(this.prefixUrl,m.zoomOut.GROUP),srcHover:L(this.prefixUrl,m.zoomOut.HOVER),srcDown:L(this.prefixUrl,m.zoomOut.DOWN),onPress:i,onRelease:n,onClick:o,onEnter:i,onExit:n,onFocus:p,onBlur:f}))),this.showHomeControl&&g.push(this.homeButton=new e.Button({element:this.homeButton?e.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.Home"),srcRest:L(this.prefixUrl,m.home.REST),srcGroup:L(this.prefixUrl,m.home.GROUP),srcHover:L(this.prefixUrl,m.home.HOVER),srcDown:L(this.prefixUrl,m.home.DOWN),onRelease:a,onFocus:p,onBlur:f})),this.showFullPageControl&&g.push(this.fullPageButton=new e.Button({element:this.fullPageButton?e.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.FullPage"),srcRest:L(this.prefixUrl,m.fullpage.REST),srcGroup:L(this.prefixUrl,m.fullpage.GROUP),srcHover:L(this.prefixUrl,m.fullpage.HOVER),srcDown:L(this.prefixUrl,m.fullpage.DOWN),onRelease:s,onFocus:p,onBlur:f})),this.showRotationControl&&(g.push(this.rotateLeftButton=new e.Button({element:this.rotateLeftButton?e.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateLeft"),srcRest:L(this.prefixUrl,m.rotateleft.REST),srcGroup:L(this.prefixUrl,m.rotateleft.GROUP),srcHover:L(this.prefixUrl,m.rotateleft.HOVER),srcDown:L(this.prefixUrl,m.rotateleft.DOWN),onRelease:l,onFocus:p,onBlur:f})),g.push(this.rotateRightButton=new e.Button({element:this.rotateRightButton?e.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateRight"),srcRest:L(this.prefixUrl,m.rotateright.REST),srcGroup:L(this.prefixUrl,m.rotateright.GROUP),srcHover:L(this.prefixUrl,m.rotateright.HOVER),srcDown:L(this.prefixUrl,m.rotateright.DOWN),onRelease:c,onFocus:p,onBlur:f}))),this.showFlipControl&&g.push(this.flipButton=new e.Button({element:this.flipButton?e.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.Flip"),srcRest:L(this.prefixUrl,m.flip.REST),srcGroup:L(this.prefixUrl,m.flip.GROUP),srcHover:L(this.prefixUrl,m.flip.HOVER),srcDown:L(this.prefixUrl,m.flip.DOWN),onRelease:u,onFocus:p,onBlur:f})),v?(this.buttonGroup=new e.ButtonGroup({buttons:g,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",e.delegate(this,q)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT})):this.customButtons=g),this},currentPage:function(){return this._sequenceIndex},goToPage:function(e){return this.tileSources&&e>=0&&e<this.tileSources.length&&(this._sequenceIndex=e,this._updateSequenceButtons(e),this.open(this.tileSources[e]),this.referenceStrip&&this.referenceStrip.setFocus(e),this.raiseEvent("page",{page:e})),this},addOverlay:function(t,n,r,i){var s;if(s=e.isPlainObject(t)?t:{element:t,location:n,placement:r,onDraw:i},t=e.getElement(s.element),a(this.currentOverlays,t)>=0)return this;var l=o(this,s);return this.currentOverlays.push(l),l.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:t,location:s.location,placement:s.placement}),this},updateOverlay:function(n,r,i){var o;return n=e.getElement(n),(o=a(this.currentOverlays,n))>=0&&(this.currentOverlays[o].update(r,i),t[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:n,location:r,placement:i})),this},removeOverlay:function(n){var r;return n=e.getElement(n),(r=a(this.currentOverlays,n))>=0&&(this.currentOverlays[r].destroy(),this.currentOverlays.splice(r,1),t[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:n})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return t[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(t){var n;return t=e.getElement(t),(n=a(this.currentOverlays,t))>=0?this.currentOverlays[n]:null},_updateSequenceButtons:function(e){this.nextButton&&(this.tileSources&&this.tileSources.length-1!==e?this.nextButton.enable():this.navPrevNextWrap||this.nextButton.disable()),this.previousButton&&(e>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(t){this._hideMessage();var n=e.makeNeutralElement("div");n.appendChild(document.createTextNode(t)),this.messageDiv=e.makeCenteredNode(n),e.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var e=this.messageDiv;e&&(e.parentNode.removeChild(e),delete this.messageDiv)},gestureSettingsByDeviceType:function(e){switch(e){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var e,t=this.currentOverlays.length;for(e=0;e<t;e++)this.currentOverlays[e].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new e.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else e.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),e.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){e.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var t=e.pixelDensityRatio,n=e.getCurrentPixelDensityRatio();t!==n&&(e.pixelDensityRatio=n,this.world.resetItems(),this.forceRedraw())},goToPreviousPage:function(){var e=this._sequenceIndex-1;this.navPrevNextWrap&&e<0&&(e+=this.tileSources.length),this.goToPage(e)},goToNextPage:function(){var e=this._sequenceIndex+1;this.navPrevNextWrap&&e>=this.tileSources.length&&(e=0),this.goToPage(e)}})}(t),function(e){function t(e){var t={tracker:e.eventSource,position:e.position,quick:e.quick,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",t),!t.preventDefaultAction&&e.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(e.position.x=this.viewport.getContainerSize().x-e.position.x);var n=this.viewport.pointFromPixel(e.position);this.panVertical?this.panHorizontal||(n.x=this.viewer.viewport.getCenter(!0).x):n.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(n),this.viewer.viewport.applyConstraints()}}function n(e){var t={tracker:e.eventSource,position:e.position,delta:e.delta,speed:e.speed,direction:e.direction,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",t),!t.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(e.delta.x=0),this.panVertical||(e.delta.y=0),this.viewer.viewport.flipped&&(e.delta.x=-e.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function r(e){e.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function i(e){var t={tracker:e.eventSource,position:e.position,scroll:e.scroll,shift:e.shift,originalEvent:e.originalEvent,preventDefault:e.preventDefault};this.viewer.raiseEvent("navigator-scroll",t),e.preventDefault=t.preventDefault}function o(e,t){a(e,"rotate("+t+"deg)")}function a(e,t){e.style.webkitTransform=t,e.style.mozTransform=t,e.style.msTransform=t,e.style.oTransform=t,e.style.transform=t}e.Navigator=function(a){var s,l,c,u,p=a.viewer,d=this;function h(e){o(d.displayRegionContainer,e),o(d.displayRegion,-e),d.viewport.setRotation(e)}a.id?(this.element=document.getElementById(a.id),a.controlOptions={anchor:e.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(a.id="navigator-"+e.now(),this.element=e.makeNeutralElement("div"),a.controlOptions={anchor:e.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:a.autoFade},a.position&&("BOTTOM_RIGHT"===a.position?a.controlOptions.anchor=e.ControlAnchor.BOTTOM_RIGHT:"BOTTOM_LEFT"===a.position?a.controlOptions.anchor=e.ControlAnchor.BOTTOM_LEFT:"TOP_RIGHT"===a.position?a.controlOptions.anchor=e.ControlAnchor.TOP_RIGHT:"TOP_LEFT"===a.position?a.controlOptions.anchor=e.ControlAnchor.TOP_LEFT:"ABSOLUTE"===a.position&&(a.controlOptions.anchor=e.ControlAnchor.ABSOLUTE,a.controlOptions.top=a.top,a.controlOptions.left=a.left,a.controlOptions.height=a.height,a.controlOptions.width=a.width))),this.element.id=a.id,this.element.className+=" navigator",(a=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.navigatorSizeRatio},a,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,autoResize:a.autoResize,minZoomImageRatio:1,background:a.background,opacity:a.opacity,borderColor:a.borderColor,displayRegionColor:a.displayRegionColor})).minPixelRatio=this.minPixelRatio=p.minPixelRatio,e.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new e.Point(1,1),this.totalBorderWidths=new e.Point(2*this.borderWidth,2*this.borderWidth).minus(this.fudge),a.controlOptions.anchor!==e.ControlAnchor.NONE&&(c=this.element.style,u=this.borderWidth,c.margin="0px",c.border=u+"px solid "+a.borderColor,c.padding="0px",c.background=a.background,c.opacity=a.opacity,c.overflow="hidden"),this.displayRegion=e.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(e,t){e.position="relative",e.top="0px",e.left="0px",e.fontSize="0px",e.overflow="hidden",e.border=t+"px solid "+a.displayRegionColor,e.margin="0px",e.padding="0px",e.background="transparent",e.float="left",e.cssFloat="left",e.styleFloat="left",e.zIndex=999999999,e.cursor="default"}(this.displayRegion.style,this.borderWidth),e.setElementPointerEventsNone(this.displayRegion),e.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=e.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",e.setElementPointerEventsNone(this.displayRegionContainer),e.setElementTouchActionNone(this.displayRegionContainer),p.addControl(this.element,a.controlOptions),this._resizeWithViewer=a.controlOptions.anchor!==e.ControlAnchor.ABSOLUTE&&a.controlOptions.anchor!==e.ControlAnchor.NONE,a.width&&a.height?(this.setWidth(a.width),this.setHeight(a.height)):this._resizeWithViewer&&(s=e.getElementSize(p.element),this.element.style.height=Math.round(s.y*a.sizeRatio)+"px",this.element.style.width=Math.round(s.x*a.sizeRatio)+"px",this.oldViewerSize=s,l=e.getElementSize(this.element),this.elementArea=l.x*l.y),this.oldContainerSize=new e.Point(0,0),e.Viewer.apply(this,[a]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer),a.navigatorRotate&&(h(a.viewer.viewport?a.viewer.viewport.getRotation():a.viewer.degrees||0),a.viewer.addHandler("rotate",(function(e){h(e.degrees)}))),this.innerTracker.destroy(),this.innerTracker=new e.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:e.delegate(this,n),clickHandler:e.delegate(this,t),releaseHandler:e.delegate(this,r),scrollHandler:e.delegate(this,i),preProcessEventHandler:function(e){"wheel"===e.eventType&&(e.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",e.setElementPointerEventsNone(this.canvas),e.setElementPointerEventsNone(this.container),this.addHandler("reset-size",(function(){d.viewport&&d.viewport.goHome(!0)})),p.world.addHandler("item-index-change",(function(e){window.setTimeout((function(){var t=d.world.getItemAt(e.previousIndex);d.world.setItemIndex(t,e.newIndex)}),1)})),p.world.addHandler("remove-item",(function(e){var t=e.item,n=d._getMatchingItem(t);n&&d.world.removeItem(n)})),this.update(p.viewport)},e.extend(e.Navigator.prototype,e.EventSource.prototype,e.Viewer.prototype,{updateSize:function(){if(this.viewport){var t=new e.Point(0===this.container.clientWidth?1:this.container.clientWidth,0===this.container.clientHeight?1:this.container.clientHeight);t.equals(this.oldContainerSize)||(this.viewport.resize(t,!0),this.viewport.goHome(!0),this.oldContainerSize=t,this.drawer.clear(),this.world.draw())}},setWidth:function(e){this.width=e,this.element.style.width="number"==typeof e?e+"px":e,this._resizeWithViewer=!1},setHeight:function(e){this.height=e,this.element.style.height="number"==typeof e?e+"px":e,this._resizeWithViewer=!1},setFlip:function(e){return this.viewport.setFlip(e),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(e){a(this.displayRegion,e),a(this.canvas,e),a(this.element,e)},update:function(t){var n,r,i,o,a,s;if(n=e.getElementSize(this.viewer.element),this._resizeWithViewer&&n.x&&n.y&&!n.equals(this.oldViewerSize)&&(this.oldViewerSize=n,this.maintainSizeRatio||!this.elementArea?(r=n.x*this.sizeRatio,i=n.y*this.sizeRatio):(r=Math.sqrt(this.elementArea*(n.x/n.y)),i=this.elementArea/r),this.element.style.width=Math.round(r)+"px",this.element.style.height=Math.round(i)+"px",this.elementArea||(this.elementArea=r*i),this.updateSize()),t&&this.viewport){o=t.getBoundsNoRotate(!0),a=this.viewport.pixelFromPointNoRotate(o.getTopLeft(),!1),s=this.viewport.pixelFromPointNoRotate(o.getBottomRight(),!1).minus(this.totalBorderWidths);var l=this.displayRegion.style;l.display=this.world.getItemCount()?"block":"none",l.top=Math.round(a.y)+"px",l.left=Math.round(a.x)+"px";var c=Math.abs(a.x-s.x),u=Math.abs(a.y-s.y);l.width=Math.round(Math.max(c,0))+"px",l.height=Math.round(Math.max(u,0))+"px"}},addTiledImage:function(t){var n=this,r=t.originalTiledImage;delete t.original;var i=e.extend({},t,{success:function(e){var t=e.item;function i(){n._matchBounds(t,r)}function o(){n._matchOpacity(t,r)}function a(){n._matchCompositeOperation(t,r)}t._originalForNavigator=r,n._matchBounds(t,r,!0),n._matchOpacity(t,r),n._matchCompositeOperation(t,r),r.addHandler("bounds-change",i),r.addHandler("clip-change",i),r.addHandler("opacity-change",o),r.addHandler("composite-operation-change",a)}});return e.Viewer.prototype.addTiledImage.apply(this,[i])},destroy:function(){return e.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(e){for(var t,n=this.world.getItemCount(),r=0;r<n;r++)if((t=this.world.getItemAt(r))._originalForNavigator===e)return t;return null},_matchBounds:function(e,t,n){var r=t.getBoundsNoRotate();e.setPosition(r.getTopLeft(),n),e.setWidth(r.width,n),e.setRotation(t.getRotation(),n),e.setClip(t.getClip()),e.setFlip(t.getFlip())},_matchOpacity:function(e,t){e.setOpacity(t.opacity)},_matchCompositeOperation:function(e,t){e.setCompositeOperation(t.compositeOperation)}})}(t),function(e){var t={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};e.extend(e,{getString:function(n){var r,i=n.split("."),o=null,a=arguments,s=t;for(r=0;r<i.length-1;r++)s=s[i[r]]||{};return"string"!=typeof(o=s[i[r]])&&(e.console.log("Untranslated source string:",n),o=""),o.replace(/\{\d+\}/g,(function(e){var t=parseInt(e.match(/\d+/),10)+1;return t<a.length?a[t]:""}))},setString:function(e,n){var r,i=e.split("."),o=t;for(r=0;r<i.length-1;r++)o[i[r]]||(o[i[r]]={}),o=o[i[r]];o[i[r]]=n}})}(t),function(e){e.Point=function(e,t){this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0},e.Point.prototype={clone:function(){return new e.Point(this.x,this.y)},plus:function(t){return new e.Point(this.x+t.x,this.y+t.y)},minus:function(t){return new e.Point(this.x-t.x,this.y-t.y)},times:function(t){return new e.Point(this.x*t,this.y*t)},divide:function(t){return new e.Point(this.x/t,this.y/t)},negate:function(){return new e.Point(-this.x,-this.y)},distanceTo:function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},squaredDistanceTo:function(e){return Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2)},apply:function(t){return new e.Point(t(this.x),t(this.y))},equals:function(t){return t instanceof e.Point&&this.x===t.x&&this.y===t.y},rotate:function(t,n){var r,i;if(n=n||new e.Point(0,0),t%90==0)switch(e.positiveModulo(t,360)){case 0:r=1,i=0;break;case 90:r=0,i=1;break;case 180:r=-1,i=0;break;case 270:r=0,i=-1}else{var o=t*Math.PI/180;r=Math.cos(o),i=Math.sin(o)}var a=r*(this.x-n.x)-i*(this.y-n.y)+n.x,s=i*(this.x-n.x)+r*(this.y-n.y)+n.y;return new e.Point(a,s)},toString:function(){return"("+Math.round(100*this.x)/100+","+Math.round(100*this.y)/100+")"}}}(t),function(e){function n(t){var n,r,i=t.responseText,o=t.status;if(!t)throw new Error(e.getString("Errors.Security"));if(200!==t.status&&0!==t.status)throw n=404===(o=t.status)?"Not Found":t.statusText,new Error(e.getString("Errors.Status",o,n));if(i.match(/\s*<.*/))try{r=t.responseXML&&t.responseXML.documentElement?t.responseXML:e.parseXml(i)}catch{r=t.responseText}else if(i.match(/\s*[{[].*/))try{r=e.parseJSON(i)}catch{r=i}else r=i;return r}e.TileSource=function(t,n,r,i,o,a){var s,l,c=this,u=arguments;if(s=e.isPlainObject(t)?t:{width:u[0],height:u[1],tileSize:u[2],tileOverlap:u[3],minLevel:u[4],maxLevel:u[5]},e.EventSource.call(this),e.extend(!0,this,s),!this.success)for(l=0;l<arguments.length;l++)if(e.isFunction(arguments[l])){this.success=arguments[l];break}this.success&&this.addHandler("ready",(function(e){c.success(e)})),"string"===e.type(arguments[0])&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new e.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=s.width&&s.height?s.width/s.height:1,this.dimensions=new e.Point(s.width,s.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=s.tileOverlap?s.tileOverlap:0,this.minLevel=s.minLevel?s.minLevel:0,this.maxLevel=void 0!==s.maxLevel&&null!==s.maxLevel?s.maxLevel:s.width&&s.height?Math.ceil(Math.log(Math.max(s.width,s.height))/Math.log(2)):0,this.success&&e.isFunction(this.success)&&this.success(this))},e.TileSource.prototype={getTileSize:function(t){return e.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(e){return this._tileWidth?this._tileWidth:this.getTileSize(e)},getTileHeight:function(e){return this._tileHeight?this._tileHeight:this.getTileSize(e)},setMaxLevel:function(e){this.maxLevel=e,this._memoizeLevelScale()},getLevelScale:function(e){return this._memoizeLevelScale(),this.getLevelScale(e)},_memoizeLevelScale:function(){var e,t={};for(e=0;e<=this.maxLevel;e++)t[e]=1/Math.pow(2,this.maxLevel-e);this.getLevelScale=function(e){return t[e]}},getNumTiles:function(t){var n=this.getLevelScale(t),r=Math.ceil(n*this.dimensions.x/this.getTileWidth(t)),i=Math.ceil(n*this.dimensions.y/this.getTileHeight(t));return new e.Point(r,i)},getPixelRatio:function(t){var n=this.dimensions.times(this.getLevelScale(t)),r=1/n.x*e.pixelDensityRatio,i=1/n.y*e.pixelDensityRatio;return new e.Point(r,i)},getClosestLevel:function(){var e,t;for(e=this.minLevel+1;e<=this.maxLevel&&!((t=this.getNumTiles(e)).x>1||t.y>1);e++);return e-1},getTileAtPoint:function(t,n){var r=n.x>=0&&n.x<=1&&n.y>=0&&n.y<=1/this.aspectRatio;e.console.assert(r,"[TileSource.getTileAtPoint] must be called with a valid point.");var i=this.dimensions.x*this.getLevelScale(t),o=n.x*i,a=n.y*i,s=Math.floor(o/this.getTileWidth(t)),l=Math.floor(a/this.getTileHeight(t));n.x>=1&&(s=this.getNumTiles(t).x-1);var c=1e-15;return n.y>=1/this.aspectRatio-c&&(l=this.getNumTiles(t).y-1),new e.Point(s,l)},getTileBounds:function(t,n,r,i){var o=this.dimensions.times(this.getLevelScale(t)),a=this.getTileWidth(t),s=this.getTileHeight(t),l=0===n?0:a*n-this.tileOverlap,c=0===r?0:s*r-this.tileOverlap,u=a+(0===n?1:2)*this.tileOverlap,p=s+(0===r?1:2)*this.tileOverlap,d=1/o.x;return u=Math.min(u,o.x-l),p=Math.min(p,o.y-c),i?new e.Rect(0,0,u,p):new e.Rect(l*d,c*d,u*d,p*d)},getImageInfo:function(t){var r,i,o,a,s,l,c,u=this;t&&(c=(l=(s=t.split("/"))[s.length-1]).lastIndexOf("."))>-1&&(s[s.length-1]=l.slice(0,c)),i=function(n){"string"==typeof n&&(n=e.parseXml(n));var r=e.TileSource.determineType(u,n,t);r?(void 0===(a=r.prototype.configure.apply(u,[n,t])).ajaxWithCredentials&&(a.ajaxWithCredentials=u.ajaxWithCredentials),o=new r(a),u.ready=!0,u.raiseEvent("ready",{tileSource:o})):u.raiseEvent("open-failed",{message:"Unable to load TileSource",source:t})},t.match(/\.js$/)?(r=t.split("/").pop().replace(".js",""),e.jsonp({url:t,async:!1,callbackName:r,callback:i})):e.makeAjaxRequest({url:t,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(e){var t=n(e);i(t)},error:function(e,n){var r;try{r="HTTP "+e.status+" attempting to load TileSource"}catch{r=(void 0!==n&&n.toString?n.toString():"Unknown error")+" attempting to load TileSource"}u.raiseEvent("open-failed",{message:r,source:t})}})},supports:function(e,t){return!1},configure:function(e,t){throw new Error("Method not implemented.")},getTileUrl:function(e,t,n){throw new Error("Method not implemented.")},getTileAjaxHeaders:function(e,t,n){return{}},tileExists:function(e,t,n){var r=this.getNumTiles(e);return e>=this.minLevel&&e<=this.maxLevel&&t>=0&&n>=0&&t<r.x&&n<r.y}},e.extend(!0,e.TileSource.prototype,e.EventSource.prototype),e.TileSource.determineType=function(n,r,i){var o;for(o in t)if(o.match(/.+TileSource$/)&&e.isFunction(t[o])&&e.isFunction(t[o].prototype.supports)&&t[o].prototype.supports.call(n,r,i))return t[o];return e.console.error("No TileSource was able to open %s %s",i,r),null}}(t),function(e){function t(t,r){if(!r||!r.documentElement)throw new Error(e.getString("Errors.Xml"));var i,o,a,s,l,c=r.documentElement,u=c.localName||c.tagName,p=r.documentElement.namespaceURI,d=null,h=[];if("Image"===u)try{if(void 0===(s=c.getElementsByTagName("Size")[0])&&(s=c.getElementsByTagNameNS(p,"Size")[0]),d={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:c.getAttribute("Url"),Format:c.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(c.getAttribute("Overlap"),10),TileSize:parseInt(c.getAttribute("TileSize"),10),Size:{Height:parseInt(s.getAttribute("Height"),10),Width:parseInt(s.getAttribute("Width"),10)}}},!e.imageFormatSupported(d.Image.Format))throw new Error(e.getString("Errors.ImageFormat",d.Image.Format.toUpperCase()));for(void 0===(i=c.getElementsByTagName("DisplayRect"))&&(i=c.getElementsByTagNameNS(p,"DisplayRect")[0]),l=0;l<i.length;l++)void 0===(a=(o=i[l]).getElementsByTagName("Rect")[0])&&(a=o.getElementsByTagNameNS(p,"Rect")[0]),h.push({Rect:{X:parseInt(a.getAttribute("X"),10),Y:parseInt(a.getAttribute("Y"),10),Width:parseInt(a.getAttribute("Width"),10),Height:parseInt(a.getAttribute("Height"),10),MinLevel:parseInt(o.getAttribute("MinLevel"),10),MaxLevel:parseInt(o.getAttribute("MaxLevel"),10)}});return h.length&&(d.Image.DisplayRect=h),n(t,d)}catch(t){throw t instanceof Error?t:new Error(e.getString("Errors.Dzi"))}else{if("Collection"===u)throw new Error(e.getString("Errors.Dzc"));if("Error"===u){var f=c.getElementsByTagName("Message")[0].firstChild.nodeValue;throw new Error(f)}}throw new Error(e.getString("Errors.Dzi"))}function n(t,n){var r,i,o=n.Image,a=o.Url,s=o.Format,l=o.Size,c=o.DisplayRect||[],u=parseInt(l.Width,10),p=parseInt(l.Height,10),d=parseInt(o.TileSize,10),h=parseInt(o.Overlap,10),f=[];for(i=0;i<c.length;i++)r=c[i].Rect,f.push(new e.DisplayRect(parseInt(r.X,10),parseInt(r.Y,10),parseInt(r.Width,10),parseInt(r.Height,10),parseInt(r.MinLevel,10),parseInt(r.MaxLevel,10)));return e.extend(!0,{width:u,height:p,tileSize:d,tileOverlap:h,minLevel:null,maxLevel:null,tilesUrl:a,fileFormat:s,displayRects:f},n)}e.DziTileSource=function(t,n,r,i,o,a,s,l,c){var u,p,d,h;if(h=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=h.tilesUrl,this.fileFormat=h.fileFormat,this.displayRects=h.displayRects,this.displayRects)for(u=this.displayRects.length-1;u>=0;u--)for(d=(p=this.displayRects[u]).minLevel;d<=p.maxLevel;d++)this._levelRects[d]||(this._levelRects[d]=[]),this._levelRects[d].push(p);e.TileSource.apply(this,[h])},e.extend(e.DziTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){var n;return e.Image?n=e.Image.xmlns:e.documentElement&&("Image"===e.documentElement.localName||"Image"===e.documentElement.tagName)&&(n=e.documentElement.namespaceURI),-1!==(n=(n||"").toLowerCase()).indexOf("schemas.microsoft.com/deepzoom/2008")||-1!==n.indexOf("schemas.microsoft.com/deepzoom/2009")},configure:function(r,i){var o;return o=e.isPlainObject(r)?n(this,r):t(this,r),i&&!o.tilesUrl&&(o.tilesUrl=i.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),-1!==i.search(/\.(dzi|xml|js)\?/)?o.queryParams=i.match(/\?.*/):o.queryParams=""),o},getTileUrl:function(e,t,n){return[this.tilesUrl,e,"/",t,"_",n,".",this.fileFormat,this.queryParams].join("")},tileExists:function(e,t,n){var r,i,o,a,s,l,c,u=this._levelRects[e];if(this.minLevel&&e<this.minLevel||this.maxLevel&&e>this.maxLevel)return!1;if(!u||!u.length)return!0;for(c=u.length-1;c>=0;c--)if(!(e<(r=u[c]).minLevel||e>r.maxLevel)&&(i=this.getLevelScale(e),o=r.x*i,a=r.y*i,s=o+r.width*i,l=a+r.height*i,o=Math.floor(o/this._tileWidth),a=Math.floor(a/this._tileWidth),s=Math.ceil(s/this._tileWidth),l=Math.ceil(l/this._tileWidth),o<=t&&t<s&&a<=n&&n<l))return!0;return!1}})}(t),function(e){function n(e){var t=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],n=Array.isArray(e.profile)?e.profile[0]:e.profile,r=-1!==t.indexOf(n),i=!1;return 2===e.version&&e.profile.length>1&&e.profile[1].supports&&(i=-1!==e.profile[1].supports.indexOf("sizeByW")),3===e.version&&e.extraFeatures&&(i=-1!==e.extraFeatures.indexOf("sizeByWh")),!r||i}function r(e){for(var t=[],n=0;n<e.sizes.length;n++)t.push({url:e["@id"]+"/full/"+e.sizes[n].width+","+(3===e.version?e.sizes[n].height:"")+"/0/default."+e.tileFormat,width:e.sizes[n].width,height:e.sizes[n].height});return t.sort((function(e,t){return e.width-t.width}))}function i(t){if(!t||!t.documentElement)throw new Error(e.getString("Errors.Xml"));var n=t.documentElement,r=null;if("info"===n.tagName)try{return o(n,r={}),r}catch(t){throw t instanceof Error?t:new Error(e.getString("Errors.IIIF"))}throw new Error(e.getString("Errors.IIIF"))}function o(t,n,r){var i,a;if(3===t.nodeType&&r)(a=t.nodeValue.trim()).match(/^\d*$/)&&(a=Number(a)),n[r]?(e.isArray(n[r])||(n[r]=[n[r]]),n[r].push(a)):n[r]=a;else if(1===t.nodeType)for(i=0;i<t.childNodes.length;i++)o(t.childNodes[i],n,t.nodeName)}e.IIIFTileSource=function(t){if(e.extend(!0,this,t),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(t.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=t.version,this.tile_width&&this.tile_height)t.tileWidth=this.tile_width,t.tileHeight=this.tile_height;else if(this.tile_width)t.tileSize=this.tile_width;else if(this.tile_height)t.tileSize=this.tile_height;else if(this.tiles)if(1===this.tiles.length)t.tileWidth=this.tiles[0].width,t.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var i=0;i<this.tiles.length;i++)for(var o=0;o<this.tiles[i].scaleFactors.length;o++){var a=this.tiles[i].scaleFactors[o];this.scale_factors.push(a),t.tileSizePerScaleFactor[a]={width:this.tiles[i].width,height:this.tiles[i].height||this.tiles[i].width}}}else if(n(t)){for(var s=Math.min(this.height,this.width),l=[256,512,1024],c=[],u=0;u<l.length;u++)l[u]<=s&&c.push(l[u]);c.length>0?t.tileSize=Math.max.apply(null,c):t.tileSize=s}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,t.levels=r(this),e.extend(!0,t,{width:t.levels[t.levels.length-1].width,height:t.levels[t.levels.length-1].height,tileSize:Math.max(t.height,t.width),tileOverlap:0,minLevel:0,maxLevel:t.levels.length-1}),this.levels=t.levels):e.console.error("Nothing in the info.json to construct image pyramids from");if(!t.maxLevel&&!this.emulateLegacyImagePyramid)if(this.scale_factors){var p=Math.max.apply(null,this.scale_factors);t.maxLevel=Math.round(Math.log(p)*Math.LOG2E)}else t.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)));e.TileSource.apply(this,[t])},e.extend(e.IIIFTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return!!(e.protocol&&"http://iiif.io/api/image"===e.protocol||e["@context"]&&("http://library.stanford.edu/iiif/image-api/1.1/context.json"===e["@context"]||"http://iiif.io/api/image/1/context.json"===e["@context"])||e.profile&&0===e.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")||e.identifier&&e.width&&e.height)||!(!e.documentElement||"info"!==e.documentElement.tagName||"http://library.stanford.edu/iiif/image-api/ns/"!==e.documentElement.namespaceURI)},configure:function(n,r){if(e.isPlainObject(n)){if(n["@context"]){var o=n["@context"];if(Array.isArray(o))for(var a=0;a<o.length;a++)if("string"==typeof o[a]&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(o[a])||"http://library.stanford.edu/iiif/image-api/1.1/context.json"===o[a])){o=o[a];break}switch(o){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":n.version=1;break;case"http://iiif.io/api/image/2/context.json":n.version=2;break;case"http://iiif.io/api/image/3/context.json":n.version=3;break;default:e.console.error("Data has a @context property which contains no known IIIF context URI.")}}else n["@context"]="http://iiif.io/api/image/1.0/context.json",n["@id"]=r.replace("/info.json",""),n.version=1;if(!n["@id"]&&n.id&&(n["@id"]=n.id),n.preferredFormats)for(var s=0;s<n.preferredFormats.length;s++)if(t.imageFormatSupported(n.preferredFormats[s])){n.tileFormat=n.preferredFormats[s];break}return n}var l=i(n);return l["@context"]="http://iiif.io/api/image/1.0/context.json",l["@id"]=r.replace("/info.xml",""),l.version=1,l},getTileWidth:function(t){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileWidth.call(this,t);var n=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[n]?this.tileSizePerScaleFactor[n].width:this._tileWidth},getTileHeight:function(t){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileHeight.call(this,t);var n=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[n]?this.tileSizePerScaleFactor[n].height:this._tileHeight},getLevelScale:function(t){if(this.emulateLegacyImagePyramid){var n=NaN;return this.levels.length>0&&t>=this.minLevel&&t<=this.maxLevel&&(n=this.levels[t].width/this.levels[this.maxLevel].width),n}return e.TileSource.prototype.getLevelScale.call(this,t)},getNumTiles:function(t){return this.emulateLegacyImagePyramid?this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0):e.TileSource.prototype.getNumTiles.call(this,t)},getTileAtPoint:function(t,n){return this.emulateLegacyImagePyramid?new e.Point(0,0):e.TileSource.prototype.getTileAtPoint.call(this,t,n)},getTileUrl:function(e,t,n){if(this.emulateLegacyImagePyramid){var r=null;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(r=this.levels[e].url),r}var i,o,a,s,l,c,u,p,d,h,f,m,g,v="0",y=Math.pow(.5,this.maxLevel-e),b=Math.ceil(this.width*y),w=Math.ceil(this.height*y);return i=this.getTileWidth(e),o=this.getTileHeight(e),a=Math.ceil(i/y),s=Math.ceil(o/y),g=1===this.version?"native."+this.tileFormat:"default."+this.tileFormat,b<i&&w<o?(h=2===this.version&&b===this.width?"full":3===this.version&&b===this.width&&w===this.height?"max":3===this.version?b+","+w:b+",",l="full"):(c=t*a,u=n*s,p=Math.min(a,this.width-c),d=Math.min(s,this.height-u),l=0===t&&0===n&&p===this.width&&d===this.height?"full":[c,u,p,d].join(","),f=Math.ceil(p*y),m=Math.ceil(d*y),h=2===this.version&&f===this.width?"full":3===this.version&&f===this.width&&m===this.height?"max":3===this.version?f+","+m:f+","),[this["@id"],l,h,v,g].join("/")},__testonly__:{canBeTiled:n,constructLevels:r}})}(t),function(e){e.OsmTileSource=function(t,n,r,i,o){var a;(!(a=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]}).width||!a.height)&&(a.width=65572864,a.height=65572864),a.tileSize||(a.tileSize=256,a.tileOverlap=0),a.tilesUrl||(a.tilesUrl="http://tile.openstreetmap.org/"),a.minLevel=8,e.TileSource.apply(this,[a])},e.extend(e.OsmTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"openstreetmaps"===e.type},configure:function(e,t){return e},getTileUrl:function(e,t,n){return this.tilesUrl+(e-8)+"/"+t+"/"+n+".png"}})}(t),function(e){e.TmsTileSource=function(t,n,r,i,o){var a;a=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var s,l=256*Math.ceil(a.width/256),c=256*Math.ceil(a.height/256);s=l>c?l/256:c/256,a.maxLevel=Math.ceil(Math.log(s)/Math.log(2))-1,a.tileSize=256,a.width=l,a.height=c,e.TileSource.apply(this,[a])},e.extend(e.TmsTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"tiledmapservice"===e.type},configure:function(e,t){return e},getTileUrl:function(e,t,n){var r=this.getNumTiles(e).y-1;return this.tilesUrl+e+"/"+t+"/"+(r-n)+".png"}})}(t),function(e){e.ZoomifyTileSource=function(e){void 0===e.tileSize&&(e.tileSize=256),void 0===e.fileFormat&&(e.fileFormat="jpg",this.fileFormat=e.fileFormat);var n={x:e.width,y:e.height};for(e.imageSizes=[{x:e.width,y:e.height}],e.gridSize=[this._getGridSize(e.width,e.height,e.tileSize)];parseInt(n.x,10)>e.tileSize||parseInt(n.y,10)>e.tileSize;)n.x=Math.floor(n.x/2),n.y=Math.floor(n.y/2),e.imageSizes.push({x:n.x,y:n.y}),e.gridSize.push(this._getGridSize(n.x,n.y,e.tileSize));e.imageSizes.reverse(),e.gridSize.reverse(),e.minLevel=0,e.maxLevel=e.gridSize.length-1,t.TileSource.apply(this,[e])},e.extend(e.ZoomifyTileSource.prototype,e.TileSource.prototype,{_getGridSize:function(e,t,n){return{x:Math.ceil(e/n),y:Math.ceil(t/n)}},_calculateAbsoluteTileNumber:function(e,t,n){for(var r=0,i={},o=0;o<e;o++)r+=(i=this.gridSize[o]).x*i.y;return r+=(i=this.gridSize[e]).x*n+t},supports:function(e,t){return e.type&&"zoomifytileservice"===e.type},configure:function(e,t){return e},getTileUrl:function(e,t,n){var r=0,i=this._calculateAbsoluteTileNumber(e,t,n);return r=Math.floor(i/256),this.tilesUrl+"TileGroup"+r+"/"+e+"-"+t+"-"+n+"."+this.fileFormat}})}(t),function(e){function t(t){var n,r,i=[];for(r=0;r<t.length;r++)(n=t[r]).height&&n.width&&n.url?i.push({url:n.url,width:Number(n.width),height:Number(n.height)}):e.console.error("Unsupported image format: %s",n.url?n.url:"<no URL>");return i.sort((function(e,t){return e.height-t.height}))}function n(t,n){if(!n||!n.documentElement)throw new Error(e.getString("Errors.Xml"));var i,o,a=n.documentElement,s=a.tagName,l=null,c=[];if("image"===s)try{for(l={type:a.getAttribute("type"),levels:[]},c=a.getElementsByTagName("level"),o=0;o<c.length;o++)i=c[o],l.levels.push({url:i.getAttribute("url"),width:parseInt(i.getAttribute("width"),10),height:parseInt(i.getAttribute("height"),10)});return r(t,l)}catch(e){throw e instanceof Error?e:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if("collection"===s)throw new Error("Legacy Image Pyramid Collections not yet supported.");if("error"===s)throw new Error("Error: "+n)}throw new Error("Unknown element "+s)}function r(e,t){return t.levels}e.LegacyTileSource=function(n){var r,i,o;e.isArray(n)&&(r={type:"legacy-image-pyramid",levels:n}),r.levels=t(r.levels),r.levels.length>0?(i=r.levels[r.levels.length-1].width,o=r.levels[r.levels.length-1].height):(i=0,o=0,e.console.error("No supported image formats found")),e.extend(!0,r,{width:i,height:o,tileSize:Math.max(o,i),tileOverlap:0,minLevel:0,maxLevel:r.levels.length>0?r.levels.length-1:0}),e.TileSource.apply(this,[r]),this.levels=r.levels},e.extend(e.LegacyTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"legacy-image-pyramid"===e.type||e.documentElement&&"legacy-image-pyramid"===e.documentElement.getAttribute("type")},configure:function(t,i){return e.isPlainObject(t)?r(this,t):n(this,t)},getLevelScale:function(e){var t=NaN;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t},getNumTiles:function(t){return this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(e,t,n){var r=null;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(r=this.levels[e].url),r}})}(t),function(e){e.ImageTileSource=function(t){t=e.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},t),e.TileSource.apply(this,[t])},e.extend(e.ImageTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"image"===e.type},configure:function(e,t){return e},getImageInfo:function(t){var n=this._image=new Image,r=this;this.crossOriginPolicy&&(n.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(n.useCredentials=this.ajaxWithCredentials),e.addEvent(n,"load",(function(){r.width=n.naturalWidth,r.height=n.naturalHeight,r.aspectRatio=r.width/r.height,r.dimensions=new e.Point(r.width,r.height),r._tileWidth=r.width,r._tileHeight=r.height,r.tileOverlap=0,r.minLevel=0,r.levels=r._buildLevels(),r.maxLevel=r.levels.length-1,r.ready=!0,r.raiseEvent("ready",{tileSource:r})})),e.addEvent(n,"error",(function(){r.raiseEvent("open-failed",{message:"Error loading image at "+t,source:t})})),n.src=t},getLevelScale:function(e){var t=NaN;return e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t},getNumTiles:function(t){return this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(e,t,n){var r=null;return e>=this.minLevel&&e<=this.maxLevel&&(r=this.levels[e].url),r},getContext2D:function(e,t,n){var r=null;return e>=this.minLevel&&e<=this.maxLevel&&(r=this.levels[e].context2D),r},destroy:function(){this._freeupCanvasMemory()},_buildLevels:function(){var t=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!e.supportsCanvas||!this.useCanvas)return delete this._image,t;var n=this._image.naturalWidth,r=this._image.naturalHeight,i=document.createElement("canvas"),o=i.getContext("2d");if(i.width=n,i.height=r,o.drawImage(this._image,0,0,n,r),t[0].context2D=o,delete this._image,e.isCanvasTainted(i))return t;for(;n>=2&&r>=2;){n=Math.floor(n/2),r=Math.floor(r/2);var a=document.createElement("canvas"),s=a.getContext("2d");a.width=n,a.height=r,s.drawImage(i,0,0,n,r),t.splice(0,0,{context2D:s,width:n,height:r}),i=a,o=s}return t},_freeupCanvasMemory:function(){for(var e=0;e<this.levels.length;e++)this.levels[e].context2D.canvas.height=0,this.levels[e].context2D.canvas.width=0}})}(t),function(e){e.TileSourceCollection=function(t,n,r,i){e.console.error("TileSourceCollection is deprecated; use World instead")}}(t),function(e){function t(t){e.requestAnimationFrame((function(){n(t)}))}function n(n){var r;n.shouldFade&&(r=1-(e.now()-n.fadeBeginTime)/n.fadeLength,r=Math.min(1,r),r=Math.max(0,r),n.imgGroup&&e.setElementOpacity(n.imgGroup,r,!0),r>0&&t(n))}function r(n){n.shouldFade=!0,n.fadeBeginTime=e.now()+n.fadeDelay,window.setTimeout((function(){t(n)}),n.fadeDelay)}function i(t){t.shouldFade=!1,t.imgGroup&&e.setElementOpacity(t.imgGroup,1,!0)}function o(t,n){t.element.disabled||(n>=e.ButtonState.GROUP&&t.currentState===e.ButtonState.REST&&(i(t),t.currentState=e.ButtonState.GROUP),n>=e.ButtonState.HOVER&&t.currentState===e.ButtonState.GROUP&&(t.imgHover&&(t.imgHover.style.visibility=""),t.currentState=e.ButtonState.HOVER),n>=e.ButtonState.DOWN&&t.currentState===e.ButtonState.HOVER&&(t.imgDown&&(t.imgDown.style.visibility=""),t.currentState=e.ButtonState.DOWN))}function a(t,n){t.element.disabled||(n<=e.ButtonState.HOVER&&t.currentState===e.ButtonState.DOWN&&(t.imgDown&&(t.imgDown.style.visibility="hidden"),t.currentState=e.ButtonState.HOVER),n<=e.ButtonState.GROUP&&t.currentState===e.ButtonState.HOVER&&(t.imgHover&&(t.imgHover.style.visibility="hidden"),t.currentState=e.ButtonState.GROUP),n<=e.ButtonState.REST&&t.currentState===e.ButtonState.GROUP&&(r(t),t.currentState=e.ButtonState.REST))}e.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},e.Button=function(t){var n=this;e.EventSource.call(this),e.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},t),this.element=t.element||e.makeNeutralElement("div"),t.element||(this.imgRest=e.makeTransparentImage(this.srcRest),this.imgGroup=e.makeTransparentImage(this.srcGroup),this.imgHover=e.makeTransparentImage(this.srcHover),this.imgDown=e.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,e.setElementPointerEventsNone(this.imgRest),e.setElementPointerEventsNone(this.imgGroup),e.setElementPointerEventsNone(this.imgHover),e.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",e.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",e.Browser.vendor===e.BROWSERS.FIREFOX&&e.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=e.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new e.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(t){t.insideElementPressed?(o(n,e.ButtonState.DOWN),n.raiseEvent("enter",{originalEvent:t.originalEvent})):t.buttonDownAny||o(n,e.ButtonState.HOVER)},focusHandler:function(e){n.tracker.enterHandler(e),n.raiseEvent("focus",{originalEvent:e.originalEvent})},leaveHandler:function(t){a(n,e.ButtonState.GROUP),t.insideElementPressed&&n.raiseEvent("exit",{originalEvent:t.originalEvent})},blurHandler:function(e){n.tracker.leaveHandler(e),n.raiseEvent("blur",{originalEvent:e.originalEvent})},pressHandler:function(t){o(n,e.ButtonState.DOWN),n.raiseEvent("press",{originalEvent:t.originalEvent})},releaseHandler:function(t){t.insideElementPressed&&t.insideElementReleased?(a(n,e.ButtonState.HOVER),n.raiseEvent("release",{originalEvent:t.originalEvent})):t.insideElementPressed?a(n,e.ButtonState.GROUP):o(n,e.ButtonState.HOVER)},clickHandler:function(e){e.quick&&n.raiseEvent("click",{originalEvent:e.originalEvent})},keyHandler:function(e){13===e.keyCode?(n.raiseEvent("click",{originalEvent:e.originalEvent}),n.raiseEvent("release",{originalEvent:e.originalEvent}),e.preventDefault=!0):e.preventDefault=!1}}),a(this,e.ButtonState.REST)},e.extend(e.Button.prototype,e.EventSource.prototype,{notifyGroupEnter:function(){o(this,e.ButtonState.GROUP)},notifyGroupExit:function(){a(this,e.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,e.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,e.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}})}(t),function(e){e.ButtonGroup=function(t){e.extend(!0,this,{buttons:[],clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},t);var n,r=this.buttons.concat([]),i=this;if(this.element=t.element||e.makeNeutralElement("div"),!t.group)for(this.element.style.display="inline-block",n=0;n<r.length;n++)this.element.appendChild(r[n].element);e.setElementTouchActionNone(this.element),this.tracker=new e.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(e){var t;for(t=0;t<i.buttons.length;t++)i.buttons[t].notifyGroupEnter()},leaveHandler:function(e){var t;if(!e.insideElementPressed)for(t=0;t<i.buttons.length;t++)i.buttons[t].notifyGroupExit()}})},e.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var e=this.buttons.pop();this.element.removeChild(e.element),e.destroy()}this.tracker.destroy(),this.element=null}}}(t),function(e){e.Rect=function(t,n,r,i,o){var a,s;this.x="number"==typeof t?t:0,this.y="number"==typeof n?n:0,this.width="number"==typeof r?r:0,this.height="number"==typeof i?i:0,this.degrees="number"==typeof o?o:0,this.degrees=e.positiveModulo(this.degrees,360),this.degrees>=270?(a=this.getTopRight(),this.x=a.x,this.y=a.y,s=this.height,this.height=this.width,this.width=s,this.degrees-=270):this.degrees>=180?(a=this.getBottomRight(),this.x=a.x,this.y=a.y,this.degrees-=180):this.degrees>=90&&(a=this.getBottomLeft(),this.x=a.x,this.y=a.y,s=this.height,this.height=this.width,this.width=s,this.degrees-=90)},e.Rect.fromSummits=function(t,n,r){var i=t.distanceTo(n),o=t.distanceTo(r),a=n.minus(t),s=Math.atan(a.y/a.x);return a.x<0?s+=Math.PI:a.y<0&&(s+=2*Math.PI),new e.Rect(t.x,t.y,i,o,s/Math.PI*180)},e.Rect.prototype={clone:function(){return new e.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new e.Point(this.x,this.y)},getBottomRight:function(){return new e.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new e.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new e.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new e.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new e.Point(this.width,this.height)},equals:function(t){return t instanceof e.Rect&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height&&this.degrees===t.degrees},times:function(t){return new e.Rect(this.x*t,this.y*t,this.width*t,this.height*t,this.degrees)},translate:function(t){return new e.Rect(this.x+t.x,this.y+t.y,this.width,this.height,this.degrees)},union:function(t){var n=this.getBoundingBox(),r=t.getBoundingBox(),i=Math.min(n.x,r.x),o=Math.min(n.y,r.y),a=Math.max(n.x+n.width,r.x+r.width),s=Math.max(n.y+n.height,r.y+r.height);return new e.Rect(i,o,a-i,s-o)},intersection:function(t){var n=1e-10,r=[],i=this.getTopLeft();t.containsPoint(i,n)&&r.push(i);var o=this.getTopRight();t.containsPoint(o,n)&&r.push(o);var a=this.getBottomLeft();t.containsPoint(a,n)&&r.push(a);var s=this.getBottomRight();t.containsPoint(s,n)&&r.push(s);var l=t.getTopLeft();this.containsPoint(l,n)&&r.push(l);var c=t.getTopRight();this.containsPoint(c,n)&&r.push(c);var u=t.getBottomLeft();this.containsPoint(u,n)&&r.push(u);var p=t.getBottomRight();this.containsPoint(p,n)&&r.push(p);for(var d=this._getSegments(),h=t._getSegments(),f=0;f<d.length;f++)for(var m=d[f],g=0;g<h.length;g++){var v=h[g],y=b(m[0],m[1],v[0],v[1]);y&&r.push(y)}function b(t,r,i,o){var a=r.minus(t),s=o.minus(i),l=-s.x*a.y+a.x*s.y;if(0===l)return null;var c=(a.x*(t.y-i.y)-a.y*(t.x-i.x))/l,u=(s.x*(t.y-i.y)-s.y*(t.x-i.x))/l;return-n<=c&&c<=1-n&&-n<=u&&u<=1-n?new e.Point(t.x+u*a.x,t.y+u*a.y):null}if(0===r.length)return null;for(var w=r[0].x,x=r[0].x,k=r[0].y,S=r[0].y,C=1;C<r.length;C++){var E=r[C];E.x<w&&(w=E.x),E.x>x&&(x=E.x),E.y<k&&(k=E.y),E.y>S&&(S=E.y)}return new e.Rect(w,k,x-w,S-k)},_getSegments:function(){var e=this.getTopLeft(),t=this.getTopRight(),n=this.getBottomLeft(),r=this.getBottomRight();return[[e,t],[t,r],[r,n],[n,e]]},rotate:function(t,n){if(0===(t=e.positiveModulo(t,360)))return this.clone();n=n||this.getCenter();var r=this.getTopLeft().rotate(t,n),i=this.getTopRight().rotate(t,n).minus(r);i=i.apply((function(e){var t=1e-15;return Math.abs(e)<t?0:e}));var o=Math.atan(i.y/i.x);return i.x<0?o+=Math.PI:i.y<0&&(o+=2*Math.PI),new e.Rect(r.x,r.y,this.width,this.height,o/Math.PI*180)},getBoundingBox:function(){if(0===this.degrees)return this.clone();var t=this.getTopLeft(),n=this.getTopRight(),r=this.getBottomLeft(),i=this.getBottomRight(),o=Math.min(t.x,n.x,r.x,i.x),a=Math.max(t.x,n.x,r.x,i.x),s=Math.min(t.y,n.y,r.y,i.y),l=Math.max(t.y,n.y,r.y,i.y);return new e.Rect(o,s,a-o,l-s)},getIntegerBoundingBox:function(){var t=this.getBoundingBox(),n=Math.floor(t.x),r=Math.floor(t.y),i=Math.ceil(t.width+t.x-n),o=Math.ceil(t.height+t.y-r);return new e.Rect(n,r,i,o)},containsPoint:function(e,t){t=t||0;var n=this.getTopLeft(),r=this.getTopRight(),i=this.getBottomLeft(),o=r.minus(n),a=i.minus(n);return(e.x-n.x)*o.x+(e.y-n.y)*o.y>=-t&&(e.x-r.x)*o.x+(e.y-r.y)*o.y<=t&&(e.x-n.x)*a.x+(e.y-n.y)*a.y>=-t&&(e.x-i.x)*a.x+(e.y-i.y)*a.y<=t},toString:function(){return"["+Math.round(100*this.x)/100+", "+Math.round(100*this.y)/100+", "+Math.round(100*this.width)/100+"x"+Math.round(100*this.height)/100+", "+Math.round(100*this.degrees)/100+"deg]"}}}(t),function(e){var t={};function n(e){var t;e.quick&&(t="horizontal"===this.scroll?Math.floor(e.position.x/this.panelWidth):Math.floor(e.position.y/this.panelHeight),this.viewer.goToPage(t)),this.element.focus()}function r(t){if(this.dragging=!0,this.element){var n=Number(this.element.style.marginLeft.replace("px","")),r=Number(this.element.style.marginTop.replace("px","")),i=Number(this.element.style.width.replace("px","")),a=Number(this.element.style.height.replace("px","")),s=e.getElementSize(this.viewer.canvas);"horizontal"===this.scroll?-t.delta.x>0?n>-(i-s.x)&&(this.element.style.marginLeft=n+2*t.delta.x+"px",o(this,s.x,n+2*t.delta.x)):-t.delta.x<0&&n<0&&(this.element.style.marginLeft=n+2*t.delta.x+"px",o(this,s.x,n+2*t.delta.x)):-t.delta.y>0?r>-(a-s.y)&&(this.element.style.marginTop=r+2*t.delta.y+"px",o(this,s.y,r+2*t.delta.y)):-t.delta.y<0&&r<0&&(this.element.style.marginTop=r+2*t.delta.y+"px",o(this,s.y,r+2*t.delta.y))}}function i(t){if(this.element){var n=Number(this.element.style.marginLeft.replace("px","")),r=Number(this.element.style.marginTop.replace("px","")),i=Number(this.element.style.width.replace("px","")),a=Number(this.element.style.height.replace("px","")),s=e.getElementSize(this.viewer.canvas);"horizontal"===this.scroll?t.scroll>0?n>-(i-s.x)&&(this.element.style.marginLeft=n-60*t.scroll+"px",o(this,s.x,n-60*t.scroll)):t.scroll<0&&n<0&&(this.element.style.marginLeft=n-60*t.scroll+"px",o(this,s.x,n-60*t.scroll)):t.scroll<0?r>s.y-a&&(this.element.style.marginTop=r+60*t.scroll+"px",o(this,s.y,r+60*t.scroll)):t.scroll>0&&r<0&&(this.element.style.marginTop=r+60*t.scroll+"px",o(this,s.y,r+60*t.scroll)),t.preventDefault=!0}}function o(t,n,r){var i,o,a,s,l,c;for(i="horizontal"===t.scroll?t.panelWidth:t.panelHeight,o=Math.ceil(n/i)+5,l=o=(o=(a=Math.ceil((Math.abs(r)+n)/i)+1)-o)<0?0:o;l<a&&l<t.panels.length;l++)if(!(c=t.panels[l]).activePanel){var u,p=t.viewer.tileSources[l];u=p.referenceStripThumbnailUrl?{type:"image",url:p.referenceStripThumbnailUrl}:p,s=new e.Viewer({id:c.id,tileSources:[u],element:c,navigatorSizeRatio:t.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:t.viewer.loadTilesWithAjax,ajaxHeaders:t.viewer.ajaxHeaders,useCanvas:t.useCanvas}),e.setElementPointerEventsNone(s.canvas),e.setElementPointerEventsNone(s.container),s.innerTracker.setTracking(!1),s.outerTracker.setTracking(!1),t.miniViewers[c.id]=s,c.activePanel=!0}}function a(e){var t=e.eventSource.element;"horizontal"===this.scroll?t.style.marginBottom="0px":t.style.marginLeft="0px"}function s(t){var n=t.eventSource.element;"horizontal"===this.scroll?n.style.marginBottom="-"+e.getElementSize(n).y/2+"px":n.style.marginLeft="-"+e.getElementSize(n).x/2+"px"}function l(e){if(e.ctrl||e.alt||e.meta)e.preventDefault=!1;else switch(e.keyCode){case 38:case 39:i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),e.preventDefault=!0;break;case 40:case 37:i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),e.preventDefault=!0;break;default:e.preventDefault=!1}}function c(e){if(e.ctrl||e.alt||e.meta)e.preventDefault=!1;else switch(e.keyCode){case 61:case 48:case 119:case 87:case 100:i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),e.preventDefault=!0;break;case 45:case 115:case 83:case 97:i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),e.preventDefault=!0;break;default:e.preventDefault=!1}}e.ReferenceStrip=function(u){var p,d,h,f=this,m=u.viewer,g=e.getElementSize(m.element);for(u.id||(u.id="referencestrip-"+e.now(),this.element=e.makeNeutralElement("div"),this.element.id=u.id,this.element.className="referencestrip"),u=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.referenceStripSizeRatio,position:e.DEFAULT_SETTINGS.referenceStripPosition,scroll:e.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold},u,{element:this.element}),e.extend(this,u),t[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,(d=this.element.style).marginTop="0px",d.marginRight="0px",d.marginBottom="0px",d.marginLeft="0px",d.left="0px",d.bottom="0px",d.border="0px",d.background="#000",d.position="relative",e.setElementTouchActionNone(this.element),e.setElementOpacity(this.element,.8),this.viewer=m,this.tracker=new e.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:e.delegate(this,n),dragHandler:e.delegate(this,r),scrollHandler:e.delegate(this,i),enterHandler:e.delegate(this,a),leaveHandler:e.delegate(this,s),keyDownHandler:e.delegate(this,l),keyHandler:e.delegate(this,c),preProcessEventHandler:function(e){"wheel"===e.eventType&&(e.preventDefault=!0)}}),u.width&&u.height?(this.element.style.width=u.width+"px",this.element.style.height=u.height+"px",m.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):"horizontal"===u.scroll?(this.element.style.width=g.x*u.sizeRatio*m.tileSources.length+12*m.tileSources.length+"px",this.element.style.height=g.y*u.sizeRatio+"px",m.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=g.y*u.sizeRatio*m.tileSources.length+12*m.tileSources.length+"px",this.element.style.width=g.x*u.sizeRatio+"px",m.addControl(this.element,{anchor:e.ControlAnchor.TOP_LEFT})),this.panelWidth=g.x*this.sizeRatio+8,this.panelHeight=g.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},h=0;h<m.tileSources.length;h++)(p=e.makeNeutralElement("div")).id=this.element.id+"-"+h,p.style.width=f.panelWidth+"px",p.style.height=f.panelHeight+"px",p.style.display="inline",p.style.float="left",p.style.cssFloat="left",p.style.styleFloat="left",p.style.padding="2px",e.setElementTouchActionNone(p),e.setElementPointerEventsNone(p),this.element.appendChild(p),p.activePanel=!1,this.panels.push(p);o(this,"vertical"===this.scroll?g.y:g.x,0),this.setFocus(0)},e.ReferenceStrip.prototype={setFocus:function(t){var n,r=this.element.querySelector("#"+this.element.id+"-"+t),i=e.getElementSize(this.viewer.canvas),s=Number(this.element.style.width.replace("px","")),l=Number(this.element.style.height.replace("px","")),c=-Number(this.element.style.marginLeft.replace("px","")),u=-Number(this.element.style.marginTop.replace("px",""));this.currentSelected!==r&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=r,this.currentSelected.style.background="#999","horizontal"===this.scroll?(n=Number(t)*(this.panelWidth+3))>c+i.x-this.panelWidth?(n=Math.min(n,s-i.x),this.element.style.marginLeft=-n+"px",o(this,i.x,-n)):n<c&&(n=Math.max(0,n-i.x/2),this.element.style.marginLeft=-n+"px",o(this,i.x,-n)):(n=Number(t)*(this.panelHeight+3))>u+i.y-this.panelHeight?(n=Math.min(n,l-i.y),this.element.style.marginTop=-n+"px",o(this,i.y,-n)):n<u&&(n=Math.max(0,n-i.y/2),this.element.style.marginTop=-n+"px",o(this,i.y,-n)),this.currentPage=t,a.call(this,{eventSource:this.tracker}))},update:function(){return!!t[this.id].animating&&(e.console.log("image reference strip update"),!0)},destroy:function(){if(this.miniViewers)for(var e in this.miniViewers)this.miniViewers[e].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}}}(t),function(e){e.DisplayRect=function(t,n,r,i,o,a){e.Rect.apply(this,[t,n,r,i]),this.minLevel=o,this.maxLevel=a},e.extend(e.DisplayRect.prototype,e.Rect.prototype)}(t),function(e){function t(e,t){return(1-Math.exp(e*-t))/(1-Math.exp(-e))}e.Spring=function(t){var n=arguments;"object"!=typeof t&&(t={initial:n.length&&"number"==typeof n[0]?n[0]:void 0,springStiffness:n.length>1?n[1].springStiffness:5,animationTime:n.length>1?n[1].animationTime:1.5}),e.console.assert("number"==typeof t.springStiffness&&0!==t.springStiffness,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),e.console.assert("number"==typeof t.animationTime&&t.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),t.exponential&&(this._exponential=!0,delete t.exponential),e.extend(!0,this,t),this.current={value:"number"==typeof this.initial?this.initial:this._exponential?0:1,time:e.now()},e.console.assert(!this._exponential||0!==this.current.value,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},e.Spring.prototype={resetTo:function(t){e.console.assert(!this._exponential||0!==t,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=t,this.start.time=this.target.time=this.current.time=e.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(t){e.console.assert(!this._exponential||0!==t,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=t,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(t){this.start.value+=t,this.target.value+=t,this._exponential&&(e.console.assert(0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(t){this._exponential=t,this._exponential&&(e.console.assert(0!==this.current.value&&0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){var n,r;this.current.time=e.now(),this._exponential?(n=this.start._logValue,r=this.target._logValue):(n=this.start.value,r=this.target.value);var i=this.current.time>=this.target.time?r:n+(r-n)*t(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),o=this.current.value;return this._exponential?this.current.value=Math.exp(i):this.current.value=i,o!==this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}}}(t),function(e){function t(t){e.extend(!0,this,{timeout:e.DEFAULT_SETTINGS.timeout,jobId:null},t),this.image=null}function n(e,t,n){e.jobsInProgress--,(!e.jobLimit||e.jobsInProgress<e.jobLimit)&&e.jobQueue.length>0&&(e.jobQueue.shift().start(),e.jobsInProgress++),n(t.image,t.errorMsg,t.request)}t.prototype={errorMsg:null,start:function(){var t=this,n=this.abort;this.image=new Image,this.image.onload=function(){t.finish(!0)},this.image.onabort=this.image.onerror=function(){t.errorMsg="Image load aborted",t.finish(!1)},this.jobId=window.setTimeout((function(){t.errorMsg="Image load exceeded timeout ("+t.timeout+" ms)",t.finish(!1)}),this.timeout),this.loadWithAjax?(this.request=e.makeAjaxRequest({url:this.src,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,responseType:"arraybuffer",success:function(e){var n;try{n=new window.Blob([e.response])}catch(t){var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if("TypeError"===t.name&&r){var i=new r;i.append(e.response),n=i.getBlob()}}0===n.size&&(t.errorMsg="Empty image response.",t.finish(!1));var o=(window.URL||window.webkitURL).createObjectURL(n);t.image.src=o},error:function(e){t.errorMsg="Image load aborted - XHR error",t.finish(!1)}}),this.abort=function(){t.request.abort(),"function"==typeof n&&n()}):(!1!==this.crossOriginPolicy&&(this.image.crossOrigin=this.crossOriginPolicy),this.image.src=this.src)},finish:function(e){this.image.onload=this.image.onerror=this.image.onabort=null,e||(this.image=null),this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},e.ImageLoader=function(t){e.extend(!0,this,{jobLimit:e.DEFAULT_SETTINGS.imageLoaderLimit,timeout:e.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},t)},e.ImageLoader.prototype={addJob:function(e){var r=this,i=function(t){n(r,t,e.callback)},o=new t({src:e.src,loadWithAjax:e.loadWithAjax,ajaxHeaders:e.loadWithAjax?e.ajaxHeaders:null,crossOriginPolicy:e.crossOriginPolicy,ajaxWithCredentials:e.ajaxWithCredentials,callback:i,abort:e.abort,timeout:this.timeout});!this.jobLimit||this.jobsInProgress<this.jobLimit?(o.start(),this.jobsInProgress++):this.jobQueue.push(o)},clear:function(){for(var e=0;e<this.jobQueue.length;e++){var t=this.jobQueue[e];"function"==typeof t.abort&&t.abort()}this.jobQueue=[]}}}(t),function(e){e.Tile=function(e,t,n,r,i,o,a,s,l,c){this.level=e,this.x=t,this.y=n,this.bounds=r,this.sourceBounds=c,this.exists=i,this.url=o,this.context2D=a,this.loadWithAjax=s,this.ajaxHeaders=l,this.ajaxHeaders?this.cacheKey=this.url+"+"+JSON.stringify(this.ajaxHeaders):this.cacheKey=this.url,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},e.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(".png")},drawHTML:function(t){this.cacheImageRecord?this.loaded?(this.element||(this.element=e.makeNeutralElement("div"),this.imgElement=this.cacheImageRecord.getImage().cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!==t&&t.appendChild(this.element),this.imgElement.parentNode!==this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",this.flipped&&(this.style.transform="scaleX(-1)"),e.setElementOpacity(this.element,this.opacity)):e.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString()):e.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString())},drawCanvas:function(t,n,r,i){var o,a,s,l=this.position.times(e.pixelDensityRatio),c=this.size.times(e.pixelDensityRatio);this.context2D||this.cacheImageRecord?(o=this.context2D||this.cacheImageRecord.getRenderedContext(),this.loaded&&o?(t.save(),t.globalAlpha=this.opacity,"number"==typeof r&&1!==r&&(l=l.times(r),c=c.times(r)),i instanceof e.Point&&(l=l.plus(i)),1===t.globalAlpha&&this._hasTransparencyChannel()&&t.clearRect(l.x,l.y,c.x,c.y),n({context:t,tile:this,rendered:o}),this.sourceBounds?(a=Math.min(this.sourceBounds.width,o.canvas.width),s=Math.min(this.sourceBounds.height,o.canvas.height)):(a=o.canvas.width,s=o.canvas.height),t.translate(l.x+c.x/2,0),this.flipped&&t.scale(-1,1),t.drawImage(o.canvas,0,0,a,s,-c.x/2,l.y,c.x,c.y),t.restore()):e.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString())):e.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString())},getScaleForEdgeSmoothing:function(){var t;if(this.cacheImageRecord)t=this.cacheImageRecord.getRenderedContext();else{if(!this.context2D)return e.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;t=this.context2D}return t.canvas.width/(this.size.x*e.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(t,n,r){var i=Math.max(1,Math.ceil((r.x-n.x)/2)),o=Math.max(1,Math.ceil((r.y-n.y)/2));return new e.Point(i,o).minus(this.position.times(e.pixelDensityRatio).times(t||1).apply((function(e){return e%1})))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(t),function(e){e.OverlayPlacement=e.Placement,e.OverlayRotationMode=e.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),e.Overlay=function(t,n,r){var i;i=e.isPlainObject(t)?t:{element:t,location:n,placement:r},this.element=i.element,this.style=i.element.style,this._init(i)},e.Overlay.prototype={_init:function(t){this.location=t.location,this.placement=void 0===t.placement?e.Placement.TOP_LEFT:t.placement,this.onDraw=t.onDraw,this.checkResize=void 0===t.checkResize||t.checkResize,this.width=void 0===t.width?null:t.width,this.height=void 0===t.height?null:t.height,this.rotationMode=t.rotationMode||e.OverlayRotationMode.EXACT,this.location instanceof e.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=e.Placement.TOP_LEFT),this.scales=null!==this.width&&null!==this.height,this.bounds=new e.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(t,n){var r=e.Placement.properties[this.placement];!r||(r.isHorizontallyCentered?t.x-=n.x/2:r.isRight&&(t.x-=n.x),r.isVerticallyCentered?t.y-=n.y/2:r.isBottom&&(t.y-=n.y))},destroy:function(){var t=this.element,n=this.style;t.parentNode&&(t.parentNode.removeChild(t),t.prevElementParent&&(n.display="none",document.body.appendChild(t))),this.onDraw=null,n.top="",n.left="",n.position="",null!==this.width&&(n.width=""),null!==this.height&&(n.height="");var r=e.getCssPropertyWithVendorPrefix("transformOrigin"),i=e.getCssPropertyWithVendorPrefix("transform");r&&i&&(n[r]="",n[i]="")},drawHTML:function(t,n){var r=this.element;r.parentNode!==t&&(r.prevElementParent=r.parentNode,r.prevNextSibling=r.nextSibling,t.appendChild(r),this.style.position="absolute",this.size=e.getElementSize(r));var i=this._getOverlayPositionAndSize(n),o=i.position,a=this.size=i.size,s=i.rotate;if(this.onDraw)this.onDraw(o,a,this.element);else{var l=this.style;l.left=o.x+"px",l.top=o.y+"px",null!==this.width&&(l.width=a.x+"px"),null!==this.height&&(l.height=a.y+"px");var c=e.getCssPropertyWithVendorPrefix("transformOrigin"),u=e.getCssPropertyWithVendorPrefix("transform");c&&u&&(s?(l[c]=this._getTransformOrigin(),l[u]="rotate("+s+"deg)"):(l[c]="",l[u]="")),l.display="block"}},_getOverlayPositionAndSize:function(t){var n=t.pixelFromPoint(this.location,!0),r=this._getSizeInPixels(t);this.adjust(n,r);var i=0;if(t.degrees&&this.rotationMode!==e.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX&&null!==this.width&&null!==this.height){var o=new e.Rect(n.x,n.y,r.x,r.y),a=this._getBoundingBox(o,t.degrees);n=a.getTopLeft(),r=a.getSize()}else i=t.degrees;return{position:n,size:r,rotate:i}},_getSizeInPixels:function(t){var n=this.size.x,r=this.size.y;if(null!==this.width||null!==this.height){var i=t.deltaPixelsFromPointsNoRotate(new e.Point(this.width||0,this.height||0),!0);null!==this.width&&(n=i.x),null!==this.height&&(r=i.y)}if(this.checkResize&&(null===this.width||null===this.height)){var o=this.size=e.getElementSize(this.element);null===this.width&&(n=o.x),null===this.height&&(r=o.y)}return new e.Point(n,r)},_getBoundingBox:function(e,t){var n=this._getPlacementPoint(e);return e.rotate(t,n).getBoundingBox()},_getPlacementPoint:function(t){var n=new e.Point(t.x,t.y),r=e.Placement.properties[this.placement];return r&&(r.isHorizontallyCentered?n.x+=t.width/2:r.isRight&&(n.x+=t.width),r.isVerticallyCentered?n.y+=t.height/2:r.isBottom&&(n.y+=t.height)),n},_getTransformOrigin:function(){var t="",n=e.Placement.properties[this.placement];return n&&(n.isLeft?t="left":n.isRight&&(t="right"),n.isTop?t+=" top":n.isBottom&&(t+=" bottom")),t},update:function(t,n){var r=e.isPlainObject(t)?t:{location:t,placement:n};this._init({location:r.location||this.location,placement:void 0!==r.placement?r.placement:this.placement,onDraw:r.onDraw||this.onDraw,checkResize:r.checkResize||this.checkResize,width:void 0!==r.width?r.width:this.width,height:void 0!==r.height?r.height:this.height,rotationMode:r.rotationMode||this.rotationMode})},getBounds:function(t){e.console.assert(t,"A viewport must now be passed to Overlay.getBounds.");var n=this.width,r=this.height;if(null===n||null===r){var i=t.deltaPointsFromPixelsNoRotate(this.size,!0);null===n&&(n=i.x),null===r&&(r=i.y)}var o=this.location.clone();return this.adjust(o,new e.Point(n,r)),this._adjustBoundsForRotation(t,new e.Rect(o.x,o.y,n,r))},_adjustBoundsForRotation:function(t,n){if(!t||0===t.degrees||this.rotationMode===e.OverlayRotationMode.EXACT)return n;if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX){if(null===this.width||null===this.height)return n;var r=this._getOverlayPositionAndSize(t);return t.viewerElementToViewportRectangle(new e.Rect(r.position.x,r.position.y,r.size.x,r.size.y))}return n.rotate(-t.degrees,this._getPlacementPoint(n))}}}(t),function(e){e.Drawer=function(t){e.console.assert(t.viewer,"[Drawer] options.viewer is required");var n=arguments;if(e.isPlainObject(t)||(t={source:n[0],viewport:n[1],element:n[2]}),e.console.assert(t.viewport,"[Drawer] options.viewport is required"),e.console.assert(t.element,"[Drawer] options.element is required"),t.source&&e.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=t.viewer,this.viewport=t.viewport,this.debugGridColor="string"==typeof t.debugGridColor?[t.debugGridColor]:t.debugGridColor||e.DEFAULT_SETTINGS.debugGridColor,t.opacity&&e.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=e.supportsCanvas&&(!this.viewer||this.viewer.useCanvas),this.container=e.getElement(t.element),this.canvas=e.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var r=this._calculateCanvasSize();this.canvas.width=r.x,this.canvas.height=r.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",e.setElementOpacity(this.canvas,this.opacity,!0),e.setElementPointerEventsNone(this.canvas),e.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},e.Drawer.prototype={addOverlay:function(t,n,r,i){return e.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(t,n,r,i),this},updateOverlay:function(t,n,r){return e.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(t,n,r),this},removeOverlay:function(t){return e.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(t),this},clearOverlays:function(){return e.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(t){var n=this.viewport.pixelFromPointNoRotate(t,!0);return new e.Point(n.x*e.pixelDensityRatio,n.y*e.pixelDensityRatio)},clipWithPolygons:function(e,t){if(this.useCanvas){var n=this._getContext(t);n.beginPath(),e.forEach((function(e){e.forEach((function(e,t){n[0===t?"moveTo":"lineTo"](e.x,e.y)}))})),n.clip()}},setOpacity:function(t){e.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var n=this.viewer.world,r=0;r<n.getItemCount();r++)n.getItemAt(r).setOpacity(t);return this},getOpacity:function(){e.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var t=this.viewer.world,n=0,r=0;r<t.getItemCount();r++){var i=t.getItemAt(r).getOpacity();i>n&&(n=i)}return n},needsUpdate:function(){return e.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return e.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return e.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return e.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var e=this._calculateCanvasSize();if((this.canvas.width!==e.x||this.canvas.height!==e.y)&&(this.canvas.width=e.x,this.canvas.height=e.y,this._updateImageSmoothingEnabled(this.context),null!==this.sketchCanvas)){var t=this._calculateSketchCanvasSize();this.sketchCanvas.width=t.x,this.sketchCanvas.height=t.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(e,t){if(this.useCanvas){var n=this._getContext(e);if(t)n.clearRect(t.x,t.y,t.width,t.height);else{var r=n.canvas;n.clearRect(0,0,r.width,r.height)}}},viewportToDrawerRectangle:function(t){var n=this.viewport.pixelFromPointNoRotate(t.getTopLeft(),!0),r=this.viewport.deltaPixelsFromPointsNoRotate(t.getSize(),!0);return new e.Rect(n.x*e.pixelDensityRatio,n.y*e.pixelDensityRatio,r.x*e.pixelDensityRatio,r.y*e.pixelDensityRatio)},drawTile:function(t,n,r,i,o){if(e.console.assert(t,"[Drawer.drawTile] tile is required"),e.console.assert(n,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var a=this._getContext(r);i=i||1,t.drawCanvas(a,n,i,o)}else t.drawHTML(this.canvas)},_getContext:function(e){var t=this.context;if(e){if(null===this.sketchCanvas){this.sketchCanvas=document.createElement("canvas");var n=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=n.x,this.sketchCanvas.height=n.y,this.sketchContext=this.sketchCanvas.getContext("2d"),0===this.viewport.getRotation()){var r=this;this.viewer.addHandler("rotate",(function e(){if(0!==r.viewport.getRotation()){r.viewer.removeHandler("rotate",e);var t=r._calculateSketchCanvasSize();r.sketchCanvas.width=t.x,r.sketchCanvas.height=t.y}}))}this._updateImageSmoothingEnabled(this.sketchContext)}t=this.sketchContext}return t},saveContext:function(e){!this.useCanvas||this._getContext(e).save()},restoreContext:function(e){!this.useCanvas||this._getContext(e).restore()},setClip:function(e,t){if(this.useCanvas){var n=this._getContext(t);n.beginPath(),n.rect(e.x,e.y,e.width,e.height),n.clip()}},drawRectangle:function(e,t,n){if(this.useCanvas){var r=this._getContext(n);r.save(),r.fillStyle=t,r.fillRect(e.x,e.y,e.width,e.height),r.restore()}},blendSketch:function(t,n,r,i){var o=t;if(e.isPlainObject(o)||(o={opacity:t,scale:n,translate:r,compositeOperation:i}),this.useCanvas&&this.sketchCanvas){t=o.opacity,i=o.compositeOperation;var a=o.bounds;if(this.context.save(),this.context.globalAlpha=t,i&&(this.context.globalCompositeOperation=i),a)a.x<0&&(a.width+=a.x,a.x=0),a.x+a.width>this.canvas.width&&(a.width=this.canvas.width-a.x),a.y<0&&(a.height+=a.y,a.y=0),a.y+a.height>this.canvas.height&&(a.height=this.canvas.height-a.y),this.context.drawImage(this.sketchCanvas,a.x,a.y,a.width,a.height,a.x,a.y,a.width,a.height);else{n=o.scale||1;var s=(r=o.translate)instanceof e.Point?r:new e.Point(0,0),l=0,c=0;if(r){var u=this.sketchCanvas.width-this.canvas.width,p=this.sketchCanvas.height-this.canvas.height;l=Math.round(u/2),c=Math.round(p/2)}this.context.drawImage(this.sketchCanvas,s.x-l*n,s.y-c*n,(this.canvas.width+2*l)*n,(this.canvas.height+2*c)*n,-l,-c,this.canvas.width+2*l,this.canvas.height+2*c)}this.context.restore()}},drawDebugInfo:function(t,n,r,i){if(this.useCanvas){var o=this.viewer.world.getIndexOfItem(i)%this.debugGridColor.length,a=this.context;a.save(),a.lineWidth=2*e.pixelDensityRatio,a.font="small-caps bold "+13*e.pixelDensityRatio+"px arial",a.strokeStyle=this.debugGridColor[o],a.fillStyle=this.debugGridColor[o],0!==this.viewport.degrees&&this._offsetForRotation({degrees:this.viewport.degrees}),i.getRotation(!0)%360!=0&&this._offsetForRotation({degrees:i.getRotation(!0),point:i.viewport.pixelFromPointNoRotate(i._getRotationPoint(!0),!0)}),0===i.viewport.degrees&&i.getRotation(!0)%360==0&&i._drawer.viewer.viewport.getFlip()&&i._drawer._flip(),a.strokeRect(t.position.x*e.pixelDensityRatio,t.position.y*e.pixelDensityRatio,t.size.x*e.pixelDensityRatio,t.size.y*e.pixelDensityRatio);var s=(t.position.x+t.size.x/2)*e.pixelDensityRatio,l=(t.position.y+t.size.y/2)*e.pixelDensityRatio;a.translate(s,l),a.rotate(Math.PI/180*-this.viewport.degrees),a.translate(-s,-l),0===t.x&&0===t.y&&(a.fillText("Zoom: "+this.viewport.getZoom(),t.position.x*e.pixelDensityRatio,(t.position.y-30)*e.pixelDensityRatio),a.fillText("Pan: "+this.viewport.getBounds().toString(),t.position.x*e.pixelDensityRatio,(t.position.y-20)*e.pixelDensityRatio)),a.fillText("Level: "+t.level,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+20)*e.pixelDensityRatio),a.fillText("Column: "+t.x,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+30)*e.pixelDensityRatio),a.fillText("Row: "+t.y,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+40)*e.pixelDensityRatio),a.fillText("Order: "+r+" of "+n,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+50)*e.pixelDensityRatio),a.fillText("Size: "+t.size.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+60)*e.pixelDensityRatio),a.fillText("Position: "+t.position.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+70)*e.pixelDensityRatio),0!==this.viewport.degrees&&this._restoreRotationChanges(),i.getRotation(!0)%360!=0&&this._restoreRotationChanges(),0===i.viewport.degrees&&i.getRotation(!0)%360==0&&i._drawer.viewer.viewport.getFlip()&&i._drawer._flip(),a.restore()}},debugRect:function(t){if(this.useCanvas){var n=this.context;n.save(),n.lineWidth=2*e.pixelDensityRatio,n.strokeStyle=this.debugGridColor[0],n.fillStyle=this.debugGridColor[0],n.strokeRect(t.x*e.pixelDensityRatio,t.y*e.pixelDensityRatio,t.width*e.pixelDensityRatio,t.height*e.pixelDensityRatio),n.restore()}},setImageSmoothingEnabled:function(e){this.useCanvas&&(this._imageSmoothingEnabled=e,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(e){e.msImageSmoothingEnabled=this._imageSmoothingEnabled,e.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(t){var n=this._getContext(t).canvas;return new e.Point(n.width,n.height)},getCanvasCenter:function(){return new e.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(t){var n=t.point?t.point.times(e.pixelDensityRatio):this.getCanvasCenter(),r=this._getContext(t.useSketch);r.save(),r.translate(n.x,n.y),this.viewer.viewport.flipped?(r.rotate(Math.PI/180*-t.degrees),r.scale(-1,1)):r.rotate(Math.PI/180*t.degrees),r.translate(-n.x,-n.y)},_flip:function(t){var n=(t=t||{}).point?t.point.times(e.pixelDensityRatio):this.getCanvasCenter(),r=this._getContext(t.useSketch);r.translate(n.x,0),r.scale(-1,1),r.translate(-n.x,0)},_restoreRotationChanges:function(e){this._getContext(e).restore()},_calculateCanvasSize:function(){var t=e.pixelDensityRatio,n=this.viewport.getContainerSize();return{x:Math.round(n.x*t),y:Math.round(n.y*t)}},_calculateSketchCanvasSize:function(){var e=this._calculateCanvasSize();if(0===this.viewport.getRotation())return e;var t=Math.ceil(Math.sqrt(e.x*e.x+e.y*e.y));return{x:t,y:t}}}}(t),function(e){e.Viewport=function(t){var n=arguments;n.length&&n[0]instanceof e.Point&&(t={containerSize:n[0],contentSize:n[1],config:n[2]}),t.config&&(e.extend(!0,t,t.config),delete t.config),this._margins=e.extend({left:0,top:0,right:0,bottom:0},t.margins||{}),delete t.margins,e.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:e.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:e.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:e.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:e.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:e.DEFAULT_SETTINGS.maxZoomLevel,degrees:e.DEFAULT_SETTINGS.degrees,flipped:e.DEFAULT_SETTINGS.flipped,homeFillsViewer:e.DEFAULT_SETTINGS.homeFillsViewer},t),this._updateContainerInnerSize(),this.centerSpringX=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new e.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._setContentBounds(new e.Rect(0,0,1,1),1),this.goHome(!0),this.update()},e.Viewport.prototype={resetContentSize:function(t){return e.console.assert(t,"[Viewport.resetContentSize] contentSize is required"),e.console.assert(t instanceof e.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),e.console.assert(t.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),e.console.assert(t.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new e.Rect(0,0,1,t.y/t.x),t.x),this},setHomeBounds:function(t,n){e.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(t,n)},_setContentBounds:function(t,n){e.console.assert(t,"[Viewport._setContentBounds] bounds is required"),e.console.assert(t instanceof e.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),e.console.assert(t.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),e.console.assert(t.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=t.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(n),this._contentBounds=t.rotate(this.degrees).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(n),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:n,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var e=this._contentAspectRatio/this.getAspectRatio();return(this.homeFillsViewer?e>=1?e:1:e>=1?1:e)/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var t=this._contentBounds.getCenter(),n=1/this.getHomeZoom(),r=n/this.getAspectRatio();return new e.Rect(t.x-n/2,t.y-r/2,n,r)},goHome:function(e){return this.viewer&&this.viewer.raiseEvent("home",{immediately:e}),this.fitBounds(this.getHomeBounds(),e)},getMinZoom:function(){var e=this.getHomeZoom();return this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*e},getMaxZoom:function(){var e=this.maxZoomLevel;return e||(e=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,e/=this._contentBounds.width),Math.max(e,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new e.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return e.extend({},this._margins)},setMargins:function(t){e.console.assert("object"===e.type(t),"[Viewport.setMargins] margins must be an object"),this._margins=e.extend({left:0,top:0,right:0,bottom:0},t),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(e){return this.getBoundsNoRotate(e).rotate(-this.getRotation())},getBoundsNoRotate:function(t){var n=this.getCenter(t),r=1/this.getZoom(t),i=r/this.getAspectRatio();return new e.Rect(n.x-r/2,n.y-i/2,r,i)},getBoundsWithMargins:function(e){return this.getBoundsNoRotateWithMargins(e).rotate(-this.getRotation(),this.getCenter(e))},getBoundsNoRotateWithMargins:function(e){var t=this.getBoundsNoRotate(e),n=this._containerInnerSize.x*this.getZoom(e);return t.x-=this._margins.left/n,t.y-=this._margins.top/n,t.width+=(this._margins.left+this._margins.right)/n,t.height+=(this._margins.top+this._margins.bottom)/n,t},getCenter:function(t){var n,r,i,o,a,s,l=new e.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),c=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return t?l:this.zoomPoint?(n=this.pixelFromPoint(this.zoomPoint,!0),o=(i=1/(r=this.getZoom()))/this.getAspectRatio(),a=new e.Rect(l.x-i/2,l.y-o/2,i,o),s=this._pixelFromPoint(this.zoomPoint,a).minus(n).divide(this._containerInnerSize.x*r),c.plus(s)):c},getZoom:function(e){return e?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(e){return Math.max(Math.min(e,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(t){var n=new e.Rect(t.x,t.y,t.width,t.height);if(!this.wrapHorizontal){var r=this.visibilityRatio*n.width,i=n.x+n.width,o=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width,a=this._contentBoundsNoRotate.x-i+r,s=o-n.x-r;r>this._contentBoundsNoRotate.width?n.x+=(a+s)/2:s<0?n.x+=s:a>0&&(n.x+=a)}if(!this.wrapVertical){var l=this.visibilityRatio*n.height,c=n.y+n.height,u=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height,p=this._contentBoundsNoRotate.y-c+l,d=u-n.y-l;l>this._contentBoundsNoRotate.height?n.y+=(p+d)/2:d<0?n.y+=d:p>0&&(n.y+=p)}return n},_raiseConstraintsEvent:function(e){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:e})},applyConstraints:function(e){var t=this.getZoom(),n=this._applyZoomConstraints(t);t!==n&&this.zoomTo(n,this.zoomPoint,e);var r=this.getBoundsNoRotate(),i=this._applyBoundaryConstraints(r);return this._raiseConstraintsEvent(e),(r.x!==i.x||r.y!==i.y||e)&&this.fitBounds(i.rotate(-this.getRotation()),e),this},ensureVisible:function(e){return this.applyConstraints(e)},_fitBounds:function(t,n){var r=(n=n||{}).immediately||!1,i=n.constraints||!1,o=this.getAspectRatio(),a=t.getCenter(),s=new e.Rect(t.x,t.y,t.width,t.height,t.degrees+this.getRotation()).getBoundingBox();s.getAspectRatio()>=o?s.height=s.width/o:s.width=s.height*o,s.x=a.x-s.width/2,s.y=a.y-s.height/2;var l=1/s.width;if(i){var c=s.getAspectRatio(),u=this._applyZoomConstraints(l);l!==u&&(l=u,s.width=1/l,s.x=a.x-s.width/2,s.height=s.width/c,s.y=a.y-s.height/2),a=(s=this._applyBoundaryConstraints(s)).getCenter(),this._raiseConstraintsEvent(r)}if(r)return this.panTo(a,!0),this.zoomTo(l,null,!0);this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0);var p=this.getBounds(),d=this.getZoom();if(0===d||Math.abs(l/d-1)<1e-8)return this.zoomTo(l,!0),this.panTo(a,r);var h=(s=s.rotate(-this.getRotation())).getTopLeft().times(l).minus(p.getTopLeft().times(d)).divide(l-d);return this.zoomTo(l,h,r)},fitBounds:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!1})},fitBoundsWithConstraints:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!0})},fitVertically:function(t){var n=new e.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(n,t)},fitHorizontally:function(t){var n=new e.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(n,t)},getConstrainedBounds:function(e){var t;return t=this.getBounds(e),this._applyBoundaryConstraints(t)},panBy:function(t,n){var r=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(r.plus(t),n)},panTo:function(e,t){return t?(this.centerSpringX.resetTo(e.x),this.centerSpringY.resetTo(e.y)):(this.centerSpringX.springTo(e.x),this.centerSpringY.springTo(e.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:e,immediately:t}),this},zoomBy:function(e,t,n){return this.zoomTo(this.zoomSpring.target.value*e,t,n)},zoomTo:function(t,n,r){var i=this;return this.zoomPoint=n instanceof e.Point&&!isNaN(n.x)&&!isNaN(n.y)?n:null,r?this._adjustCenterSpringsForZoomPoint((function(){i.zoomSpring.resetTo(t)})):this.zoomSpring.springTo(t),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:t,refPoint:n,immediately:r}),this},setRotation:function(t){return this.viewer&&this.viewer.drawer.canRotate()?(this.degrees=e.positiveModulo(t,360),this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:t}),this):this},getRotation:function(){return this.degrees},resize:function(e,t){var n,r=this.getBoundsNoRotate(),i=r;return this.containerSize.x=e.x,this.containerSize.y=e.y,this._updateContainerInnerSize(),t&&(n=e.x/this.containerSize.x,i.width=r.width*n,i.height=i.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:e,maintain:t}),this.fitBounds(i,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new e.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var e=this;this._adjustCenterSpringsForZoomPoint((function(){e.zoomSpring.update()})),this.centerSpringX.update(),this.centerSpringY.update();var t=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,t},_adjustCenterSpringsForZoomPoint:function(e){if(this.zoomPoint){var t=this.pixelFromPoint(this.zoomPoint,!0);e();var n=this.pixelFromPoint(this.zoomPoint,!0).minus(t),r=this.deltaPointsFromPixels(n,!0);this.centerSpringX.shiftBy(r.x),this.centerSpringY.shiftBy(r.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else e()},deltaPixelsFromPointsNoRotate:function(e,t){return e.times(this._containerInnerSize.x*this.getZoom(t))},deltaPixelsFromPoints:function(e,t){return this.deltaPixelsFromPointsNoRotate(e.rotate(this.getRotation()),t)},deltaPointsFromPixelsNoRotate:function(e,t){return e.divide(this._containerInnerSize.x*this.getZoom(t))},deltaPointsFromPixels:function(e,t){return this.deltaPointsFromPixelsNoRotate(e,t).rotate(-this.getRotation())},pixelFromPointNoRotate:function(e,t){return this._pixelFromPointNoRotate(e,this.getBoundsNoRotate(t))},pixelFromPoint:function(e,t){return this._pixelFromPoint(e,this.getBoundsNoRotate(t))},_pixelFromPointNoRotate:function(t,n){return t.minus(n.getTopLeft()).times(this._containerInnerSize.x/n.width).plus(new e.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(e,t){return this._pixelFromPointNoRotate(e.rotate(this.getRotation(),this.getCenter(!0)),t)},pointFromPixelNoRotate:function(t,n){var r=this.getBoundsNoRotate(n);return t.minus(new e.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/r.width).plus(r.getTopLeft())},pointFromPixel:function(e,t){return this.pointFromPixelNoRotate(e,t).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(t,n){var r=this._contentBoundsNoRotate.width;return new e.Point(t*this._contentSizeNoRotate.x/r,n*this._contentSizeNoRotate.x/r)},viewportToImageCoordinates:function(t,n){if(t instanceof e.Point)return this.viewportToImageCoordinates(t.x,t.y);if(this.viewer){var r=this.viewer.world.getItemCount();if(r>1)e.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(1===r)return this.viewer.world.getItemAt(0).viewportToImageCoordinates(t,n,!0)}return this._viewportToImageDelta(t-this._contentBoundsNoRotate.x,n-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(t,n){var r=this._contentBoundsNoRotate.width;return new e.Point(t/this._contentSizeNoRotate.x*r,n/this._contentSizeNoRotate.x*r)},imageToViewportCoordinates:function(t,n){if(t instanceof e.Point)return this.imageToViewportCoordinates(t.x,t.y);if(this.viewer){var r=this.viewer.world.getItemCount();if(r>1)e.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(1===r)return this.viewer.world.getItemAt(0).imageToViewportCoordinates(t,n,!0)}var i=this._imageToViewportDelta(t,n);return i.x+=this._contentBoundsNoRotate.x,i.y+=this._contentBoundsNoRotate.y,i},imageToViewportRectangle:function(t,n,r,i){var o=t;if(o instanceof e.Rect||(o=new e.Rect(t,n,r,i)),this.viewer){var a=this.viewer.world.getItemCount();if(a>1)e.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(1===a)return this.viewer.world.getItemAt(0).imageToViewportRectangle(t,n,r,i,!0)}var s=this.imageToViewportCoordinates(o.x,o.y),l=this._imageToViewportDelta(o.width,o.height);return new e.Rect(s.x,s.y,l.x,l.y,o.degrees)},viewportToImageRectangle:function(t,n,r,i){var o=t;if(o instanceof e.Rect||(o=new e.Rect(t,n,r,i)),this.viewer){var a=this.viewer.world.getItemCount();if(a>1)e.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(1===a)return this.viewer.world.getItemAt(0).viewportToImageRectangle(t,n,r,i,!0)}var s=this.viewportToImageCoordinates(o.x,o.y),l=this._viewportToImageDelta(o.width,o.height);return new e.Rect(s.x,s.y,l.x,l.y,o.degrees)},viewerElementToImageCoordinates:function(e){var t=this.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.pixelFromPoint(t,!0)},windowToImageCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var n=t.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(n)},imageToWindowCoordinates:function(t){return e.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer."),this.imageToViewerElementCoordinates(t).plus(e.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(e){return this.pointFromPixel(e,!0)},viewportToViewerElementCoordinates:function(e){return this.pixelFromPoint(e,!0)},viewerElementToViewportRectangle:function(t){return e.Rect.fromSummits(this.pointFromPixel(t.getTopLeft(),!0),this.pointFromPixel(t.getTopRight(),!0),this.pointFromPixel(t.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(t){return e.Rect.fromSummits(this.pixelFromPoint(t.getTopLeft(),!0),this.pixelFromPoint(t.getTopRight(),!0),this.pixelFromPoint(t.getBottomLeft(),!0))},windowToViewportCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var n=t.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(n)},viewportToWindowCoordinates:function(t){return e.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer."),this.viewportToViewerElementCoordinates(t).plus(e.getElementPosition(this.viewer.element))},viewportToImageZoom:function(t){if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)e.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(1===n)return this.viewer.world.getItemAt(0).viewportToImageZoom(t)}var r=this._contentSizeNoRotate.x;return t*(this._containerInnerSize.x/r*this._contentBoundsNoRotate.width)},imageToViewportZoom:function(t){if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)e.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(1===n)return this.viewer.world.getItemAt(0).imageToViewportZoom(t)}return t*(this._contentSizeNoRotate.x/this._containerInnerSize.x/this._contentBoundsNoRotate.width)},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(e){return this.flipped===e||(this.flipped=e,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:e})),this}}}(t),function(e){function n(e,t,n,i,o,a,s,l,c){var u=s.getBoundingBox().getTopLeft(),p=s.getBoundingBox().getBottomRight();e.viewer&&e.viewer.raiseEvent("update-level",{tiledImage:e,havedrawn:t,level:i,opacity:o,visibility:a,drawArea:s,topleft:u,bottomright:p,currenttime:l,best:c}),h(e.coverage,i),h(e.loadingCoverage,i);var d=e._getCornerTiles(i,u,p),f=d.topLeft,m=d.bottomRight,g=e.source.getNumTiles(i),v=e.viewport.pixelFromPoint(e.viewport.getCenter());e.getFlip()&&(m.x+=1,e.wrapHorizontal||(m.x=Math.min(m.x,g.x-1)));for(var y=f.x;y<=m.x;y++)for(var b=f.y;b<=m.y;b++){var w;if(e.getFlip()){var x=(g.x+y%g.x)%g.x;w=y+g.x-x-x-1}else w=y;null!==s.intersection(e.getTileBounds(i,w,b))&&(c=r(e,n,t,w,b,i,o,a,v,g,l,c))}return c}function r(e,t,n,r,o,a,u,h,m,g,v,y){var b=i(r,o,a,e,e.source,e.tilesMatrix,v,g,e._worldWidthCurrent,e._worldHeightCurrent),w=n;e.viewer&&e.viewer.raiseEvent("update-tile",{tiledImage:e,tile:b}),d(e.coverage,a,r,o,!1);var x=b.loaded||b.loading||p(e.loadingCoverage,a,r,o);if(d(e.loadingCoverage,a,r,o,x),!b.exists||(t&&!w&&(p(e.coverage,a,r,o)?d(e.coverage,a,r,o,!0):w=!0),!w))return y;if(l(b,e.source.tileOverlap,e.viewport,m,h,e),!b.loaded)if(b.context2D)s(e,b);else{var k=e._tileCache.getImageRecord(b.cacheKey);k&&s(e,b,k.getImage())}return b.loaded?c(e,b,r,o,a,u,v)&&(e._needsDraw=!0):b.loading?e._tilesLoading++:x||(y=f(y,b)),y}function i(t,n,r,i,o,a,s,l,c,u){var p,d,h,f,m,g,v,y,b;return a[r]||(a[r]={}),a[r][t]||(a[r][t]={}),(!a[r][t][n]||!a[r][t][n].flipped!=!i.flipped)&&(p=(l.x+t%l.x)%l.x,d=(l.y+n%l.y)%l.y,h=i.getTileBounds(r,t,n),f=o.getTileBounds(r,p,d,!0),m=o.tileExists(r,p,d),g=o.getTileUrl(r,p,d),i.loadTilesWithAjax?(v=o.getTileAjaxHeaders(r,p,d),e.isPlainObject(i.ajaxHeaders)&&(v=e.extend({},i.ajaxHeaders,v))):v=null,y=o.getContext2D?o.getContext2D(r,p,d):void 0,b=new e.Tile(r,t,n,h,m,g,y,i.loadTilesWithAjax,v,f),i.getFlip()?0===p&&(b.isRightMost=!0):p===l.x-1&&(b.isRightMost=!0),d===l.y-1&&(b.isBottomMost=!0),b.flipped=i.flipped,a[r][t][n]=b),(b=a[r][t][n]).lastTouchTime=s,b}function o(e,t,n){t.loading=!0,e._imageLoader.addJob({src:t.url,loadWithAjax:t.loadWithAjax,ajaxHeaders:t.ajaxHeaders,crossOriginPolicy:e.crossOriginPolicy,ajaxWithCredentials:e.ajaxWithCredentials,callback:function(r,i,o){a(e,t,n,r,i,o)},abort:function(){t.loading=!1}})}function a(t,n,r,i,o,a){if(!i)return e.console.log("Tile %s failed to load: %s - error: %s",n,n.url,o),t.viewer.raiseEvent("tile-load-failed",{tile:n,tiledImage:t,time:r,message:o,tileRequest:a}),n.loading=!1,void(n.exists=!1);if(r<t.lastResetTime)return e.console.log("Ignoring tile %s loaded before reset: %s",n,n.url),void(n.loading=!1);var l=function(){var e=t.source.getClosestLevel();s(t,n,i,e,a)};t._midDraw?window.setTimeout(l,1):l()}function s(e,t,n,r,i){var o=0;function a(){return o++,s}function s(){0==--o&&(t.loading=!1,t.loaded=!0,t.context2D||e._tileCache.cacheTile({image:n,tile:t,cutoff:r,tiledImage:e}),e._needsDraw=!0)}e.viewer.raiseEvent("tile-loaded",{tile:t,tiledImage:e,tileRequest:i,image:n,getCompletionCallback:a}),a()()}function l(t,n,r,i,o,a){var s=t.bounds.getTopLeft();s.x*=a._scaleSpring.current.value,s.y*=a._scaleSpring.current.value,s.x+=a._xSpring.current.value,s.y+=a._ySpring.current.value;var l=t.bounds.getSize();l.x*=a._scaleSpring.current.value,l.y*=a._scaleSpring.current.value;var c=r.pixelFromPointNoRotate(s,!0),u=r.pixelFromPointNoRotate(s,!1),p=r.deltaPixelsFromPointsNoRotate(l,!0),d=r.deltaPixelsFromPointsNoRotate(l,!1),h=u.plus(d.divide(2)),f=i.squaredDistanceTo(h);n||(p=p.plus(new e.Point(1,1))),t.isRightMost&&a.wrapHorizontal&&(p.x+=.75),t.isBottomMost&&a.wrapVertical&&(p.y+=.75),t.position=c,t.size=p,t.squaredDistance=f,t.visibility=o}function c(e,t,n,r,i,o,a){var s,l,c=1e3*e.blendTime;if(t.blendStart||(t.blendStart=a),s=a-t.blendStart,l=c?Math.min(1,s/c):1,e.alwaysBlend&&(l*=o),t.opacity=l,e.lastDrawn.push(t),1===l)d(e.coverage,i,n,r,!0),e._hasOpaqueTile=!0;else if(s<c)return!0;return!1}function u(e,t,n,r){var i,o,a,s;if(!e[t])return!1;if(void 0===n||void 0===r){for(a in i=e[t])if(Object.prototype.hasOwnProperty.call(i,a))for(s in o=i[a])if(Object.prototype.hasOwnProperty.call(o,s)&&!o[s])return!1;return!0}return void 0===e[t][n]||void 0===e[t][n][r]||!0===e[t][n][r]}function p(e,t,n,r){return void 0===n||void 0===r?u(e,t+1):u(e,t+1,2*n,2*r)&&u(e,t+1,2*n,2*r+1)&&u(e,t+1,2*n+1,2*r)&&u(e,t+1,2*n+1,2*r+1)}function d(t,n,r,i,o){t[n]?(t[n][r]||(t[n][r]={}),t[n][r][i]=o):e.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",n)}function h(e,t){e[t]={}}function f(e,t){return!e||t.visibility>e.visibility||t.visibility===e.visibility&&t.squaredDistance<e.squaredDistance?t:e}function m(t,n){if(0!==t.opacity&&(0!==n.length||t.placeholderFillStyle)){var r,i=n[0];i&&(r=t.opacity<1||t.compositeOperation&&"source-over"!==t.compositeOperation||!t._isBottomItem()&&i._hasTransparencyChannel());var o,a,s,l=t.viewport.getZoom(!0),c=t.viewportToImageZoom(l);n.length>1&&c>t.smoothTileEdgesMinZoom&&!t.iOSDevice&&t.getRotation(!0)%360==0&&e.supportsCanvas&&(r=!0,o=i.getScaleForEdgeSmoothing(),a=i.getTranslationForEdgeSmoothing(o,t._drawer.getCanvasSize(!1),t._drawer.getCanvasSize(!0))),r&&(o||(s=t.viewport.viewportToViewerElementRectangle(t.getClippedBounds(!0)).getIntegerBoundingBox(),t._drawer.viewer.viewport.getFlip()&&(0!==t.viewport.degrees||t.getRotation(!0)%360!=0)&&(s.x=t._drawer.viewer.container.clientWidth-(s.x+s.width)),s=s.times(e.pixelDensityRatio)),t._drawer._clear(!0,s)),o||(0!==t.viewport.degrees&&t._drawer._offsetForRotation({degrees:t.viewport.degrees,useSketch:r}),t.getRotation(!0)%360!=0&&t._drawer._offsetForRotation({degrees:t.getRotation(!0),point:t.viewport.pixelFromPointNoRotate(t._getRotationPoint(!0),!0),useSketch:r}),0===t.viewport.degrees&&t.getRotation(!0)%360==0&&t._drawer.viewer.viewport.getFlip()&&t._drawer._flip());var u=!1;if(t._clip){t._drawer.saveContext(r);var p=t.imageToViewportRectangle(t._clip,!0);p=p.rotate(-t.getRotation(!0),t._getRotationPoint(!0));var d=t._drawer.viewportToDrawerRectangle(p);o&&(d=d.times(o)),a&&(d=d.translate(a)),t._drawer.setClip(d,r),u=!0}if(t._croppingPolygons){t._drawer.saveContext(r);try{var h=t._croppingPolygons.map((function(e){return e.map((function(e){var n=t.imageToViewportCoordinates(e.x,e.y,!0).rotate(-t.getRotation(!0),t._getRotationPoint(!0)),r=t._drawer.viewportCoordToDrawerCoord(n);return o&&(r=r.times(o)),r}))}));t._drawer.clipWithPolygons(h,r)}catch(t){e.console.error(t)}u=!0}if(t.placeholderFillStyle&&!1===t._hasOpaqueTile){var f=t._drawer.viewportToDrawerRectangle(t.getBounds(!0));o&&(f=f.times(o)),a&&(f=f.translate(a));var m=null;m="function"==typeof t.placeholderFillStyle?t.placeholderFillStyle(t,t._drawer.context):t.placeholderFillStyle,t._drawer.drawRectangle(f,m,r)}for(var v=n.length-1;v>=0;v--)i=n[v],t._drawer.drawTile(i,t._drawingHandler,r,o,a),i.beingDrawn=!0,t.viewer&&t.viewer.raiseEvent("tile-drawn",{tiledImage:t,tile:i});u&&t._drawer.restoreContext(r),o||(t.getRotation(!0)%360!=0&&t._drawer._restoreRotationChanges(r),0!==t.viewport.degrees&&t._drawer._restoreRotationChanges(r)),r&&(o&&(0!==t.viewport.degrees&&t._drawer._offsetForRotation({degrees:t.viewport.degrees,useSketch:!1}),t.getRotation(!0)%360!=0&&t._drawer._offsetForRotation({degrees:t.getRotation(!0),point:t.viewport.pixelFromPointNoRotate(t._getRotationPoint(!0),!0),useSketch:!1})),t._drawer.blendSketch({opacity:t.opacity,scale:o,translate:a,compositeOperation:t.compositeOperation,bounds:s}),o&&(t.getRotation(!0)%360!=0&&t._drawer._restoreRotationChanges(!1),0!==t.viewport.degrees&&t._drawer._restoreRotationChanges(!1))),o||0===t.viewport.degrees&&t.getRotation(!0)%360==0&&t._drawer.viewer.viewport.getFlip()&&t._drawer._flip(),g(t,n)}}function g(t,n){if(t.debugMode)for(var r=n.length-1;r>=0;r--){var i=n[r];try{t._drawer.drawDebugInfo(i,n.length,r,t)}catch(t){e.console.error(t)}}}e.TiledImage=function(n){var r=this;e.console.assert(n.tileCache,"[TiledImage] options.tileCache is required"),e.console.assert(n.drawer,"[TiledImage] options.drawer is required"),e.console.assert(n.viewer,"[TiledImage] options.viewer is required"),e.console.assert(n.imageLoader,"[TiledImage] options.imageLoader is required"),e.console.assert(n.source,"[TiledImage] options.source is required"),e.console.assert(!n.clip||n.clip instanceof e.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),e.EventSource.call(this),this._tileCache=n.tileCache,delete n.tileCache,this._drawer=n.drawer,delete n.drawer,this._imageLoader=n.imageLoader,delete n.imageLoader,n.clip instanceof e.Rect&&(this._clip=n.clip.clone()),delete n.clip;var i=n.x||0;delete n.x;var o=n.y||0;delete n.y,this.normHeight=n.source.dimensions.y/n.source.dimensions.x,this.contentAspectX=n.source.dimensions.x/n.source.dimensions.y;var a=1;n.width?(a=n.width,delete n.width,n.height&&(e.console.error("specifying both width and height to a tiledImage is not supported"),delete n.height)):n.height&&(a=n.height/this.normHeight,delete n.height);var s=n.fitBounds;delete n.fitBounds;var l=n.fitBoundsPlacement||t.Placement.CENTER;delete n.fitBoundsPlacement;var c=n.degrees||0;delete n.degrees,e.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,immediateRender:e.DEFAULT_SETTINGS.immediateRender,blendTime:e.DEFAULT_SETTINGS.blendTime,alwaysBlend:e.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:e.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:e.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:e.DEFAULT_SETTINGS.iOSDevice,debugMode:e.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:e.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:e.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:e.DEFAULT_SETTINGS.placeholderFillStyle,opacity:e.DEFAULT_SETTINGS.opacity,preload:e.DEFAULT_SETTINGS.preload,compositeOperation:e.DEFAULT_SETTINGS.compositeOperation},n),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new e.Spring({initial:i,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new e.Spring({initial:o,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new e.Spring({initial:a,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new e.Spring({initial:c,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),s&&this.fitBounds(s,l,!0),this._drawingHandler=function(t){r.viewer.raiseEvent("tile-drawing",e.extend({tiledImage:r},t))}},e.extend(e.TiledImage.prototype,e.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(e){e!==this._fullyLoaded&&(this._fullyLoaded=e,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=e.now(),this._needsDraw=!0},update:function(){var e=this._xSpring.update(),t=this._ySpring.update(),n=this._scaleSpring.update(),r=this._degreesSpring.update();return!!(e||t||n||r)&&(this._updateForScale(),this._needsDraw=!0,!0)},draw:function(){0!==this.opacity||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy()},getBounds:function(e){return this.getBoundsNoRotate(e).rotate(this.getRotation(e),this._getRotationPoint(e))},getBoundsNoRotate:function(t){return t?new e.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new e.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return e.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(t){var n=this.getBoundsNoRotate(t);if(this._clip){var r=(t?this._worldWidthCurrent:this._worldWidthTarget)/this.source.dimensions.x,i=this._clip.times(r);n=new e.Rect(n.x+i.x,n.y+i.y,i.width,i.height)}return n.rotate(this.getRotation(t),this._getRotationPoint(t))},getTileBounds:function(e,t,n){var r=this.source.getNumTiles(e),i=(r.x+t%r.x)%r.x,o=(r.y+n%r.y)%r.y,a=this.source.getTileBounds(e,i,o);return this.getFlip()&&(a.x=1-a.x-a.width),a.x+=(t-i)/r.x,a.y+=this._worldHeightCurrent/this._worldWidthCurrent*((n-o)/r.y),a},getContentSize:function(){return new e.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var t=this.imageToWindowCoordinates(new e.Point(0,0)),n=this.imageToWindowCoordinates(this.getContentSize());return new e.Point(n.x-t.x,n.y-t.y)},_viewportToImageDelta:function(t,n,r){var i=r?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(t*(this.source.dimensions.x/i),n*(this.source.dimensions.y*this.contentAspectX/i))},viewportToImageCoordinates:function(t,n,r){var i;return t instanceof e.Point?(r=n,i=t):i=new e.Point(t,n),i=i.rotate(-this.getRotation(r),this._getRotationPoint(r)),r?this._viewportToImageDelta(i.x-this._xSpring.current.value,i.y-this._ySpring.current.value):this._viewportToImageDelta(i.x-this._xSpring.target.value,i.y-this._ySpring.target.value)},_imageToViewportDelta:function(t,n,r){var i=r?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(t/this.source.dimensions.x*i,n/this.source.dimensions.y/this.contentAspectX*i)},imageToViewportCoordinates:function(t,n,r){t instanceof e.Point&&(r=n,n=t.y,t=t.x);var i=this._imageToViewportDelta(t,n);return r?(i.x+=this._xSpring.current.value,i.y+=this._ySpring.current.value):(i.x+=this._xSpring.target.value,i.y+=this._ySpring.target.value),i.rotate(this.getRotation(r),this._getRotationPoint(r))},imageToViewportRectangle:function(t,n,r,i,o){var a=t;a instanceof e.Rect?o=n:a=new e.Rect(t,n,r,i);var s=this.imageToViewportCoordinates(a.getTopLeft(),o),l=this._imageToViewportDelta(a.width,a.height,o);return new e.Rect(s.x,s.y,l.x,l.y,a.degrees+this.getRotation(o))},viewportToImageRectangle:function(t,n,r,i,o){var a=t;t instanceof e.Rect?o=n:a=new e.Rect(t,n,r,i);var s=this.viewportToImageCoordinates(a.getTopLeft(),o),l=this._viewportToImageDelta(a.width,a.height,o);return new e.Rect(s.x,s.y,l.x,l.y,a.degrees-this.getRotation(o))},viewerElementToImageCoordinates:function(e){var t=this.viewport.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.viewport.pixelFromPoint(t,!0)},windowToImageCoordinates:function(e){var n=e.minus(t.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(n)},imageToWindowCoordinates:function(e){return this.imageToViewerElementCoordinates(e).plus(t.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(t){var n=this._scaleSpring.current.value;return t=t.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new e.Rect((t.x-this._xSpring.current.value)/n,(t.y-this._ySpring.current.value)/n,t.width/n,t.height/n,t.degrees)},viewportToImageZoom:function(e){return this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x*e},imageToViewportZoom:function(e){return e/(this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x)},setPosition:function(e,t){var n=this._xSpring.target.value===e.x&&this._ySpring.target.value===e.y;if(t){if(n&&this._xSpring.current.value===e.x&&this._ySpring.current.value===e.y)return;this._xSpring.resetTo(e.x),this._ySpring.resetTo(e.y),this._needsDraw=!0}else{if(n)return;this._xSpring.springTo(e.x),this._ySpring.springTo(e.y),this._needsDraw=!0}n||this._raiseBoundsChange()},setWidth:function(e,t){this._setScale(e,t)},setHeight:function(e,t){this._setScale(e/this.normHeight,t)},setCroppingPolygons:function(t){var n=function(t){return t instanceof e.Point||"number"==typeof t.x&&"number"==typeof t.y},r=function(e){return e.map((function(e){try{if(n(e))return{x:e.x,y:e.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}}))};try{if(!e.isArray(t))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=t.map((function(e){return r(e)}))}catch(t){e.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),e.console.error(t),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(t,n,r){n=n||e.Placement.CENTER;var i=e.Placement.properties[n],o=this.contentAspectX,a=0,s=0,l=1,c=1;if(this._clip&&(o=this._clip.getAspectRatio(),l=this._clip.width/this.source.dimensions.x,c=this._clip.height/this.source.dimensions.y,t.getAspectRatio()>o?(a=this._clip.x/this._clip.height*t.height,s=this._clip.y/this._clip.height*t.height):(a=this._clip.x/this._clip.width*t.width,s=this._clip.y/this._clip.width*t.width)),t.getAspectRatio()>o){var u=t.height/c,p=0;i.isHorizontallyCentered?p=(t.width-t.height*o)/2:i.isRight&&(p=t.width-t.height*o),this.setPosition(new e.Point(t.x-a+p,t.y-s),r),this.setHeight(u,r)}else{var d=t.width/l,h=0;i.isVerticallyCentered?h=(t.height-t.width/o)/2:i.isBottom&&(h=t.height-t.width/o),this.setPosition(new e.Point(t.x-a,t.y-s+h),r),this.setWidth(d,r)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(t){e.console.assert(!t||t instanceof e.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),t instanceof e.Rect?this._clip=t.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return!!this.flipped},setFlip:function(e){this.flipped=!!e,this._needsDraw=!0,this._raiseBoundsChange()},getOpacity:function(){return this.opacity},setOpacity:function(e){e!==this.opacity&&(this.opacity=e,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(e){this._preload=!!e,this._needsDraw=!0},getRotation:function(e){return e?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(e,t){this._degreesSpring.target.value===e&&this._degreesSpring.isAtTargetValue()||(t?this._degreesSpring.resetTo(e):this._degreesSpring.springTo(e),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(e){return this.getBoundsNoRotate(e).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(e){e!==this.compositeOperation&&(this.compositeOperation=e,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(e,t){var n=this._scaleSpring.target.value===e;if(t){if(n&&this._scaleSpring.current.value===e)return;this._scaleSpring.resetTo(e),this._updateForScale(),this._needsDraw=!0}else{if(n)return;this._scaleSpring.springTo(e),this._updateForScale(),this._needsDraw=!0}n||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var e=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),t=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,n=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(t/this.minPixelRatio)/Math.log(2))));return n=Math.max(n,this.source.minLevel||0),{lowestLevel:e=Math.min(e,n),highestLevel:n}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;)this.lastDrawn.pop().beingDrawn=!1;var t=this.viewport,r=this._viewportToTiledImageRectangle(t.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var i=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(null===(r=r.intersection(i)))return}for(var a=this._getLevelsInterval(),s=a.lowestLevel,l=a.highestLevel,c=null,p=!1,d=e.now(),h=l;h>=s;h--){var f=!1,g=t.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(h),!0).x*this._scaleSpring.current.value;if(h===s||!p&&g>=this.minPixelRatio)f=!0,p=!0;else if(!p)continue;var v=t.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(h),!1).x*this._scaleSpring.current.value,y=t.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,b=this.immediateRender?1:y;if(c=n(this,p,f,h,Math.min(1,(g-.5)/.5),b/Math.abs(b-v),r,d,c),u(this.coverage,h))break}m(this,this.lastDrawn),c&&!c.context2D?(o(this,c,d),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(0===this._tilesLoading)},_getCornerTiles:function(t,n,r){var i,o;this.wrapHorizontal?(i=e.positiveModulo(n.x,1),o=e.positiveModulo(r.x,1)):(i=Math.max(0,n.x),o=Math.min(1,r.x));var a,s,l=1/this.source.aspectRatio;this.wrapVertical?(a=e.positiveModulo(n.y,l),s=e.positiveModulo(r.y,l)):(a=Math.max(0,n.y),s=Math.min(l,r.y));var c=this.source.getTileAtPoint(t,new e.Point(i,a)),u=this.source.getTileAtPoint(t,new e.Point(o,s)),p=this.source.getNumTiles(t);return this.wrapHorizontal&&(c.x+=p.x*Math.floor(n.x),u.x+=p.x*Math.floor(r.x)),this.wrapVertical&&(c.y+=p.y*Math.floor(n.y/l),u.y+=p.y*Math.floor(r.y/l)),{topLeft:c,bottomRight:u}}})}(t),function(e){var t=function(t){e.console.assert(t,"[TileCache.cacheTile] options is required"),e.console.assert(t.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(t.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=t.tile,this.tiledImage=t.tiledImage},n=function(t){e.console.assert(t,"[ImageRecord] options is required"),e.console.assert(t.image,"[ImageRecord] options.image is required"),this._image=t.image,this._tiles=[]};n.prototype={destroy:function(){this._image=null,this._renderedContext=null,this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var e=document.createElement("canvas");e.width=this._image.width,e.height=this._image.height,this._renderedContext=e.getContext("2d"),this._renderedContext.drawImage(this._image,0,0),this._image=null}return this._renderedContext},setRenderedContext:function(t){e.console.error("ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."),this._renderedContext=t},addTile:function(t){e.console.assert(t,"[ImageRecord.addTile] tile is required"),this._tiles.push(t)},removeTile:function(t){for(var n=0;n<this._tiles.length;n++)if(this._tiles[n]===t)return void this._tiles.splice(n,1);e.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",t)},getTileCount:function(){return this._tiles.length}},e.TileCache=function(t){t=t||{},this._maxImageCacheCount=t.maxImageCacheCount||e.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},e.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(r){e.console.assert(r,"[TileCache.cacheTile] options is required"),e.console.assert(r.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(r.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),e.console.assert(r.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var i=r.cutoff||0,o=this._tilesLoaded.length,a=this._imagesLoaded[r.tile.cacheKey];if(a||(e.console.assert(r.image,"[TileCache.cacheTile] options.image is required to create an ImageRecord"),a=this._imagesLoaded[r.tile.cacheKey]=new n({image:r.image}),this._imagesLoadedCount++),a.addTile(r.tile),r.tile.cacheImageRecord=a,this._imagesLoadedCount>this._maxImageCacheCount){for(var s,l,c,u,p,d,h=null,f=-1,m=null,g=this._tilesLoaded.length-1;g>=0;g--)if(!((s=(d=this._tilesLoaded[g]).tile).level<=i||s.beingDrawn)){if(!h){h=s,f=g,m=d;continue}u=s.lastTouchTime,l=h.lastTouchTime,p=s.level,c=h.level,(u<l||u===l&&p>c)&&(h=s,f=g,m=d)}h&&f>=0&&(this._unloadTile(m),o=f)}this._tilesLoaded[o]=new t({tile:r.tile,tiledImage:r.tiledImage})},clearTilesFor:function(t){e.console.assert(t,"[TileCache.clearTilesFor] tiledImage is required");for(var n,r=0;r<this._tilesLoaded.length;++r)(n=this._tilesLoaded[r]).tiledImage===t&&(this._unloadTile(n),this._tilesLoaded.splice(r,1),r--)},getImageRecord:function(t){return e.console.assert(t,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[t]},_unloadTile:function(t){e.console.assert(t,"[TileCache._unloadTile] tileRecord is required");var n=t.tile,r=t.tiledImage;n.unload(),n.cacheImageRecord=null;var i=this._imagesLoaded[n.cacheKey];i.removeTile(n),i.getTileCount()||(i.destroy(),delete this._imagesLoaded[n.cacheKey],this._imagesLoadedCount--),r.viewer.raiseEvent("tile-unloaded",{tile:n,tiledImage:r})}}}(t),function(e){e.World=function(t){var n=this;e.console.assert(t.viewer,"[World] options.viewer is required"),e.EventSource.call(this),this.viewer=t.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(e){n._autoRefigureSizes?n._figureSizes():n._needsSizesFigured=!0},this._figureSizes()},e.extend(e.World.prototype,e.EventSource.prototype,{addItem:function(t,n){if(e.console.assert(t,"[World.addItem] item is required"),e.console.assert(t instanceof e.TiledImage,"[World.addItem] only TiledImages supported at this time"),void 0!==(n=n||{}).index){var r=Math.max(0,Math.min(this._items.length,n.index));this._items.splice(r,0,t)}else this._items.push(t);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,t.addHandler("bounds-change",this._delegatedFigureSizes),t.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:t})},getItemAt:function(t){return e.console.assert(void 0!==t,"[World.getItemAt] index is required"),this._items[t]},getIndexOfItem:function(t){return e.console.assert(t,"[World.getIndexOfItem] item is required"),e.indexOf(this._items,t)},getItemCount:function(){return this._items.length},setItemIndex:function(t,n){e.console.assert(t,"[World.setItemIndex] item is required"),e.console.assert(void 0!==n,"[World.setItemIndex] index is required");var r=this.getIndexOfItem(t);if(n>=this._items.length)throw new Error("Index bigger than number of layers.");n===r||-1===r||(this._items.splice(r,1),this._items.splice(n,0,t),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:t,previousIndex:r,newIndex:n}))},removeItem:function(t){e.console.assert(t,"[World.removeItem] item is required");var n=e.indexOf(this._items,t);-1!==n&&(t.removeHandler("bounds-change",this._delegatedFigureSizes),t.removeHandler("clip-change",this._delegatedFigureSizes),t.destroy(),this._items.splice(n,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(t))},removeAll:function(){var e,t;for(this.viewer._cancelPendingImages(),t=0;t<this._items.length;t++)(e=this._items[t]).removeHandler("bounds-change",this._delegatedFigureSizes),e.removeHandler("clip-change",this._delegatedFigureSizes),e.destroy();var n=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,t=0;t<n.length;t++)e=n[t],this._raiseRemoveItem(e)},resetItems:function(){for(var e=0;e<this._items.length;e++)this._items[e].reset()},update:function(){for(var e=!1,t=0;t<this._items.length;t++)e=this._items[t].update()||e;return e},draw:function(){for(var e=0;e<this._items.length;e++)this._items[e].draw();this._needsDraw=!1},needsDraw:function(){for(var e=0;e<this._items.length;e++)if(this._items[e].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(e){this._autoRefigureSizes=e,e&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(t){var n,r=(t=t||{}).immediately||!1,i=t.layout||e.DEFAULT_SETTINGS.collectionLayout,o=t.rows||e.DEFAULT_SETTINGS.collectionRows,a=t.columns||e.DEFAULT_SETTINGS.collectionColumns,s=t.tileSize||e.DEFAULT_SETTINGS.collectionTileSize,l=s+(t.tileMargin||e.DEFAULT_SETTINGS.collectionTileMargin);n=!t.rows&&a?a:Math.ceil(this._items.length/o);var c,u,p,d,h,f=0,m=0;this.setAutoRefigureSizes(!1);for(var g=0;g<this._items.length;g++)g&&g%n==0&&("horizontal"===i?(m+=l,f=0):(f+=l,m=0)),d=(p=(u=(c=this._items[g]).getBounds()).width>u.height?s:s*(u.width/u.height))*(u.height/u.width),h=new e.Point(f+(s-p)/2,m+(s-d)/2),c.setPosition(h,r),c.setWidth(p,r),"horizontal"===i?f+=l:m+=l;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var t=this._homeBounds?this._homeBounds.clone():null,n=this._contentSize?this._contentSize.clone():null,r=this._contentFactor||0;if(this._items.length){var i=this._items[0],o=i.getBounds();this._contentFactor=i.getContentSize().x/o.width;for(var a=i.getClippedBounds().getBoundingBox(),s=a.x,l=a.y,c=a.x+a.width,u=a.y+a.height,p=1;p<this._items.length;p++)o=(i=this._items[p]).getBounds(),this._contentFactor=Math.max(this._contentFactor,i.getContentSize().x/o.width),a=i.getClippedBounds().getBoundingBox(),s=Math.min(s,a.x),l=Math.min(l,a.y),c=Math.max(c,a.x+a.width),u=Math.max(u,a.y+a.height);this._homeBounds=new e.Rect(s,l,c-s,u-l),this._contentSize=new e.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}else this._homeBounds=new e.Rect(0,0,1,1),this._contentSize=new e.Point(1,1),this._contentFactor=1;(this._contentFactor!==r||!this._homeBounds.equals(t)||!this._contentSize.equals(n))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(e){this.raiseEvent("remove-item",{item:e})}})}(t)}(Tb);var _b=Tb.exports;const Ab="http://www.w3.org/2000/svg",Ob=e=>{const t=e.getAttribute("class");return t?new Set(t.split(" ")):new Set},Nb=(e,t)=>{const n=Ob(e);n.add(t),e.setAttribute("class",Array.from(n).join(" "))},Mb=(e,t)=>{const n=Ob(e);n.delete(t),0===n.size?e.removeAttribute("class"):e.setAttribute("class",Array.from(n).join(" "))},Pb=(e,t)=>Ob(e).has(t),Db=(e,t)=>{const n=e.selector("FragmentSelector");if(null!=n&&n.conformsTo.startsWith("http://www.w3.org/TR/media-frags")){const{value:e}=n,r=e.includes(":")?e.substring(e.indexOf("=")+1,e.indexOf(":")):"pixel",i=e.includes(":")?e.substring(e.indexOf(":")+1):e.substring(e.indexOf("=")+1);let[o,a,s,l]=i.split(",").map(parseFloat);return"percent"===r.toLowerCase()&&(o=o*t.naturalWidth/100,a=a*t.naturalHeight/100,s=s*t.naturalWidth/100,l=l*t.naturalHeight/100),{x:o,y:a,w:s,h:l}}},Lb=(e,t,n,r,i)=>({source:null==i?void 0:i.src,selector:{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=pixel:${e},${t},${n},${r}`}}),Rb=(e,t,n,r,i)=>{const o=e/i.naturalWidth*100,a=t/i.naturalHeight*100,s=n/i.naturalWidth*100,l=r/i.naturalHeight*100;return{source:i.src,selector:{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=percent:${o},${a},${s},${l}`}}},Ib=(e,t,n,r,i,o)=>"percent"===(null==o?void 0:o.toLowerCase())?Rb(e,t,n,r,i):Lb(e,t,n,r,i),Bb=(e,t,n,r,i)=>{e.setAttribute("x",t),e.setAttribute("y",n),e.setAttribute("width",r),e.setAttribute("height",i)},jb=(e,t,n)=>{e.setAttribute("cx",t),e.setAttribute("cy",n),e.setAttribute("r",7)},Fb=(e,t,n,r,i)=>{const o=document.createElementNS(Ab,"path");o.setAttribute("fill-rule","evenodd");const{naturalWidth:a,naturalHeight:s}=e;return o.setAttribute("d",`M0 0 h${a} v${s} h-${a} z M${t} ${n} h${r} v${i} h-${r} z`),o},zb=(e,t,n,r,i,o)=>{const{naturalWidth:a,naturalHeight:s}=t;e.setAttribute("d",`M0 0 h${a} v${s} h-${a} z M${n} ${r} h${i} v${o} h-${i} z`)},Hb=(e,t,n,r)=>{const{x:i,y:o,w:a,h:s}="Annotation"===e.type||"Selection"===e.type?Db(e,t):{x:e,y:t,w:n,h:r},l=document.createElementNS(Ab,"g");if(0===a&&0===s){Nb(l,"a9s-point"),Nb(l,"a9s-non-scaling"),l.setAttribute("transform-origin",`${i} ${o}`);const e=document.createElementNS(Ab,"circle"),t=document.createElementNS(Ab,"circle");t.setAttribute("class","a9s-inner"),jb(t,i,o),e.setAttribute("class","a9s-outer"),jb(e,i,o),l.appendChild(e),l.appendChild(t)}else{const e=document.createElementNS(Ab,"rect"),t=document.createElementNS(Ab,"rect");t.setAttribute("class","a9s-inner"),Bb(t,i,o,a,s),e.setAttribute("class","a9s-outer"),Bb(e,i,o,a,s),l.appendChild(e),l.appendChild(t)}return l},qb=e=>{const t=e.querySelector(".a9s-outer");return"rect"===t.nodeName?{x:parseFloat(t.getAttribute("x")),y:parseFloat(t.getAttribute("y")),w:parseFloat(t.getAttribute("width")),h:parseFloat(t.getAttribute("height"))}:{x:parseFloat(t.getAttribute("cx")),y:parseFloat(t.getAttribute("cy")),w:0,h:0}},Vb=(e,t,n,r,i)=>{const o=e.querySelector(".a9s-inner"),a=e.querySelector(".a9s-outer");"rect"===a.nodeName?(Bb(o,t,n,r,i),Bb(a,t,n,r,i)):(jb(o,t,n),jb(a,t,n))},Ub=(e,t)=>{const{w:n,h:r}=Db(e,t);return n*r};class Wb{constructor(e,t,n,r,i){p(this,"dragTo",((e,t)=>{this.group.style.display=null,this.opposite=[e,t];const{x:n,y:r,w:i,h:o}=this.bbox;zb(this.mask,this.env.image,n,r,i,o),Vb(this.rect,n,r,i,o)})),p(this,"getBoundingClientRect",(()=>this.rect.getBoundingClientRect())),p(this,"toSelection",(()=>{const{x:e,y:t,w:n,h:r}=this.bbox;return new kb(Ib(e,t,n,r,this.env.image,this.config.fragmentUnit))})),p(this,"destroy",(()=>{this.group.parentNode.removeChild(this.group),this.mask=null,this.rect=null,this.group=null})),this.anchor=[e,t],this.opposite=[e,t],this.config=r,this.env=i,this.group=document.createElementNS(Ab,"g"),this.mask=Fb(i.image,e,t,2,2),this.mask.setAttribute("class","a9s-selection-mask"),this.rect=Hb(e,t,2,2),this.rect.setAttribute("class","a9s-selection"),this.group.style.pointerEvents="none",this.group.style.display="none",this.group.appendChild(this.mask),this.group.appendChild(this.rect),n.appendChild(this.group)}get bbox(){const e=this.opposite[0]-this.anchor[0],t=this.opposite[1]-this.anchor[1];return{x:e>0?this.anchor[0]:this.opposite[0],y:t>0?this.anchor[1]:this.opposite[1],w:Math.max(1,Math.abs(e)),h:Math.max(1,Math.abs(t))}}get element(){return this.rect}}const $b={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},Gb=()=>"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,Xb=e=>{let t=null;const n=(e,t)=>new MouseEvent(e,{screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,bubbles:!0}),r=e=>{const r=e.changedTouches[0],i=n($b[e.type],r);r.target.dispatchEvent(i),e.preventDefault(),("touchstart"===e.type||"touchmove"===e.type)&&(t&&clearTimeout(t),t=setTimeout((()=>{const e=n("dblclick",r);r.target.dispatchEvent(e)}),800)),"touchend"===e.type&&t&&clearTimeout(t)};e.addEventListener("touchstart",r,!0),e.addEventListener("touchmove",r,!0),e.addEventListener("touchend",r,!0),e.addEventListener("touchcancel",r,!0)},Yb="An implementation is missing",Zb=Gb();class Kb extends gt{constructor(e,t,n){super(),p(this,"enableResponsive",(()=>{window.ResizeObserver&&(this.resizeObserver=new ResizeObserver((()=>{const e=this.svg.getBoundingClientRect(),{width:t,height:n}=this.svg.viewBox.baseVal;this.scale=Math.max(t/e.width,n/e.height),this.onScaleChanged&&this.onScaleChanged(this.scale)})),this.resizeObserver.observe(this.svg.parentNode))})),p(this,"getSVGPoint",(e=>{const t=this.svg.createSVGPoint();if(Zb){const n=this.svg.getBoundingClientRect(),r=e.clientX-n.x,i=e.clientY-n.y,{left:o,top:a}=this.svg.getBoundingClientRect();return t.x=r+o,t.y=i+a,t.matrixTransform(this.g.getScreenCTM().inverse())}return t.x=e.offsetX,t.y=e.offsetY,t.matrixTransform(this.g.getCTM().inverse())})),p(this,"drawHandle",((e,t)=>{const n=document.createElementNS(Ab,"g");n.setAttribute("class","a9s-handle");const r=document.createElementNS(Ab,"g"),i=n=>{const r=document.createElementNS(Ab,"circle");return r.setAttribute("cx",e),r.setAttribute("cy",t),r.setAttribute("r",n),r.setAttribute("transform-origin",`${e} ${t}`),r},o=this.config.handleRadius||6,a=i(o);a.setAttribute("class","a9s-handle-inner");const s=i(o+1);return s.setAttribute("class","a9s-handle-outer"),r.appendChild(s),r.appendChild(a),n.appendChild(r),n})),p(this,"setHandleXY",((e,t,n)=>{const r=e.querySelector(".a9s-handle-inner");r.setAttribute("cx",t),r.setAttribute("cy",n),r.setAttribute("transform-origin",`${t} ${n}`);const i=e.querySelector(".a9s-handle-outer");i.setAttribute("cx",t),i.setAttribute("cy",n),i.setAttribute("transform-origin",`${t} ${n}`)})),p(this,"getHandleXY",(e=>{const t=e.querySelector(".a9s-handle-outer");return{x:parseFloat(t.getAttribute("cx")),y:parseFloat(t.getAttribute("cy"))}})),p(this,"scaleHandle",(e=>{const t=e.querySelector(".a9s-handle-inner"),n=e.querySelector(".a9s-handle-outer"),r=this.scale*(this.config.handleRadius||6);t.setAttribute("r",r),n.setAttribute("r",r)})),this.svg=e.closest("svg"),this.g=e,this.config=t,this.env=n,this.scale=1;const{image:r}=n;(r instanceof Element||r instanceof HTMLDocument)&&this.enableResponsive()}destroy(){this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeObserver=null}}class Jb extends Kb{constructor(e,t,n){super(e,t,n),p(this,"attachListeners",(({mouseMove:e,mouseUp:t,dblClick:n})=>{e&&(this.mouseMove=t=>{const{x:n,y:r}=this.getSVGPoint(t);this.started||(this.emit("startSelection",{x:n,y:r}),this.started=!0),e(n,r,t)},this.svg.addEventListener("mousemove",this.mouseMove)),t&&(this.mouseUp=e=>{if(0!==e.button)return;const{x:n,y:r}=this.getSVGPoint(e);t(n,r,e)},document.addEventListener("mouseup",this.mouseUp)),n&&(this.dblClick=e=>{const{x:t,y:r}=this.getSVGPoint(e);n(t,r,e)},document.addEventListener("dblclick",this.dblClick))})),p(this,"detachListeners",(()=>{this.mouseMove&&this.svg.removeEventListener("mousemove",this.mouseMove),this.mouseUp&&document.removeEventListener("mouseup",this.mouseUp),this.dblClick&&document.removeEventListener("dblclick",this.dblClick)})),p(this,"start",((e,t)=>{const{x:n,y:r}=this.getSVGPoint(e);this.startDrawing(n,r,t,e)})),p(this,"startDrawing",(e=>{throw new Error(Yb)})),p(this,"createEditableShape",((e,t)=>{throw new Error(Yb)})),this.started=!1}get isDrawing(){throw new Error(Yb)}}Jb.supports=e=>{throw new Error(Yb)};const Qb="An implementation is missing";class ew extends Kb{constructor(e,t,n,r){super(t,n,r),p(this,"updateState",(e=>{throw new Error(Qb)})),this.annotation=e}get element(){throw new Error(Qb)}}const tw=/firefox/i.test(navigator.userAgent),nw=(e,t,n,r,i)=>{e.setAttribute("width",r),e.setAttribute("height",i),tw?(e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("transform",`translate(${t}, ${n})`)):(e.setAttribute("x",t),e.setAttribute("y",n))},rw=(e,t)=>{const{x:n,y:r,width:i,height:o}=t.getBBox(),a=document.createElementNS(Ab,"svg");a.setAttribute("class","a9s-formatter-el"),nw(a,n,r,i,o);const s=document.createElementNS(Ab,"g");s.appendChild(e),a.appendChild(s),t.append(a)},iw=(e,t,n)=>{if(!n)return e;const r=n.reduce(((e,n)=>{const r=n(t);if(!r)return e;if("string"==typeof r||r instanceof String)e.className=e.className?`${e.className} ${r}`:r;else if(r.nodeType===Node.ELEMENT_NODE)e.elements=e.elements?[...e.elements,r]:[r];else{const{className:t,style:n,element:i}=r;t&&(e.className=e.className?`${e.className} ${t}`:t),n&&(e.style=e.style?`${e.style} ${n}`:n),i&&(e.elements=e.elements?[...e.elements,i]:[i])}for(const t in r)r.hasOwnProperty(t)&&t.startsWith("data-")&&(e[t]=r[t]);return e}),{}),{className:i,style:o,elements:a}=r;if(i&&Nb(e,i),o){const t=e.querySelector(".a9s-outer"),n=e.querySelector(".a9s-inner");t&&n?(t.setAttribute("style","display:none"),n.setAttribute("style",o)):e.setAttribute("style",o)}a&&a.forEach((t=>rw(t,e)));for(const t in r)r.hasOwnProperty(t)&&t.startsWith("data-")&&e.setAttribute(t,r[t])},ow=(e,t,n,r,i)=>{const o=e.querySelector(".a9s-formatter-el");o&&nw(o,t,n,r,i)};class aw extends ew{constructor(e,t,n,r){super(e,t,n,r),p(this,"onScaleChanged",(()=>this.handles.map(this.scaleHandle))),p(this,"setSize",((e,t,n,r)=>{Vb(this.rectangle,e,t,n,r),zb(this.mask,this.env.image,e,t,n,r),ow(this.elementGroup,e,t,n,r);const[i,o,a,s]=this.handles;this.setHandleXY(i,e,t),this.setHandleXY(o,e+n,t),this.setHandleXY(a,e+n,t+r),this.setHandleXY(s,e,t+r)})),p(this,"stretchCorners",((e,t,n)=>{const r=this.getHandleXY(t),i=n.x-r.x,o=n.y-r.y,a=i>0?r.x:n.x,s=o>0?r.y:n.y,l=Math.abs(i),c=Math.abs(o);Vb(this.rectangle,a,s,l,c),zb(this.mask,this.env.image,a,s,l,c),ow(this.elementGroup,a,s,l,c),this.setHandleXY(this.handles[e],n.x,n.y);const u=this.handles[(e+3)%4];this.setHandleXY(u,r.x,n.y);const p=this.handles[(e+5)%4];return this.setHandleXY(p,n.x,r.y),{x:a,y:s,w:l,h:c}})),p(this,"onGrab",(e=>t=>{if(0!==t.button)return;this.grabbedElem=e;const n=this.getSVGPoint(t),{x:r,y:i}=qb(this.rectangle);this.mouseOffset={x:n.x-r,y:n.y-i}})),p(this,"onMouseMove",(e=>{if(0!==e.button)return;const t=(e,t)=>e<0?0:e>t?t:e;if(this.grabbedElem){const n=this.getSVGPoint(e);if(this.grabbedElem===this.rectangle){const{w:e,h:r}=qb(this.rectangle),{naturalWidth:i,naturalHeight:o}=this.env.image,a=t(n.x-this.mouseOffset.x,i-e),s=t(n.y-this.mouseOffset.y,o-r);this.setSize(a,s,e,r),this.emit("update",Ib(a,s,e,r,this.env.image,this.config.fragmentUnit))}else{const e=this.handles.indexOf(this.grabbedElem),t=e<2?this.handles[e+2]:this.handles[e-2],{x:r,y:i,w:o,h:a}=this.stretchCorners(e,t,n);this.emit("update",Ib(r,i,o,a,this.env.image,this.config.fragmentUnit))}}})),p(this,"onMouseUp",(e=>{this.grabbedElem=null,this.mouseOffset=null})),p(this,"updateState",(e=>{const{x:t,y:n,w:r,h:i}=Db(e,this.env.image);this.setSize(t,n,r,i)})),this.svg.addEventListener("mousemove",this.onMouseMove),this.svg.addEventListener("mouseup",this.onMouseUp);const{x:i,y:o,w:a,h:s}=Db(e,r.image);this.containerGroup=document.createElementNS(Ab,"g"),this.mask=Fb(r.image,i,o,a,s),this.mask.setAttribute("class","a9s-selection-mask"),this.containerGroup.appendChild(this.mask),this.elementGroup=document.createElementNS(Ab,"g"),this.elementGroup.setAttribute("class","a9s-annotation editable selected"),this.elementGroup.setAttribute("data-id",e.id),this.rectangle=Hb(i,o,a,s),this.rectangle.querySelector(".a9s-inner").addEventListener("mousedown",this.onGrab(this.rectangle)),this.elementGroup.appendChild(this.rectangle),this.handles=[[i,o],[i+a,o],[i+a,o+s],[i,o+s]].map((e=>{const[t,n]=e,r=this.drawHandle(t,n);return r.addEventListener("mousedown",this.onGrab(r)),this.elementGroup.appendChild(r),r})),this.containerGroup.appendChild(this.elementGroup),t.appendChild(this.containerGroup),iw(this.rectangle,e,n.formatters),this.grabbedElem=null,this.mouseOffset=null}get element(){return this.elementGroup}destroy(){this.containerGroup.parentNode.removeChild(this.containerGroup),super.destroy()}}class sw extends Jb{constructor(e,t,n){super(e,t,n),p(this,"startDrawing",((e,t)=>{this.attachListeners({mouseMove:this.onMouseMove,mouseUp:this.onMouseUp}),this.rubberband=new Wb(e,t,this.g,this.config,this.env)})),p(this,"stop",(()=>{this.rubberband&&(this.rubberband.destroy(),this.rubberband=null)})),p(this,"onMouseMove",((e,t)=>this.rubberband.dragTo(e,t))),p(this,"onMouseUp",(()=>{this.detachListeners(),this.started=!1;const{width:e,height:t}=this.rubberband.getBoundingClientRect(),n=this.config.minSelectionWidth||4,r=this.config.minSelectionHeight||4;if(e>=n&&t>=r){const{element:e}=this.rubberband;e.annotation=this.rubberband.toSelection(),this.emit("complete",e)}else this.emit("cancel");this.stop()})),p(this,"createEditableShape",((e,t)=>new aw(e,this.g,{...this.config,formatters:t},this.env))),this.rubberband=null}get isDrawing(){return null!=this.rubberband}}sw.identifier="rect",sw.supports=e=>{const t=e.selector("FragmentSelector");return null==t?void 0:t.conformsTo.startsWith("http://www.w3.org/TR/media-frags")};const lw=e=>{let t=0,n=e.length-1;for(let r=0;r<e.length;r++)t+=(e[n][0]+e[r][0])*(e[n][1]-e[r][1]),n=r;return Math.abs(.5*t)},cw=(e,t,n,r)=>{const i=e[0]-t,o=e[1]-n;return Math.sqrt(i*i+o*o)<=r},uw=(e,t,n,r,i,o)=>{const a=o||0,s=Math.cos(a),l=Math.sin(a),c=e[0]-t,u=e[1]-n,p=s*c+l*u,d=l*c-s*u;return p*p/(r*r)+d*d/(i*i)<=1},pw=(e,t)=>{const n=e[0],r=e[1];let i=!1;for(let e=0,o=t.length-1;e<t.length;o=e++){const a=t[e][0],s=t[e][1],l=t[o][0],c=t[o][1];s>r!=c>r&&n<(l-a)*(r-s)/(c-s)+a&&(i=!i)}return i},dw=(e,t)=>{for(let n of e)if(!pw(n,t))return!1;return!0},hw=(e,t,n,r,i,o)=>{const a=e[0],s=e[1],l=r-t,c=i-n,u=Math.sqrt(l*l+c*c);return Math.abs((a-t)*c-(s-n)*l)/u<=o},fw=e=>{const t=e.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map((e=>e.trim())),n=[];let r=[];for(let e of t){const t=e.substring(0,1);if("z"===t.toLowerCase())n.push([...r]),r=[];else{const n=e.substring(1).split(" ").map((e=>parseFloat(e.trim()))),i=t===t.toUpperCase(),o=i?n[0]:n[0]+r[r.length-1][0],a=i?n[1]:n[1]+r[r.length-1][1];r.push([o,a])}}return r.length>0&&n.push([...r]),n},mw=e=>{const t=(new XMLSerializer).serializeToString(e.documentElement).replace("<svg>",`<svg xmlns="${Ab}">`);return(new DOMParser).parseFromString(t,"image/svg+xml").documentElement},gw=e=>{const t=e=>{Array.from(e.attributes).forEach((t=>{t.name.startsWith("on")&&e.removeAttribute(t.name)}))},n=e.getElementsByTagName("script");return Array.from(n).reverse().forEach((e=>e.parentNode.removeChild(e))),t(e),Array.from(e.querySelectorAll("*")).forEach(t),e},vw=e=>{const t=e.selector("SvgSelector");if(t){const e=new DOMParser,{value:n}=t,r=e.parseFromString(n,"image/svg+xml"),i=r.lookupPrefix(Ab),o=r.lookupNamespaceURI(null);return i||o?gw(r).firstChild:gw(mw(r)).firstChild}},yw=e=>{const t=vw(e),n=document.createElementNS(Ab,"g"),r=t.cloneNode(!0);r.setAttribute("class","a9s-inner");const i=t.cloneNode(!0);return i.setAttribute("class","a9s-outer"),n.appendChild(i),n.appendChild(r),n},bw=(e,t)=>{const n=e.querySelector(".a9s-inner").cloneNode(!0);n.removeAttribute("class"),n.removeAttribute("xmlns");let r=n.outerHTML||(new XMLSerializer).serializeToString(n);return r=r.replace(` xmlns="${Ab}"`,""),{source:null==t?void 0:t.src,selector:{type:"SvgSelector",value:`<svg>${r}</svg>`}}},ww=e=>{const t=vw(e),n=t.nodeName.toLowerCase();if("polygon"===n)return xw(t);if("circle"===n)return kw(t);if("ellipse"===n)return Sw(t);if("path"==n)return Cw(t);if("line"==n)return 0;throw`Unsupported SVG shape type: ${n}`},xw=e=>{const t=e.getAttribute("points").trim().split(" ").map((e=>e.split(",").map((e=>parseFloat(e.trim())))));return lw(t)},kw=e=>{const t=e.getAttribute("r");return t*t*Math.PI},Sw=e=>e.getAttribute("rx")*e.getAttribute("ry")*Math.PI,Cw=e=>{const t=fw(e);if(1==t.length)return lw(t[0]);{const e=e=>t.find((t=>{if(e!==t)return dw(e,t)}));let n=0;for(let r of t)e(r)?n-=lw(r):n+=lw(r);return n}};class Ew{constructor(e,t){p(this,"redraw",(()=>{this.mask.setAttribute("d",`M0 0 h${this.w} v${this.h} h-${this.w} z M${this.polygon.getAttribute("points")} z`)})),p(this,"destroy",(()=>this.mask.parentNode.removeChild(this.mask))),this.w=e.naturalWidth,this.h=e.naturalHeight,this.polygon=t,this.mask=document.createElementNS(Ab,"path"),this.mask.setAttribute("fill-rule","evenodd"),this.mask.setAttribute("class","a9s-selection-mask"),this.mask.setAttribute("d",`M0 0 h${this.w} v${this.h} h-${this.w} z M${this.polygon.getAttribute("points")} z`)}get element(){return this.mask}}class Tw{constructor(e,t,n){p(this,"setPoints",(e=>{const t=e.map((e=>`${e[0]},${e[1]}`)).join(" ");this.outer.setAttribute("points",t),this.inner.setAttribute("points",t)})),p(this,"getBoundingClientRect",(()=>this.outer.getBoundingClientRect())),p(this,"dragTo",(e=>{this.group.style.display=null,this.mousepos=e;const t=[...this.points,e];this.setPoints(t),this.mask.redraw()})),p(this,"addPoint",(()=>{const[e,t]=this.mousepos,n=this.points[this.points.length-1];Math.pow(e-n[0],2)+Math.pow(t-n[1],2)>4&&(this.points=[...this.points,this.mousepos],this.setPoints(this.points),this.mask.redraw())})),p(this,"destroy",(()=>{this.group.parentNode.removeChild(this.group),this.polygon=null,this.group=null})),p(this,"toSelection",(()=>new kb(bw(this.group,this.env.image)))),this.points=[e],this.env=n,this.mousepos=e,this.group=document.createElementNS(Ab,"g"),this.polygon=document.createElementNS(Ab,"g"),this.polygon.setAttribute("class","a9s-selection"),this.outer=document.createElementNS(Ab,"polygon"),this.outer.setAttribute("class","a9s-outer"),this.inner=document.createElementNS(Ab,"polygon"),this.inner.setAttribute("class","a9s-inner"),this.setPoints(this.points),this.mask=new Ew(n.image,this.inner),this.polygon.appendChild(this.outer),this.polygon.appendChild(this.inner),this.group.style.display="none",this.group.appendChild(this.mask.element),this.group.appendChild(this.polygon),t.appendChild(this.group)}get element(){return this.polygon}}const _w=e=>{const t=e.querySelector(".a9s-inner").points,n=[];for(let e=0;e<t.numberOfItems;e++)n.push(t.getItem(e));return n},Aw=e=>e.querySelector(".a9s-inner").getBBox();class Ow extends ew{constructor(e,t,n,r){super(e,t,n,r),p(this,"onScaleChanged",(()=>this.handles.map(this.scaleHandle))),p(this,"setPoints",(e=>{const t=e=>Math.round(10*e)/10,n=e.map((e=>`${t(e.x)},${t(e.y)}`)).join(" ");this.shape.querySelector(".a9s-inner").setAttribute("points",n);const r=this.shape.querySelector(".a9s-outer");r.setAttribute("points",n),this.mask.redraw();const{x:i,y:o,width:a,height:s}=r.getBBox();ow(this.elementGroup,i,o,a,s)})),p(this,"onGrab",(e=>t=>{0===t.button&&(this.grabbedElem=e,this.grabbedAt=this.getSVGPoint(t))})),p(this,"onMouseMove",(e=>{const t=(e,t,n)=>e+t<0?-e:e+t>n?n-e:t;if(this.grabbedElem){const n=this.getSVGPoint(e);if(this.grabbedElem===this.shape){const{x:e,y:r,width:i,height:o}=Aw(this.shape),{naturalWidth:a,naturalHeight:s}=this.env.image,l=t(e,n.x-this.grabbedAt.x,a-i),c=t(r,n.y-this.grabbedAt.y,s-o),u=_w(this.shape).map((e=>({x:e.x+l,y:e.y+c})));this.grabbedAt=n,this.setPoints(u),u.forEach(((e,t)=>this.setHandleXY(this.handles[t],e.x,e.y))),this.emit("update",bw(this.shape,this.env.image))}else{const e=this.handles.indexOf(this.grabbedElem),t=_w(this.shape).map(((t,r)=>r===e?n:t));this.setPoints(t),this.setHandleXY(this.handles[e],n.x,n.y),this.emit("update",bw(this.shape,this.env.image))}}})),p(this,"onMouseUp",(e=>{this.grabbedElem=null,this.grabbedAt=null})),p(this,"updateState",(e=>{const t=vw(e).getAttribute("points").split(" ").map((e=>{const[t,n]=e.split(",").map((e=>parseFloat(e.trim())));return{x:t,y:n}}));this.setPoints(t),t.forEach(((e,t)=>this.setHandleXY(this.handles[t],e.x,e.y)))})),p(this,"destroy",(()=>{this.containerGroup.parentNode.removeChild(this.containerGroup),super.destroy()})),this.svg.addEventListener("mousemove",this.onMouseMove),this.svg.addEventListener("mouseup",this.onMouseUp),this.containerGroup=document.createElementNS(Ab,"g"),this.shape=yw(e),this.shape.querySelector(".a9s-inner").addEventListener("mousedown",this.onGrab(this.shape)),this.mask=new Ew(r.image,this.shape.querySelector(".a9s-inner")),this.containerGroup.appendChild(this.mask.element),this.elementGroup=document.createElementNS(Ab,"g"),this.elementGroup.setAttribute("class","a9s-annotation editable selected"),this.elementGroup.setAttribute("data-id",e.id),this.elementGroup.appendChild(this.shape),this.handles=_w(this.shape).map((e=>{const t=this.drawHandle(e.x,e.y);return t.addEventListener("mousedown",this.onGrab(t)),this.elementGroup.appendChild(t),t})),this.containerGroup.appendChild(this.elementGroup),t.appendChild(this.containerGroup),iw(this.shape,e,n.formatters),this.grabbedElem=null,this.grabbedAt=null}get element(){return this.elementGroup}}class Nw extends Jb{constructor(e,t,n){super(e,t,n),p(this,"startDrawing",((e,t,n)=>{this._isDrawing=!0,this._startOnSingleClick=n,this.attachListeners({mouseMove:this.onMouseMove,mouseUp:this.onMouseUp,dblClick:this.onDblClick}),this.rubberband=new Tw([e,t],this.g,this.env)})),p(this,"stop",(()=>{this.detachListeners(),this._isDrawing=!1,this.rubberband&&(this.rubberband.destroy(),this.rubberband=null)})),p(this,"onMouseMove",((e,t)=>this.rubberband.dragTo([e,t]))),p(this,"onMouseUp",(()=>{const{width:e,height:t}=this.rubberband.getBoundingClientRect(),n=this.config.minSelectionWidth||4,r=this.config.minSelectionHeight||4;e>=n||t>=r?this.rubberband.addPoint():this._startOnSingleClick||(this.emit("cancel"),this.stop())})),p(this,"onDblClick",(()=>{this._isDrawing=!1;const e=this.rubberband.element;e.annotation=this.rubberband.toSelection(),this.emit("complete",e),this.stop()})),p(this,"createEditableShape",((e,t)=>new Ow(e,this.g,{...this.config,formatters:t},this.env))),this._isDrawing=!1,this._startOnSingleClick=!1}get isDrawing(){return this._isDrawing}}Nw.identifier="polygon",Nw.supports=e=>{var t;const n=e.selector("SvgSelector");if(n)return null==(t=n.value)?void 0:t.match(/^<svg.*<polygon/g)};class Mw extends gt{constructor(e,t,n){super(),p(this,"listTools",(()=>this._registered.map((e=>e.identifier)))),p(this,"registerTool",(e=>{const t=e.identifier;this.listTools().includes(t)&&this.unregisterTool(t),this._registered.unshift(e)})),p(this,"unregisterTool",(e=>this._registered=this._registered.filter((t=>t.identifier!==e)))),p(this,"setCurrent",(e=>{const t="string"==typeof e||e instanceof String?this._registered.find((t=>t.identifier===e)):e;this._current=new t(this._g,this._config,this._env),this._current.on("startSelection",(e=>this.emit("startSelection",e))),this._current.on("complete",(e=>this.emit("complete",e))),this._current.on("cancel",(e=>this.emit("cancel",e)))})),p(this,"forAnnotation",(e=>{var t;const[n,...r]=e.targets,i=null==(t=n.renderedVia)?void 0:t.name,o=i?this._registered.find((e=>e.identifier===i)):this._registered.find((t=>t.supports(e)));return o?new o(this._g,this._config,this._env):null})),this._g=e,this._config=t,this._env=n,this._registered=[sw,Nw],this.setCurrent(sw)}get current(){return this._current}}class Pw{constructor(e,t,n){this.svg=e.closest("svg"),this.g=document.createElementNS(Ab,"g"),this.g.setAttribute("class","a9s-crosshair");const r=document.createElementNS(Ab,"line"),i=document.createElementNS(Ab,"line");this.g.appendChild(r),this.g.appendChild(i),e.appendChild(this.g);const o=t=>{const n=this.svg.getBoundingClientRect(),r=t.clientX-n.x,i=t.clientY-n.y,o=this.svg.createSVGPoint(),{left:a,top:s}=this.svg.getBoundingClientRect();return o.x=r+a,o.y=i+s,o.matrixTransform(e.getScreenCTM().inverse())};this.svg.addEventListener("mousemove",(e=>{const{x:a,y:s}=o(e);r.setAttribute("x1",0),r.setAttribute("y1",s),r.setAttribute("x2",t),r.setAttribute("y2",s),i.setAttribute("x1",a),i.setAttribute("y1",0),i.setAttribute("x2",a),i.setAttribute("y2",n)}))}}const Dw={FragmentSelector:Hb,SvgSelector:yw},Lw={FragmentSelector:Ub,SvgSelector:ww},Rw=e=>{const t=e.targets[0];if(t)return Array.isArray(t.selector)?t.selector[0]:t.selector},Iw=(e,t)=>Dw[Rw(e).type](e,t),Bw=(e,t)=>Lw[Rw(e).type](e,t);function jw(e,t,n,r,i){Fw(e,t,n||0,r||e.length-1,i||Hw)}function Fw(e,t,n,r,i){for(;r>n;){if(r-n>600){var o=r-n+1,a=t-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);Fw(e,t,Math.max(n,Math.floor(t-a*l/o+c)),Math.min(r,Math.floor(t+(o-a)*l/o+c)),i)}var u=e[t],p=n,d=r;for(zw(e,n,t),i(e[r],u)>0&&zw(e,n,r);p<d;){for(zw(e,p,d),p++,d--;i(e[p],u)<0;)p++;for(;i(e[d],u)>0;)d--}0===i(e[n],u)?zw(e,n,d):zw(e,++d,r),d<=t&&(n=d+1),t<=d&&(r=d-1)}}function zw(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function Hw(e,t){return e<t?-1:e>t?1:0}class qw{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const n=[];if(!ex(e,t))return n;const r=this.toBBox,i=[];for(;t;){for(let o=0;o<t.children.length;o++){const a=t.children[o],s=t.leaf?r(a):a;ex(e,s)&&(t.leaf?n.push(a):Qw(e,s)?this._all(a,n):i.push(a))}t=i.pop()}return n}collides(e){let t=this.data;if(!ex(e,t))return!1;const n=[];for(;t;){for(let r=0;r<t.children.length;r++){const i=t.children[r],o=t.leaf?this.toBBox(i):i;if(ex(e,o)){if(t.leaf||Qw(e,o))return!0;n.push(i)}}t=n.pop()}return!1}load(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(let t=0;t<e.length;t++)this.insert(e[t]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const e=this.data;this.data=t,t=e}this._insert(t,this.data.height-t.height-1,!0)}else this.data=t;return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=tx([]),this}remove(e,t){if(!e)return this;let n=this.data;const r=this.toBBox(e),i=[],o=[];let a,s,l;for(;n||i.length;){if(n||(n=i.pop(),s=i[i.length-1],a=o.pop(),l=!0),n.leaf){const r=Vw(e,n.children,t);if(-1!==r)return n.children.splice(r,1),i.push(n),this._condense(i),this}l||n.leaf||!Qw(n,r)?s?(a++,n=s.children[a],l=!1):n=null:(i.push(n),o.push(a),a=0,s=n,n=n.children[0])}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const n=[];for(;e;)e.leaf?t.push(...e.children):n.push(...e.children),e=n.pop();return t}_build(e,t,n,r){const i=n-t+1;let o,a=this._maxEntries;if(i<=a)return o=tx(e.slice(t,n+1)),Uw(o,this.toBBox),o;r||(r=Math.ceil(Math.log(i)/Math.log(a)),a=Math.ceil(i/Math.pow(a,r-1))),o=tx([]),o.leaf=!1,o.height=r;const s=Math.ceil(i/a),l=s*Math.ceil(Math.sqrt(a));nx(e,t,n,l,this.compareMinX);for(let i=t;i<=n;i+=l){const t=Math.min(i+l-1,n);nx(e,i,t,s,this.compareMinY);for(let n=i;n<=t;n+=s){const i=Math.min(n+s-1,t);o.children.push(this._build(e,n,i,r-1))}}return Uw(o,this.toBBox),o}_chooseSubtree(e,t,n,r){for(;r.push(t),!t.leaf&&r.length-1!==n;){let n,r=1/0,i=1/0;for(let o=0;o<t.children.length;o++){const a=t.children[o],s=Yw(a),l=Kw(e,a)-s;l<i?(i=l,r=s<r?s:r,n=a):l===i&&s<r&&(r=s,n=a)}t=n||t.children[0]}return t}_insert(e,t,n){const r=n?e:this.toBBox(e),i=[],o=this._chooseSubtree(r,this.data,t,i);for(o.children.push(e),$w(o,r);t>=0&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(r,i,t)}_split(e,t){const n=e[t],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);const o=this._chooseSplitIndex(n,i,r),a=tx(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,Uw(n,this.toBBox),Uw(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(n,a)}_splitRoot(e,t){this.data=tx([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Uw(this.data,this.toBBox)}_chooseSplitIndex(e,t,n){let r,i=1/0,o=1/0;for(let a=t;a<=n-t;a++){const t=Ww(e,0,a,this.toBBox),s=Ww(e,a,n,this.toBBox),l=Jw(t,s),c=Yw(t)+Yw(s);l<i?(i=l,r=a,o=c<o?c:o):l===i&&c<o&&(o=c,r=a)}return r||n-t}_chooseSplitAxis(e,t,n){const r=e.leaf?this.compareMinX:Gw,i=e.leaf?this.compareMinY:Xw;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,i)&&e.children.sort(r)}_allDistMargin(e,t,n,r){e.children.sort(r);const i=this.toBBox,o=Ww(e,0,t,i),a=Ww(e,n-t,n,i);let s=Zw(o)+Zw(a);for(let r=t;r<n-t;r++){const t=e.children[r];$w(o,e.leaf?i(t):t),s+=Zw(o)}for(let r=n-t-1;r>=t;r--){const t=e.children[r];$w(a,e.leaf?i(t):t),s+=Zw(a)}return s}_adjustParentBBoxes(e,t,n){for(let r=n;r>=0;r--)$w(t[r],e)}_condense(e){for(let t,n=e.length-1;n>=0;n--)0===e[n].children.length?n>0?(t=e[n-1].children,t.splice(t.indexOf(e[n]),1)):this.clear():Uw(e[n],this.toBBox)}}function Vw(e,t,n){if(!n)return t.indexOf(e);for(let r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function Uw(e,t){Ww(e,0,e.children.length,t,e)}function Ww(e,t,n,r,i){i||(i=tx(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let o=t;o<n;o++){const t=e.children[o];$w(i,e.leaf?r(t):t)}return i}function $w(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function Gw(e,t){return e.minX-t.minX}function Xw(e,t){return e.minY-t.minY}function Yw(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function Zw(e){return e.maxX-e.minX+(e.maxY-e.minY)}function Kw(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function Jw(e,t){const n=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),o=Math.min(e.maxY,t.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}function Qw(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function ex(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function tx(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function nx(e,t,n,r,i){const o=[t,n];for(;o.length;){if((n=o.pop())-(t=o.pop())<=r)continue;const a=t+Math.ceil((n-t)/r/2)*r;jw(e,a,t,n,i),o.push(t,a,a,n)}}const rx=(e,t)=>{if("FragmentSelector"===e.targets[0].selector.type){const{x:t,y:n,w:r,h:i}=Db(e);return{minX:t,minY:n,maxX:t+r,maxY:n+i}}{const n=Iw(e,t),r=document.createElementNS(Ab,"svg");r.style.position="absolute",r.style.opacity=0,r.style.top=0,r.style.left=0,r.appendChild(n),document.body.appendChild(r);const{x:i,y:o,width:a,height:s}=n.getBBox();return document.body.removeChild(r),{minX:i,minY:o,maxX:i+a,maxY:o+s}}},ix=e=>{var t;const n=e.targets[0];return Array.isArray(n.selector)?n.selector[0].type:null==(t=n.selector)?void 0:t.type},ox=(e,t,n,r)=>{const i=vw(n),o=i.nodeName.toLowerCase(),a=[e,t];if("polygon"===o){const e=Array.from(i.points).map((e=>[e.x,e.y]));return pw(a,e)}if("circle"===o){const e=i.getAttribute("cx"),t=i.getAttribute("cy"),n=i.getAttribute("r");return cw(a,e,t,n)}if("ellipse"===o){const e=i.getAttribute("cx"),t=i.getAttribute("cy"),n=i.getAttribute("rx"),r=i.getAttribute("ry");return uw(a,e,t,n,r)}if("path"===o)return fw(i).find((e=>pw(a,e)));if("line"===o){const e=parseInt(i.getAttribute("x1")),t=parseInt(i.getAttribute("y1")),n=parseInt(i.getAttribute("x2")),o=parseInt(i.getAttribute("y2"));return hw(a,e,t,n,o,r)}throw`Unsupported SVG shape type: ${o}`};class ax{constructor(e){p(this,"clear",(()=>this.spatial_index.clear())),p(this,"getAnnotationAt",((e,t,n)=>{const r=n?5/n:5,i=this.spatial_index.search({minX:e-r,minY:t-r,maxX:e+r,maxY:t+r}).map((e=>e.annotation)).filter((n=>{const i=ix(n);if("FragmentSelector"===i)return!0;if("SvgSelector"===i)return ox(e,t,n,r);throw`Unsupported selector type: ${i}`}));if(i.length>0)return i.sort(((e,t)=>Bw(e,this.env.image)-Bw(t,this.env.image))),i[0]})),p(this,"getAnnotationsIntersecting",(e=>{const t=e.minX,n=t?e:rx(e,this.env.image),r=this.spatial_index.search(n).map((e=>e.annotation));return t?r:r.filter((t=>!t.isEqual(e)))})),p(this,"insert",(e=>{(Array.isArray(e)?e:[e]).forEach((e=>{this.spatial_index.insert({...rx(e,this.env.image),annotation:e})}))})),p(this,"getBounds",(e=>this.getBounds(e,this.env.image))),p(this,"remove",(e=>{const t={...rx(e,this.env.image),annotation:e};this.spatial_index.remove(t,((e,t)=>e.annotation.id===t.annotation.id))})),this.env=e,this.spatial_index=new qw}}const sx=(e,t)=>{const n=(Pb(t,".a9s-annotation")?t:t.closest(".a9s-annotation")).querySelector(".a9s-outer").getBoundingClientRect(),{canvas:r}=e.drawer,i=r.getBoundingClientRect(),o=r.width/i.width,a=r.height/i.height,s=n.x-i.x,l=n.y-i.y,{width:c,height:u}=n,p=document.createElement("CANVAS"),d=p.getContext("2d");p.width=c,p.height=u,d.drawImage(r,s*o,l*a,c*o,u*a,0,0,c,u);const h=e.viewport.viewerElementToImageCoordinates(new OpenSeadragon.Point(s,l)),f=e.viewport.viewportToImageZoom(e.viewport.getZoom());return{snippet:p,transform:e=>[h.x+e[0]/o/f,h.y+e[1]/a/f]}},lx=Gb();class cx extends gt{constructor(e){super(),p(this,"_getShapeAt",(e=>{const t=e=>{const t=this.svg.createSVGPoint();if(window.TouchEvent&&e instanceof TouchEvent){const n=this.svg.getBoundingClientRect(),r=e.touches[0],i=r.clientX-n.x,o=r.clientY-n.y,{left:a,top:s}=this.svg.getBoundingClientRect();return t.x=i+a,t.y=o+s,t.matrixTransform(this.g.getScreenCTM().inverse())}return t.x=e.offsetX,t.y=e.offsetY,t.matrixTransform(this.g.getCTM().inverse())},{x:n,y:r}=t(e),i=this.store.getAnnotationAt(n,r,this.currentScale());if(i)return this.findShape(i)})),p(this,"_initDrawingTools",(e=>{var t;this.tools=new Mw(this.g,this.config,this.env),this.tools.on("complete",this.onDrawingComplete);let n=!1;this.mouseTracker=new _b.MouseTracker({element:this.svg,preProcessEventHandler:e=>{this.mouseTracker.enabled||(e.preventDefault=!1,e.preventGesture=!0),this.selectedShape&&"wheel"===e.eventType&&(e.preventDefault=!1,this.viewer.canvas.dispatchEvent(new e.originalEvent.constructor(e.eventType,e.originalEvent)))},pressHandler:t=>{this.tools.current.isDrawing||(this.tools.current.start(t.originalEvent,this.drawOnSingleClick&&!this.hoveredShape),e||this.scaleTool(this.tools.current))},moveHandler:e=>{if(this.tools.current.isDrawing){e.originalEvent.stopPropagation();const{x:t,y:r}=this.tools.current.getSVGPoint(e.originalEvent);this.tools.current.onMouseMove(t,r,e.originalEvent),n||(this.emit("startSelection",{x:t,y:r}),n=!0)}},releaseHandler:e=>{if(this.tools.current.isDrawing){const{x:t,y:n}=this.tools.current.getSVGPoint(e.originalEvent);this.tools.current.onMouseUp(t,n,e.originalEvent)}n=!1}});const r=this.config.hotkey?this.config.hotkey.key?this.config.hotkey.key.toLowerCase():this.config.hotkey.toLowerCase():"shift",i=null==(t=this.config.hotkey)?void 0:t.inverted;this.mouseTracker.enabled=i,this.onKeyDown&&document.removeEventListener("keydown",this.onKeyDown),this.onKeyUp&&document.removeEventListener("keydown",this.onKeyDown),this.onKeyDown=e=>{e.key.toLowerCase()===r&&!this.selectedShape&&(this.mouseTracker.enabled=!this.readOnly&&!i)},this.onKeyUp=e=>{e.key.toLowerCase()===r&&!this.tools.current.isDrawing&&(this.mouseTracker.enabled=i)},document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp)})),p(this,"_initMouseEvents",(()=>{this.svg.addEventListener("mousemove",(e=>{var t,n;if(!(null!=(t=this.tools)&&t.current.isDrawing||e.target.closest(".a9s-annotation.editable.selected"))){const t=this._getShapeAt(e);if((null==t?void 0:t.annotation)!==(null==(n=this.hoveredShape)?void 0:n.annotation)){if(this.hoveredShape){const e=this.hoveredShape.element||this.hoveredShape;Mb(e,"hover"),this.emit("mouseLeaveAnnotation",this.hoveredShape.annotation,this.hoveredShape)}t&&(Nb(t,"hover"),this.emit("mouseEnterAnnotation",t.annotation,t))}this.hoveredShape=t}})),this.svg.addEventListener("mouseleave",(()=>{this.hoveredShape&&(Mb(this.hoveredShape,"hover"),this.emit("mouseLeaveAnnotation",this.hoveredShape.annotation,this.hoveredShape),this.hoveredShape=null)}));let e=null;this.viewer.addHandler("canvas-press",(()=>e=(new Date).getTime())),this.viewer.addHandler("canvas-click",(t=>{var n;const{originalEvent:r}=t;if(!(null==(n=this.tools.current)?void 0:n.isDrawing)&&!this.disableSelect&&(new Date).getTime()-e<250){const e=r.target.closest(".a9s-annotation.editable.selected")?this.selectedShape:this._getShapeAt(r);e?(t.preventDefaultAction=!0,this.selectShape(e)):e||(this.deselect(),this.emit("select",{}))}this.disableSelect&&this.hoveredShape&&this.emit("clickAnnotation",this.hoveredShape.annotation,this.hoveredShape)}))})),p(this,"_lazy",(e=>{if(this.viewer.world.getItemAt(0))e();else{const t=()=>{e(),this.viewer.removeHandler("open",t),this.viewer.world.removeHandler("add-item",t)};this.viewer.addHandler("open",t),this.viewer.world.addHandler("add-item",t)}})),p(this,"_refreshNonScalingAnnotations",(()=>{const e=this.currentScale();Array.from(this.svg.querySelectorAll(".a9s-non-scaling")).forEach((t=>t.setAttribute("transform",`scale(${1/e})`)))})),p(this,"addAnnotation",((e,t)=>{const n=t||this.g,r=Iw(e,this.env.image);return Nb(r,"a9s-annotation"),r.setAttribute("data-id",e.id),r.annotation=e,n.appendChild(r),iw(r,e,this.formatters),this.scaleFormatterElements(r),r})),p(this,"addDrawingTool",(e=>this.tools.registerTool(e))),p(this,"addOrUpdateAnnotation",((e,t)=>{var n;const r=null==(n=this.selectedShape)?void 0:n.annotation;(r===e||(null==r?void 0:r.isSelection)||r==t)&&this.deselect(),t&&this.removeAnnotation(e),this.removeAnnotation(e);const i=this.addAnnotation(e);Pb(i,"a9s-non-scaling")&&i.setAttribute("transform",`scale(${1/this.currentScale()})`),this.store.insert(e)})),p(this,"currentScale",(()=>{const e=this.viewer.viewport.getContainerSize().x;return this.viewer.viewport.getZoom(!0)*e/this.viewer.world.getContentFactor()})),p(this,"deselect",(()=>{var e;if(null==(e=this.tools)||e.current.stop(),this.selectedShape){const{annotation:e}=this.selectedShape;if(this.selectedShape.destroy){if(this.selectedShape.mouseTracker.destroy(),this.selectedShape.destroy(),!e.isSelection){const t=this.addAnnotation(e);Pb(t,"a9s-non-scaling")&&t.setAttribute("transform",`scale(${1/this.currentScale()})`)}}else Mb(this.selectedShape,"selected");this.selectedShape=null}})),p(this,"destroy",(()=>{this.deselect(),this.svg.parentNode.removeChild(this.svg)})),p(this,"findShape",(e=>{const t=null!=e&&e.id?e.id:e;return this.g.querySelector(`.a9s-annotation[data-id="${t}"]`)})),p(this,"_fit",((e,t,n)=>{const r=this.findShape(e);if(r){const{x:e,y:i,width:o,height:a}=r.getBBox(),s=this.viewer.viewport.imageToViewportRectangle(e,i,o,a);this.viewer.viewport[n](s,t)}})),p(this,"fitBounds",((e,t)=>this._fit(e,t,"fitBounds"))),p(this,"fitBoundsWithConstraints",((e,t)=>this._fit(e,t,"fitBoundsWithConstraints"))),p(this,"getAnnotations",(()=>Array.from(this.g.querySelectorAll(".a9s-annotation")).map((e=>e.annotation)))),p(this,"getAnnotationsIntersecting",(e=>{const t=e.id?e:this.findShape(e).annotation;return this.store.getAnnotationsIntersecting(t)})),p(this,"getImageSnippetById",(e=>{const t=this.findShape(e);if(t)return sx(this.viewer,t)})),p(this,"getSelectedImageSnippet",(()=>{var e;if(this.selectedShape){const t=null!=(e=this.selectedShape.element)?e:this.selectedShape;return sx(this.viewer,t)}})),p(this,"init",(e=>{this.deselect(),Array.from(this.g.querySelectorAll(".a9s-annotation")).forEach((e=>this.g.removeChild(e))),this.store.clear(),this._lazy((()=>{console.time("Took"),console.log("Drawing..."),this.loaded||(this.g.style.display="none"),e.forEach((e=>this.addAnnotation(e))),console.log("Indexing..."),this.store.insert(e),console.timeEnd("Took"),this.resize()}))})),p(this,"listDrawingTools",(()=>this.tools.listTools())),p(this,"overrideId",((e,t)=>{const n=this.findShape(e);n.setAttribute("data-id",t);const{annotation:r}=n,i=r.clone({id:t});return n.annotation=i,this.store.remove(r),this.store.insert(i),i})),p(this,"panTo",((e,t)=>{const n=this.findShape(e);if(n){const{top:e,left:r,width:i,height:o}=n.getBoundingClientRect(),a=r+i/2+window.scrollX,s=e+o/2+window.scrollY,l=this.viewer.viewport.windowToViewportCoordinates(new _b.Point(a,s));this.viewer.viewport.panTo(l,t)}})),p(this,"removeAnnotation",(e=>{var t,n;const r=e.type?e.id:e;(null==(t=this.selectedShape)?void 0:t.annotation.id)===r&&this.deselect();const i=this.findShape(e);if(i){const{annotation:e}=i;(null==(n=this.selectedShape)?void 0:n.annotation)===e&&this.deselect(),i.parentNode.removeChild(i),this.store.remove(e)}})),p(this,"removeDrawingTool",(e=>{var t;return null==(t=this.tools)?void 0:t.unregisterTool(e)})),p(this,"scaleFormatterElements",(e=>{const t=1/this.currentScale();if(e){const n=e.querySelector(".a9s-formatter-el");n&&n.firstChild.setAttribute("transform",`scale(${t})`)}else Array.from(this.g.querySelectorAll(".a9s-formatter-el")).forEach((e=>e.firstChild.setAttribute("transform",`scale(${t})`)))})),p(this,"scaleTool",(e=>{if(e){const t=1/this.currentScale();e.scale=t,e.onScaleChanged&&e.onScaleChanged(t)}})),p(this,"selectAnnotation",((e,t)=>{this.selectedShape&&this.deselect();const n=this.findShape(e);if(n){this.selectShape(n,t);const e=this.selectedShape.element?this.selectedShape.element:this.selectedShape;return{annotation:n.annotation,element:e}}this.deselect()})),p(this,"selectShape",((e,t)=>{var n;if(!t&&!e.annotation.isSelection&&this.emit("clickAnnotation",e.annotation,e),(null==(n=this.selectedShape)?void 0:n.annotation)===e.annotation)return;this.selectedShape&&this.selectedShape.annotation!==e.annotation&&this.deselect();const{annotation:r}=e;if(this.readOnly||r.readOnly||this.headless)this.selectedShape=e,Nb(e,"selected"),t||this.emit("select",{annotation:r,element:e,skipEvent:t});else{const n=this.tools.forAnnotation(r);if(n){setTimeout((()=>{e.parentNode.removeChild(e),t||this.emit("select",{annotation:r,element:this.selectedShape.element})}),1),this.selectedShape=n.createEditableShape(r,this.formatters),this.scaleTool(this.selectedShape),this.scaleFormatterElements(this.selectedShape.element),this.selectedShape.element.annotation=r;const i=new _b.MouseTracker({element:this.svg,preProcessEventHandler:e=>{e.stopPropagation=!0,e.preventDefault=!1,e.preventGesture=!0}}).setTracking(!1);this.selectedShape.element.addEventListener("mouseenter",(()=>{this.hoveredShape=this.selectedShape,i.setTracking(!0)})),this.selectedShape.element.addEventListener("mouseleave",(()=>{this.hoveredShape=null,i.setTracking(!1)})),this.selectedShape.mouseTracker=i,this.selectedShape.on("update",(e=>this.emit("updateTarget",this.selectedShape.element,e)))}else this.selectedShape=e,t||this.emit("select",{annotation:r,element:this.selectedShape})}})),p(this,"setDrawingEnabled",(e=>{if(this.mouseTracker){const t=e&&!this.readOnly;this.mouseTracker.enabled=t,this.mouseTracker.setTracking(t)}})),p(this,"setDrawingTool",(e=>{var t;this.tools&&(null==(t=this.tools.current)||t.stop(),this.tools.setCurrent(e))})),p(this,"setVisible",(e=>{e?this.svg.style.display=null:(this.deselect(),this.svg.style.display="none")})),p(this,"stopDrawing",(()=>{var e,t;return null==(t=null==(e=this.tools)?void 0:e.current)?void 0:t.stop()})),this.viewer=e.viewer,this.config=e.config,this.env=e.env,this.readOnly=e.config.readOnly,this.headless=e.config.headless,e.config.formatter?this.formatters=[e.config.formatter]:e.config.formatters&&(this.formatters=Array.isArray(e.config.formatters)?e.config.formatters:[e.config.formatters]),this.disableSelect=e.config.disableSelect,this.drawOnSingleClick=e.config.drawOnSingleClick,this.svg=document.createElementNS(Ab,"svg"),lx?(this.svg.setAttribute("class","a9s-annotationlayer a9s-osd-annotationlayer touch"),Xb(this.svg)):this.svg.setAttribute("class","a9s-annotationlayer a9s-osd-annotationlayer"),this.g=document.createElementNS(Ab,"g"),this.svg.appendChild(this.g),this.viewer.canvas.appendChild(this.svg),this.viewer.addHandler("animation",(()=>this.resize())),this.viewer.addHandler("rotate",(()=>this.resize())),this.viewer.addHandler("resize",(()=>this.resize())),this.viewer.addHandler("flip",(()=>this.resize())),this.loaded=!1;const t=()=>{const{x:t,y:n}=this.viewer.world.getItemAt(0).source.dimensions,r=this.viewer.world.getItemAt(0).source["@id"]||new URL(this.viewer.world.getItemAt(0).source.url,document.baseURI).href;this.env.image={src:r,naturalWidth:t,naturalHeight:n},e.config.crosshair&&(this.crosshair=new Pw(this.g,t,n),Nb(this.svg,"has-crosshair")),this.loaded||this.emit("load",r),this.loaded=!0,this.g.style.display="inline",this.resize()};this.viewer.addHandler("open",t),this.viewer.world.addHandler("add-item",t),this.viewer.world.getItemAt(0)&&t(),this.store=new ax(this.env),this.selectedShape=null,this.hoveredShape=null,this._initMouseEvents()}resize(){var e;const t=this.viewer.viewport.getFlip(),n=this.viewer.viewport.pixelFromPoint(new _b.Point(0,0),!0);t&&(n.x=this.viewer.viewport._containerInnerSize.x-n.x);const r=this.currentScale(),i=t?-r:r,o=this.viewer.viewport.getRotation();this.g.setAttribute("transform",`translate(${n.x}, ${n.y}) scale(${i}, ${r}) rotate(${o})`),this._refreshNonScalingAnnotations(),this.scaleFormatterElements(),this.selectedShape&&(this.selectedShape.element?(this.scaleTool(this.selectedShape),this.emit("viewportChange",this.selectedShape.element)):this.emit("viewportChange",this.selectedShape)),null!=(e=this.tools)&&e.current.isDrawing&&this.scaleTool(this.tools.current)}}class ux extends cx{constructor(e){super(e),p(this,"onDrawingComplete",(e=>{var t;this.mouseTracker.enabled=null==(t=this.config.hotkey)?void 0:t.inverted,this.selectShape(e),this.emit("createSelection",e.annotation)})),this._initDrawingTools()}}const px=e=>{const t=e.viewport.viewportToImageRectangle(e.viewport.getBounds(!0)),n=e.viewport.getContainerSize().x;return{extent:t,scale:e.viewport.getZoom(!0)*n/e.world.getContentFactor()}},dx=e=>{var t;const n=e.targets[0];return n?Array.isArray(n.selector)?n.selector[0].type:null==(t=n.selector)?void 0:t.type:null},hx=(e,t)=>{const{extent:n,scale:r}=px(e),{selector:i}=t,o=xb.create({target:t});if("SvgSelector"===i.type){const e=vw(o),i=e.nodeName.toLowerCase();let a=null;if("polygon"===i)a=fx(e,n,r);else if("circle"===i)a=mx(e,n,r);else if("ellipse"===i)a=gx(e,n,r);else{if("path"!==i)throw`Unsupported SVG shape type: ${i}`;a=vx(e,n,r)}let s=a.outerHTML||(new XMLSerializer).serializeToString(a);return s=s.replace(` xmlns="${Ab}"`,""),{...t,selector:{type:"SvgSelector",value:`<svg>${s}</svg>`}}}if("FragmentSelector"===i.type){const{x:e,y:t,w:i,h:a}=Db(o),s=n.x+e/r,l=n.y+t/r,c=i/r,u=a/r;return 0===i&&0===a?{...Ib(s,l,c,u),renderedVia:{name:"point"}}:Ib(s,l,c,u)}throw`Unsupported selector type: ${i.type}`},fx=(e,t,n)=>{const r=Array.from(e.points).map((e=>t.x+e.x/n+","+(t.y+e.y/n))).join(" ");return e.setAttribute("points",r),e},mx=(e,t,n)=>{const r=parseFloat(e.getAttribute("cx")),i=parseFloat(e.getAttribute("cy")),o=parseFloat(e.getAttribute("r"));return e.setAttribute("cx",t.x+r/n),e.setAttribute("cy",t.y+i/n),e.setAttribute("r",o/n),e},gx=(e,t,n)=>{const r=parseFloat(e.getAttribute("cx")),i=parseFloat(e.getAttribute("cy")),o=parseFloat(e.getAttribute("rx")),a=parseFloat(e.getAttribute("ry"));return e.setAttribute("cx",t.x+r/n),e.setAttribute("cy",t.y+i/n),e.setAttribute("rx",o/n),e.setAttribute("ry",a/n),e},vx=(e,t,n)=>{const r=e.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map((e=>e.trim())).map((e=>{const r=e.substring(0,1);if("z"===r.toLowerCase())return r;{const i=e.substring(1).split(" ").map((e=>parseFloat(e.trim()))),o=r===r.toUpperCase();return r+" "+(o?t.x+i[0]/n:i[0]/n)+" "+(o?t.y+i[1]/n:i[1]/n)}})).join(" ");return e.setAttribute("d",r),e},yx=(e,t)=>{const{extent:n,scale:r}=px(e),i=t.selector("FragmentSelector");if(t.selector("SvgSelector")){const e=vw(t),i=e.nodeName.toLowerCase();let o=null;if("polygon"===i)o=bx(e,n,r);else if("circle"===i)o=wx(e,n,r);else if("ellipse"===i)o=xx(e,n,r);else{if("path"!==i)throw`Unsupported SVG shape type: ${i}`;o=kx(e,n,r)}let a=o.outerHTML||(new XMLSerializer).serializeToString(o);a=a.replace(` xmlns="${Ab}"`,"");const s={selector:{type:"SvgSelector",value:`<svg>${a}</svg>`}};return t.clone({target:s})}if(i){const{x:e,y:i,w:o,h:a}=Db(t),s=(e-n.x)*r,l=(i-n.y)*r,c=Ib(s,l,o*r,a*r);return t.clone({target:c})}},bx=(e,t,n)=>{const r=Array.from(e.points).map((e=>n*(e.x-t.x)+","+n*(e.y-t.y))).join(" ");return e.setAttribute("points",r),e},wx=(e,t,n)=>{const r=e.getAttribute("cx"),i=e.getAttribute("cy"),o=e.getAttribute("r");return e.setAttribute("cx",n*(r-t.x)),e.setAttribute("cy",n*(i-t.y)),e.setAttribute("r",o*n),e},xx=(e,t,n)=>{const r=e.getAttribute("cx"),i=e.getAttribute("cy"),o=e.getAttribute("rx"),a=e.getAttribute("ry");return e.setAttribute("cx",n*(r-t.x)),e.setAttribute("cy",n*(i-t.y)),e.setAttribute("rx",o*n),e.setAttribute("ry",a*n),e},kx=(e,t,n)=>{const r=e.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map((e=>e.trim())).map((e=>{const r=e.substring(0,1);if("z"===r.toLowerCase())return r;{const i=e.substring(1).split(" ").filter((e=>e)).map((e=>parseFloat(e.trim()))),o=r===r.toUpperCase();return r+" "+(o?n*(i[0]-t.x):n*i[0])+" "+(o?n*(i[1]-t.y):n*i[1])}})).join(" ");return e.setAttribute("d",r),e},Sx=(e,t)=>{const{extent:n,scale:r}=px(e),i=dx(t.annotation);if("FragmentSelector"===i)Cx(t,n,r);else{if("SvgSelector"!==i)throw`Unsupported selector type type: ${i}`;Ex(t,n,r)}const o=t.querySelector(".a9s-formatter-el");if(o){const{x:e,y:n}=t.querySelector(".a9s-inner").getBBox();o.setAttribute("x",e),o.setAttribute("y",n)}},Cx=(e,t,n)=>{const{x:r,y:i,w:o,h:a}=Db(e.annotation),s=e.querySelector(".a9s-outer"),l=e.querySelector(".a9s-inner"),c=n*(r-t.x),u=n*(i-t.y);[s,l].forEach(0===o&&0===a?e=>{e.setAttribute("cx",c),e.setAttribute("cy",u)}:e=>{e.setAttribute("x",c),e.setAttribute("y",u),e.setAttribute("width",o*n),e.setAttribute("height",a*n)})},Ex=(e,t,n)=>{const r=vw(e.annotation),i=r.nodeName.toLowerCase();if("polygon"===i)Tx(e,r,t,n);else if("circle"===i)_x(e,r,t,n);else if("ellipse"===i)Ax(e,r,t,n);else{if("path"!==i)throw`Unsupported SVG shape type: ${i}`;Ox(e,r,t,n)}},Tx=(e,t,n,r)=>{const i=Array.from(t.points).map((e=>r*(e.x-n.x)+","+r*(e.y-n.y))).join(" ");e.querySelector(".a9s-outer").setAttribute("points",i),e.querySelector(".a9s-inner").setAttribute("points",i)},_x=(e,t,n,r)=>{const i=r*(t.getAttribute("cx")-n.x),o=r*(t.getAttribute("cy")-n.y),a=r*t.getAttribute("r"),s=e.querySelector(".a9s-outer");s.setAttribute("cx",i),s.setAttribute("cy",o),s.setAttribute("r",a);const l=e.querySelector(".a9s-inner");l.setAttribute("cx",i),l.setAttribute("cy",o),l.setAttribute("r",a)},Ax=(e,t,n,r)=>{const i=r*(t.getAttribute("cx")-n.x),o=r*(t.getAttribute("cy")-n.y),a=r*t.getAttribute("rx"),s=r*t.getAttribute("ry"),l=e.querySelector(".a9s-outer");l.setAttribute("cx",i),l.setAttribute("cy",o),l.setAttribute("rx",a),l.setAttribute("ry",s);const c=e.querySelector(".a9s-inner");c.setAttribute("cx",i),c.setAttribute("cy",o),c.setAttribute("rx",a),c.setAttribute("ry",s)},Ox=(e,t,n,r)=>{const i=t.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map((e=>e.trim())).map((e=>{const t=e.substring(0,1);if("z"===t.toLowerCase())return t;{const i=e.substring(1).split(" ").filter((e=>e)).map((e=>parseFloat(e.trim()))),o=t===t.toUpperCase();return t+" "+(o?r*(i[0]-n.x):r*i[0])+" "+(o?r*(i[1]-n.y):r*i[1])}})).join(" ");e.querySelector(".a9s-inner").setAttribute("d",i),e.querySelector(".a9s-outer").setAttribute("d",i)},Nx=Gb();class Mx extends cx{constructor(e){super(e),p(this,"_getShapeAt",(e=>{const t=e=>{if(Nx){const t=this.svg.getBoundingClientRect(),n=e.clientX-t.x,r=e.clientY-t.y;return new _b.Point(n,r)}return new _b.Point(e.offsetX,e.offsetY)},n=this.viewer.viewport.viewerElementToViewportCoordinates(t(e)),{x:r,y:i}=this.viewer.viewport.viewportToImageCoordinates(n.x,n.y),o=this.store.getAnnotationAt(r,i,this.currentScale());if(o)return this.findShape(o)})),p(this,"_refreshNonScalingAnnotations",(()=>{})),p(this,"addAnnotation",((e,t)=>{const n=t||this.g,r=Iw(e,this.env.image);return Nb(r,"a9s-annotation"),r.setAttribute("data-id",e.id),r.annotation=e,Sx(this.viewer,r),n.appendChild(r),iw(r,e,this.formatters),r})),p(this,"addOrUpdateAnnotation",((e,t)=>{var n;const r=null==(n=this.selectedShape)?void 0:n.annotation;(r===e||(null==r?void 0:r.isSelection)||r==t)&&this.deselect(),t&&this.removeAnnotation(e),this.removeAnnotation(e),this.addAnnotation(e),this.store.insert(e)})),p(this,"deselect",(()=>{var e;if(null==(e=this.tools)||e.current.stop(),this.selectedShape){const{annotation:e}=this.selectedShape;this.selectedShape.destroy?(this.selectedShape.mouseTracker.destroy(),this.selectedShape.destroy(),e.isSelection||this.addAnnotation(e)):Mb(this.selectedShape,"selected"),this.selectedShape=null}})),p(this,"onDrawingComplete",(e=>{const t=e.annotation.clone({target:hx(this.viewer,e.annotation.target)});e.annotation=t,this.selectShape(e),this.emit("createSelection",e.annotation),this.mouseTracker.enabled=!1})),p(this,"selectShape",((e,t)=>{var n;if(!t&&!e.annotation.isSelection&&this.emit("clickAnnotation",e.annotation,e),(null==(n=this.selectedShape)?void 0:n.annotation)===e.annotation)return;this.selectedShape&&this.selectedShape.annotation!==e.annotation&&this.deselect(!0);const{annotation:r}=e;if(this.readOnly||r.readOnly||this.headless)this.selectedShape=e,Nb(e,"selected"),t||this.emit("select",{annotation:r,element:e,skipEvent:t});else{setTimeout((()=>{e.parentNode.removeChild(e),t||this.emit("select",{annotation:r,element:this.selectedShape.element})}),1);const n=this.tools.forAnnotation(r);this.selectedShape=n.createEditableShape(r),this.selectedShape.element.annotation=r;const i=yx(this.viewer,r);this.selectedShape.updateState(i);const o=new _b.MouseTracker({element:this.svg,preProcessEventHandler:e=>{e.stopPropagation=!0,e.preventDefault=!1,e.preventGesture=!0}});this.selectedShape.element.addEventListener("mouseenter",(()=>{this.hoveredShape=this.selectedShape,o.setTracking(!0)})),this.selectedShape.element.addEventListener("mouseleave",(()=>{this.hoveredShape=null,o.setTracking(!1)})),this.selectedShape.mouseTracker=o,this.selectedShape.on("update",(e=>{const t=hx(this.viewer,e);this.selectedShape.element.annotation=this.selectedShape.annotation.clone({target:t}),this.emit("updateTarget",this.selectedShape.element,t)}))}})),this._initDrawingTools(!0)}resize(){if(this.store&&(Array.from(this.g.querySelectorAll(".a9s-annotation:not(.selected)")).forEach((e=>{Sx(this.viewer,e)})),this.selectedShape))if(this.selectedShape.element){const e=yx(this.viewer,this.selectedShape.element.annotation);this.selectedShape.updateState&&this.selectedShape.updateState(e),this.emit("viewportChange",this.selectedShape.element)}else this.emit("viewportChange",this.selectedShape)}}var Px=ht(X),Dx=0;function Lx(e,t,n,r,i){var o,a,s={};for(a in t)"ref"==a?o=t[a]:s[a]=t[a];var l={type:e,props:s,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--Dx,__source:r,__self:i};if("function"==typeof e&&(o=e.defaultProps))for(a in o)void 0===s[a]&&(s[a]=o[a]);return Px.options.vnode&&Px.options.vnode(l),l}const Rx=Lx;class Ix extends x{constructor(e){super(e),p(this,"clearState",(e=>this.setState({selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null,beforeHeadlessModify:null},e))),p(this,"forwardEvent",((e,t)=>{this.annotationLayer.on(e,((e,n)=>{this.props[t](e.clone(),n)}))})),p(this,"onKeyUp",(e=>{if(27===e.which){this.annotationLayer.stopDrawing();const{selectedAnnotation:e}=this.state;e&&(this.cancelSelected(),this.props.onCancelSelected(e))}else if(46===e.which){const{selectedAnnotation:e}=this.state;e&&(e.isSelection?this.onCancelAnnotation(e):this.onDeleteAnnotation(e))}})),p(this,"handleStartSelect",(e=>this.props.onSelectionStarted(e))),p(this,"handleSelect",((e,t)=>{this.state.editorDisabled?this.onHeadlessSelect(e,t):this.onNormalSelect(e,t)})),p(this,"onNormalSelect",((e,t)=>{const{annotation:n,element:r}=e;if(n){const e=()=>{this.setState({selectedAnnotation:n,selectedDOMElement:r,modifiedTarget:null},(()=>{t||(n.isSelection?this.props.onSelectionCreated(n.clone()):this.props.onAnnotationSelected(n.clone(),r))}))},{selectedAnnotation:i}=this.state;i&&!i.isEqual(n)?this.clearState((()=>{this.props.onCancelSelected(i),e()})):e()}else{const{selectedAnnotation:e}=this.state;e?this.clearState((()=>this.props.onCancelSelected(e))):this.clearState()}})),p(this,"onHeadlessSelect",((e,t)=>{this.saveSelected().then((()=>{this.onNormalSelect(e,t)}))})),p(this,"handleUpdateTarget",((e,t)=>{this.setState({selectedDOMElement:e,modifiedTarget:t});const n=JSON.parse(JSON.stringify(t));this.props.onSelectionTargetChanged(n)})),p(this,"handleViewportChange",(e=>this.setState({selectedDOMElement:e}))),p(this,"overrideAnnotationId",(e=>t=>{const{id:n}=e;this.state.selectedAnnotation?this.setState({selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null},(()=>{this.annotationLayer.overrideId(n,t)})):this.annotationLayer.overrideId(n,t)})),p(this,"onCreateOrUpdateAnnotation",((e,t)=>(n,r)=>{let i=n.isSelection?n.toAnnotation():n;i=this.state.modifiedTarget?i.clone({target:this.state.modifiedTarget}):i.clone(),this.clearState((()=>{this.annotationLayer.addOrUpdateAnnotation(i,r),r?this.props[e](i,r.clone()):this.props[e](i,this.overrideAnnotationId(i)),t&&t()}))})),p(this,"onDeleteAnnotation",(e=>{this.clearState(),this.annotationLayer.removeAnnotation(e),this.props.onAnnotationDeleted(e)})),p(this,"onCancelAnnotation",((e,t)=>{this.state.editorDisabled||this.annotationLayer.deselect(),this.props.onCancelSelected(e),this.clearState(t)})),p(this,"addAnnotation",(e=>{var t;e.id===(null==(t=this.state.selectedAnnotation)?void 0:t.id)&&(this.annotationLayer.deselect(),this.clearState()),this.annotationLayer.addOrUpdateAnnotation(e.clone())})),p(this,"addDrawingTool",(e=>this.annotationLayer.addDrawingTool(e))),p(this,"cancelSelected",(()=>new Promise((e=>{this.annotationLayer.deselect(),this.state.selectedAnnotation?this.clearState(e):e()})))),p(this,"fitBounds",((e,t)=>this.annotationLayer.fitBounds(e,t))),p(this,"fitBoundsWithConstraints",((e,t)=>this.annotationLayer.fitBoundsWithConstraints(e,t))),p(this,"getAnnotationById",(e=>{var t;return null==(t=this.annotationLayer.findShape(e))?void 0:t.annotation})),p(this,"getAnnotations",(()=>this.annotationLayer.getAnnotations().map((e=>e.clone())))),p(this,"getAnnotationsIntersecting",(e=>this.annotationLayer.getAnnotationsIntersecting(e))),p(this,"getImageSnippetById",(e=>this.annotationLayer.getImageSnippetById(e))),p(this,"getSelected",(()=>{var e;if(this.state.selectedAnnotation)return this.state.editorDisabled?this.state.selectedAnnotation:null==(e=this._editor.current)?void 0:e.getCurrentAnnotation()})),p(this,"getSelectedImageSnippet",(()=>this.annotationLayer.getSelectedImageSnippet())),p(this,"listDrawingTools",(()=>this.annotationLayer.listDrawingTools())),p(this,"panTo",((e,t)=>this.annotationLayer.panTo(e,t))),p(this,"removeAnnotation",(e=>this.annotationLayer.removeAnnotation(e))),p(this,"removeDrawingTool",(e=>this.annotationLayer.removeDrawingTool(e))),p(this,"saveSelected",(()=>new Promise((e=>{const t=this.state.selectedAnnotation;if(t)if(this._editor.current)this._editor.current.onOk(),e();else if(t.isSelection)t.bodies.length>0||this.props.config.allowEmpty?this.onCreateOrUpdateAnnotation("onAnnotationCreated",e)(t):(this.annotationLayer.deselect(),e());else{const{beforeHeadlessModify:n,modifiedTarget:r}=this.state;n?this.onCreateOrUpdateAnnotation("onAnnotationUpdated",e)(t,n):r?this.onCreateOrUpdateAnnotation("onAnnotationUpdated",e)(t,t):this.onCancelAnnotation(t,e)}else e()})))),p(this,"selectAnnotation",(e=>{const t=this.annotationLayer.selectAnnotation(e,!0);if(t)return this.handleSelect(t,!0),t.annotation.clone();this.clearState()})),p(this,"setAnnotations",(e=>this.annotationLayer.init(e.map((e=>e.clone()))))),p(this,"setDrawingEnabled",(e=>this.annotationLayer.setDrawingEnabled(e))),p(this,"setDrawingTool",(e=>this.annotationLayer.setDrawingTool(e))),p(this,"setVisible",(e=>{this.annotationLayer.setVisible(e),e||this.clearState()})),p(this,"updateSelected",((e,t)=>new Promise((n=>{this.state.selectedAnnotation&&(t?this.state.selectedAnnotation.isSelection?this.onCreateOrUpdateAnnotation("onAnnotationCreated",n)(e):this.onCreateOrUpdateAnnotation("onAnnotationUpdated",n)(e,this.state.selectedAnnotation):this.setState({selectedAnnotation:e,beforeHeadlessModify:this.state.beforeHeadlessModify||this.state.selectedAnnotation},n))})))),this.state={selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null,readOnly:e.config.readOnly,editorDisabled:e.config.disableEditor,widgets:e.config.widgets,beforeHeadlessModify:null},this._editor=ct.createRef()}componentDidMount(){this.annotationLayer=this.props.config.gigapixelMode?new Mx(this.props):new ux(this.props),this.annotationLayer.on("load",this.props.onLoad),this.annotationLayer.on("startSelection",this.handleStartSelect),this.annotationLayer.on("select",this.handleSelect),this.annotationLayer.on("updateTarget",this.handleUpdateTarget),this.annotationLayer.on("viewportChange",this.handleViewportChange),this.forwardEvent("clickAnnotation","onClickAnnotation"),this.forwardEvent("mouseEnterAnnotation","onMouseEnterAnnotation"),this.forwardEvent("mouseLeaveAnnotation","onMouseLeaveAnnotation"),document.addEventListener("keyup",this.onKeyUp)}componentWillUnmount(){this.annotationLayer.destroy(),document.removeEventListener("keyup",this.onKeyUp)}get disableEditor(){return this.state.editorDisabled}set disableEditor(e){this.setState({editorDisabled:e})}get disableSelect(){return this.annotationLayer.disableSelect}set disableSelect(e){this.annotationLayer.disableSelect=e}get formatters(){return this.annotationLayer.formatters}set formatters(e){this.annotationLayer.formatters=e}get readOnly(){return this.state.readOnly}set readOnly(e){this.annotationLayer.readOnly=e,this.setState({readOnly:e})}get widgets(){return this.state.widgets}set widgets(e){this.setState({widgets:e})}render(){var e;const t=this.state.selectedAnnotation&&!this.state.editorDisabled,n=this.state.readOnly||(null==(e=this.state.selectedAnnotation)?void 0:e.readOnly);return t&&Rx(cb,{ref:this._editor,detachable:!0,wrapperEl:this.props.wrapperEl,annotation:this.state.selectedAnnotation,modifiedTarget:this.state.modifiedTarget,selectedElement:this.state.selectedDOMElement,readOnly:n,allowEmpty:this.props.config.allowEmpty,widgets:this.state.widgets,env:this.props.env,onAnnotationCreated:this.onCreateOrUpdateAnnotation("onAnnotationCreated"),onAnnotationUpdated:this.onCreateOrUpdateAnnotation("onAnnotationUpdated"),onAnnotationDeleted:this.onDeleteAnnotation,onCancel:this.onCancelAnnotation})}}class Bx{constructor(e,t){p(this,"handleAnnotationCreated",((e,t)=>this._emitter.emit("createAnnotation",e.underlying,t))),p(this,"handleAnnotationDeleted",(e=>this._emitter.emit("deleteAnnotation",e.underlying))),p(this,"handleAnnotationSelected",((e,t)=>this._emitter.emit("selectAnnotation",e.underlying,t))),p(this,"handleAnnotationUpdated",((e,t)=>this._emitter.emit("updateAnnotation",e.underlying,t.underlying))),p(this,"handleCancelSelected",(e=>this._emitter.emit("cancelSelected",e.underlying))),p(this,"handleClickAnnotation",((e,t)=>this._emitter.emit("clickAnnotation",e.underlying,t))),p(this,"handleLoad",(e=>this._emitter.emit("load",e))),p(this,"handleSelectionCreated",(e=>this._emitter.emit("createSelection",e.underlying))),p(this,"handleSelectionStarted",(e=>this._emitter.emit("startSelection",e))),p(this,"handleSelectionTargetChanged",(e=>this._emitter.emit("changeSelectionTarget",e))),p(this,"handleMouseEnterAnnotation",((e,t)=>this._emitter.emit("mouseEnterAnnotation",e.underlying,t))),p(this,"handleMouseLeaveAnnotation",((e,t)=>this._emitter.emit("mouseLeaveAnnotation",e.underlying,t))),p(this,"_wrap",(e=>"Annotation"===(null==e?void 0:e.type)?new xb(e):e)),p(this,"addAnnotation",(e=>this._app.current.addAnnotation(new xb(e)))),p(this,"addDrawingTool",(e=>this._app.current.addDrawingTool(e))),p(this,"cancelSelected",(()=>this._app.current.cancelSelected())),p(this,"clearAnnotations",(()=>this.setAnnotations([]))),p(this,"clearAuthInfo",(()=>this._env.user=null)),p(this,"destroy",(()=>ct.unmountComponentAtNode(this.appContainerEl))),p(this,"fitBounds",((e,t)=>this._app.current.fitBounds(this._wrap(e),t))),p(this,"fitBoundsWithConstraints",((e,t)=>this._app.current.fitBoundsWithConstraints(this._wrap(e),t))),p(this,"getAnnotationById",(e=>{const t=this._app.current.getAnnotationById(e);return null==t?void 0:t.underlying})),p(this,"getAnnotations",(()=>this._app.current.getAnnotations().map((e=>e.underlying)))),p(this,"getAnnotationsIntersecting",(e=>this._app.current.getAnnotationsIntersecting(this._wrap(e)))),p(this,"getImageSnippetById",(e=>this._app.current.getImageSnippetById(e))),p(this,"getSelected",(()=>{const e=this._app.current.getSelected();return null==e?void 0:e.underlying})),p(this,"getSelectedImageSnippet",(()=>this._app.current.getSelectedImageSnippet())),p(this,"listDrawingTools",(()=>this._app.current.listDrawingTools())),p(this,"loadAnnotations",(e=>fetch(e).then((e=>e.json())).then((e=>(this.setAnnotations(e),e))))),p(this,"off",((e,t)=>this._emitter.off(e,t))),p(this,"on",((e,t)=>this._emitter.on(e,t))),p(this,"once",((e,t)=>this._emitter.once(e,t))),p(this,"panTo",((e,t)=>this._app.current.panTo(this._wrap(e),t))),p(this,"removeAnnotation",(e=>this._app.current.removeAnnotation(this._wrap(e)))),p(this,"removeDrawingTool",(e=>this._app.current.removeDrawingTool(e))),p(this,"saveSelected",(()=>this._app.current.saveSelected())),p(this,"selectAnnotation",(e=>{const t=this._app.current.selectAnnotation(this._wrap(e));return null==t?void 0:t.underlying})),p(this,"setAnnotations",(e=>{const t=(e||[]).map((e=>new xb(e)));this._app.current.setAnnotations(t)})),p(this,"setAuthInfo",(e=>this._env.user=e)),p(this,"setDrawingEnabled",(e=>this._app.current.setDrawingEnabled(e))),p(this,"setDrawingTool",(e=>this._app.current.setDrawingTool(e))),p(this,"setServerTime",(e=>this._env.setServerTime(e))),p(this,"setVisible",(e=>this._app.current.setVisible(e))),p(this,"updateSelected",((e,t)=>{let n=null;"Annotation"===e.type?n=new xb(e):"Selection"===e.type&&(n=new kb(e.target,e.body)),n&&this._app.current.updateSelected(n,t)}));const n=t||{};this._app=ct.createRef(),this._emitter=new gt,this._env=Cb(),this._element=e.element,"static"===window.getComputedStyle(this._element).getPropertyValue("position")&&(this._element.style.position="relative"),Eb(n.locale,n.messages),this.appContainerEl=document.createElement("DIV"),this._element.appendChild(this.appContainerEl),ct.render(Rx(Ix,{ref:this._app,viewer:e,wrapperEl:this._element,config:n,env:this._env,onSelectionStarted:this.handleSelectionStarted,onSelectionCreated:this.handleSelectionCreated,onSelectionTargetChanged:this.handleSelectionTargetChanged,onAnnotationCreated:this.handleAnnotationCreated,onAnnotationSelected:this.handleAnnotationSelected,onAnnotationUpdated:this.handleAnnotationUpdated,onAnnotationDeleted:this.handleAnnotationDeleted,onCancelSelected:this.handleCancelSelected,onClickAnnotation:this.handleClickAnnotation,onLoad:this.handleLoad,onMouseEnterAnnotation:this.handleMouseEnterAnnotation,onMouseLeaveAnnotation:this.handleMouseLeaveAnnotation}),this.appContainerEl)}get disableEditor(){return this._app.current.disableEditor}set disableEditor(e){this._app.current.disableEditor=e}get disableSelect(){return this._app.current.disableSelect}set disableSelect(e){this._app.current.disableSelect=e}get formatters(){return this._app.current.formatters||[]}set formatters(e){if(e){const t=Array.isArray(e)?e:[e];this._app.current.formatters=t}else this._app.current.formatters=null}get readOnly(){return this._app.current.readOnly}set readOnly(e){this._app.current.readOnly=e}get widgets(){return this._app.current.widgets}set widgets(e){this._app.current.widgets=e}}})();l=o("acw62");class oa extends l.Component{constructor(e){super(e),this.state={isMovingItem:!1}}componentDidMount(){if(this.props.match.params.id&&Bt(this.props.match.params.id)){let t,n=JSON.parse(localStorage.getItem(this.props.match.params.id));t=n.manifest_url?[n.manifest_url]:{type:"image",url:n.img_url},this.AdnoAnnotorious=OpenSeadragon.Annotorious(OpenSeadragon({id:"openseadragon1",tileSources:t,prefixUrl:"https://openseadragon.github.io/openseadragon/images/"}),{locale:"auto",drawOnSingleClick:!0,allowEmpty:!0,disableEditor:!0});var e=localStorage.getItem(`${n.id}_annotations`);const r="data:application/json;base64,"+btoa(unescape(encodeURIComponent(e)));this.AdnoAnnotorious.loadAnnotations(r),Annotorious.SelectorPack(this.AdnoAnnotorious),Annotorious.BetterPolygon(this.AdnoAnnotorious),Annotorious.Toolbar(this.AdnoAnnotorious,document.getElementById("toolbar-container")),this.AdnoAnnotorious.on("createAnnotation",(e=>{var t=[...this.props.annotations];t.push(e),n.last_update=Wt(),Rt(n.id,JSON.stringify(n)),Rt(`${n.id}_annotations`,JSON.stringify(t)),this.props.updateAnnos(t),this.props.openRichEditor(e)})),this.AdnoAnnotorious.on("createSelection",(e=>{this.AdnoAnnotorious.saveSelected()})),this.AdnoAnnotorious.on("selectAnnotation",(e=>{document.getElementById(`anno_edit_card_${e.id}`).scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),this.props.openRichEditor(e);const t=this.AdnoAnnotorious.getSelected();this.setState({selected:t})})),this.AdnoAnnotorious.on("changeSelectionTarget",(e=>{this.setState({isMovingItem:!0});const t=this.AdnoAnnotorious.getSelected();t.target=e,this.setState({selected:t})}))}else this.props.history.push("/")}changeAnno=e=>{this.AdnoAnnotorious.selectAnnotation(e.id),this.AdnoAnnotorious.fitBounds(e.id),e.id&&document.getElementById(`anno_edit_card_${e.id}`)&&document.getElementById(`anno_edit_card_${e.id}`).scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})};validateMove=()=>{const e=JSON.parse(localStorage.getItem(this.props.match.params.id));var n=this.state.selected,r=[...this.props.annotations].map((e=>(e.id===n.id&&(e=n),e)));Rt(`${e.id}_annotations`,JSON.stringify(r)),this.props.updateAnnos(r),this.setState({isMovingItem:!1}),t(Qe).fire({title:"Annotation dplace avec succs",showCancelButton:!1,showConfirmButton:!0,confirmButtonText:"OK",icon:"success"})};componentDidUpdate(e){e.selectedAnno!==this.props.selectedAnno&&(this.changeAnno(this.props.selectedAnno),this.setState({isMovingItem:!1})),this.props.annotations!==e.annotations&&(this.AdnoAnnotorious.setAnnotations(this.props.annotations),this.props.selectedAnno&&this.changeAnno(this.props.selectedAnno))}render(){return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{id:"toolbar-container"}),(0,a.jsx)("div",{id:"openseadragon1"}),this.state.isMovingItem&&(0,a.jsxs)("button",{className:"btn btn-lg move-btn",onClick:()=>this.validateMove(),children:[" ",(0,a.jsx)($o,{icon:an})," Valider les modifications  "]})]})}}var aa=fe(oa);l=o("acw62");class sa extends l.Component{render(){return(0,a.jsx)("div",{className:"project-metadatas-backdrop",children:(0,a.jsxs)("div",{className:"project-metadatas-container",children:[(0,a.jsx)("div",{className:"card-actions justify-end closeBtnMetadatas",children:(0,a.jsx)("button",{className:"btn btn-square btn-sm",onClick:()=>this.props.closeProjectMetadatas(),children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})}),(0,a.jsxs)("div",{className:"project-metadatas",children:[this.props.selectedProject.id&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("label",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Identifier"})}),(0,a.jsx)("input",{type:"text",className:"input input-bordered w-full max-w-xs",value:this.props.selectedProject.id,disabled:!0})]}),this.props.selectedProject.manifest_url&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("label",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Source"})}),(0,a.jsx)("input",{type:"text",className:"input input-bordered w-full max-w-xs",value:this.props.selectedProject.manifest_url,disabled:!0})]}),this.props.selectedProject.img_url&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("label",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Source"})}),(0,a.jsx)("input",{type:"text",className:"input input-bordered w-full max-w-xs",value:this.props.selectedProject.img_url,disabled:!0})]}),this.props.selectedProject.creation_date&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("label",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Date de cration"})}),(0,a.jsx)("input",{type:"text",className:"input input-bordered w-full max-w-xs",value:this.props.selectedProject.creation_date,disabled:!0})]}),this.props.selectedProject.last_update&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("label",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Dernire modification"})}),(0,a.jsx)("input",{type:"text",className:"input input-bordered w-full max-w-xs",value:this.props.selectedProject.last_update,disabled:!0})]}),(0,a.jsx)("label",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Format"})}),(0,a.jsx)("input",{type:"text",className:"input input-bordered w-full max-w-xs",value:"Adno",disabled:!0}),this.props.selectedProject.rights&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("label",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Droits attribus"})}),(0,a.jsx)("input",{type:"text",className:"input input-bordered w-full max-w-xs",value:this.props.selectedProject.rights,disabled:!0})]}),this.props.selectedProject.title&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("label",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Titre"})}),(0,a.jsx)("input",{type:"text",className:"input input-bordered w-full max-w-xs",value:this.props.selectedProject.title,disabled:!0})]}),this.props.selectedProject.description&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("label",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Description"})}),(0,a.jsx)("input",{type:"text",className:"input input-bordered w-full max-w-xs",value:this.props.selectedProject.description,disabled:!0})]}),this.props.selectedProject.creator&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("label",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Auteur"})}),(0,a.jsx)("input",{type:"text",className:"input input-bordered w-full max-w-xs",value:this.props.selectedProject.creator,disabled:!0})]}),this.props.selectedProject.editor&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("label",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Editeur"})}),(0,a.jsx)("input",{type:"text",className:"input input-bordered w-full max-w-xs",value:this.props.selectedProject.editor,disabled:!0})]})]})]})})}}var la=sa;l=o("acw62");class ca extends l.Component{constructor(e){super(e),this.state={project:this.props.selectedProject,isDeleting:!1}}updateProjectMetadatas=e=>{e.preventDefault(),this.props.updateProject(this.state.project),Rt(this.state.project.id,JSON.stringify(this.state.project)),this.props.closeProjectMetadatas(),t(Qe).fire({title:"Projet dit avec succs !",showCancelButton:!1,confirmButtonText:"Ok",icon:"success"})};render(){return(0,a.jsx)("div",{className:"project-metadatas-backdrop",children:(0,a.jsxs)("form",{className:"project-metadatas-container",onSubmit:e=>{this.updateProjectMetadatas(e)},children:[(0,a.jsx)("div",{className:"card-actions justify-end closeBtnMetadatas",children:(0,a.jsx)("button",{type:"button",className:"btn btn-square btn-sm",onClick:()=>this.props.closeProjectMetadatas(),children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})}),(0,a.jsxs)("div",{className:"project-metadatas",children:[(0,a.jsx)("label",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Titre"})}),(0,a.jsx)("input",{type:"text",placeholder:"Votre titre",className:"input input-bordered w-full max-w-xs",value:this.state.project.title,onChange:e=>this.setState({project:{...this.state.project,title:e.target.value}})}),(0,a.jsx)("label",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Description"})}),(0,a.jsx)("input",{type:"text",placeholder:"Renseignez ici la description",className:"input input-bordered w-full max-w-xs",value:this.state.project.description,onChange:e=>this.setState({project:{...this.state.project,description:e.target.value}})}),(0,a.jsx)("label",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Auteur"})}),(0,a.jsx)("input",{type:"text",placeholder:"Renseignez ici l'auteur",className:"input input-bordered w-full max-w-xs",value:this.state.project.creator,onChange:e=>this.setState({project:{...this.state.project,creator:e.target.value}})}),(0,a.jsx)("label",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Editeur"})}),(0,a.jsx)("input",{type:"text",placeholder:"Renseignez ici l'editeur",className:"input input-bordered w-full max-w-xs",value:this.state.project.editor,onChange:e=>this.setState({project:{...this.state.project,editor:e.target.value}})}),(0,a.jsx)("label",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Attribution des droits"})}),(0,a.jsx)("input",{type:"text",placeholder:"Renseignez ici les droits de l'oeuvre",className:"input input-bordered w-full max-w-xs",value:this.state.project.rights,onChange:e=>this.setState({project:{...this.state.project,rights:e.target.value}})}),(0,a.jsx)("div",{className:"metadata-editor-btns",children:(0,a.jsxs)("button",{type:"submit",className:"btn",children:[(0,a.jsx)($o,{icon:vn}),"  Enregistrer "]})})]})]})})}}var ua=ca;l=o("acw62");class pa extends l.Component{constructor(e){super(e)}render(){return(0,a.jsxs)("div",{className:"navbar text-neutral-content",children:[(0,a.jsx)(ze,{to:"/",className:"project-navbar-link project-page-title",title:"Retourner  l'accueil",children:(0,a.jsx)("h1",{children:"ADNO"})}),(0,a.jsxs)(ze,{to:"/",className:"project-navbar-link",title:"Retourner  l'accueil",children:[" ",(0,a.jsx)($o,{icon:wn,size:"lg"})," "]}),this.props.selectedProject&&this.props.selectedProject.id&&(0,a.jsxs)("a",{id:"download_btn_"+this.props.selectedProject.id,href:qt(this.props.selectedProject.id),download:this.props.selectedProject.title+".json",className:"project-navbar-link",title:"Tlcharger le projet",children:[" ",(0,a.jsx)($o,{icon:pn,size:"lg"})," "]}),(0,a.jsx)("button",{onClick:()=>this.props.showProjectMetadatas(),className:"project-navbar-link",title:"Modifier le projet",children:(0,a.jsx)($o,{icon:this.props.editMode?mn:fn,size:"lg"})}),(0,a.jsxs)("p",{children:["Nom du projet :",(0,a.jsxs)("strong",{children:[this.props.selectedProject.title," ",this.props.selectedProject.autor&&`(${this.props.selectedProject.autor})`]})]}),(0,a.jsxs)("div",{className:"dl_toggle",children:[!this.props.editMode&&(0,a.jsx)("button",{onClick:()=>this.props.showEditorSettings(),className:"btn btn-md",children:(0,a.jsx)($o,{icon:yn,size:"lg"})}),(0,a.jsxs)("label",{className:"cursor-pointer label label-toggle",children:[(0,a.jsx)("label",{children:"Mode dition"}),(0,a.jsx)("input",{type:"checkbox",className:"toggle toggle-lg toggle-success",value:this.props.editMode,onChange:()=>{this.props.editMode?(this.props.changeSelectedAnno(void 0),this.props.history.push(`/project/${this.props.match.params.id}/view`)):(this.props.changeSelectedAnno(void 0),this.props.history.push(`/project/${this.props.match.params.id}/edit`))},checked:this.props.editMode})]})]})]})}}var da=fe(pa),ha=(l=o("acw62"),{});Object.defineProperty(ha,"__esModule",{value:!0}),ha.htmlparser2=ha.convertNodeToElement=ha.processNodes=void 0;var fa={};Object.defineProperty(fa,"__esModule",{value:!0}),fa.default=function(e,t){return e.filter((function(e){return!(0,ga.default)(e)})).map((function(e,n){var r=void 0;return"function"!=typeof t||null!==(r=t(e,n))&&!r?(0,ss.default)(e,n,t):r}))};var ma={};Object.defineProperty(ma,"__esModule",{value:!0}),ma.default=function(e){return"text"===e.type&&/\r?\n/.test(e.data)&&""===e.data.trim()};var ga=ls(ma),va={};Object.defineProperty(va,"__esModule",{value:!0}),va.default=function(e,t,n){return as.default[e.type](e,t,n)};var ya,ba={};Object.defineProperty(ba,"__esModule",{value:!0});var wa=o("4Xweo"),xa={};Object.defineProperty(xa,"__esModule",{value:!0}),xa.default=function(e){return e.data};var ka=rs(xa),Sa={};Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.default=function(e,t,n){var r=e.name;if(!(0,Ga.default)(r))return null;var i=(0,Ua.default)(e.attribs,t),o=null;-1===$a.default.indexOf(r)&&(o=(0,Ea.default)(e.children,n));return Ca.default.createElement(r,i,o)};var Ca=Xa(l=o("acw62")),Ea=Xa(fa),Ta={};Object.defineProperty(Ta,"__esModule",{value:!0});var _a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};Ta.default=function(e,t){var n=_a({},(0,Fa.default)(e),{key:t});"string"==typeof n.style||n.style instanceof String?n.style=(0,qa.default)(n.style):delete n.style;return n};var Aa={};Object.defineProperty(Aa,"__esModule",{value:!0}),Aa.default=function(e){return Object.keys(e).filter((function(e){return(0,Ia.default)(e)})).reduce((function(t,n){var r=n.toLowerCase(),i=Pa.default[r]||r;return t[i]=ja(i,e[n]),t}),{})};var Oa={};Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.default=["allowfullScreen","async","autoplay","capture","checked","controls","default","defer","disabled","formnovalidate","hidden","loop","multiple","muted","novalidate","open","playsinline","readonly","required","reversed","scoped","seamless","selected","itemscope"];var Na=Ba(Oa),Ma={};Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.default={accept:"accept","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",allowtransparency:"allowTransparency",alt:"alt",as:"as",async:"async",autocomplete:"autoComplete",autoplay:"autoPlay",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",challenge:"challenge",checked:"checked",cite:"cite",classid:"classID",class:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlsList:"controlsList",coords:"coords",crossorigin:"crossOrigin",data:"data",datetime:"dateTime",default:"default",defer:"defer",dir:"dir",disabled:"disabled",download:"download",draggable:"draggable",enctype:"encType",form:"form",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",for:"htmlFor","http-equiv":"httpEquiv",icon:"icon",id:"id",inputmode:"inputMode",integrity:"integrity",is:"is",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginheight:"marginHeight",marginwidth:"marginWidth",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",slot:"slot",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",datatype:"datatype",inlist:"inlist",prefix:"prefix",property:"property",resource:"resource",typeof:"typeof",vocab:"vocab",autocapitalize:"autoCapitalize",autocorrect:"autoCorrect",autosave:"autoSave",color:"color",itemprop:"itemProp",itemscope:"itemScope",itemtype:"itemType",itemid:"itemID",itemref:"itemRef",results:"results",security:"security",unselectable:"unselectable"};var Pa=Ba(Ma),Da={};Object.defineProperty(Da,"__esModule",{value:!0}),Da.default=function(e){Ra.hasOwnProperty(e)||(Ra[e]=La.test(e));return Ra[e]};var La=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Ra={};var Ia=Ba(Da);function Ba(e){return e&&e.__esModule?e:{default:e}}var ja=function(e,t){return Na.default.map((function(e){return e.toLowerCase()})).indexOf(e.toLowerCase())>=0&&(t=e),t};var Fa=Va(Aa),za={};Object.defineProperty(za,"__esModule",{value:!0});var Ha=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};za.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return""===e?{}:e.split(";").reduce((function(e,t){var n=t.split(/^([^:]+):/).filter((function(e,t){return t>0})).map((function(e){return e.trim().toLowerCase()})),r=Ha(n,2),i=r[0],o=r[1];return void 0===o||(e[i=i.replace(/^-ms-/,"ms-").replace(/-(.)/g,(function(e,t){return t.toUpperCase()}))]=o),e}),{})};var qa=Va(za);function Va(e){return e&&e.__esModule?e:{default:e}}var Ua=Xa(Ta),Wa={};Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.default=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];var $a=Xa(Wa),Ga=Xa(Da);function Xa(e){return e&&e.__esModule?e:{default:e}}var Ya=rs(Sa),Za={};Object.defineProperty(Za,"__esModule",{value:!0}),Za.default=function(e,t){var n=void 0;e.children.length>0&&(n=e.children[0].data);var r=(0,Ja.default)(e.attribs,t);return Ka.default.createElement("style",r,n)};var Ka=Qa(l=o("acw62")),Ja=Qa(Ta);function Qa(e){return e&&e.__esModule?e:{default:e}}var es=rs(Za),ts={};Object.defineProperty(ts,"__esModule",{value:!0}),ts.default=function(){return null};var ns=rs(ts);function rs(e){return e&&e.__esModule?e:{default:e}}function is(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ba.default=(is(ya={},wa.ElementType.Text,ka.default),is(ya,wa.ElementType.Tag,Ya.default),is(ya,wa.ElementType.Style,es.default),is(ya,wa.ElementType.Directive,ns.default),is(ya,wa.ElementType.Comment,ns.default),is(ya,wa.ElementType.Script,ns.default),is(ya,wa.ElementType.CDATA,ns.default),is(ya,wa.ElementType.Doctype,ns.default),ya);var as=function(e){return e&&e.__esModule?e:{default:e}}(ba);var ss=ls(va);function ls(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(ha,"processNodes",{enumerable:!0,get:function(){return fs(fa).default}}),Object.defineProperty(ha,"convertNodeToElement",{enumerable:!0,get:function(){return fs(va).default}});wa=o("4Xweo");Object.defineProperty(ha,"htmlparser2",{enumerable:!0,get:function(){return fs(wa).default}});var cs={};Object.defineProperty(cs,"__esModule",{value:!0}),cs.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.decodeEntities,r=void 0===n||n,i=t.transform,o=t.preprocessNodes,a=(void 0===o?function(e){return e}:o)(us.default.parseDOM(e,{decodeEntities:r}));return(0,ps.default)(a,i)};var us=ds(wa=o("4Xweo")),ps=ds(fa);function ds(e){return e&&e.__esModule?e:{default:e}}var hs=fs(cs);function fs(e){return e&&e.__esModule?e:{default:e}}ha.default=hs.default;class ms extends l.Component{constructor(e){super(e),this.state={currentID:-1,timer:!1,intervalID:0,fullScreenEnabled:!1,isAnnotationsVisible:!0}}componentDidMount(){if(this.props.match.params.id&&Bt(this.props.match.params.id)){let e;e=this.props.selected_project.manifest_url?[this.props.selected_project.manifest_url]:{type:"image",url:this.props.selected_project.img_url},this.openSeadragon=OpenSeadragon({id:"adno-osd",homeButton:"home-button",showNavigator:this.props.showNavigator,tileSources:e,prefixUrl:"https://openseadragon.github.io/openseadragon/images/"}),this.AdnoAnnotorious=OpenSeadragon.Annotorious(this.openSeadragon,{locale:"auto",drawOnSingleClick:!0,allowEmpty:!0,disableEditor:!0,readOnly:!0}),this.AdnoAnnotorious.on("clickAnnotation",((e,t)=>{e.id&&document.getElementById(`anno_card_${e.id}`)&&document.getElementById(`anno_card_${e.id}`).scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),this.AdnoAnnotorious.fitBounds(e.id);let n=this.props.annos.findIndex((t=>t.id===e.id));this.setState({currentID:n}),this.props.changeSelectedAnno(e)}));const t="data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(this.props.annos))));this.AdnoAnnotorious.loadAnnotations(t)}else this.props.history.push("/");addEventListener("fullscreenchange",(e=>{document.fullscreenElement||this.setState({fullScreenEnabled:!1})}))}automateLoading=()=>{let e=this.state.currentID;-1===this.state.currentID||this.state.currentID===this.props.annos.length-1?e=0:e++,this.setState({currentID:e}),this.changeAnno(this.props.annos[e])};changeAnno=e=>{if(e&&e.id){this.props.changeSelectedAnno(e),this.state.isAnnotationsVisible&&(this.AdnoAnnotorious.selectAnnotation(e.id),this.AdnoAnnotorious.fitBounds(e.id));let t=this.props.annos.findIndex((t=>t.id===e.id));this.setState({currentID:t}),e.id&&document.getElementById(`anno_card_${e.id}`)&&document.getElementById(`anno_card_${e.id}`).scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}};startTimer=()=>{if(this.props.annos.length>0)if(this.state.timer)this.setState({timer:!1}),clearInterval(this.state.intervalID);else{this.props.startbyfirstanno?(this.setState({currentID:-1}),this.changeAnno(this.props.annos[0])):this.automateLoading();let e=setInterval(this.automateLoading,1e3*this.props.timerDelay);this.setState({timer:!0,intervalID:e})}};previousAnno=()=>{let e=this.state.currentID;this.props.annos.length>0&&(e=-1===this.state.currentID||0===this.state.currentID?this.props.annos.length-1:this.state.currentID-1,this.setState({currentID:e}),this.changeAnno(this.props.annos[e]),this.props.annos[e].id&&document.getElementById(`anno_card_${this.props.annos[e].id}`)&&document.getElementById(`anno_card_${this.props.annos[e].id}`).scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}))};nextAnno=()=>{let e=this.state.currentID;this.props.annos.length>0&&(-1===this.state.currentID||this.state.currentID===this.props.annos.length-1?e=0:e++,this.setState({currentID:e}),this.changeAnno(this.props.annos[e]),this.props.annos[e].id&&document.getElementById(`anno_card_${this.props.annos[e].id}`)&&document.getElementById(`anno_card_${this.props.annos[e].id}`).scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}))};toggleFullScreen=()=>{this.state.fullScreenEnabled?(document.exitFullscreen(),this.setState({fullScreenEnabled:!1})):(document.getElementById("adno-osd").requestFullscreen(),this.setState({fullScreenEnabled:!0}))};componentDidUpdate(e,t){e.selectedAnno!==this.props.selectedAnno&&this.changeAnno(this.props.selectedAnno),this.props.showNavigator!==e.showNavigator&&(this.props.showNavigator?document.getElementById(this.openSeadragon.navigator.id).style.display="block":document.getElementById(this.openSeadragon.navigator.id).style.display="none")}toggleAnnotationsLayer=()=>{this.AdnoAnnotorious.setVisible(!this.state.isAnnotationsVisible),this.setState({isAnnotationsVisible:!this.state.isAnnotationsVisible})};getAnnotationHTMLBody=e=>{if(e&&e.body&&Array.isArray(e.body)&&e.body.find((e=>"HTMLBody"===e.type))&&""!==e.body.find((e=>"HTMLBody"===e.type)).value)return(0,a.jsx)("div",{className:this.props.toolsbarOnFs?"adno-osd-anno-fullscreen-tb-opened":"adno-osd-anno-fullscreen",children:t(ha)(e.body.find((e=>"HTMLBody"===e.type)).value)})};render(){return(0,a.jsxs)("div",{id:"adno-osd",children:[this.state.fullScreenEnabled&&this.props.selectedAnno&&this.props.selectedAnno.body&&this.getAnnotationHTMLBody(this.props.selectedAnno),(0,a.jsx)("div",{className:this.props.showToolbar?"toolbar-on":"toolbar-off",children:(0,a.jsxs)("div",{className:this.state.fullScreenEnabled&&this.props.toolsbarOnFs?"osd-buttons-bar":this.state.fullScreenEnabled&&!this.props.toolsbarOnFs?"osd-buttons-bar-hidden":"osd-buttons-bar",children:[this.props.annos.length>0&&(0,a.jsx)("button",{id:"play-button",className:"toolbarButton toolbaractive",onClick:()=>this.startTimer(),children:(0,a.jsx)($o,{icon:this.state.timer?Sn:Tn,size:"lg"})}),(0,a.jsx)("button",{id:"home-button",className:"toolbarButton toolbaractive",children:(0,a.jsx)($o,{icon:kn,size:"lg"})}),this.props.annos.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{id:"previousAnno",className:"toolbarButton toolbaractive",onClick:()=>this.previousAnno(),children:(0,a.jsx)($o,{icon:Qt,size:"lg"})}),(0,a.jsx)("button",{id:"nextAnno",className:"toolbarButton toolbaractive",onClick:()=>this.nextAnno(),children:(0,a.jsx)($o,{icon:en,size:"lg"})})]}),this.props.rotation&&(0,a.jsx)("button",{id:"rotate",className:"toolbarButton toolbaractive",onClick:()=>this.openSeadragon.viewport.setRotation(this.openSeadragon.viewport.degrees+90),children:(0,a.jsx)($o,{icon:On,size:"lg"})}),(0,a.jsx)("button",{id:"toggle-fullscreen",className:"toolbarButton toolbaractive",onClick:()=>this.toggleFullScreen(),children:(0,a.jsx)($o,{icon:dn,size:"lg"})})]})})]})}}var gs=fe(ms);l=o("acw62");class vs extends l.Component{constructor(e){super(e)}getAnnotationHTMLBody=e=>e&&e.body&&Array.isArray(e.body)&&e.body.find((e=>"HTMLBody"===e.type))&&""!==e.body.find((e=>"HTMLBody"===e.type)).value?t(ha)(e.body.find((e=>"HTMLBody"===e.type)).value):t(ha)('<span class="no-content"> aucun contenu</span>');render(){const e=e=>{var t=this.props.annotations,n=t[e-1];t[e-1]=t[e],t[e]=n,Rt(`${this.props.match.params.id}_annotations`,JSON.stringify(t)),this.props.updateAnnos(t)},n=e=>{var t=this.props.annotations,n=t[e+1];t[e+1]=t[e],t[e]=n,Rt(`${this.props.match.params.id}_annotations`,JSON.stringify(t)),this.props.updateAnnos(t)},r=e=>{t(Qe).fire({title:"Voulez-vous vraiment supprimer cette annotation ?",showCancelButton:!0,confirmButtonText:"Oui, supprimer mon annotation",cancelButtonText:"Annuler",icon:"warning"}).then((n=>{if(n.isConfirmed){var r=this.props.annotations;Rt(`${this.props.match.params.id}_annotations`,JSON.stringify(r.filter((t=>t.id!=e)))),t(Qe).fire("L'annotation a bien t supprime","","success").then((t=>{t.isConfirmed&&this.props.updateAnnos(r.filter((t=>t.id!=e)))}))}}))};return(0,a.jsx)("div",{className:"annotations_list",children:this.props.annotations.map(((t,i)=>(0,a.jsx)("div",{id:`anno_edit_card_${t.id}`,className:this.props.selectedAnno&&this.props.selectedAnno.id===t.id?"anno-card selectedAnno shadow":"anno-card shadow",children:(0,a.jsxs)("div",{className:"anno-card-body",children:[(0,a.jsx)("div",{className:"card-tags-list",children:zt(t).map((e=>(0,a.jsx)("div",{className:"text-xs inline-flex items-center font-bold leading-sm uppercase px-3 py-1 bg-blue-200 text-blue-700 rounded-full",children:e.value},It())))}),(0,a.jsx)("div",{className:"adno-card-body",children:this.getAnnotationHTMLBody(t)}),(0,a.jsxs)("div",{className:"btn-line-one-card",children:[(0,a.jsxs)("button",{className:"btn btn-sm",onClick:()=>this.props.openRichEditor(t),children:[" ",(0,a.jsx)($o,{icon:En})]}),(0,a.jsxs)("button",{type:"button",onClick:()=>this.props.changeSelectedAnno(t),className:"btn btn-sm btn-show-more",children:[" ",(0,a.jsx)($o,{icon:rn})]}),i<this.props.annotations.length-1?(0,a.jsxs)("button",{className:"btn btn-sm btn-outline",onClick:()=>n(i),children:[" ",(0,a.jsx)($o,{icon:un})," "]}):(0,a.jsx)(a.Fragment,{}),i>0?(0,a.jsxs)("button",{className:"btn btn-sm",onClick:()=>e(i),children:[" ",(0,a.jsx)($o,{icon:Dn})," "]}):(0,a.jsx)(a.Fragment,{}),(0,a.jsxs)("button",{className:"btn btn-sm btn-outline btn-error",onClick:()=>r(t.id),children:[" ",(0,a.jsx)($o,{icon:Pn})]})]})]})},`anno_edit_card_${t.id}`)))})}}var ys=fe(vs);l=o("acw62"),l=o("acw62");class bs extends l.Component{constructor(e){super(e),this.state={fullView:!1,url:"",annoBody:this.props.annotation.body[0]&&this.props.annotation.body[0].value&&t(ha)(this.props.annotation.body[0].value)}}getAnnotationHTMLBody=()=>{let e=this.props.annotation;return e&&e.body&&Array.isArray(e.body)&&e.body.find((e=>"HTMLBody"===e.type))&&""!==e.body.find((e=>"HTMLBody"===e.type)).value?t(ha)(e.body.find((e=>"HTMLBody"===e.type)).value):t(ha)('<span class="no-content"> aucun contenu</span>')};buildExternalLink=()=>{if("FragmentSelector"===this.props.annotation.target.selector.type&&this.props.project.manifest_url){let e=this.props.annotation.target.selector.value.replace("xywh=pixel:",""),t=`${Math.round(e.split(",")[0])},${Math.round(e.split(",")[1])},${Math.round(e.split(",")[2])},${Math.round(e.split(",")[3])}`,n=`${this.props.annotation.target.source}/${t}/full/0/default.jpg`,r=`${this.props.annotation.target.source}/${t}/max/0/default.jpg`;fetch(n).then((e=>{e.ok?this.setState({url:n}):fetch(r).then((e=>{e.ok&&this.setState({url:r})}))})).catch((()=>{fetch(r).then((e=>{e.ok&&this.setState({url:r})}))}))}};render(){return(0,a.jsxs)("div",{className:"anno-card-body",children:[(0,a.jsx)("div",{className:"card-tags-list",children:zt(this.props.annotation).map((e=>(0,a.jsx)("div",{className:"text-xs inline-flex items-center font-bold leading-sm uppercase px-3 py-1 bg-blue-200 text-blue-700 rounded-full",children:e.value},It())))}),(0,a.jsx)("div",{className:this.props.selectedAnno&&this.props.selectedAnno.id===this.props.annotation.id?"adno-card-selected-body":"adno-card-body",children:this.getAnnotationHTMLBody()}),(0,a.jsxs)("div",{className:"btn-line-one-card",children:[this.state.annoBody&&(0,a.jsxs)("button",{type:"button",className:"btn btn-outline btn-sm btn-show-more",onClick:()=>this.props.openFullAnnotationView(this.props.annotation),children:[" Voir ",(0,a.jsx)($o,{icon:ln})]}),(0,a.jsxs)("button",{type:"button",onClick:()=>this.props.clickOnTarget(this.props.annotation),className:"btn btn-outline btn-sm btn-show-more",children:[" ",(0,a.jsx)($o,{icon:rn})]})]})]})}}var ws=bs;class xs extends l.Component{constructor(e){super(e)}render(){return(0,a.jsx)("div",{className:"annotations_list",children:this.props.annotations.map(((e,t)=>(0,a.jsx)("div",{id:`anno_card_${e.id}`,className:this.props.selectedAnno&&this.props.selectedAnno.id===e.id?"anno-card selectedAnno shadow":"anno-card shadow",children:(0,a.jsx)(ws,{openFullAnnotationView:e=>this.props.openFullAnnotationView(e),project:this.props.selectedProject,annotation:e,clickOnTarget:()=>this.props.changeSelectedAnno(e),selectedAnno:this.props.selectedAnno})},`viewer_anno_${t}`)))})}}var ks=fe(xs);l=o("acw62");class Ss extends l.Component{constructor(e){super(e),this.state={settings:{...this.props.settings}}}updateProjectSettings=e=>{e.preventDefault(),this.props.updateSettings(this.state.settings),this.props.closeSettings(),t(Qe).fire({title:"Paramtres mis  jour avec succs !",showCancelButton:!1,confirmButtonText:"Ok",icon:"success"})};render(){return(0,a.jsx)("div",{className:"project-metadatas-backdrop",children:(0,a.jsxs)("form",{className:"project-metadatas-container",onSubmit:e=>{this.updateProjectSettings(e)},children:[(0,a.jsx)("div",{className:"card-actions justify-end closeBtnMetadatas",children:(0,a.jsx)("button",{type:"button",className:"btn btn-square btn-sm",onClick:()=>this.props.closeSettings(),children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})}),(0,a.jsxs)("div",{className:"project-metadatas",children:[(0,a.jsx)("label",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Dlai entre 2 annotations (en secondes)"})}),(0,a.jsx)("input",{type:"number",placeholder:"2",className:"input input-bordered w-full max-w-xs",value:this.state.settings.delay,onChange:e=>this.setState({settings:{...this.state.settings,delay:e.target.value}})}),(0,a.jsx)("label",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Navigateur d'ensemble"})}),(0,a.jsx)("input",{type:"checkbox",className:"toggle toggle-navigator",checked:this.state.settings.showNavigator,onChange:()=>this.setState({settings:{...this.state.settings,showNavigator:!this.state.settings.showNavigator}})}),(0,a.jsx)("label",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Afficher barre outils en mode plein cran"})}),(0,a.jsx)("input",{type:"checkbox",className:"toggle toggle-toolsbar",checked:this.state.settings.toolsbarOnFs,onChange:()=>this.setState({settings:{...this.state.settings,toolsbarOnFs:!this.state.settings.toolsbarOnFs}})}),(0,a.jsx)("label",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Afficher la barre de navigation pour les annotations"})}),(0,a.jsx)("input",{type:"checkbox",className:"toggle toggle-toolsbar",checked:this.state.settings.sidebarEnabled,onChange:()=>this.setState({settings:{...this.state.settings,sidebarEnabled:!this.state.settings.sidebarEnabled}})}),(0,a.jsx)("label",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Toujours commencer la lecture automatique  la premire annotation"})}),(0,a.jsx)("input",{type:"checkbox",className:"toggle toggle-toolsbar",checked:this.state.settings.startbyfirstanno,onChange:()=>this.setState({settings:{...this.state.settings,startbyfirstanno:!this.state.settings.startbyfirstanno}})}),(0,a.jsx)("label",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Activer la rotation de l'image"})}),(0,a.jsx)("input",{type:"checkbox",className:"toggle toggle-toolsbar",checked:this.state.settings.rotation,onChange:()=>this.setState({settings:{...this.state.settings,rotation:!this.state.settings.rotation}})}),(0,a.jsx)("label",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Afficher la barre d'outils"})}),(0,a.jsx)("input",{type:"checkbox",className:"toggle toggle-toolsbar",checked:this.state.settings.displayToolbar,onChange:()=>this.setState({settings:{...this.state.settings,displayToolbar:!this.state.settings.displayToolbar}})}),(0,a.jsx)("div",{className:"metadata-editor-btns",children:(0,a.jsxs)("button",{type:"submit",className:"btn",children:[(0,a.jsx)($o,{icon:vn}),"  Enregistrer "]})})]})]})})}}var Cs=Ss;l=o("acw62"),l=o("acw62"),l=o("acw62"),l=o("acw62");function Es(e,t){let n=(0,l.useRef)(!1);(0,l.useEffect)((()=>{n.current?e():n.current=!0}),t)}function Ts(...e){return e.filter((e=>e)).join(" ")}function _s({text:e,remove:n,disabled:r,className:i}){return t(l).createElement("span",{className:Ts("rti--tag",i)},t(l).createElement("span",null,e),!r&&t(l).createElement("button",{type:"button",onClick:t=>{t.stopPropagation(),n(e)},"aria-label":`remove ${e}`},""))}!function(e,{insertAt:t}={}){if(!e||typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===t&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}(".rti--container *{box-sizing:border-box;transition:all .2s ease}.rti--container{--rti-bg: #fff;--rti-border: #ccc;--rti-main: #3182ce;--rti-radius: .375rem;--rti-s: .5rem;--rti-tag: #edf2f7;--rti-tag-remove: #e53e3e;--rti-tag-padding: .15rem .25rem;align-items:center;background:var(--rti-bg);border:1px solid var(--rti-border);border-radius:var(--rti-radius);display:flex;flex-wrap:wrap;gap:var(--rti-s);line-height:1.4;padding:var(--rti-s)}.rti--container:focus-within{border-color:var(--rti-main);box-shadow:var(--rti-main) 0 0 0 1px}.rti--input{border:0;outline:0;font-size:inherit;line-height:inherit;width:50%}.rti--tag{align-items:center;background:var(--rti-tag);border-radius:var(--rti-radius);display:inline-flex;justify-content:center;padding:var(--rti-tag-padding)}.rti--tag button{background:none;border:0;border-radius:50%;cursor:pointer;line-height:inherit;padding:0 var(--rti-s)}.rti--tag button:hover{color:var(--rti-tag-remove)}\n");var As=["Enter"],Os=({name:e,placeHolder:n,value:r,onChange:i,onBlur:o,separators:a,disableBackspaceRemove:s,onExisting:c,onRemoved:u,disabled:p,isEditOnRemove:d,beforeAddValidate:h,onKeyUp:f,classNames:m})=>{let[g,v]=(0,l.useState)(r||[]);Es((()=>{i&&i(g)}),[g]),Es((()=>{JSON.stringify(r)!==JSON.stringify(g)&&v(r)}),[r]);let y=e=>{v(g.filter((t=>t!==e))),u&&u(e)};return t(l).createElement("div",{"aria-labelledby":e,className:"rti--container"},g.map((e=>t(l).createElement(_s,{key:e,className:null==m?void 0:m.tag,text:e,remove:y,disabled:p}))),t(l).createElement("input",{className:Ts("rti--input",null==m?void 0:m.input),type:"text",name:e,placeholder:n,onKeyDown:e=>{e.stopPropagation();let t=e.target.value;if(!t&&!s&&g.length&&"Backspace"===e.key&&(e.target.value=d?`${g.at(-1)} `:"",v([...g.slice(0,-1)])),t&&(a||As).includes(e.key)){if(e.preventDefault(),h&&!h(t,g))return;if(g.includes(t))return void(c&&c(t));v([...g,t]),e.target.value=""}},onBlur:o,disabled:p,onKeyUp:f}))},Ns=(l=o("acw62"),o("iwjgp")),Ms=o("1dZxV"),Ps=o("8uhG7"),Ds=o("gHsGI"),Ls=o("f15Bj");
/**
 * TOAST UI Editor : React Wrapper
 * @version 3.2.1 | Thu Sep 29 2022
 * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 */Ps=o("8uhG7"),Ns=o("iwjgp"),Ds=o("gHsGI");const Rs=(e,t)=>!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function Is(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}function Bs(e,t,n=!1){for(let r=e;r;r="start"==t?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)return!1}return!1}function js(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function Fs(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const zs=(e,t,n)=>{let r=Fs(e,n);if(!r)return!1;let i=Hs(r);if(!i)return!1;let o=i.nodeAfter;if(Xs(e,i,t))return!0;if(0==r.parent.content.size&&(Bs(o,"start")||Ds.NodeSelection.isSelectable(o))){let n=(0,Ps.replaceStep)(e.doc,r.before(),r.after(),Ns.Slice.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(Bs(o,"start")?Ds.Selection.findFrom(r.doc.resolve(r.mapping.map(i.pos)),1):Ds.NodeSelection.create(r.doc,r.mapping.map(i.pos))),t(r.scrollIntoView())}return!0}}return!(!o.isAtom||i.depth!=r.depth-1)&&(t&&t(e.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0)};function Hs(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const qs=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!(!n.parent.type.spec.code||!n.sameParent(r))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)};function Vs(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Us=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),a=Vs(i.contentMatchAt(o));if(!a||!i.canReplaceWith(o,o,a))return!1;if(t){let r=n.after(),i=e.tr.replaceWith(r,r,a.createAndFill());i.setSelection(Ds.Selection.near(i.doc.resolve(r),1)),t(i.scrollIntoView())}return!0};const Ws=(e,t)=>{let{$from:n,$to:r}=e.selection;if(e.selection instanceof Ds.NodeSelection&&e.selection.node.isBlock)return!(!n.parentOffset||!(0,Ps.canSplit)(e.doc,n.pos)||(t&&t(e.tr.split(n.pos).scrollIntoView()),0));if(!n.parent.isBlock)return!1;if(t){let i=r.parentOffset==r.parent.content.size,o=e.tr;(e.selection instanceof Ds.TextSelection||e.selection instanceof Ds.AllSelection)&&o.deleteSelection();let a=0==n.depth?null:Vs(n.node(-1).contentMatchAt(n.indexAfter(-1))),s=$s&&$s(r.parent,i),l=s?[s]:i&&a?[{type:a}]:void 0,c=(0,Ps.canSplit)(o.doc,o.mapping.map(n.pos),1,l);if(l||c||!(0,Ps.canSplit)(o.doc,o.mapping.map(n.pos),1,a?[{type:a}]:void 0)||(a&&(l=[{type:a}]),c=!0),c&&(o.split(o.mapping.map(n.pos),1,l),!i&&!n.parentOffset&&n.parent.type!=a)){let e=o.mapping.map(n.before()),t=o.doc.resolve(e);a&&n.node(-1).canReplaceWith(t.index(),t.index()+1,a)&&o.setNodeMarkup(o.mapping.map(n.before()),a)}t(o.scrollIntoView())}return!0};var $s;const Gs=(e,t)=>(t&&t(e.tr.setSelection(new(0,Ds.AllSelection)(e.doc))),!0);function Xs(e,t,n){let r,i,o=t.nodeBefore,a=t.nodeAfter;if(o.type.spec.isolating||a.type.spec.isolating)return!1;if(function(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,o=t.index();return!(!(r&&i&&r.type.compatibleContent(i.type))||(!r.content.size&&t.parent.canReplace(o-1,o)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(o,o+1)||!i.isTextblock&&!(0,Ps.canJoin)(e.doc,t.pos)||(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),0)))}(e,t,n))return!0;let s=t.parent.canReplace(t.index(),t.index()+1);if(s&&(r=(i=o.contentMatchAt(o.childCount)).findWrapping(a.type))&&i.matchType(r[0]||a.type).validEnd){if(n){let i=t.pos+a.nodeSize,s=Ns.Fragment.empty;for(let e=r.length-1;e>=0;e--)s=Ns.Fragment.from(r[e].create(null,s));s=Ns.Fragment.from(o.copy(s));let l=e.tr.step(new(0,Ps.ReplaceAroundStep)(t.pos-1,i,t.pos,i,new(0,Ns.Slice)(s,1,0),r.length,!0)),c=i+2*r.length;(0,Ps.canJoin)(l.doc,c)&&l.join(c),n(l.scrollIntoView())}return!0}let l=Ds.Selection.findFrom(t,1),c=l&&l.$from.blockRange(l.$to),u=c&&(0,Ps.liftTarget)(c);if(null!=u&&u>=t.depth)return n&&n(e.tr.lift(c,u).scrollIntoView()),!0;if(s&&Bs(a,"start",!0)&&Bs(o,"end")){let r=o,i=[];for(;i.push(r),!r.isTextblock;)r=r.lastChild;let s=a,l=1;for(;!s.isTextblock;s=s.firstChild)l++;if(r.canReplace(r.childCount,r.childCount,s.content)){if(n){let r=Ns.Fragment.empty;for(let e=i.length-1;e>=0;e--)r=Ns.Fragment.from(i[e].copy(r));n(e.tr.step(new(0,Ps.ReplaceAroundStep)(t.pos-i.length,t.pos+a.nodeSize,t.pos+l,t.pos+a.nodeSize-l,new(0,Ns.Slice)(r,i.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function Ys(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return!!i.node(o).isTextblock&&(n&&n(t.tr.setSelection(Ds.TextSelection.create(t.doc,e<0?i.start(o):i.end(o)))),!0)}}const Zs=Ys(-1),Ks=Ys(1);function Js(e,t=null){return function(n,r){let{$from:i,$to:o}=n.selection,a=i.blockRange(o),s=a&&(0,Ps.findWrapping)(a,e,t);return!!s&&(r&&r(n.tr.wrap(a,s).scrollIntoView()),!0)}}function Qs(e,t=null){return function(n,r){let i=!1;for(let r=0;r<n.selection.ranges.length&&!i;r++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[r];n.doc.nodesBetween(o,a,((r,o)=>{if(i)return!1;if(r.isTextblock&&!r.hasMarkup(e,t))if(r.type==e)i=!0;else{let t=n.doc.resolve(o),r=t.index();i=t.parent.canReplaceWith(r,r+1,e)}}))}if(!i)return!1;if(r){let i=n.tr;for(let r=0;r<n.selection.ranges.length;r++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[r];i.setBlockType(o,a,e,t)}r(i.scrollIntoView())}return!0}}function el(e,t=null){return function(n,r){let{empty:i,$cursor:o,ranges:a}=n.selection;if(i&&!o||!function(e,t,n){for(let r=0;r<t.length;r++){let{$from:i,$to:o}=t[r],a=0==i.depth&&e.inlineContent&&e.type.allowsMarkType(n);if(e.nodesBetween(i.pos,o.pos,(e=>{if(a)return!1;a=e.inlineContent&&e.type.allowsMarkType(n)})),a)return!0}return!1}(n.doc,a,e))return!1;if(r)if(o)e.isInSet(n.storedMarks||o.marks())?r(n.tr.removeStoredMark(e)):r(n.tr.addStoredMark(e.create(t)));else{let i=!1,o=n.tr;for(let t=0;!i&&t<a.length;t++){let{$from:r,$to:o}=a[t];i=n.doc.rangeHasMark(r.pos,o.pos,e)}for(let n=0;n<a.length;n++){let{$from:r,$to:s}=a[n];if(i)o.removeMark(r.pos,s.pos,e);else{let n=r.pos,i=s.pos,a=r.nodeAfter,l=s.nodeBefore,c=a&&a.isText?/^\s*/.exec(a.text)[0].length:0,u=l&&l.isText?/\s*$/.exec(l.text)[0].length:0;n+c<i&&(n+=c,i-=u),o.addMark(n,i,e.create(t))}}r(o.scrollIntoView())}return!0}}function tl(...e){return function(t,n,r){for(let i=0;i<e.length;i++)if(e[i](t,n,r))return!0;return!1}}let nl=tl(Rs,((e,t,n)=>{let r=Is(e,n);if(!r)return!1;let i=js(r);if(!i){let n=r.blockRange(),i=n&&(0,Ps.liftTarget)(n);return null!=i&&(t&&t(e.tr.lift(n,i).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&Xs(e,i,t))return!0;if(0==r.parent.content.size&&(Bs(o,"end")||Ds.NodeSelection.isSelectable(o))){let n=(0,Ps.replaceStep)(e.doc,r.before(),r.after(),Ns.Slice.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(Bs(o,"end")?Ds.Selection.findFrom(r.doc.resolve(r.mapping.map(i.pos,-1)),-1):Ds.NodeSelection.create(r.doc,i.pos-o.nodeSize)),t(r.scrollIntoView())}return!0}}return!(!o.isAtom||i.depth!=r.depth-1)&&(t&&t(e.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0)}),((e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;o=js(r)}let a=o&&o.nodeBefore;return!(!a||!Ds.NodeSelection.isSelectable(a))&&(t&&t(e.tr.setSelection(Ds.NodeSelection.create(e.doc,o.pos-a.nodeSize)).scrollIntoView()),!0)})),rl=tl(Rs,zs,((e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;o=Hs(r)}let a=o&&o.nodeAfter;return!(!a||!Ds.NodeSelection.isSelectable(a))&&(t&&t(e.tr.setSelection(Ds.NodeSelection.create(e.doc,o.pos)).scrollIntoView()),!0)}));const il={Enter:tl(qs,((e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof Ds.AllSelection||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=Vs(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let n=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=e.tr.insert(n,o.createAndFill());a.setSelection(Ds.TextSelection.create(a.doc,n+1)),t(a.scrollIntoView())}return!0}),((e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let r=n.before();if((0,Ps.canSplit)(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}let r=n.blockRange(),i=r&&(0,Ps.liftTarget)(r);return null!=i&&(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)}),Ws),"Mod-Enter":Us,Backspace:nl,"Mod-Backspace":nl,"Shift-Backspace":nl,Delete:rl,"Mod-Delete":rl,"Mod-a":Gs},ol={"Ctrl-h":il.Backspace,"Alt-Backspace":il["Mod-Backspace"],"Ctrl-d":il.Delete,"Ctrl-Alt-Backspace":il["Mod-Delete"],"Alt-Delete":il["Mod-Delete"],"Alt-d":il["Mod-Delete"],"Ctrl-a":Zs,"Ctrl-e":Ks};for(let e in il)ol[e]=il[e];const al=("undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!("undefined"==typeof os||!os.platform)&&"darwin"==os.platform())?ol:il;var sl=o("dpGEw"),ll=200,cl=function(){};cl.prototype.append=function(e){return e.length?(e=cl.from(e),!this.length&&e||e.length<ll&&this.leafAppend(e)||this.length<ll&&e.leafPrepend(this)||this.appendInner(e)):this},cl.prototype.prepend=function(e){return e.length?cl.from(e).append(this):this},cl.prototype.appendInner=function(e){return new pl(this,e)},cl.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?cl.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},cl.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},cl.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},cl.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(t,n){return r.push(e(t,n))}),t,n),r},cl.from=function(e){return e instanceof cl?e:e&&e.length?new ul(e):cl.empty};var ul=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var i=t;i<n;i++)if(!1===e(this.values[i],r+i))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var i=t-1;i>=n;i--)if(!1===e(this.values[i],r+i))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=ll)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=ll)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(cl);cl.empty=new ul([]);var pl=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var i=this.left.length;return!(t<i&&!1===this.left.forEachInner(e,t,Math.min(n,i),r))&&(!(n>i&&!1===this.right.forEachInner(e,Math.max(t-i,0),Math.min(this.length,n)-i,r+i))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,r){var i=this.left.length;return!(t>i&&!1===this.right.forEachInvertedInner(e,t-i,Math.max(n,i)-i,r+i))&&(!(n<i&&!1===this.left.forEachInvertedInner(e,Math.min(t,i),n,r))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(cl),dl=cl;Ps=o("8uhG7"),Ds=o("gHsGI");class hl{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(0==this.eventCount)return null;let n,r,i=this.items.length;for(;;i--){if(this.items.get(i-1).selection){--i;break}}t&&(n=this.remapping(i,this.items.length),r=n.maps.length);let o,a,s=e.tr,l=[],c=[];return this.items.forEach(((e,t)=>{if(!e.step)return n||(n=this.remapping(i,t+1),r=n.maps.length),r--,void c.push(e);if(n){c.push(new fl(e.map));let t,i=e.step.map(n.slice(r));i&&s.maybeStep(i).doc&&(t=s.mapping.maps[s.mapping.maps.length-1],l.push(new fl(t,void 0,void 0,l.length+c.length))),r--,t&&n.appendMap(t,r)}else s.maybeStep(e.step);return e.selection?(o=n?e.selection.map(n.slice(r)):e.selection,a=new hl(this.items.slice(0,i).append(c.reverse().concat(l)),this.eventCount-1),!1):void 0}),this.items.length,0),{remaining:a,transform:s,selection:o}}addTransform(e,t,n,r){let i=[],o=this.eventCount,a=this.items,s=!r&&a.length?a.get(a.length-1):null;for(let n=0;n<e.steps.length;n++){let l,c=e.steps[n].invert(e.docs[n]),u=new fl(e.mapping.maps[n],c,t);(l=s&&s.merge(u))&&(u=l,n?i.pop():a=a.slice(0,a.length-1)),i.push(u),t&&(o++,t=void 0),r||(s=u)}let l=o-n.depth;return l>gl&&(a=function(e,t){let n;return e.forEach(((e,r)=>{if(e.selection&&0==t--)return n=r,!1})),e.slice(n)}(a,l),o-=l),new hl(a.append(i),o)}remapping(e,t){let n=new(0,Ps.Mapping);return this.items.forEach(((t,r)=>{let i=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,i)}),e,t),n}addMaps(e){return 0==this.eventCount?this:new hl(this.items.append(e.map((e=>new fl(e)))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-t),i=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach((e=>{e.selection&&a--}),r);let s=t;this.items.forEach((t=>{let r=i.getMirror(--s);if(null==r)return;o=Math.min(o,r);let l=i.maps[r];if(t.step){let o=e.steps[r].invert(e.docs[r]),c=t.selection&&t.selection.map(i.slice(s+1,r));c&&a++,n.push(new fl(l,o,c))}else n.push(new fl(l))}),r);let l=[];for(let e=t;e<o;e++)l.push(new fl(i.maps[e]));let c=this.items.slice(0,r).append(l).append(n),u=new hl(c,a);return u.emptyItemCount()>500&&(u=u.compress(this.items.length-n.length)),u}emptyItemCount(){let e=0;return this.items.forEach((t=>{t.step||e++})),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,r=[],i=0;return this.items.forEach(((o,a)=>{if(a>=e)r.push(o),o.selection&&i++;else if(o.step){let e=o.step.map(t.slice(n)),a=e&&e.getMap();if(n--,a&&t.appendMap(a,n),e){let s=o.selection&&o.selection.map(t.slice(n));s&&i++;let l,c=new fl(a.invert(),e,s),u=r.length-1;(l=r.length&&r[u].merge(c))?r[u]=l:r.push(c)}}else o.map&&n--}),this.items.length,0),new hl(dl.from(r.reverse()),i)}}hl.empty=new hl(dl.empty,0);class fl{constructor(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new fl(t.getMap().invert(),t,this.selection)}}}class ml{constructor(e,t,n,r){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r}}const gl=20;function vl(e){let t=[];return e.forEach(((e,n,r,i)=>t.push(r,i))),t}function yl(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),o=t.map(e[r+1],-1);i<=o&&n.push(i,o)}return n}function bl(e,t,n,r){let i=kl(t),o=Sl.get(t).spec.config,a=(r?e.undone:e.done).popEvent(t,i);if(!a)return;let s=a.selection.resolve(a.transform.doc),l=(r?e.done:e.undone).addTransform(a.transform,t.selection.getBookmark(),o,i),c=new ml(r?l:a.remaining,r?a.remaining:l,null,0);n(a.transform.setSelection(s).setMeta(Sl,{redo:r,historyState:c}).scrollIntoView())}let wl=!1,xl=null;function kl(e){let t=e.plugins;if(xl!=t){wl=!1,xl=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){wl=!0;break}}return wl}const Sl=new(0,Ds.PluginKey)("history"),Cl=new(0,Ds.PluginKey)("closeHistory");function El(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new(0,Ds.Plugin)({key:Sl,state:{init:()=>new ml(hl.empty,hl.empty,null,0),apply:(t,n,r)=>function(e,t,n,r){let i,o=n.getMeta(Sl);if(o)return o.historyState;n.getMeta(Cl)&&(e=new ml(e.done,e.undone,null,0));let a=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(a&&a.getMeta(Sl))return a.getMeta(Sl).redo?new ml(e.done.addTransform(n,void 0,r,kl(t)),e.undone,vl(n.mapping.maps[n.steps.length-1]),e.prevTime):new ml(e.done,e.undone.addTransform(n,void 0,r,kl(t)),null,e.prevTime);if(!1===n.getMeta("addToHistory")||a&&!1===a.getMeta("addToHistory"))return(i=n.getMeta("rebased"))?new ml(e.done.rebased(n,i),e.undone.rebased(n,i),yl(e.prevRanges,n.mapping),e.prevTime):new ml(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),yl(e.prevRanges,n.mapping),e.prevTime);{let i=0==e.prevTime||!a&&(e.prevTime<(n.time||0)-r.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach(((e,r)=>{for(let i=0;i<t.length;i+=2)e<=t[i+1]&&r>=t[i]&&(n=!0)})),n}(n,e.prevRanges)),o=a?yl(e.prevRanges,n.mapping):vl(n.mapping.maps[n.steps.length-1]);return new ml(e.done.addTransform(n,i?t.selection.getBookmark():void 0,r,kl(t)),hl.empty,o,n.time)}}(n,r,t,e)},config:e,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,r="historyUndo"==n?Tl:"historyRedo"==n?_l:null;return!!r&&(t.preventDefault(),r(e.state,e.dispatch))}}}})}const Tl=(e,t)=>{let n=Sl.getState(e);return!(!n||0==n.done.eventCount)&&(t&&bl(n,e,t,!1),!0)},_l=(e,t)=>{let n=Sl.getState(e);return!(!n||0==n.undone.eventCount)&&(t&&bl(n,e,t,!0),!0)};function Al(e){let t=Sl.getState(e);return t?t.done.eventCount:0}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ol=function(e,t){return Ol=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Ol(e,t)};function Nl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Ol(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Ml=function(){return Ml=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ml.apply(this,arguments)};function Pl(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function Dl(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Ll=function(e,t,n){var r;for(r in n=n||null,e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))break};var Rl=function(e,t){var n,r,i,o,a=Object.prototype.hasOwnProperty;for(i=1,o=arguments.length;i<o;i+=1)for(r in n=arguments[i])a.call(n,r)&&(e[r]=n[r]);return e};var Il=function(e){return"string"==typeof e||e instanceof String};var Bl=function(e){return e instanceof Array};var jl=function(e,t,n){var r=0,i=e.length;for(n=n||null;r<i&&!1!==t.call(n,e[r],r,e);r+=1);},Fl=Bl,zl=jl,Hl=Ll;var ql=function(e,t,n){Fl(e)?zl(e,t,n):Hl(e,t,n)},Vl=Il,Ul=ql;var Wl=function(e,t,n){var r=e.style;Vl(t)?r[t]=n:Ul(t,(function(e,t){r[t]=e}))},$l=Bl;var Gl=function(e,t,n){var r,i;if(n=n||0,!$l(t))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e,n);for(i=t.length,r=n;n>=0&&r<i;r+=1)if(t[r]===e)return r;return-1};var Xl=function(e){return void 0===e},Yl=Xl;var Zl=function(e){return e&&e.className?Yl(e.className.baseVal)?e.className:e.className.baseVal:""},Kl=Bl,Jl=Xl;var Ql=function(e,t){t=(t=Kl(t)?t.join(" "):t).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),Jl(e.className.baseVal)?e.className=t:e.className.baseVal=t},ec=ql,tc=Gl,nc=Zl,rc=Ql;var ic=function(e){var t,n=Array.prototype.slice.call(arguments,1),r=e.classList,i=[];r?ec(n,(function(t){e.classList.add(t)})):((t=nc(e))&&(n=[].concat(t.split(/\s+/),n)),ec(n,(function(e){tc(e,i)<0&&i.push(e)})),rc(e,i))},oc=jl,ac=Gl,sc=Zl,lc=Ql;var cc=function(e){var t,n,r=Array.prototype.slice.call(arguments,1),i=e.classList;i?oc(r,(function(e){i.remove(e)})):(t=sc(e).split(/\s+/),n=[],oc(t,(function(e){ac(e,r)<0&&n.push(e)})),lc(e,n))};var uc=function(e){return"number"==typeof e||e instanceof Number};var pc=function(e){return null===e},dc=Ll;var hc=Xl,fc=function(e,t){var n=document.createElement("img"),r="";return dc(t,(function(e,t){r+="&"+t+"="+e})),r=r.substring(1),n.src=e+"?"+r,n.style.display="none",document.body.appendChild(n),document.body.removeChild(n),n},mc=6048e5;var gc=function(e,t){var n=location.hostname,r="TOAST UI "+e+" for "+n+": Statistics",i=window.localStorage.getItem(r);(hc(window.tui)||!1!==window.tui.usageStatistics)&&(i&&!function(e){return(new Date).getTime()-e>mc}(i)||(window.localStorage.setItem(r,(new Date).getTime()),setTimeout((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||fc("https://www.google-analytics.com/collect",{v:1,t:"event",tid:t,cid:n,dp:n,dh:e,el:e,ec:"use"})}),1e3)))};/Mac/.test(navigator.platform);var vc=/[\u0020]+/g,yc=/[>(){}[\]+-.!#|]/g,bc=/<([a-zA-Z_][a-zA-Z0-9\-._]*)(\s|[^\\>])*\/?>|<(\/)([a-zA-Z_][a-zA-Z0-9\-._]*)\s*\/?>|<!--[^-]+-->|<([a-zA-Z_][a-zA-Z0-9\-.:/]*)>/g,wc=/\\[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~\\]/g,xc=/[*_~`]/g,kc=/!\[.*\]\(.*\)/g,Sc=/[[\]]/g,Cc=/(?:^|[^\\])\\(?!\\)/g,Ec=new RegExp('[&<>"]',"g");function Tc(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return e}}function _c(e){return Ec.test(e)?e.replace(Ec,Tc):e}function Ac(e,t){return-1!==e.indexOf(t)}var Oc=["rel","target","hreflang","type"],Nc={codeblock:/(^ {4}[^\n]+\n*)+/,thematicBreak:/^ *((\* *){3,}|(- *){3,} *|(_ *){3,}) */,atxHeading:/^(#{1,6}) +[\s\S]+/,seTextheading:/^([^\n]+)\n *(=|-){2,} */,blockquote:/^( *>[^\n]+.*)+/,list:/^ *(\*+|-+|\d+\.) [\s\S]+/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? */,link:/!?\[.*\]\(.*\)/,reflink:/!?\[.*\]\s*\[([^\]]*)\]/,verticalBar:/\u007C/,fencedCodeblock:/^((`|~){3,})/};function Mc(e){if(!e)return null;var t={};return Oc.forEach((function(n){Xl(e[n])||(t[n]=e[n])})),t}function Pc(e,t){for(var n="",r=0;r<t;r+=1)n+=e;return n}function Dc(e){for(var t=[],n=kc.exec(e);n;)t.push([n.index,n.index+n[0].length]),n=kc.exec(e);return e.replace(Sc,(function(e,n){return t.some((function(e){return n>e[0]&&n<e[1]}))?e:"\\"+e}))}function Lc(e){var t=function(e){return"\\"+e},n=e.replace(vc," ");return wc.test(n)&&(n=n.replace(wc,t)),Cc.test(n)&&(n=n.replace(Cc,(function(e){return e+"\\"}))),n=n.replace(xc,t),bc.test(n)&&(n=n.replace(bc,t)),function(e){var t=!1;return Ll(Nc,(function(n){return n.test(e)&&(t=!0),!t})),t}(n)&&(n=n.replace(yc,t)),n}function Rc(e){return pc(e)||Xl(e)}function Ic(e,t){if(null===e&&e===t)return!0;if("object"!=typeof e||"object"!=typeof t||Rc(e)||Rc(t))return e===t;for(var n in e)if(e[n]!==t[n])return!1;for(var n in t)if(!(n in e))return!1;return!0}function Bc(e){return e[e.length-1]}function jc(e){return"object"==typeof e&&null!==e}function Fc(e,t){var n=Ml({},e);return e&&t&&Object.keys(t).forEach((function(e){jc(n[e])?Array.isArray(t[e])?n[e]=zc(t[e]):n.hasOwnProperty(e)?n[e]=Fc(n[e],t[e]):n[e]=Hc(t[e]):n[e]=t[e]})),n}function zc(e){return e.map((function(e){return jc(e)?Array.isArray(e)?zc(e):Hc(e):e}))}function Hc(e){var t=Object.keys(e);return t.length?t.reduce((function(t,n){return jc(e[n])?t[n]=Array.isArray(e[n])?zc(e[n]):Hc(e[n]):t[n]=e[n],t}),{}):e}function qc(e,t){return void 0===t&&(t={}),Object.keys(t).forEach((function(n){e.hasOwnProperty(n)&&"object"==typeof e[n]?Array.isArray(t[n])?e[n]=t[n]:qc(e[n],t[n]):e[n]=t[n]})),e}function Vc(e,t){return e>t?[t,e]:[e,t]}var Uc=jl;var Wc=function(e){var t;try{t=Array.prototype.slice.call(e)}catch(n){t=[],Uc(e,(function(e){t.push(e)}))}return t};function $c(e,t){var n=e.nodes.paragraph;return t?n.create(null,Il(t)?e.text(t):t):n.createAndFill()}function Gc(e,t,n){return e.text(t,n)}function Xc(e,t,n){void 0===n&&(n=t);var r=e.doc.content.size,i=r>0?r-1:1;return Ds.TextSelection.create(e.doc,Math.min(t,i),Math.min(n,i))}function Yc(e,t,n){var r=t.pos;return e.replaceWith(r,r,$c(n)),e.setSelection(Xc(e,r+1))}function Zc(e){for(var t=e.state,n=e.from,r=e.startIndex,i=e.endIndex,o=e.createText,a=t.tr,s=t.doc,l=t.schema,c=r;c<=i;c+=1){var u=s.child(c),p=u.nodeSize,d=u.textContent,h=u.content,f=o(d),m=f?Gc(l,f):Ns.Fragment.empty,g=a.mapping.map(n),v=g+h.size;a.replaceWith(g,v,m),n+=p}return a}function Kc(e,t,n,r){var i=n.length;e.split(t).delete(t-i,t).insert(e.mapping.map(t),r).setSelection(Xc(e,e.mapping.map(t)-i))}function Jc(e){return e.sourcepos[0][0]}function Qc(e){return e.sourcepos[1][0]}function eu(e){return e.sourcepos[0][1]}function tu(e){return e.sourcepos[1][1]}function nu(e){var t=e.type;return"strike"===t||"strong"===t||"emph"===t||"code"===t||"link"===t||"image"===t}function ru(e){return e&&("item"===e.type||"list"===e.type)}function iu(e){return ru(e)&&"ordered"===e.listData.type}function ou(e){return ru(e)&&"ordered"!==e.listData.type}function au(e){return e&&("tableCell"===e.type||"tableDelimCell"===e.type)}function su(e,t,n){for(void 0===n&&(n=!0),e=n?e:e.parent;e&&"document"!==e.type;){if(t(e))return e;e=e.parent}return null}function lu(e,t){return[e[0],e[1]+t]}function cu(e,t){return[e[0],t]}function uu(e){var t=e.firstChild.literal;switch(e.type){case"emph":return"*"+t+"*";case"strong":return"**"+t+"**";case"strike":return"~~"+t+"~~";case"code":return"`"+t+"`";case"link":case"image":var n=e,r=n.destination,i=n.title;return("link"===e.type?"":"!")+"["+t+"]("+r+(i?' "'+i+'"':"")+")";default:return null}}function pu(e){switch(e.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}function du(e){for(var t=[],n=e.walker(),r=null;r=n.next();){var i=r.node;"text"===i.type&&t.push(i.literal)}return t.join("")}var hu=[],fu={},mu=/\$\$widget\d+\s/;function gu(e){var t=e.search(mu);if(-1!==t){var n=e.substring(t).replace(mu,"").replace("$$","");e=e.substring(0,t),e+=gu(n)}return e}function vu(e,t){return"$$"+e+" "+t+"$$"}function yu(e,t){var n=fu[e],r=n.rule,i=n.toDOM,o=gu(t).match(r);return o&&(t=o[0]),i(t)}function bu(e,t,n,r){return e.concat(wu(t,n,r))}function wu(e,t,n){void 0===n&&(n=0);var r=[],i=(hu[n]||{}).rule,o=n+1;if(e=gu(e),i&&i.test(e)){for(var a=void 0;-1!==(a=e.search(i));){var s=e.substring(0,a);s&&(r=bu(r,s,t,o));var l=(e=e.substring(a)).match(i)[0],c="widget"+n;r.push(t.nodes.widget.create({info:c},t.text(vu(c,l)))),e=e.substring(l.length)}e&&(r=bu(r,e,t,o))}else e&&(r=n<hu.length-1?bu(r,e,t,o):[t.text(e)]);return r}function xu(e){for(var t,n="",r=e.walker();t=r.next();){var i=t.node;t.entering&&(i!==e&&"text"!==i.type?(n+=uu(i),r.resumeAt(e,!1),r.next()):"text"===i.type&&(n+=i.literal))}return n}function ku(){return{deleteSelection:function(){return Rs},selectAll:function(){return Gs},undo:function(){return Tl},redo:function(){return _l}}}var Su=Gl,Cu=Zl;var Eu=function(e,t){var n;return e.classList?e.classList.contains(t):(n=Cu(e).split(/\s+/),Su(t,n)>-1)},Tu=Gl,_u=Wc,Au=Element.prototype,Ou=Au.matches||Au.webkitMatchesSelector||Au.mozMatchesSelector||Au.msMatchesSelector||function(e){var t=this.document||this.ownerDocument;return Tu(this,_u(t.querySelectorAll(e)))>-1};var Nu=function(e,t){return Ou.call(e,t)},Mu="[A-Za-z][A-Za-z0-9-]*",Pu="(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)",Du="<("+Mu+")("+Pu+")*\\s*/?>",Lu="(?:"+Du+"|"+("</("+Mu+")\\s*[>]")+")",Ru=new RegExp("^"+Lu,"i"),Iu=/<br\s*\/*>/i,Bu=/<! ---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,ju="</p><p>";function Fu(e,t,n){var r=parseInt(e.left,10),i=parseInt(e.top,10),o=parseInt(e.width,10)+parseInt(e.paddingLeft,10)+parseInt(e.paddingRight,10),a=parseInt(e.height,10)+parseInt(e.paddingTop,10)+parseInt(e.paddingBottom,10);return t>=r&&t<=r+o&&n>=i&&n<=i+a}var zu="toastui-editor-";function Hu(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r],a=void 0;(a=Array.isArray(o)?o[0]?o[1]:null:o)&&n.push(""+zu+a)}return n.join(" ")}function qu(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.map((function(e){return zu+"md-"+e})).join(" ")}function Vu(e){return e&&e.nodeType===Node.ELEMENT_NODE}function Uu(e){e.parentNode&&e.parentNode.removeChild(e)}function Wu(e,t,n){Xl(n)&&(n=!Eu(e,t)),(n?ic:cc)(e,t)}function $u(e,t){var n=document.createElement("div");Il(e)?n.innerHTML=e:n.appendChild(e);var r=n.firstChild;return t&&t.appendChild(r),r}function Gu(e){var t=window.getComputedStyle(e);return["margin-left","margin-right"].reduce((function(e,n){return e+parseInt(t.getPropertyValue(n),10)}),0)+e.offsetWidth}function Xu(e,t){var n;for(n=Il(t)?function(e){return Nu(e,t)}:function(e){return e===t};e&&e!==document;){if(Vu(e)&&n(e))return e;e=e.parentNode}return null}function Yu(e,t){for(var n=0,r=0;e&&e!==t;){if(n+=e.offsetTop,r+=e.offsetLeft,e.offsetParent===t.offsetParent)break;e=e.offsetParent}return{offsetTop:n,offsetLeft:r}}function Zu(e,t){Object.keys(e).forEach((function(n){Rc(e[n])?t.removeAttribute(n):t.setAttribute(n,e[n])}))}function Ku(e){var t=e;return t=(t=t.replace(/<img class="ProseMirror-separator" alt="">/g,"")).replace(/ class="ProseMirror-trailingBreak"/g,"")}var Ju=new(0,Ds.PluginKey)("widget"),Qu=function(){function e(e,t){var n=this;this.popup=null,this.removeWidget=function(){n.popup&&(n.rootEl.removeChild(n.popup),n.popup=null)},this.rootEl=e.dom.parentElement,this.eventEmitter=t,this.eventEmitter.listen("blur",this.removeWidget),this.eventEmitter.listen("loadUI",(function(){n.rootEl=Xu(e.dom.parentElement,"."+Hu("defaultUI"))})),this.eventEmitter.listen("removePopupWidget",this.removeWidget)}return e.prototype.update=function(e){var t=Ju.getState(e.state);if(this.removeWidget(),t){var n=t.node,r=t.style,i=e.coordsAtPos(t.pos),o=i.top,a=i.left,s=i.bottom-o,l=this.rootEl.getBoundingClientRect(),c=o-l.top;Wl(n,{opacity:"0"}),this.rootEl.appendChild(n),Wl(n,{position:"absolute",left:a-l.left+5+"px",top:("bottom"===r?c+s-5:c-s)+"px",opacity:"1"}),this.popup=n,e.focus()}},e.prototype.destroy=function(){this.eventEmitter.removeEventHandler("blur",this.removeWidget)},e}();function ep(e,t,n){e.emit("addImageBlobHook",t,(function(n,r){e.emit("command","addImage",{imageUrl:n,altText:r||t.name||"image"})}),n)}function tp(e){var t=Wc(e).filter((function(e){return-1!==e.type.indexOf("image")}));if(1===t.length){var n=t[0];if(n)return n.getAsFile()}return null}function np(e){var t=e.eventEmitter;return new(0,Ds.Plugin)({props:{handleDOMEvents:{drop:function(e,n){var r,i=null===(r=n.dataTransfer)||void 0===r?void 0:r.files;return i&&jl(i,(function(e){return-1===e.type.indexOf("image")||(n.preventDefault(),n.stopPropagation(),ep(t,e,n.type),!1)})),!0}}}})}var rp=function(){function e(){}return Object.defineProperty(e.prototype,"type",{get:function(){return"node"},enumerable:!1,configurable:!0}),e.prototype.setContext=function(e){this.context=e},e}();function ip(e){var t=document.createElement("span"),n=yu(e.attrs.info,e.textContent);return t.className="tui-widget",t.appendChild(n),{dom:t}}function op(e){return"widget"===e.type.name}var ap=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"widget"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{attrs:{info:{default:null}},group:"inline",inline:!0,content:"text*",selectable:!1,atom:!0,toDOM:function(){return["span",{class:"tui-widget"},0]},parseDOM:[{tag:"span.tui-widget",getAttrs:function(e){return{info:e.textContent.match(/\$\$(widget\d+)/)[1]}}}]}},enumerable:!1,configurable:!0}),t}(rp),sp=function(){function e(e){this.timer=null,this.el=document.createElement("div"),this.el.className="toastui-editor",this.eventEmitter=e,this.placeholder={text:""}}return e.prototype.createState=function(){return Ds.EditorState.create({schema:this.schema,plugins:this.createPlugins()})},e.prototype.initEvent=function(){var e=this,t=e.eventEmitter,n=e.view,r=e.editorType;n.dom.addEventListener("focus",(function(){return t.emit("focus",r)})),n.dom.addEventListener("blur",(function(){return t.emit("blur",r)}))},e.prototype.emitChangeEvent=function(e){this.eventEmitter.emit("caretChange",this.editorType),e.docChanged&&this.eventEmitter.emit("change",this.editorType)},Object.defineProperty(e.prototype,"defaultPlugins",{get:function(){var e,t,n=this.createInputRules(),r=Pl(Pl([],this.keymaps),[(0,Ls.keymap)(Ml({"Shift-Enter":al.Enter},al)),El(),(t=this.placeholder,new(0,Ds.Plugin)({props:{decorations:function(e){var n=e.doc;if(t.text&&1===n.childCount&&n.firstChild.isTextblock&&0===n.firstChild.content.size){var r=document.createElement("span");return ic(r,"placeholder"),t.className&&ic(r,t.className),r.textContent=t.text,Ms.DecorationSet.create(n,[Ms.Decoration.widget(1,r)])}return null}}})),(e=this.eventEmitter,new(0,Ds.Plugin)({key:Ju,state:{init:function(){return null},apply:function(e){return e.getMeta("widget")}},view:function(t){return new Qu(t,e)}})),np(this.context)]);return n?r.concat(n):r},enumerable:!1,configurable:!0}),e.prototype.createInputRules=function(){var e=hu.map((function(e){var t=e.rule;return new(0,sl.InputRule)(t,(function(e,n,r,i){var o=e.schema,a=e.tr,s=e.doc,l=n.input.match(new RegExp(t,"g")),c=s.resolve(r),u=c.parent,p=0;if(op(u)&&(u=c.node(c.depth-1)),u.forEach((function(e){return op(e)&&(p+=1)})),l.length>p){var d=Bc(l),h=wu(d,o);return a.replaceWith(i-d.length+1,i,h)}return null}))}));return e.length?(0,sl.inputRules)({rules:e}):null},e.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},e.prototype.createSchema=function(){return new(0,Ns.Schema)({nodes:this.specs.nodes,marks:this.specs.marks})},e.prototype.createKeymaps=function(e){var t=ku(),n=t.undo,r=t.redo,i=this.specs.keymaps(e),o={"Mod-z":n(),"Shift-Mod-z":r()};return e?i.concat((0,Ls.keymap)(o)):i},e.prototype.createCommands=function(){return this.specs.commands(this.view)},e.prototype.createPluginProps=function(){var e=this;return this.extraPlugins.map((function(t){return t(e.eventEmitter)}))},e.prototype.focus=function(){var e=this;this.clearTimer(),this.timer=setTimeout((function(){e.view.focus(),e.view.dispatch(e.view.state.tr.scrollIntoView())}))},e.prototype.blur=function(){this.view.dom.blur()},e.prototype.destroy=function(){var e=this;this.clearTimer(),this.view.destroy(),Object.keys(this).forEach((function(t){delete e[t]}))},e.prototype.moveCursorToStart=function(e){var t=this.view.state.tr;this.view.dispatch(t.setSelection(Xc(t,1)).scrollIntoView()),e&&this.focus()},e.prototype.moveCursorToEnd=function(e){var t=this.view.state.tr;this.view.dispatch(t.setSelection(Xc(t,t.doc.content.size-1)).scrollIntoView()),e&&this.focus()},e.prototype.setScrollTop=function(e){this.view.dom.scrollTop=e},e.prototype.getScrollTop=function(){return this.view.dom.scrollTop},e.prototype.setPlaceholder=function(e){this.placeholder.text=e,this.view.dispatch(this.view.state.tr.scrollIntoView())},e.prototype.setHeight=function(e){Wl(this.el,{height:e+"px"})},e.prototype.setMinHeight=function(e){Wl(this.el,{minHeight:e+"px"})},e.prototype.getElement=function(){return this.el},e}();var lp=function(e){return e instanceof Function},cp=["Enter","Shift-Enter","Mod-Enter","Tab","Shift-Tab","Delete","Backspace","Mod-Delete","Mod-Backspace","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Mod-d","Mod-D","Alt-ArrowUp","Alt-ArrowDown"];function up(e,t,n){return e.focus(),t(n)(e.state,e.dispatch,e)}var pp=function(){function e(e){this.specs=e}return Object.defineProperty(e.prototype,"nodes",{get:function(){return this.specs.filter((function(e){return"node"===e.type})).reduce((function(e,t){var n,r=t.name,i=t.schema;return Ml(Ml({},e),((n={})[r]=i,n))}),{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"marks",{get:function(){return this.specs.filter((function(e){return"mark"===e.type})).reduce((function(e,t){var n,r=t.name,i=t.schema;return Ml(Ml({},e),((n={})[r]=i,n))}),{})},enumerable:!1,configurable:!0}),e.prototype.commands=function(e,t){var n=this.specs.filter((function(e){return e.commands})).reduce((function(t,n){var r={},i=n.commands();return lp(i)?r[n.name]=function(t){return up(e,i,t)}:Object.keys(i).forEach((function(t){r[t]=function(n){return up(e,i[t],n)}})),Ml(Ml({},t),r)}),{}),r=ku();return Object.keys(r).forEach((function(t){n[t]=function(n){return up(e,r[t],n)}})),t&&Object.keys(t).forEach((function(r){n[r]=function(n){return up(e,t[r],n)}})),n},e.prototype.keymaps=function(e){return this.specs.filter((function(e){return e.keymaps})).map((function(e){return e.keymaps()})).map((function(t){return e||Object.keys(t).forEach((function(e){Ac(cp,e)||delete t[e]})),(0,Ls.keymap)(t)}))},e.prototype.setContext=function(e){this.specs.forEach((function(t){t.setContext(e)}))},e}();function dp(e){var t=e.from,n=e.to;return e instanceof Ds.AllSelection?[t+1,n-1]:[t,n]}function hp(e){return e.index(0)+1}function fp(e,t,n){void 0===n&&(n=1);var r=0;return e.forEach((function(e,i){op(e)&&i+2<t&&(r+=2*n)})),r}function mp(e,t,n){void 0===n&&(n=t);var r=t===n,i=e.resolve(t),o=hp(i),a=o,s=i.start(1),l=s;if(!r){var c=e.resolve(n===e.content.size?n-1:n);l=c.start(1),a=hp(c),c.pos===e.content.size&&(n=e.content.size-2)}var u=Math.max(t-s+1,1),p=Math.max(n-l+1,1);return[[o,u+fp(e.child(o-1),u,-1)],[a,p+fp(e.child(a-1),p,-1)]]}function gp(e,t){for(var n=[],r=0,i=0;r<t;r+=1){var o=e.child(r);n[r]=i,i+=o.nodeSize}return n}function vp(e,t,n){var r=gp(e,n[0]),i=t[0]-1,o=n[0]-1,a=e.child(i),s=e.child(o),l=r[i],c=r[o];return l+=t[1]+fp(a,t[1]-1),c+=n[1]+fp(s,n[1]-1),[l,Math.min(c,e.content.size)]}function yp(e){var t=e.$from,n=e.$to,r=e.from,i=e.to,o=t.doc;return e instanceof Ds.AllSelection&&(t=o.resolve(r+1),n=o.resolve(i-1)),0===t.depth&&(n=t=o.resolve(r-1)),{startFromOffset:t.start(1),endFromOffset:n.start(1),startToOffset:t.end(1),endToOffset:n.end(1),startIndex:t.index(0),endIndex:n.index(0),from:t.pos,to:n.pos}}function bp(e,t){for(var n=1,r=1,i=0,o=0;i<e.childCount;i+=1){var a=e.child(i).nodeSize;if(n=o+1,r=o+a-1,i===t)break;o+=a}return{startOffset:n,endOffset:r}}var wp="heading",xp="listItem",kp="link",Sp="code",Cp="meta",Ep="delimiter",Tp="markedText",_p={strong:2,emph:1,strike:2};function Ap(e,t,n,r){return{start:e,end:t,spec:{type:n,attrs:r}}}function Op(e,t,n){var r=e.type,i=lu(t,_p[r]),o=lu(n,-_p[r]);return[Ap(i,o,r),Ap(t,i,Ep),Ap(o,n,Ep)]}function Np(e,t,n,r){return[Ap(e,t,kp),Ap(cu(e,n[1]+1),cu(t,r),kp,{desc:!0}),Ap(cu(t,r+2),lu(t,-1),kp,{url:!0})]}function Mp(e,t,n,r){var i={start:t,end:n,spec:{attrs:{className:r+"-line-background",codeStart:t[0],codeEnd:n[0]}},lineBackground:!0};return"item"!==e.type&&"blockQuote"!==e.type?[Ml(Ml({},i),{end:t,spec:{attrs:{className:r+"-line-background start"}}}),Ml(Ml({},i),{start:[Math.min(t[0]+1,n[0]),t[1]]})]:null}function Pp(e,t){for(var n=[];e;){var r=e.type;"paragraph"!==r&&"codeBlock"!==r||n.push(Ap([Jc(e),eu(e)-1],[Qc(e),tu(e)+1],t)),e=e.next}return n}var Dp={heading:function(e,t,n){var r=e.level,i=e.headingType,o=[Ap(t,n,wp,{level:r})];return"atx"===i?o.push(Ap(t,lu(t,r),Ep)):o.push(Ap(cu(n,0),n,wp,{seText:!0})),o},strong:Op,emph:Op,strike:Op,link:function(e,t,n){var r=e.lastChild,i=e.extendedAutolink,o=r?tu(r)+1:2;return i?[Ap(t,n,kp,{desc:!0})]:Np(t,n,t,o)},image:function(e,t,n){var r=e.lastChild,i=r?tu(r)+1:3,o=lu(t,1);return Pl([Ap(t,o,Cp)],Np(t,n,o,i))},code:function(e,t,n){var r=e.tickCount,i=lu(t,r),o=lu(n,-r);return[Ap(t,n,Sp),Ap(t,i,Sp,{start:!0}),Ap(i,o,Sp,{marked:!0}),Ap(o,n,Sp,{end:!0})]},codeBlock:function(e,t,n,r){var i=e.fenceOffset,o=e.fenceLength,a=e.fenceChar,s=e.info,l=e.infoPadding,c=e.parent,u=i+o,p=[Ap(cu(t,1),n,"codeBlock")];a&&p.push(Ap(t,lu(t,u),Ep)),s&&p.push(Ap(lu(t,o),lu(t,o+l+s.length),Cp)),new RegExp("^(\\s{0,4})("+a+"{"+o+",})").test(r)&&p.push(Ap(cu(n,1),n,Ep));var d=Mp(c,t,n,"code-block");return d?p.concat(d):p},blockQuote:function(e,t,n){var r=e.parent&&"blockQuote"!==e.parent.type?[Ap(t,n,"blockQuote")]:[];if(e.firstChild){var i=[];"paragraph"===e.firstChild.type?i=function(e){for(var t=[];e;)t.push(Ap([Jc(e),eu(e)],[Qc(e),tu(e)+1],Tp)),e=e.next;return t}(e.firstChild.firstChild):"list"===e.firstChild.type&&(i=Pp(e.firstChild,Tp)),r=Pl(Pl([],r),i)}return r},item:function(e,t){var n=e.listData,r=n.padding,i=n.task,o=function(e){for(var t=0;e.parent.parent&&"item"===e.parent.parent.type;)e=e.parent.parent,t+=1;return[xp,Ml(Ml({},[{odd:!0},{even:!0}][t%2]),{listStyle:!0})]}(e),a=[Ap.apply(void 0,Pl([t,lu(t,r)],o))];return i&&(a.push(Ap(lu(t,r),lu(t,r+3),"taskDelimiter")),a.push(Ap(lu(t,r+1),lu(t,r+2),Cp))),a.concat(Pp(e.firstChild,Tp))},customBlock:function(e,t,n){var r=e,i=r.offset,o=r.syntaxLength,a=r.info,s=r.parent,l=i+o,c=[Ap(cu(t,1),n,"customBlock")];c.push(Ap(t,lu(t,l),Ep)),a&&c.push(Ap(lu(t,l),lu(t,o+a.length),Cp)),c.push(Ap(cu(n,1),n,Ep));var u=Mp(s,t,n,"custom-block");return u?c.concat(u):c}},Lp={thematicBreak:"thematicBreak",table:"table",tableCell:"tableCell",htmlInline:"html"};var Rp={};function Ip(e){var t=e.schema,n=e.toastMark;return new(0,Ds.Plugin)({appendTransaction:function(e,r,i){var o=e[0],a=i.tr;if(o.docChanged){var s=[];o.getMeta("editResult").forEach((function(e){var t=e.nodes,r=e.removedNodeRange;if(t.length){s=s.concat(function(e,t){var n=e.doc,r=t[0].sourcepos[0],i=Bc(t).sourcepos,o=i[1],a=[r[0],r[1]],s=[o[0],o[1]+1],l=[];return function(e,t,n){var r=[];Rp={};for(var i=t[0]-1;i<n[0];i+=1){var o=e.child(i),a=o.attrs.codeEnd,s=o.attrs.codeStart;if(s&&a&&!Ac(r,s)){r.push(s),a=Math.min(a,e.childCount);for(var l=s-1,c=n[0],u=l;u<c;u+=1)Rp[u]=!0}}}(n,r,o),l.push({start:a,end:s}),l}(a,t));for(var i=0,o=t;i<o.length;i++)for(var l=o[i].walker(),c=l.next();c;){var u=c.node;c.entering&&(s=s.concat(jp(u,n))),c=l.next()}}else if(r)for(var p=a.doc.childCount-1,d=r.line,h=d[0],f=d[1],m=Math.min(h,p),g=Math.min(f,p),v=m;v<=g;v+=1)Rp[v]=!0})),function(e,t,n){var r=e.doc,i=t.nodes.paragraph,o=gp(r,r.childCount);n.forEach((function(n){var a=n.start,s=n.end,l=n.spec,c=n.lineBackground,u=Math.min(a[0],r.childCount)-1,p=Math.min(s[0],r.childCount)-1,d=r.child(u),h=r.child(p),f=o[u],m=o[p];(f+=a[1]+fp(d,a[1]-1),m+=s[1]+fp(h,s[1]-1),l)?c?function(e,t,n,r,i){void 0===i&&(i={});for(var o=r.startIndex,a=r.endIndex,s=r.from,l=r.to,c=!1,u=o;u<=a;u+=1)delete Rp[u],c=Bp(t,u,i);c&&e.setBlockType(s,l,n,i)}(e,r,i,{from:f,to:m,startIndex:u,endIndex:p},l.attrs):e.addMark(f,m,t.mark(l.type,l.attrs)):e.removeMark(f,m)})),function(e,t,n){Object.keys(Rp).forEach((function(r){var i=Number(r),o=Math.min(Number(r)+1,e.doc.childCount-1),a=t[i],s=t[o]-1;i===o&&(s+=2),e.setBlockType(a,s,n)}))}(e,o,i)}(a,t,s)}return a.setMeta("widget",o.getMeta("widget"))}})}function Bp(e,t,n){return Object.keys(n).some((function(r){return n[r]!==e.child(t).attrs[r]}))}function jp(e,t){var n=t.getLineTexts(),r=[Jc(e),eu(e)],i=[Qc(e),tu(e)+1],o=function(e,t,n,r){var i=e.type;return lp(Dp[i])?Dp[i](e,t,n,r):Lp[i]?[Ap(t,n,Lp[i])]:null}(e,r,i,n[i[0]-1]);return null!=o?o:[]}var Fp=["taskList","orderedList","bulletList","table","strong","emph","strike","heading","thematicBreak","blockQuote","code","codeBlock","indent","outdent"];function zp(e){var t={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}},n=!0;return function(e,t,n){for(void 0===n&&(n=!0),e=n?e:e.parent;e&&"document"!==e.type;)t(e),e=e.parent}(e,(function(e){var r=function(e){var t=e.type;return ru(e)?e.listData.task?"taskList":"ordered"===e.listData.type?"orderedList":"bulletList":-1!==t.indexOf("table")?"table":Ac(Fp,t)?t:null}(e);r&&("bulletList"===r||"orderedList"===r?n&&(t[r]={active:!0},t.indent.disabled=!1,t.outdent.disabled=!1,n=!1):t[r]={active:!0})})),t}var Hp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),t}(rp),qp=function(){function e(){}return Object.defineProperty(e.prototype,"type",{get:function(){return"mark"},enumerable:!1,configurable:!0}),e.prototype.setContext=function(e){this.context=e},e}();function Vp(e,t){return Up(e,t-1)}function Up(e,t){return e.child(t).textContent}var Wp=/^\s*> ?/,$p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:qu("block-quote")},0]}}},enumerable:!1,configurable:!0}),t.prototype.createBlockQuoteText=function(e,t){return t?e.replace(Wp,"").trim():"> "+e.trim()},t.prototype.extendBlockQuote=function(){var e=this;return function(t,n){var r=t.selection,i=t.doc,o=t.tr,a=t.schema,s=yp(r),l=s.endFromOffset,c=s.endToOffset,u=s.endIndex,p=s.to,d=Up(i,u);if(Wp.test(d)&&p>l&&r.empty){if(!d.replace(Wp,"").trim())o.deleteRange(l,c).split(o.mapping.map(c));else{var h=d.slice(p-l).trim();Kc(o,c,h,Gc(a,e.createBlockQuoteText(h)))}return n(o),!0}return!1}},t.prototype.commands=function(){var e=this;return function(){return function(t,n){var r=t.selection,i=t.doc,o=yp(r),a=o.startFromOffset,s=o.endToOffset,l=o.startIndex,c=o.endIndex,u=Wp.test(Up(i,l)),p=Zc({state:t,startIndex:l,endIndex:c,from:a,createText:function(t){return e.createBlockQuoteText(t,u)}});return n(p.setSelection(Xc(p,p.mapping.map(s)))),!0}}},t.prototype.keymaps=function(){var e=this.commands()();return{"alt-q":e,"alt-Q":e,Enter:this.extendBlockQuote()}},t}(qp),Gp=/(^\s*)([-*+] |[\d]+\. )/,Xp=/(^\s*)([\d])+\.( \[[ xX]])? /,Yp=/^(\s*)((\d+)([.)]\s(?:\[(?:x|\s)\]\s)?))(.*)/,Zp=/(^\s*)([-*+]|[\d]+\.)( \[[ xX]])? /,Kp=/^(\s*)([-*+]+(\s(?:\[(?:x|\s)\]\s)?))(.*)/,Jp=/(^\s*)([-*+] |[\d]+\. )(\[[ xX]] )/,Qp=/(^\s*)([-*+])( \[[ xX]]) /;function ed(e){return Xp.test(e)?"ordered":"bullet"}function td(e){for(var t=0;e&&"document"!==e.type;)"list"===e.type&&(t+=1),e=e.parent;return t}function nd(e,t,n,r){for(var i=e.getLineTexts().length,o=[],a=t;r?a<i:a>1;){a=r?a+1:a-1;var s=e.findFirstNodeAtLine(a),l=td(s);if(l===n)o.push({line:a,depth:n,mdNode:s});else if(l<n)break}return o}function rd(e,t,n,r){void 0===r&&(r=0);var i=Number.MAX_VALUE,o=0,a=t.map((function(t,a){var s=t.line;i=Math.min(s-1,i),o=Math.max(s-1,o);var l=Vp(e,s);return l="bullet"===n?function(e){if(!Gp.test(e))return"* "+e;var t=ed(e);return"bullet"===t&&Zp.test(e)?e=e.replace(Qp,"$1$2 "):"ordered"===t&&(e=e.replace(Xp,"$1* ")),e}(l):function(e,t){if(!Gp.test(e))return t+". "+e;var n=ed(e);if("bullet"===n||"ordered"===n&&Zp.test(e))e=e.replace(Zp,"$1"+t+". ");else if("ordered"===n){var r=Yp.exec(e)[3];Number(r)!==t&&(e=e.replace(Xp,"$1"+t+". "))}return e}(l,a+1+r),{text:l,line:s}}));return{changedResults:a,firstIndex:i,lastIndex:o}}function id(e,t){var n,r,i,o,a,s,l,c=(r=(n=t).toastMark,i=n.mdNode,o=n.line,a=td(i),s=nd(r,o,a,!1).reverse(),l=nd(r,o,a,!0),s.concat([{line:o,depth:a,mdNode:i}]).concat(l));return rd(t.doc,c,e)}var od={bullet:function(e){return id("bullet",e)},ordered:function(e){return id("ordered",e)},task:function(e){var t=e.mdNode,n=e.doc,r=e.line,i=Vp(n,r);return t.listData.task?i=i.replace(Jp,"$1$2"):ru(t)&&(i=i.replace(Gp,"$1$2[ ] ")),{changedResults:[{text:i,line:r}]}}},ad={bullet:function(e){var t=e.doc,n=e.line;return{changedResults:[{text:"* "+Vp(t,n),line:n}]}},ordered:function(e){for(var t=e.toastMark,n=e.doc,r=e.line,i=e.startLine,o=Vp(n,r),a=1,s=i,l=0,c=i-1;c>0;c-=1){var u=t.findFirstNodeAtLine(c),p=Vp(n,c)&&!!su(u,(function(e){return ru(e)})),d=Yp.exec(Vp(n,c));if(!d&&!p)break;if(d||!p){var h=d,f=h[1],m=h[3];if(!f){a=Number(m),s=c;break}}else l+=1}return{changedResults:[{text:a+r-s-l+". "+o,line:r}]}},task:function(e){var t=e.doc,n=e.line;return{changedResults:[{text:"* [ ] "+Vp(t,n),line:n}]}}},sd={bullet:function(e){var t=e.line,n=Vp(e.doc,t),r=Kp.exec(n);return{listSyntax:""+r[1]+r[2]}},ordered:function(e){var t=e.toastMark,n=e.line,r=e.mdNode,i=e.doc,o=td(r),a=Vp(i,n),s=Yp.exec(a),l=s[1],c=s[3],u=s[4],p=Number(c)+1,d=""+l+p+u,h=nd(t,n,o,!0).filter((function(e){var t=Yp.exec(Vp(i,e.line));return t&&t[1].length===l.length&&!!su(e.mdNode,(function(e){return iu(e)}))}));return Ml({listSyntax:d},rd(i,h,"ordered",p))}};function ld(e,t,n,r,i){for(var o=[],a=Vp(e,n),s=Yp.exec(a);s;){var l=s[1],c=s[4],u=s[5],p=l.length;if(p===i)o.push(Gc(t,""+l+r+c+u)),r+=1,n+=1;else if(p>i){var d=ld(e,t,n,1,p);n=d.line,o=o.concat(d.nodes)}if(p<i||n>e.childCount)break;a=Vp(e,n),s=Yp.exec(a)}return{nodes:o,line:n}}var cd=/(^\s{1,4})(.*)/;function ud(e,t,n){return e<t||Gp.test(n)||Wp.test(n)}function pd(e,t,n){var r=n.$from;0===r.depth&&(r=e.resolve(r.pos-1));var i=r.node(1),o=r.start(1),a=i.content.size;return i.rangeHasMark(0,a,t.marks.table)&&r.pos-o!==a&&r.pos!==o}function dd(e,t){var n=t.from,r=t.to;if("indent"===t.type){n+=4,r+=4*(t.lineLen+1)}else{var i=t.spaceLenList;n-=i[0];for(var o=0;o<i.length;o+=1)r-=i[o]}return Xc(e,n,r)}var hd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"inline*",attrs:{className:{default:null},codeStart:{default:null},codeEnd:{default:null}},selectable:!1,group:"block",parseDOM:[{tag:"div"}],toDOM:function(e){var t=e.attrs;return t.className?["div",{class:qu(t.className)},0]:["div",0]}}},enumerable:!1,configurable:!0}),t.prototype.reorderList=function(e,t){for(var n=this.context,r=n.view,i=n.toastMark,o=n.schema,a=r.state,s=a.tr,l=a.selection,c=a.doc,u=i.findFirstNodeAtLine(e),p=u;u&&!ou(u)&&"document"!==u.parent.type;)if(iu(u=u.parent)){p=u;break}p&&(e=p.sourcepos[0][0]);var d=Yp.exec(Vp(c,e)),h=d[1],f=d[3],m=h.length,g=ld(c,o,e,Number(f),m),v=g.line,y=g.nodes;t=Math.max(t,v-1);for(var b=bp(c,e-1).startOffset,w=e-1;w<=t-1;w+=1){var x=c.child(w),k=x.nodeSize,S=x.content,C=s.mapping.map(b),E=C+S.size;s.replaceWith(C,E,y[w-e+1]),b+=k}var T=Xc(s,l.from,l.to);r.dispatch(s.setSelection(T))},t.prototype.indent=function(e){var t=this;return void 0===e&&(e=!1),function(){return function(n,r){var i=n.schema,o=n.selection,a=n.doc,s=yp(o),l=s.from,c=s.to,u=s.startFromOffset,p=s.startIndex,d=s.endIndex;if(e&&pd(a,i,o))return!1;var h=Up(a,p);if(e&&ud(l,c,h)||!e&&Gp.test(h)){var f=Zc({state:n,from:u,startIndex:p,endIndex:d,createText:function(e){return"    "+e}}),m={type:"indent",from:l,to:c,lineLen:d-p};r(f.setSelection(dd(f,m))),Yp.test(h)&&t.reorderList(p+1,d+1)}else e&&r(n.tr.insert(c,Gc(i,"    ")));return!0}}},t.prototype.outdent=function(e){var t=this;return void 0===e&&(e=!1),function(){return function(n,r){var i=n.selection,o=n.doc,a=n.schema,s=yp(i),l=s.from,c=s.to,u=s.startFromOffset,p=s.startIndex,d=s.endIndex;if(e&&pd(o,a,i))return!1;var h=Up(o,p);if(e&&ud(l,c,h)||!e&&Gp.test(h)){var f=[],m=Zc({state:n,from:u,startIndex:p,endIndex:d,createText:function(e){var t=cd.exec(e);return f.push(t?t[1].length:0),e.replace(cd,"$2")}}),g={type:"outdent",from:l,to:c,spaceLenList:f};r(m.setSelection(dd(m,g))),Yp.test(h)&&t.reorderList(p+1,d+1)}else if(e){var v=h.slice(0,c-u),y=v.replace(/\s{1,4}$/,""),b=c-(v.length-y.length);r(n.tr.delete(b,c))}return!0}}},t.prototype.deleteLines=function(){var e=this;return function(t,n){var r=e.context.view,i=yp(t.selection),o=i.startFromOffset,a=i.endToOffset;return tl((function(){return n(t.tr.deleteRange(o,a)),!0}),zs)(t,n,r)}},t.prototype.moveDown=function(){return function(e,t){var n=e.doc,r=e.tr,i=e.selection,o=e.schema,a=yp(i),s=a.startFromOffset,l=a.endToOffset,c=a.endIndex;if(c<n.content.childCount-1){var u=n.child(c+1),p=u.nodeSize,d=u.textContent;return r.delete(l,l+p).split(s).insert(r.mapping.map(s)-2,Gc(o,d)),t(r),!0}return!1}},t.prototype.moveUp=function(){return function(e,t){var n=e.tr,r=e.doc,i=e.selection,o=e.schema,a=yp(i),s=a.startFromOffset,l=a.endToOffset,c=a.startIndex;if(c>0){var u=r.child(c-1),p=u.nodeSize,d=u.textContent;return n.delete(s-p,s).split(n.mapping.map(l)).insert(n.mapping.map(l),Gc(o,d)),t(n),!0}return!1}},t.prototype.commands=function(){return{indent:this.indent(),outdent:this.outdent()}},t.prototype.keymaps=function(){return{Tab:this.indent(!0)(),"Shift-Tab":this.outdent(!0)(),"Mod-d":this.deleteLines(),"Mod-D":this.deleteLines(),"Alt-ArrowUp":this.moveUp(),"Alt-ArrowDown":this.moveDown()}},t}(rp),fd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),t}(rp),md=/^#{1,6}\s/,gd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{attrs:{level:{default:1},seText:{default:!1}},toDOM:function(e){var t=e.attrs,n="heading|heading"+t.level;return t.seText&&(n+="|delimiter|setext"),["span",{class:qu.apply(void 0,n.split("|"))},0]}}},enumerable:!1,configurable:!0}),t.prototype.createHeadingText=function(e,t,n){for(var r=t.replace(n,"").trim(),i="";e>0;)i+="#",e-=1;return i+" "+r},t.prototype.commands=function(){var e=this;return function(t){return function(n,r){var i=t.level,o=yp(n.selection),a=o.startFromOffset,s=o.endToOffset,l=Zc({state:n,from:a,startIndex:o.startIndex,endIndex:o.endIndex,createText:function(t){var n=t.match(md),r=n?n[0]:"";return e.createHeadingText(i,t,r)}});return r(l.setSelection(Xc(l,l.mapping.map(s)))),!0}}},t}(qp),vd="```",yd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:qu("code-block")},0]}}},enumerable:!1,configurable:!0}),t.prototype.commands=function(){return function(){return function(e,t){var n=e.selection,r=e.schema,i=e.tr,o=yp(n),a=o.startFromOffset,s=o.endToOffset,l=Gc(r,vd);return i.insert(a,l).split(a+vd.length),i.split(i.mapping.map(s)).insert(i.mapping.map(s),l),t(i.setSelection(Xc(i,i.mapping.map(s)-(vd.length+2)))),!0}}},t.prototype.keepIndentation=function(){var e=this;return function(t,n){var r=t.selection,i=t.tr,o=t.doc,a=t.schema,s=e.context.toastMark,l=yp(r),c=l.startFromOffset,u=l.endToOffset,p=l.endIndex,d=l.from,h=l.to,f=Up(o,p);if(d===h&&f.trim()){var m=f.match(/^\s+/);if(function(e){return e&&"codeBlock"===e.type}(s.findFirstNodeAtLine(p+1))&&m){var g=m[0],v=f.slice(h-c);return Kc(i,u,v,Gc(a,g+v)),n(i),!0}}return!1}},t.prototype.keymaps=function(){var e=this.commands()();return{"Shift-Mod-p":e,"Shift-Mod-P":e,Enter:this.keepIndentation()}},t}(qp),bd=/\||\s/g;function wd(e,t){for(var n="|",r=0;r<e;r+=1)n+=t?" --- |":"  |";return n}var xd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:qu("table")},0]}}},enumerable:!1,configurable:!0}),t.prototype.extendTable=function(){var e=this;return function(t,n){var r=t.selection,i=t.doc,o=t.tr,a=t.schema;if(!r.empty)return!1;var s=yp(r),l=s.endFromOffset,c=s.endToOffset,u=s.endIndex,p=s.to,d=Up(i,u),h=[u+1,p-l+1],f=su(e.context.toastMark.findNodeAtPosition(h),(function(e){return au(e)&&("tableDelimRow"===e.parent.type||"tableBody"===e.parent.parent.type)}));if(f){var m=!d.replace(bd,"").trim(),g=wd(f.parent.parent.parent.columns.length);return m?o.deleteRange(l,c).split(o.mapping.map(c)):o.split(c).insert(o.mapping.map(c),Gc(a,g)).setSelection(Xc(o,o.mapping.map(c)-2)),n(o),!0}return!1}},t.prototype.moveTableCell=function(e){var t=this;return function(n,r){var i=n.selection,o=n.tr,a=yp(i),s=a.endFromOffset,l=[a.endIndex+1,a.to-s],c=su(t.context.toastMark.findNodeAtPosition(l),(function(e){return au(e)}));if(c){var u=c.parent,p=function(e){return e?{type:"next",parentType:"tableHead",childType:"firstChild"}:{type:"prev",parentType:"tableBody",childType:"lastChild"}}(e),d=p.type,h=p.parentType,f=p.childType,m=tu(c);if(c[d])m=tu(c[d])-1;else{var g=u[d]||u.parent.type!==h?u[d]:u.parent[d][f];if("next"===d)m+=(g?tu(g[f]):0)+2;else"prev"===d&&(m=g?-4:0)}return r(o.setSelection(Xc(o,s+m))),!0}return!1}},t.prototype.addTable=function(){return function(e){return function(t,n){var r=t.selection,i=t.tr,o=t.schema,a=e,s=a.columnCount,l=a.rowCount,c=yp(r).endToOffset,u=function(e){return[wd(e),wd(e,!0)]}(s),p=function(e,t){for(var n=[],r=0;r<t;r+=1)n.push(wd(e));return n}(s,l-1);return Pl(Pl([],u),p).forEach((function(e){i.split(i.mapping.map(c)).insert(i.mapping.map(c),Gc(o,e))})),n(i.setSelection(Xc(i,c+4))),!0}}},t.prototype.commands=function(){return{addTable:this.addTable()}},t.prototype.keymaps=function(){return{Enter:this.extendTable(),Tab:this.moveTableCell(!0),"Shift-Tab":this.moveTableCell(!1)}},t}(qp),kd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:qu("thematic-break")},0]}}},enumerable:!1,configurable:!0}),t.prototype.hr=function(){return function(){return function(e,t){var n=e.selection,r=e.schema,i=e.tr,o=yp(n),a=o.from,s=o.to,l=o.endToOffset,c=Gc(r,"***");return i.split(a).replaceWith(i.mapping.map(a),i.mapping.map(s),c).split(i.mapping.map(s)).setSelection(Xc(i,i.mapping.map(l))),t(i),!0}}},t.prototype.commands=function(){return{hr:this.hr()}},t.prototype.keymaps=function(){var e=this.hr()();return{"Mod-l":e,"Mod-L":e}},t}(qp);function Sd(e,t){var n=e.type;return t<=e.sourcepos[0][0]&&("codeBlock"===n||"heading"===n||n.match("table"))}var Cd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{attrs:{odd:{default:!1},even:{default:!1},listStyle:{default:!1}},toDOM:function(e){var t=e.attrs,n=t.odd,r=t.even,i="list-item";return t.listStyle&&(i+="|list-item-style"),n&&(i+="|list-item-odd"),r&&(i+="|list-item-even"),["span",{class:qu.apply(void 0,i.split("|"))},0]}}},enumerable:!1,configurable:!0}),t.prototype.extendList=function(){var e=this;return function(t,n){var r=t.selection,i=t.doc,o=t.schema,a=t.tr,s=e.context.toastMark,l=yp(r),c=l.to,u=l.startFromOffset,p=l.endFromOffset,d=l.endIndex,h=l.endToOffset,f=Up(i,d);if(!Gp.test(f)||r.from===u||!r.empty)return!1;if(!f.replace(Zp,"").trim())a.deleteRange(p,h).split(a.mapping.map(h));else{var m=ed(f),g=s.findFirstNodeAtLine(d+1),v=f.slice(c-p),y={toastMark:s,mdNode:g,doc:i,line:d+1},b=sd[m](y),w=b.listSyntax,x=b.changedResults;if(null==x?void 0:x.length){a.split(c),x.unshift({text:w+v,line:d+1}),e.changeToListPerLine(a,x,{from:c,startLine:x[0].line,endLine:Bc(x).line});var k=a.mapping.map(h)-v.length;a.setSelection(Xc(a,k))}else{Kc(a,h,v,Gc(o,w+v))}}return n(a),!0}},t.prototype.toList=function(e){var t=this;return function(){return function(n,r){for(var i=n.doc,o=n.tr,a=n.selection,s=t.context.toastMark,l=yp(a),c=l.startIndex+1,u=l.endIndex+1,p=l.endToOffset,d=[],h=c;h<=u;h+=1){var f=s.findFirstNodeAtLine(h);if(f&&Sd(f,h))break;if(-1===d.indexOf(h)){var m={toastMark:s,mdNode:f,doc:i,line:h,startLine:c},g=(ru(f)?od[e](m):ad[e](m)).changedResults,v=t.changeToListPerLine(o,g,{from:bp(i,g[0].line-1).startOffset,startLine:g[0].line,endLine:Bc(g).line,indexDiff:1});p=Math.max(v,p),g&&(d=d.concat(g.map((function(e){return e.line}))))}}return r(o.setSelection(Xc(o,o.mapping.map(p)))),!0}}},t.prototype.changeToListPerLine=function(e,t,n){for(var r=n.from,i=n.startLine,o=n.endLine,a=n.indexDiff,s=void 0===a?0:a,l=0,c=function(n){var i=e.doc.child(n),o=i.nodeSize,a=i.content,c=e.mapping.map(r),p=c+a.size,d=t.filter((function(e){return e.line-s===n}))[0];d&&(e.replaceWith(c,p,Gc(u.context.schema,d.text)),l=Math.max(l,r+a.size)),r+=o},u=this,p=i-s;p<=o-s;p+=1)c(p);return l},t.prototype.toggleTask=function(){var e=this;return function(t,n){for(var r=t.selection,i=t.tr,o=t.doc,a=t.schema,s=e.context.toastMark,l=yp(r),c=l.startIndex,u=l.endIndex,p=null,d=c;d<=u;d+=1){var h=s.findFirstNodeAtLine(d+1);if(ru(h)&&h.listData.task){var f=h.listData,m=f.checked,g=f.padding,v=m?" ":"x",y=h.sourcepos[0],b=bp(o,y[0]-1).startOffset;b+=y[1]+g,p=i.replaceWith(b,b+1,a.text(v))}}return!!p&&(n(p),!0)}},t.prototype.commands=function(){return{bulletList:this.toList("bullet"),orderedList:this.toList("ordered"),taskList:this.toList("task")}},t.prototype.keymaps=function(){var e=this.toList("bullet")(),t=this.toList("ordered")(),n=this.toList("task")(),r=this.toggleTask();return{"Mod-u":e,"Mod-U":e,"Mod-o":t,"Mod-O":t,"alt-t":n,"alt-T":n,"Shift-Ctrl-x":r,"Shift-Ctrl-X":r,Enter:this.extendList()}},t}(qp);function Ed(e,t){return function(){return function(n,r){var i=n.tr,o=n.selection,a=lp(e)?e:function(t){return e.test(t)},s=t.length,l=i.doc,c=dp(o),u=c[0],p=c[1],d=Math.max(u-s,1),h=Math.min(p+s,l.content.size-1),f=o.content(),m=f.content.textBetween(0,f.content.size,"\n"),g=l.textBetween(d,u,"\n"),v=l.textBetween(p,h,"\n");if(m=""+g+m+v,g&&v&&a(m))i.delete(h-s,h).delete(d,d+s);else{i.insertText(t,p).insertText(t,u);var y=o.empty?Xc(i,u+s):Xc(i,u+s,p+s);i.setSelection(y)}return r(i),!0}}}var Td=/^(\*{2}|_{2}).*([\s\S]*)\1$/m,_d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:qu("strong")},0]}}},enumerable:!1,configurable:!0}),t.prototype.bold=function(){return Ed(Td,"**")},t.prototype.commands=function(){return{bold:this.bold()}},t.prototype.keymaps=function(){var e=this.bold()();return{"Mod-b":e,"Mod-B":e}},t}(qp),Ad=/^(~{2}).*([\s\S]*)\1$/m,Od=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:qu("strike")},0]}}},enumerable:!1,configurable:!0}),t.prototype.commands=function(){return Ed(Ad,"~~")},t.prototype.keymaps=function(){var e=this.commands()();return{"Mod-s":e,"Mod-S":e}},t}(qp),Nd=/^(\*|_).*([\s\S]*)\1$/m,Md=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:qu("emph")},0]}}},enumerable:!1,configurable:!0}),t.prototype.italic=function(){return Ed(Nd,"*")},t.prototype.commands=function(){return{italic:this.italic()}},t.prototype.keymaps=function(){var e=this.italic()();return{"Mod-i":e,"Mod-I":e}},t}(qp),Pd=/^(`).*([\s\S]*)\1$/m,Dd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{attrs:{start:{default:!1},end:{default:!1},marked:{default:!1}},toDOM:function(e){var t=e.attrs,n="code";return t.start&&(n+="|delimiter|start"),t.end&&(n+="|delimiter|end"),t.marked&&(n+="|marked-text"),["span",{class:qu.apply(void 0,n.split("|"))},0]}}},enumerable:!1,configurable:!0}),t.prototype.commands=function(){return Ed(Pd,"`")},t.prototype.keymaps=function(){var e=this.commands()();return{"Shift-Mod-c":e,"Shift-Mod-C":e}},t}(qp),Ld=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{attrs:{url:{default:!1},desc:{default:!1}},toDOM:function(e){var t=e.attrs,n="link";return t.url&&(n+="|link-url|marked-text"),t.desc&&(n+="|link-desc|marked-text"),["span",{class:qu.apply(void 0,n.split("|"))},0]}}},enumerable:!1,configurable:!0}),t.prototype.addLinkOrImage=function(e){return function(t){return function(n,r){var i=n.selection,o=n.tr,a=n.schema,s=dp(i),l=s[0],c=s[1],u=t,p=u.linkText,d=u.altText,h=u.linkUrl,f=u.imageUrl,m=p,g=h,v="";return"image"===e&&(m=d,g=f,v="!"),v+="["+(m=Dc(m))+"]("+g+")",r(o.replaceWith(l,c,Gc(a,v))),!0}}},t.prototype.commands=function(){return{addImage:this.addLinkOrImage("image"),addLink:this.addLinkOrImage("link")}},t}(qp),Rd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"taskDelimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:qu("delimiter","list-item")},0]}}},enumerable:!1,configurable:!0}),t}(qp),Id=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"delimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:qu("delimiter")},0]}}},enumerable:!1,configurable:!0}),t}(qp),Bd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"meta"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:qu("meta")},0]}}},enumerable:!1,configurable:!0}),t}(qp),jd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"markedText"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:qu("marked-text")},0]}}},enumerable:!1,configurable:!0}),t}(qp),Fd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"tableCell"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:qu("table-cell")},0]}}},enumerable:!1,configurable:!0}),t}(qp),zd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"html"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:qu("html")},0]}}},enumerable:!1,configurable:!0}),t}(qp),Hd="$$",qd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:qu("custom-block")},0]}}},enumerable:!1,configurable:!0}),t.prototype.commands=function(){return function(e){return function(t,n){var r=t.selection,i=t.schema,o=t.tr,a=yp(r),s=a.startFromOffset,l=a.endToOffset;if(!(null==e?void 0:e.info))return!1;var c="$$"+e.info,u=Gc(i,c),p=Gc(i,Hd);return o.insert(s,u).split(s+c.length),o.split(o.mapping.map(l)).insert(o.mapping.map(l),p),n(o.setSelection(Xc(o,o.mapping.map(l)-(Hd.length+2)))),!0}}},t}(qp),Vd=/x|backspace/i,Ud=/^\[(\s*)(x?)(\s*)\](?:\s+)/i;function Wd(e){var t=e.schema,n=e.toastMark;return new(0,Ds.Plugin)({props:{handleDOMEvents:{keyup:function(e,r){var i,o=e.state,a=o.doc,s=o.tr,l=o.selection;if(l.empty&&Vd.test(r.key)){var c=yp(l),u=c.startIndex,p=c.startFromOffset,d=[u+1,c.from-p+1],h=su(n.findNodeAtPosition(d),(function(e){var t;return"paragraph"===e.type&&"item"===(null===(t=e.parent)||void 0===t?void 0:t.type)}));if(null===(i=null==h?void 0:h.firstChild)||void 0===i?void 0:i.literal){var f=h.firstChild,m=f.literal.match(Ud);if(m){var g=f.sourcepos[0],v=m[1],y=m[2],b=m[3],w=v.length+b.length,x=bp(a,g[0]-1).startOffset,k=g[1]+x;if(y){var S=w?w+1:0;s.replaceWith(k,S+k,t.text(y)),e.dispatch(s)}else w||(s.insertText(" ",k),e.dispatch(s))}}}return!1}}}})}var $d="cut",Gd=/\r\n|\n|\r/,Xd=function(e){function t(t,n){var r=e.call(this,t)||this,i=n.toastMark,o=n.useCommandShortcut,a=void 0===o||o,s=n.mdPlugins,l=void 0===s?[]:s;return r.editorType="markdown",r.el.classList.add("md-mode"),r.toastMark=i,r.extraPlugins=l,r.specs=r.createSpecs(),r.schema=r.createSchema(),r.context=r.createContext(),r.keymaps=r.createKeymaps(a),r.view=r.createView(),r.commands=r.createCommands(),r.specs.setContext(Ml(Ml({},r.context),{view:r.view})),r.createClipboard(),r.eventEmitter.listen("changePreviewTabWrite",(function(e){return r.toggleActive(!0,e)})),r.eventEmitter.listen("changePreviewTabPreview",(function(){return r.toggleActive(!1)})),r.initEvent(),r}return Nl(t,e),t.prototype.toggleActive=function(e,t){Wu(this.el,"active",e),e?t||this.focus():this.blur()},t.prototype.createClipboard=function(){var e=this;this.clipboard=document.createElement("textarea"),this.clipboard.className=Hu("pseudo-clipboard"),this.clipboard.addEventListener("paste",(function(t){var n=t.clipboardData||window.clipboardData,r=n&&n.items;if(r&&!Wc(r).some((function(e){return"string"===e.kind&&"text/rtf"===e.type}))){var i=tp(r);i&&(t.preventDefault(),ep(e.eventEmitter,i,t.type))}})),this.clipboard.addEventListener("input",(function(t){var n=t.target.value;e.replaceSelection(n),t.preventDefault(),t.target.value=""})),this.el.insertBefore(this.clipboard,this.view.dom)},t.prototype.createContext=function(){return{toastMark:this.toastMark,schema:this.schema,eventEmitter:this.eventEmitter}},t.prototype.createSpecs=function(){return new pp([new Hp,new hd,new ap,new fd,new gd,new $p,new yd,new qd,new xd,new Fd,new kd,new Cd,new _d,new Od,new Md,new Dd,new Ld,new Id,new Rd,new jd,new Bd,new zd])},t.prototype.createPlugins=function(){return Pl([Ip(this.context),(e=this.context,t=e.toastMark,n=e.eventEmitter,new(0,Ds.Plugin)({view:function(){return{update:function(e,r){var i=e.state,o=i.doc,a=i.selection;if(!(r&&r.doc.eq(o)&&r.selection.eq(a))){var s=a.from,l=i.doc.resolve(s).start(),c=s-l;s===l&&(c+=1);var u=[i.doc.content.findIndex(s).index+1,c],p=t.findNodeAtPosition(u),d=zp(p);n.emit("changeToolbarState",{cursorPos:u,mdNode:p,toolbarState:d}),n.emit("setFocusedNode",p)}}}}})),Wd(this.context)],this.createPluginProps()).concat(this.defaultPlugins);var e,t,n},t.prototype.createView=function(){var e=this;return new(0,Ms.EditorView)(this.el,{state:this.createState(),dispatchTransaction:function(t){e.updateMarkdown(t);var n=e.view.state.applyTransaction(t).state;e.view.updateState(n),e.emitChangeEvent(t)},handleKeyDown:function(t,n){return(n.metaKey||n.ctrlKey)&&"V"===n.key.toUpperCase()&&e.clipboard.focus(),e.eventEmitter.emit("keydown",e.editorType,n),!1},handleDOMEvents:{copy:function(t,n){return e.captureCopy(n)},cut:function(t,n){return e.captureCopy(n,$d)},scroll:function(){return e.eventEmitter.emit("scroll","editor"),!0},keyup:function(t,n){return e.eventEmitter.emit("keyup",e.editorType,n),!1}},nodeViews:{widget:ip}})},t.prototype.createCommands=function(){return this.specs.commands(this.view)},t.prototype.captureCopy=function(e,t){e.preventDefault();var n=this.view.state,r=n.selection,i=n.tr;if(r.empty)return!0;var o=this.getChanged(r.content());return e.clipboardData?e.clipboardData.setData("text/plain",o):window.clipboardData.setData("Text",o),t===$d&&this.view.dispatch(i.deleteSelection().scrollIntoView().setMeta("uiEvent",$d)),!0},t.prototype.updateMarkdown=function(e){var t=this;e.docChanged&&e.steps.forEach((function(n,r){if(n.slice&&!(n instanceof Ps.ReplaceAroundStep)){var i=e.docs[r],o=[n.from,n.to],a=mp(i,o[0],o[1]),s=a[0],l=a[1],c=t.getChanged(n.slice);s[0]===l[0]&&s[1]===l[1]&&""===c&&(c="\n");var u=t.toastMark.editMarkdown(s,l,c);t.eventEmitter.emit("updatePreview",u),e.setMeta("editResult",u).scrollIntoView()}}))},t.prototype.getChanged=function(e){var t="",n=e.content.size;return e.content.nodesBetween(0,n,(function(e,r){e.isText?t+=e.text.slice(Math.max(0,r)-r,n-r):e.isBlock&&r>0&&(t+="\n")})),t},t.prototype.setSelection=function(e,t){void 0===t&&(t=e);var n=this.view.state.tr,r=vp(n.doc,e,t),i=r[0],o=r[1];this.view.dispatch(n.setSelection(Xc(n,i,o)).scrollIntoView())},t.prototype.replaceSelection=function(e,t,n){var r,i=this.view.state,o=i.tr,a=i.schema,s=i.doc,l=e.split(Gd).map((function(e){return $c(a,wu(e,a))})),c=new(0,Ns.Slice)(Ns.Fragment.from(l),1,1);if(this.focus(),t&&n){var u=vp(s,t,n),p=u[0],d=u[1];r=o.replaceRange(p,d,c)}else r=o.replaceSelection(c);this.view.dispatch(r.scrollIntoView())},t.prototype.deleteSelection=function(e,t){var n,r=this.view.state,i=r.tr,o=r.doc;if(e&&t){var a=vp(o,e,t),s=a[0],l=a[1];n=i.deleteRange(s,l)}else n=i.deleteSelection();this.view.dispatch(n.scrollIntoView())},t.prototype.getSelectedText=function(e,t){var n=this.view.state,r=n.doc,i=n.selection,o=i.from,a=i.to;if(e&&t){var s=vp(r,e,t);o=s[0],a=s[1]}return r.textBetween(o,a,"\n")},t.prototype.getSelection=function(){var e=this.view.state.selection,t=e.from,n=e.to;return mp(this.view.state.tr.doc,t,n)},t.prototype.setMarkdown=function(e,t){void 0===t&&(t=!0);var n=e.split(Gd),r=this.view.state,i=r.tr,o=r.doc,a=r.schema,s=n.map((function(e){return $c(a,wu(e,a))}));this.view.dispatch(i.replaceWith(0,o.content.size,s)),t&&this.moveCursorToEnd(!0)},t.prototype.addWidget=function(e,t,n){var r=this.view.state,i=r.tr,o=r.doc,a=r.selection,s=n?vp(o,n,n)[0]:a.to;this.view.dispatch(i.setMeta("widget",{pos:s,node:e,style:t}))},t.prototype.replaceWithWidget=function(e,t,n){var r=this.view.state,i=r.tr,o=r.schema,a=vp(r.doc,e,t),s=wu(n,o);this.view.dispatch(i.replaceWith(a[0],a[1],s))},t.prototype.getRangeInfoOfNode=function(e){var t=this.view.state,n=t.doc,r=t.selection,i=e||mp(n,r.from)[0],o=this.toastMark.findNodeAtPosition(i);return"text"===o.type&&"paragraph"!==o.parent.type&&(o=o.parent),o.sourcepos[1][1]+=1,{range:o.sourcepos,type:o.type}},t.prototype.getMarkdown=function(){return this.toastMark.getLineTexts().map((function(e){return gu(e)})).join("\n")},t.prototype.getToastMark=function(){return this.toastMark},t}(sp),Yd="_feEventKey";var Zd=function(e,t){var n,r=e[Yd];return r||(r=e[Yd]={}),(n=r[t])||(n=r[t]=[]),n},Kd=Il,Jd=ql,Qd=Zd;function eh(e,t,n){var r,i=Qd(e,t);n?(Jd(i,(function(i,o){return n!==i.handler||(th(e,t,i.wrappedHandler),r=o,!1)})),i.splice(r,1)):(Jd(i,(function(n){th(e,t,n.wrappedHandler)})),i.splice(0,i.length))}function th(e,t,n){"removeEventListener"in e?e.removeEventListener(t,n):"detachEvent"in e&&e.detachEvent("on"+t,n)}var nh=function(e,t,n){Kd(t)?Jd(t.split(/\s+/g),(function(t){eh(e,t,n)})):Jd(t,(function(t,n){eh(e,n,t)}))},rh=Il,ih=ql,oh=Zd;function ah(e,t,n,r){function i(t){n.call(r||e,t||window.event)}"addEventListener"in e?e.addEventListener(t,i):"attachEvent"in e&&e.attachEvent("on"+t,i),function(e,t,n,r){var i=oh(e,t),o=!1;ih(i,(function(e){return e.handler!==n||(o=!0,!1)})),o||i.push({handler:n,wrappedHandler:r})}(e,t,n,i)}var sh=function(e,t,n,r){rh(t)?ih(t.split(/\s+/g),(function(t){ah(e,t,n,r)})):ih(t,(function(t,r){ah(e,r,t,n)}))},lh=function(e,t){return lh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},lh(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function ch(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}lh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var uh=function(){return uh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},uh.apply(this,arguments)};function ph(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var dh="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:{},hh={};function fh(e,t,n){var r,i,o,a,s,l="";for("string"!=typeof t&&(n=t,t=fh.defaultChars),void 0===n&&(n=!0),s=function(e){var t,n,r=hh[e];if(r)return r;for(r=hh[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?r.push(n):r.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)r[e.charCodeAt(t)]=e[t];return r}(t),r=0,i=e.length;r<i;r++)if(o=e.charCodeAt(r),n&&37===o&&r+2<i&&/^[0-9a-f]{2}$/i.test(e.slice(r+1,r+3)))l+=e.slice(r,r+3),r+=2;else if(o<128)l+=s[o];else if(o>=55296&&o<=57343){if(o>=55296&&o<=56319&&r+1<i&&(a=e.charCodeAt(r+1))>=56320&&a<=57343){l+=encodeURIComponent(e[r]+e[r+1]),r++;continue}l+="%EF%BF%BD"}else l+=encodeURIComponent(e[r]);return l}fh.defaultChars=";/?:@&=+$,-_.!~*'()#",fh.componentChars="-_.!~*'()";var mh=fh,gh={},vh={},yh={Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",amp:"&",AMP:"&",andand:"",And:"",and:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angmsd:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",apacir:"",ap:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",barwed:"",Barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",because:"",Because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxdl:"",boxdL:"",boxDl:"",boxDL:"",boxdr:"",boxdR:"",boxDr:"",boxDR:"",boxh:"",boxH:"",boxhd:"",boxHd:"",boxhD:"",boxHD:"",boxhu:"",boxHu:"",boxhU:"",boxHU:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxuL:"",boxUl:"",boxUL:"",boxur:"",boxuR:"",boxUr:"",boxUR:"",boxv:"",boxV:"",boxvh:"",boxvH:"",boxVh:"",boxVH:"",boxvl:"",boxvL:"",boxVl:"",boxVL:"",boxvr:"",boxvR:"",boxVr:"",boxVR:"",bprime:"",breve:"",Breve:"",brvbar:"",bscr:"",Bscr:"",bsemi:"",bsim:"",bsime:"",bsolb:"",bsol:"\\",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",capand:"",capbrcup:"",capcap:"",cap:"",Cap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",centerdot:"",CenterDot:"",cfr:"",Cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cir:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",colon:":",Colon:"",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",conint:"",Conint:"",ContourIntegral:"",copf:"",Copf:"",coprod:"",Coproduct:"",copy:"",COPY:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",cross:"",Cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cupbrcap:"",cupcap:"",CupCap:"",cup:"",Cup:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dagger:"",Dagger:"",daleth:"",darr:"",Darr:"",dArr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",ddagger:"",ddarr:"",DD:"",dd:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",diamond:"",Diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrowBar:"",downarrow:"",DownArrow:"",Downarrow:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVectorBar:"",DownLeftVector:"",DownRightTeeVector:"",DownRightVectorBar:"",DownRightVector:"",DownTeeArrow:"",DownTee:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",Ecirc:"",ecirc:"",ecir:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",edot:"",eDot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp13:"",emsp14:"",emsp:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",escr:"",Escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",exponentiale:"",ExponentialE:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",forall:"",ForAll:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",fscr:"",Fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",ge:"",gE:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",gescc:"",ges:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",gg:"",Gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gla:"",gl:"",glE:"",glj:"",gnap:"",gnapprox:"",gne:"",gnE:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",gtcc:"",gtcir:"",gt:">",GT:">",Gt:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",harrcir:"",harr:"",hArr:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"",Hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"",Hopf:"",horbar:"",HorizontalLine:"",hscr:"",Hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",ifr:"",Ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",Im:"",imof:"",imped:"",Implies:"",incare:"",in:"",infin:"",infintie:"",inodot:"",intcal:"",int:"",Int:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",iscr:"",Iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",lang:"",Lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",larrb:"",larrbfs:"",larr:"",Larr:"",lArr:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",latail:"",lAtail:"",lat:"",late:"",lates:"",lbarr:"",lBarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",lE:"",LeftAngleBracket:"",LeftArrowBar:"",leftarrow:"",LeftArrow:"",Leftarrow:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVectorBar:"",LeftDownVector:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTeeArrow:"",LeftTee:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangleBar:"",LeftTriangle:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVectorBar:"",LeftUpVector:"",LeftVectorBar:"",LeftVector:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",lescc:"",les:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",llarr:"",ll:"",Ll:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoustache:"",lmoust:"",lnap:"",lnapprox:"",lne:"",lnE:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",LongLeftArrow:"",Longleftarrow:"",longleftrightarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longmapsto:"",longrightarrow:"",LongRightArrow:"",Longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",Lscr:"",lsh:"",Lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",ltcc:"",ltcir:"",lt:"<",LT:"<",Lt:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",midast:"*",midcir:"",mid:"",middot:"",minusb:"",minus:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",mscr:"",Mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natural:"",naturals:"",natur:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",nearhk:"",nearr:"",neArr:"",nearrow:"",ne:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nharr:"",nhArr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlarr:"",nlArr:"",nldr:"",nlE:"",nle:"",nleftarrow:"",nLeftarrow:"",nleftrightarrow:"",nLeftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",nopf:"",Nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangleBar:"",NotLeftTriangle:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangleBar:"",NotRightTriangle:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",nparallel:"",npar:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",nprec:"",npreceq:"",npre:"",nrarrc:"",nrarr:"",nrArr:"",nrarrw:"",nrightarrow:"",nRightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwarr:"",nwArr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",Ocirc:"",ocirc:"",ocir:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",orarr:"",Or:"",or:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",otimesas:"",Otimes:"",otimes:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",para:"",parallel:"",par:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plusacir:"",plusb:"",pluscir:"",plus:"+",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",popf:"",Popf:"",pound:"",prap:"",Pr:"",pr:"",prcue:"",precapprox:"",prec:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",pre:"",prE:"",precsim:"",prime:"",Prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportional:"",Proportion:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",qopf:"",Qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",quot:'"',QUOT:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",rang:"",Rang:"",rangd:"",range:"",rangle:"",raquo:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarr:"",Rarr:"",rArr:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",ratail:"",rAtail:"",ratio:"",rationals:"",rbarr:"",rBarr:"",RBarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",real:"",realine:"",realpart:"",reals:"",Re:"",rect:"",reg:"",REG:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",rfr:"",Rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrowBar:"",rightarrow:"",RightArrow:"",Rightarrow:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVectorBar:"",RightDownVector:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTeeArrow:"",RightTee:"",RightTeeVector:"",rightthreetimes:"",RightTriangleBar:"",RightTriangle:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVectorBar:"",RightUpVector:"",RightVectorBar:"",RightVector:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoustache:"",rmoust:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"",Ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",rscr:"",Rscr:"",rsh:"",Rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",scap:"",Scaron:"",scaron:"",Sc:"",sc:"",sccue:"",sce:"",scE:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdotb:"",sdot:"",sdote:"",searhk:"",searr:"",seArr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",solbar:"",solb:"",sol:"/",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",square:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squ:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",Sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",subset:"",Subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succapprox:"",succ:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",sum:"",Sum:"",sung:"",sup1:"",sup2:"",sup3:"",sup:"",Sup:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",supset:"",Supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swarr:"",swArr:"",swarrow:"",swnwar:"",szlig:"",Tab:"\t",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",therefore:"",Therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",ThinSpace:"",thinsp:"",thkap:"",thksim:"",THORN:"",thorn:"",tilde:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",timesbar:"",timesb:"",times:"",timesd:"",tint:"",toea:"",topbot:"",topcir:"",top:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",trade:"",TRADE:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",uarr:"",Uarr:"",uArr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrowBar:"",uparrow:"",UpArrow:"",Uparrow:"",UpArrowDownArrow:"",updownarrow:"",UpDownArrow:"",Updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",upsi:"",Upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTeeArrow:"",UpTee:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",vArr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vBar:"",Vbar:"",vBarv:"",Vcy:"",vcy:"",vdash:"",vDash:"",Vdash:"",VDash:"",Vdashl:"",veebar:"",vee:"",Vee:"",veeeq:"",vellip:"",verbar:"|",Verbar:"",vert:"|",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",wedge:"",Wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xharr:"",xhArr:"",Xi:"",xi:"",xlarr:"",xlArr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrarr:"",xrArr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",yuml:"",Yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",zfr:"",Zfr:"",ZHcy:"",zhcy:"",zigrarr:"",zopf:"",Zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""},bh={Aacute:"",aacute:"",Acirc:"",acirc:"",acute:"",AElig:"",aelig:"",Agrave:"",agrave:"",amp:"&",AMP:"&",Aring:"",aring:"",Atilde:"",atilde:"",Auml:"",auml:"",brvbar:"",Ccedil:"",ccedil:"",cedil:"",cent:"",copy:"",COPY:"",curren:"",deg:"",divide:"",Eacute:"",eacute:"",Ecirc:"",ecirc:"",Egrave:"",egrave:"",ETH:"",eth:"",Euml:"",euml:"",frac12:"",frac14:"",frac34:"",gt:">",GT:">",Iacute:"",iacute:"",Icirc:"",icirc:"",iexcl:"",Igrave:"",igrave:"",iquest:"",Iuml:"",iuml:"",laquo:"",lt:"<",LT:"<",macr:"",micro:"",middot:"",nbsp:"",not:"",Ntilde:"",ntilde:"",Oacute:"",oacute:"",Ocirc:"",ocirc:"",Ograve:"",ograve:"",ordf:"",ordm:"",Oslash:"",oslash:"",Otilde:"",otilde:"",Ouml:"",ouml:"",para:"",plusmn:"",pound:"",quot:'"',QUOT:'"',raquo:"",reg:"",REG:"",sect:"",shy:"",sup1:"",sup2:"",sup3:"",szlig:"",THORN:"",thorn:"",times:"",Uacute:"",uacute:"",Ucirc:"",ucirc:"",Ugrave:"",ugrave:"",uml:"",Uuml:"",uuml:"",Yacute:"",yacute:"",yen:"",yuml:""},wh={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'},xh={},kh=dh&&dh.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xh,"__esModule",{value:!0});var Sh=kh({0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}),Ch=String.fromCodePoint||function(e){var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e)};xh.default=function(e){return e>=55296&&e<=57343||e>1114111?"":(e in Sh.default&&(e=Sh.default[e]),Ch(e))};var Eh=dh&&dh.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vh,"__esModule",{value:!0}),vh.decodeHTML=vh.decodeHTMLStrict=vh.decodeXML=void 0;var Th=Eh(yh),_h=Eh(bh),Ah=Eh(wh),Oh=Eh(xh),Nh=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;function Mh(e){var t=Dh(e);return function(e){return String(e).replace(Nh,t)}}vh.decodeXML=Mh(Ah.default),vh.decodeHTMLStrict=Mh(Th.default);var Ph=function(e,t){return e<t?1:-1};function Dh(e){return function(t){if("#"===t.charAt(1)){var n=t.charAt(2);return"X"===n||"x"===n?Oh.default(parseInt(t.substr(3),16)):Oh.default(parseInt(t.substr(2),10))}return e[t.slice(1,-1)]||t}}vh.decodeHTML=function(){for(var e=Object.keys(_h.default).sort(Ph),t=Object.keys(Th.default).sort(Ph),n=0,r=0;n<t.length;n++)e[r]===t[n]?(t[n]+=";?",r++):t[n]+=";";var i=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),o=Dh(Th.default);function a(e){return";"!==e.substr(-1)&&(e+=";"),o(e)}return function(e){return String(e).replace(i,a)}}();var Lh={},Rh=dh&&dh.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lh,"__esModule",{value:!0}),Lh.escapeUTF8=Lh.escape=Lh.encodeNonAsciiHTML=Lh.encodeHTML=Lh.encodeXML=void 0;var Ih=qh(Rh(wh).default),Bh=Vh(Ih);Lh.encodeXML=Xh(Ih);var jh,Fh,zh=qh(Rh(yh).default),Hh=Vh(zh);function qh(e){return Object.keys(e).sort().reduce((function(t,n){return t[e[n]]="&"+n+";",t}),{})}function Vh(e){for(var t=[],n=[],r=0,i=Object.keys(e);r<i.length;r++){var o=i[r];1===o.length?t.push("\\"+o):n.push(o)}t.sort();for(var a=0;a<t.length-1;a++){for(var s=a;s<t.length-1&&t[s].charCodeAt(1)+1===t[s+1].charCodeAt(1);)s+=1;var l=1+s-a;l<3||t.splice(a,l,t[a]+"-"+t[s])}return n.unshift("["+t.join("")+"]"),new RegExp(n.join("|"),"g")}Lh.encodeHTML=(jh=zh,Fh=Hh,function(e){return e.replace(Fh,(function(e){return jh[e]})).replace(Uh,$h)}),Lh.encodeNonAsciiHTML=Xh(zh);var Uh=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,Wh=null!=String.prototype.codePointAt?function(e){return e.codePointAt(0)}:function(e){return 1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536};function $h(e){return"&#x"+(e.length>1?Wh(e):e.charCodeAt(0)).toString(16).toUpperCase()+";"}var Gh=new RegExp(Bh.source+"|"+Uh.source,"g");function Xh(e){return function(t){return t.replace(Gh,(function(t){return e[t]||$h(t)}))}}Lh.escape=function(e){return e.replace(Gh,$h)},Lh.escapeUTF8=function(e){return e.replace(Bh,$h)},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXMLStrict=e.decodeHTML5Strict=e.decodeHTML4Strict=e.decodeHTML5=e.decodeHTML4=e.decodeHTMLStrict=e.decodeHTML=e.decodeXML=e.encodeHTML5=e.encodeHTML4=e.escapeUTF8=e.escape=e.encodeNonAsciiHTML=e.encodeHTML=e.encodeXML=e.encode=e.decodeStrict=e.decode=void 0;var t=vh,n=Lh;e.decode=function(e,n){return(!n||n<=0?t.decodeXML:t.decodeHTML)(e)},e.decodeStrict=function(e,n){return(!n||n<=0?t.decodeXML:t.decodeHTMLStrict)(e)},e.encode=function(e,t){return(!t||t<=0?n.encodeXML:n.encodeHTML)(e)};var r=Lh;Object.defineProperty(e,"encodeXML",{enumerable:!0,get:function(){return r.encodeXML}}),Object.defineProperty(e,"encodeHTML",{enumerable:!0,get:function(){return r.encodeHTML}}),Object.defineProperty(e,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return r.encodeNonAsciiHTML}}),Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return r.escape}}),Object.defineProperty(e,"escapeUTF8",{enumerable:!0,get:function(){return r.escapeUTF8}}),Object.defineProperty(e,"encodeHTML4",{enumerable:!0,get:function(){return r.encodeHTML}}),Object.defineProperty(e,"encodeHTML5",{enumerable:!0,get:function(){return r.encodeHTML}});var i=vh;Object.defineProperty(e,"decodeXML",{enumerable:!0,get:function(){return i.decodeXML}}),Object.defineProperty(e,"decodeHTML",{enumerable:!0,get:function(){return i.decodeHTML}}),Object.defineProperty(e,"decodeHTMLStrict",{enumerable:!0,get:function(){return i.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML4",{enumerable:!0,get:function(){return i.decodeHTML}}),Object.defineProperty(e,"decodeHTML5",{enumerable:!0,get:function(){return i.decodeHTML}}),Object.defineProperty(e,"decodeHTML4Strict",{enumerable:!0,get:function(){return i.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML5Strict",{enumerable:!0,get:function(){return i.decodeHTMLStrict}}),Object.defineProperty(e,"decodeXMLStrict",{enumerable:!0,get:function(){return i.decodeXML}})}(gh);var Yh="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",Zh=/[\\&]/,Kh="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",Jh=new RegExp("\\\\"+Kh+"|"+Yh,"gi"),Qh=new RegExp('[&<>"]',"g"),ef=function(e){return 92===e.charCodeAt(0)?e.charAt(1):gh.decodeHTML(e)};function tf(e){return Zh.test(e)?e.replace(Jh,ef):e}function nf(e){try{return mh(e)}catch(t){return e}}function rf(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return e}}function of(e){return Qh.test(e)?e.replace(Qh,rf):e}function af(e,t){for(var n=[],r=0;r<t;r++)n.push(e);return n.join("")}function sf(e){return!e||!/[^ \t]+/.test(e)}var lf=function(){function e(e){this.current=e,this.root=e,this.entering=!0}return e.prototype.next=function(){var e=this.current,t=this.entering;if(null===e)return null;var n=cf(e);return t&&n?e.firstChild?(this.current=e.firstChild,this.entering=!0):this.entering=!1:e===this.root?this.current=null:null===e.next?(this.current=e.parent,this.entering=!1):(this.current=e.next,this.entering=!0),{entering:t,node:e}},e.prototype.resumeAt=function(e,t){this.current=e,this.entering=!0===t},e}();function cf(e){switch(e.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}var uf=1,pf={};function df(e){delete pf[e]}var hf=function(){function e(e,t){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,this.id="document"===e?-1:uf++,this.type=e,this.sourcepos=t,pf[this.id]=this}return e.prototype.isContainer=function(){return cf(this)},e.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},e.prototype.replaceWith=function(e){this.insertBefore(e),this.unlink()},e.prototype.insertAfter=function(e){e.unlink(),e.next=this.next,e.next&&(e.next.prev=e),e.prev=this,this.next=e,this.parent&&(e.parent=this.parent,e.next||(e.parent.lastChild=e))},e.prototype.insertBefore=function(e){e.unlink(),e.prev=this.prev,e.prev&&(e.prev.next=e),e.next=this,this.prev=e,e.parent=this.parent,e.prev||(e.parent.firstChild=e)},e.prototype.appendChild=function(e){e.unlink(),e.parent=this,this.lastChild?(this.lastChild.next=e,e.prev=this.lastChild,this.lastChild=e):(this.firstChild=e,this.lastChild=e)},e.prototype.prependChild=function(e){e.unlink(),e.parent=this,this.firstChild?(this.firstChild.prev=e,e.next=this.firstChild,this.firstChild=e):(this.firstChild=e,this.lastChild=e)},e.prototype.walker=function(){return new lf(this)},e}(),ff=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.open=!0,r.lineOffsets=null,r.stringContent=null,r.lastLineBlank=!1,r.lastLineChecked=!1,r.type=t,r}return ch(t,e),t}(hf),mf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listData=null,t}return ch(t,e),t}(ff),gf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.level=0,t.headingType="atx",t}return ch(t,e),t}(ff),vf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isFenced=!1,t.fenceChar=null,t.fenceLength=0,t.fenceOffset=-1,t.info=null,t.infoPadding=0,t}return ch(t,e),t}(ff),yf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.columns=[],t}return ch(t,e),t}(ff),bf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.startIdx=0,t.endIdx=0,t.paddingLeft=0,t.paddingRight=0,t.ignored=!1,t}return ch(t,e),t}(ff),wf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="",t.dest="",t.label="",t}return ch(t,e),t}(ff),xf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.syntaxLength=0,t.offset=-1,t.info="",t}return ch(t,e),t}(ff),kf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.htmlBlockType=-1,t}return ch(t,e),t}(ff),Sf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.destination=null,t.title=null,t.extendedAutolink=!1,t}return ch(t,e),t}(hf),Cf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tickCount=0,t}return ch(t,e),t}(hf),Ef=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.info="",t}return ch(t,e),t}(hf);function Tf(e,t){switch(e){case"heading":return new gf(e,t);case"list":case"item":return new mf(e,t);case"link":case"image":return new Sf(e,t);case"codeBlock":return new vf(e,t);case"htmlBlock":return new kf(e,t);case"table":return new yf(e,t);case"tableCell":return new bf(e,t);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":case"frontMatter":return new ff(e,t);case"code":return new Cf(e,t);case"refDef":return new wf(e,t);case"customBlock":return new xf(e,t);case"customInline":return new Ef(e,t);default:return new hf(e,t)}}function _f(e){return"codeBlock"===e.type}function Af(e){return"list"===e.type}function Of(e){return"refDef"===e.type}function Nf(e){return"customBlock"===e.type}function Mf(e,t){var n=Tf("text",t);return n.literal=e,n}var Pf,Df="[A-Za-z][A-Za-z0-9-]*",Lf="<"+Df+"(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*/?>",Rf="</"+Df+"\\s*[>]",If=new RegExp("^"+("(?:"+Lf+"|"+Rf+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|[<][?].*?[?][>]|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),"i");if(String.fromCodePoint)Pf=function(e){try{return String.fromCodePoint(e)}catch(e){if(e instanceof RangeError)return String.fromCharCode(65533);throw e}};else{var Bf=String.fromCharCode,jf=Math.floor;Pf=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,r,i=[],o=-1,a=e.length;if(!a)return"";for(var s="";++o<a;){var l=Number(e[o]);if(!isFinite(l)||l<0||l>1114111||jf(l)!==l)return String.fromCharCode(65533);l<=65535?i.push(l):(n=55296+((l-=65536)>>10),r=l%1024+56320,i.push(n,r)),(o+1===a||i.length>16384)&&(s+=Bf.apply(void 0,i),i.length=0)}return s}}var Ff=Pf,zf="(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+",Hf="[^<\\s]*[^<?!.,:*_?~\\s]",qf="[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+";function Vf(e){var t=/\)+$/.exec(e);if(t){for(var n=0,r=0,i=e;r<i.length;r++){var o=i[r];"("===o?n<0?n=1:n+=1:")"===o&&(n-=1)}if(n<0){var a=Math.min(-n,t[0].length);return e.substring(0,e.length-a)}}return e}function Uf(e){return e.replace(/&[A-Za-z0-9]+;$/,"")}function Wf(e){return ph(ph([],function(e){for(var t,n=new RegExp("(www|https?://)."+zf+Hf,"g"),r=[];t=n.exec(e);){var i=Uf(Vf(t[0])),o="www"===t[1]?"http://":"";r.push({text:i,range:[t.index,t.index+i.length-1],url:""+o+i})}return r}(e)),function(e){for(var t,n=new RegExp(qf,"g"),r=[];t=n.exec(e);){var i=t[0];/[_-]+$/.test(i)||r.push({text:i,range:[t.index,t.index+i.length-1],url:"mailto:"+i})}return r}(e)).sort((function(e,t){return e.range[0]-t.range[0]}))}function $f(e){return e[e.length-1]}function Gf(e){return e.slice(1,e.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()}function Xf(e,t){Object.keys(e).forEach((function(n){t(n,e[n])}))}function Yf(e){return!Object.keys(e).length}var Zf=126,Kf=39,Jf=34,Qf=36,em="\\\\"+Kh,tm=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),nm=new RegExp('^(?:"('+em+'|[^"\\x00])*"|\'('+em+"|[^'\\x00])*'|\\(("+em+"|[^()\\x00])*\\))"),rm=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,im=new RegExp("^"+Kh),om=new RegExp("^"+Yh,"i"),am=/`+/,sm=/^`+/,lm=/\.\.\./g,cm=/--+/g,um=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,pm=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,dm=/^ *(?:\n *)?/,hm=/^[ \t\n\x0b\x0c\x0d]/,fm=/^\s/,mm=/ *$/,gm=/^ */,vm=/^ *(?:\n|$)/,ym=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,bm=/^[^\n`\[\]\\!<&*_'"~$]+/m,wm=function(){function e(e){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=e}return e.prototype.sourcepos=function(e,t){var n=this.linePosOffset+this.lineOffsets[this.lineIdx],r=this.lineStartNum+this.lineIdx,i=[r,e+n];return"number"==typeof t?[i,[r,t+n]]:i},e.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},e.prototype.match=function(e){var t=e.exec(this.subject.slice(this.pos));return null===t?null:(this.pos+=t.index+t[0].length,t[0])},e.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},e.prototype.spnl=function(){return this.match(dm),!0},e.prototype.parseBackticks=function(e){var t=this.pos+1,n=this.match(sm);if(null===n)return!1;for(var r,i=this.pos;null!==(r=this.match(am));)if(r===n){var o=this.subject.slice(i,this.pos-n.length),a=this.sourcepos(t,this.pos),s=o.split("\n");if(s.length>1){var l=$f(s);this.lineIdx+=s.length-1,this.linePosOffset=-(this.pos-l.length-n.length),a[1]=this.sourcepos(this.pos),o=s.join(" ")}var c=Tf("code",a);return o.length>0&&null!==o.match(/[^ ]/)&&" "==o[0]&&" "==o[o.length-1]?c.literal=o.slice(1,o.length-1):c.literal=o,c.tickCount=n.length,e.appendChild(c),!0}return this.pos=i,e.appendChild(Mf(n,this.sourcepos(t,this.pos-1))),!0},e.prototype.parseBackslash=function(e){var t,n=this.subject;this.pos+=1;var r=this.pos;return 10===this.peek()?(this.pos+=1,t=Tf("linebreak",this.sourcepos(this.pos-1,this.pos)),e.appendChild(t),this.nextLine()):im.test(n.charAt(this.pos))?(e.appendChild(Mf(n.charAt(this.pos),this.sourcepos(r,this.pos))),this.pos+=1):e.appendChild(Mf("\\",this.sourcepos(r,r))),!0},e.prototype.parseAutolink=function(e){var t,n,r,i=this.pos+1;return(t=this.match(um))?(n=t.slice(1,t.length-1),(r=Tf("link",this.sourcepos(i,this.pos))).destination=nf("mailto:"+n),r.title="",r.appendChild(Mf(n,this.sourcepos(i+1,this.pos-1))),e.appendChild(r),!0):!!(t=this.match(pm))&&(n=t.slice(1,t.length-1),(r=Tf("link",this.sourcepos(i,this.pos))).destination=nf(n),r.title="",r.appendChild(Mf(n,this.sourcepos(i+1,this.pos-1))),e.appendChild(r),!0)},e.prototype.parseHtmlTag=function(e){var t=this.pos+1,n=this.match(If);if(null===n)return!1;var r=Tf("htmlInline",this.sourcepos(t,this.pos));return r.literal=n,e.appendChild(r),!0},e.prototype.scanDelims=function(e){var t=0,n=this.pos;if(e===Kf||e===Jf)t++,this.pos++;else for(;this.peek()===e;)t++,this.pos++;if(0===t||t<2&&(e===Zf||e===Qf))return this.pos=n,null;var r,i=0===n?"\n":this.subject.charAt(n-1),o=this.peek();r=-1===o?"\n":Ff(o);var a,s,l=fm.test(r),c=tm.test(r),u=fm.test(i),p=tm.test(i),d=!l&&(!c||u||p),h=!u&&(!p||l||c);return 95===e?(a=d&&(!h||p),s=h&&(!d||c)):e===Kf||e===Jf?(a=d&&!h,s=h):e===Qf?(a=!l,s=!u):(a=d,s=h),this.pos=n,{numdelims:t,canOpen:a,canClose:s}},e.prototype.handleDelim=function(e,t){var n=this.scanDelims(e);if(!n)return!1;var r=n.numdelims,i=this.pos+1;this.pos+=r;var o=Mf(e===Kf?"":e===Jf?"":this.subject.slice(i-1,this.pos),this.sourcepos(i,this.pos));return t.appendChild(o),(n.canOpen||n.canClose)&&(this.options.smart||e!==Kf&&e!==Jf)&&(this.delimiters={cc:e,numdelims:r,origdelims:r,node:o,previous:this.delimiters,next:null,canOpen:n.canOpen,canClose:n.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},e.prototype.removeDelimiter=function(e){null!==e.previous&&(e.previous.next=e.next),null===e.next?this.delimiters=e.previous:e.next.previous=e.previous},e.prototype.removeDelimitersBetween=function(e,t){e.next!==t&&(e.next=t,t.previous=e)},e.prototype.processEmphasis=function(e){var t,n,r,i,o,a,s,l=!1,c=((t={})[95]=[e,e,e],t[42]=[e,e,e],t[39]=[e],t[34]=[e],t[126]=[e],t[36]=[e],t);for(r=this.delimiters;null!==r&&r.previous!==e;)r=r.previous;for(;null!==r;){var u=r.cc,p=95===u||42===u;if(r.canClose){for(n=r.previous,s=!1;null!==n&&n!==e&&n!==c[u][p?r.origdelims%3:0];){if(l=p&&(r.canOpen||n.canClose)&&r.origdelims%3!=0&&(n.origdelims+r.origdelims)%3==0,n.cc===r.cc&&n.canOpen&&!l){s=!0;break}n=n.previous}if(i=r,p||u===Zf||u===Qf)if(s){if(n){var d=r.numdelims>=2&&n.numdelims>=2?2:1,h=p?0:1;o=n.node,a=r.node;var f=p?1===d?"emph":"strong":"strike";u===Qf&&(f="customInline");var m=Tf(f),g=o.sourcepos[1],v=a.sourcepos[0];m.sourcepos=[[g[0],g[1]-d+1],[v[0],v[1]+d-1]],o.sourcepos[1][1]-=d,a.sourcepos[0][1]+=d,o.literal=o.literal.slice(d),a.literal=a.literal.slice(d),n.numdelims-=d,r.numdelims-=d;for(var y=o.next,b=void 0;y&&y!==a;)b=y.next,y.unlink(),m.appendChild(y),y=b;if(u===Qf){var w=m.firstChild,x=w.literal||"",k=x.split(/\s/)[0];m.info=k,x.length<=k.length?w.unlink():(w.sourcepos[0][1]+=k.length,w.literal=x.replace(k+" ",""))}if(o.insertAfter(m),this.removeDelimitersBetween(n,r),n.numdelims<=h&&(0===n.numdelims&&o.unlink(),this.removeDelimiter(n)),r.numdelims<=h){0===r.numdelims&&a.unlink();var S=r.next;this.removeDelimiter(r),r=S}}}else r=r.next;else u===Kf?(r.node.literal="",s&&(n.node.literal=""),r=r.next):u===Jf&&(r.node.literal="",s&&(n.node.literal=""),r=r.next);s||(c[u][p?i.origdelims%3:0]=i.previous,i.canOpen||this.removeDelimiter(i))}else r=r.next}for(;null!==this.delimiters&&this.delimiters!==e;)this.removeDelimiter(this.delimiters)},e.prototype.parseLinkTitle=function(){var e=this.match(nm);return null===e?null:tf(e.substr(1,e.length-2))},e.prototype.parseLinkDestination=function(){var e=this.match(rm);if(null===e){if(60===this.peek())return null;for(var t=this.pos,n=0,r=void 0;-1!==(r=this.peek());)if(92===r&&im.test(this.subject.charAt(this.pos+1)))this.pos+=1,-1!==this.peek()&&(this.pos+=1);else if(40===r)this.pos+=1,n+=1;else if(41===r){if(n<1)break;this.pos+=1,n-=1}else{if(null!==hm.exec(Ff(r)))break;this.pos+=1}return this.pos===t&&41!==r||0!==n?null:nf(tf(e=this.subject.substr(t,this.pos-t)))}return nf(tf(e.substr(1,e.length-2)))},e.prototype.parseLinkLabel=function(){var e=this.match(ym);return null===e||e.length>1001?0:e.length},e.prototype.parseOpenBracket=function(e){var t=this.pos;this.pos+=1;var n=Mf("[",this.sourcepos(this.pos,this.pos));return e.appendChild(n),this.addBracket(n,t,!1),!0},e.prototype.parseBang=function(e){var t=this.pos;if(this.pos+=1,91===this.peek()){this.pos+=1;var n=Mf("![",this.sourcepos(this.pos-1,this.pos));e.appendChild(n),this.addBracket(n,t+1,!0)}else{n=Mf("!",this.sourcepos(this.pos,this.pos));e.appendChild(n)}return!0},e.prototype.parseCloseBracket=function(e){var t=null,n=null,r=!1;this.pos+=1;var i=this.pos,o=this.brackets;if(null===o)return e.appendChild(Mf("]",this.sourcepos(i,i))),!0;if(!o.active)return e.appendChild(Mf("]",this.sourcepos(i,i))),this.removeBracket(),!0;var a=o.image,s=this.pos;40===this.peek()&&(this.pos++,this.spnl()&&null!==(t=this.parseLinkDestination())&&this.spnl()&&(hm.test(this.subject.charAt(this.pos-1))&&(n=this.parseLinkTitle()),1)&&this.spnl()&&41===this.peek()?(this.pos+=1,r=!0):this.pos=s);var l="";if(!r){var c=this.pos,u=this.parseLinkLabel();if(u>2?l=this.subject.slice(c,c+u):o.bracketAfter||(l=this.subject.slice(o.index,i)),0===u&&(this.pos=s),l){l=Gf(l);var p=this.refMap[l];p&&(t=p.destination,n=p.title,r=!0)}}if(r){var d=Tf(a?"image":"link");d.destination=t,d.title=n||"",d.sourcepos=[o.startpos,this.sourcepos(this.pos)];for(var h=o.node.next,f=void 0;h;)f=h.next,h.unlink(),d.appendChild(h),h=f;if(e.appendChild(d),this.processEmphasis(o.previousDelimiter),this.removeBracket(),o.node.unlink(),!a)for(o=this.brackets;null!==o;)o.image||(o.active=!1),o=o.previous;return this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:l}),!0}return this.removeBracket(),this.pos=i,e.appendChild(Mf("]",this.sourcepos(i,i))),this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:l}),!0},e.prototype.addBracket=function(e,t,n){null!==this.brackets&&(this.brackets.bracketAfter=!0),this.brackets={node:e,startpos:this.sourcepos(t+(n?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:t,image:n,active:!0}},e.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},e.prototype.parseEntity=function(e){var t,n=this.pos+1;return!!(t=this.match(om))&&(e.appendChild(Mf(gh.decodeHTML(t),this.sourcepos(n,this.pos))),!0)},e.prototype.parseString=function(e){var t,n=this.pos+1;if(t=this.match(bm)){if(this.options.smart){var r=t.replace(lm,"").replace(cm,(function(e){var t=0,n=0;return e.length%3==0?n=e.length/3:e.length%2==0?t=e.length/2:e.length%3==2?(t=1,n=(e.length-2)/3):(t=2,n=(e.length-4)/3),af("",n)+af("",t)}));e.appendChild(Mf(r,this.sourcepos(n,this.pos)))}else{var i=Mf(t,this.sourcepos(n,this.pos));e.appendChild(i)}return!0}return!1},e.prototype.parseNewline=function(e){this.pos+=1;var t=e.lastChild;if(t&&"text"===t.type&&" "===t.literal[t.literal.length-1]){var n=" "===t.literal[t.literal.length-2],r=t.literal.length;t.literal=t.literal.replace(mm,"");var i=r-t.literal.length;t.sourcepos[1][1]-=i,e.appendChild(Tf(n?"linebreak":"softbreak",this.sourcepos(this.pos-i,this.pos)))}else e.appendChild(Tf("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match(gm),!0},e.prototype.parseReference=function(e,t){if(!this.options.referenceDefinition)return 0;this.subject=e.stringContent,this.pos=0;var n=null,r=this.pos,i=this.parseLinkLabel();if(0===i)return 0;var o=this.subject.substr(0,i);if(58!==this.peek())return this.pos=r,0;this.pos++,this.spnl();var a=this.parseLinkDestination();if(null===a)return this.pos=r,0;var s=this.pos;this.spnl(),this.pos!==s&&(n=this.parseLinkTitle()),null===n&&(n="",this.pos=s);var l=!0;if(null===this.match(vm)&&(""===n?l=!1:(n="",this.pos=s,l=null!==this.match(vm))),!l)return this.pos=r,0;var c=Gf(o);if(""===c)return this.pos=r,0;var u=this.getReferenceDefSourcepos(e);e.sourcepos[0][0]=u[1][0]+1;var p=Tf("refDef",u);return p.title=n,p.dest=a,p.label=c,e.insertBefore(p),t[c]?this.refDefCandidateMap[p.id]=p:t[c]=ug(p),this.pos-r},e.prototype.mergeTextNodes=function(e){for(var t,n=[];t=e.next();){var r=t.entering,i=t.node;if(r&&"text"===i.type)n.push(i);else if(1===n.length)n=[];else if(n.length>1){var o=n[0],a=n[n.length-1];o.sourcepos&&a.sourcepos&&(o.sourcepos[1]=a.sourcepos[1]),o.next=a.next,o.next&&(o.next.prev=o);for(var s=1;s<n.length;s+=1)o.literal+=n[s].literal,n[s].unlink();n=[]}}},e.prototype.getReferenceDefSourcepos=function(e){for(var t=e.stringContent.split(/\n|\r\n/),n=!1,r=0,i={line:0,ch:0},o=0;o<t.length;o+=1){var a=t[o];if(hm.test(a))break;if(/\:/.test(a)&&0===r){if(n)break;var s=a.indexOf(":")===a.length-1?o+1:o;i={line:s,ch:t[s].length},n=!0}var l=a.match(/'|"/g);if(l&&(r+=l.length),2===r){i={line:o,ch:a.length};break}}return[[e.sourcepos[0][0],e.sourcepos[0][1]],[e.sourcepos[0][0]+i.line,i.ch]]},e.prototype.parseInline=function(e){var t,n=!1,r=this.peek();if(-1===r)return!1;switch(r){case 10:n=this.parseNewline(e);break;case 92:n=this.parseBackslash(e);break;case 96:n=this.parseBackticks(e);break;case 42:case 95:case Zf:case Qf:n=this.handleDelim(r,e);break;case Kf:case Jf:n=!!(null===(t=this.options)||void 0===t?void 0:t.smart)&&this.handleDelim(r,e);break;case 91:n=this.parseOpenBracket(e);break;case 33:n=this.parseBang(e);break;case 93:n=this.parseCloseBracket(e);break;case 60:n=this.parseAutolink(e)||this.parseHtmlTag(e);break;case 38:e.disabledEntityParse||(n=this.parseEntity(e));break;default:n=this.parseString(e)}return n||(this.pos+=1,e.appendChild(Mf(Ff(r),this.sourcepos(this.pos,this.pos+1)))),!0},e.prototype.parse=function(e){for(this.subject=e.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=e.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=e.sourcepos[0][0],function(e){return"heading"===e.type}(e)&&(this.lineOffsets[0]+=e.level+1);this.parseInline(e););e.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(e.walker());var t=this.options,n=t.extendedAutolinks,r=t.customParser;if(n&&function(e,t){var n;"boolean"==typeof t&&(t=Wf);for(var r=function(){var e=n.entering,r=n.node;if(e&&"text"===r.type&&"link"!==r.parent.type){var i=r.literal,o=t(i);if(!o||!o.length)return"continue";for(var a=0,s=r.sourcepos[0],l=s[0],c=s[1],u=function(e,t){return[[l,c+e],[l,c+t]]},p=[],d=0,h=o;d<h.length;d++){var f=h[d],m=f.range,g=f.url,v=f.text;m[0]>a&&p.push(Mf(i.substring(a,m[0]),u(a,m[0]-1)));var y=Tf("link",u.apply(void 0,m));y.appendChild(Mf(v,u.apply(void 0,m))),y.destination=g,y.extendedAutolink=!0,p.push(y),a=m[1]+1}a<i.length&&p.push(Mf(i.substring(a),u(a,i.length-1)));for(var b=0,w=p;b<w.length;b++){var x=w[b];r.insertBefore(x)}r.unlink()}};n=e.next();)r()}(e.walker(),n),r&&e.firstChild)for(var i,o=e.firstChild.walker();i=o.next();){var a=i.node,s=i.entering;r[a.type]&&r[a.type](a,{entering:s,options:this.options})}},e}(),xm=/^\[([ \txX])\][ \t]+/;var km=9,Sm=32,Cm=/[^ \t\f\v\r\n]/,Em=/^(?:`{3,}|~{3,})(?= *$)/;function Tm(e){for(var t=e;t;){if(t.lastLineBlank)return!0;var n=t.type;if(t.lastLineChecked||"list"!==n&&"item"!==n){t.lastLineChecked=!0;break}t.lastLineChecked=!0,t=t.lastChild}return!1}function _m(e,t){return t<e.length?e.charCodeAt(t):-1}function Am(e){return!Cm.test(e)}function Om(e){return e===Sm||e===km}var Nm=/^\$\$$/,Mm={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0},Pm={document:{continue:function(){return 0},finalize:function(){},canContain:function(e){return"item"!==e},acceptsLines:!1},list:{continue:function(){return 0},finalize:function(e,t){for(var n=t.firstChild;n;){if(Tm(n)&&n.next){t.listData.tight=!1;break}for(var r=n.firstChild;r;){if(Tm(r)&&(n.next||r.next)){t.listData.tight=!1;break}r=r.next}n=n.next}},canContain:function(e){return"item"===e},acceptsLines:!1},blockQuote:{continue:function(e){var t=e.currentLine;return e.indented||62!==_m(t,e.nextNonspace)?1:(e.advanceNextNonspace(),e.advanceOffset(1,!1),Om(_m(t,e.offset))&&e.advanceOffset(1,!0),0)},finalize:function(){},canContain:function(e){return"item"!==e},acceptsLines:!1},item:{continue:function(e,t){if(e.blank){if(null===t.firstChild)return 1;e.advanceNextNonspace()}else{if(!(e.indent>=t.listData.markerOffset+t.listData.padding))return 1;e.advanceOffset(t.listData.markerOffset+t.listData.padding,!0)}return 0},finalize:function(e,t){if(t.firstChild&&"paragraph"===t.firstChild.type){var n=t.firstChild,r=n.stringContent.match(xm);if(r){var i=r[0].length;n.stringContent=n.stringContent.substring(i-1),n.sourcepos[0][1]+=i,n.lineOffsets[0]+=i,t.listData.task=!0,t.listData.checked=/[xX]/.test(r[1])}}},canContain:function(e){return"item"!==e},acceptsLines:!1},heading:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},thematicBreak:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},codeBlock:{continue:function(e,t){var n=e.currentLine,r=e.indent;if(t.isFenced){var i=r<=3&&n.charAt(e.nextNonspace)===t.fenceChar&&n.slice(e.nextNonspace).match(Em);if(i&&i[0].length>=t.fenceLength)return e.lastLineLength=e.offset+r+i[0].length,e.finalize(t,e.lineNumber),2;for(var o=t.fenceOffset;o>0&&Om(_m(n,e.offset));)e.advanceOffset(1,!0),o--}else if(r>=4)e.advanceOffset(4,!0);else{if(!e.blank)return 1;e.advanceNextNonspace()}return 0},finalize:function(e,t){var n;if(null!==t.stringContent){if(t.isFenced){var r=t.stringContent,i=r.indexOf("\n"),o=r.slice(0,i),a=r.slice(i+1),s=o.match(/^(\s*)(.*)/);t.infoPadding=s[1].length,t.info=tf(s[2].trim()),t.literal=a}else t.literal=null===(n=t.stringContent)||void 0===n?void 0:n.replace(/(\n *)+$/,"\n");t.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},htmlBlock:{continue:function(e,t){return!e.blank||6!==t.htmlBlockType&&7!==t.htmlBlockType?0:1},finalize:function(e,t){var n;t.literal=(null===(n=t.stringContent)||void 0===n?void 0:n.replace(/(\n *)+$/,""))||null,t.stringContent=null},canContain:function(){return!1},acceptsLines:!0},paragraph:{continue:function(e){return e.blank?1:0},finalize:function(e,t){if(null!==t.stringContent){for(var n,r=!1;91===_m(t.stringContent,0)&&(n=e.inlineParser.parseReference(t,e.refMap));)t.stringContent=t.stringContent.slice(n),r=!0;r&&Am(t.stringContent)&&t.unlink()}},canContain:function(){return!1},acceptsLines:!0},table:{continue:function(){return 0},finalize:function(){},canContain:function(e){return"tableHead"===e||"tableBody"===e},acceptsLines:!1},tableBody:{continue:function(){return 0},finalize:function(){},canContain:function(e){return"tableRow"===e},acceptsLines:!1},tableHead:{continue:function(){return 1},finalize:function(){},canContain:function(e){return"tableRow"===e||"tableDelimRow"===e},acceptsLines:!1},tableRow:{continue:function(){return 1},finalize:function(){},canContain:function(e){return"tableCell"===e},acceptsLines:!1},tableCell:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},tableDelimRow:{continue:function(){return 1},finalize:function(){},canContain:function(e){return"tableDelimCell"===e},acceptsLines:!1},tableDelimCell:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},refDef:Mm,customBlock:{continue:function(e,t){var n=e.currentLine,r=n.match(Nm);if(r)return e.lastLineLength=r[0].length,e.finalize(t,e.lineNumber),2;for(var i=t.offset;i>0&&Om(_m(n,e.offset));)e.advanceOffset(1,!0),i--;return 0},finalize:function(e,t){if(null!==t.stringContent){var n=t.stringContent,r=n.indexOf("\n"),i=n.slice(0,r),o=n.slice(r+1),a=i.match(/^(\s*)(.*)/);t.info=tf(a[2].trim()),t.literal=o,t.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},frontMatter:Mm};function Dm(e){for(var t=0,n=0,r=[],i=0;i<e.length;i+=1)if("|"===e[i]&&"\\"!==e[i-1]){var o=e.substring(t,i);0===t&&sf(o)?n=i+1:r.push(o),t=i+1}t<e.length&&(sf(o=e.substring(t,e.length))||r.push(o));return[n,r]}function Lm(e,t,n,r){for(var i=[],o=0,a=t;o<a.length;o++){var s=a[o],l=s.match(/^[ \t]+/),c=l?l[0].length:0,u=void 0,p=void 0;if(c===s.length)c=0,u=0,p="";else{var d=s.match(/[ \t]+$/);u=d?d[0].length:0,p=s.slice(c,s.length-u)}var h=r+c,f=Tf(e,[[n,r],[n,r+s.length-1]]);f.stringContent=p.replace(/\\\|/g,"|"),f.startIdx=i.length,f.endIdx=i.length,f.lineOffsets=[h-1],f.paddingLeft=c,f.paddingRight=u,i.push(f),r+=s.length+1}return i}function Rm(e){var t=null,n=e.stringContent,r=n[0];return":"===n[n.length-1]?t=":"===r?"center":"right":":"===r&&(t="left"),{align:t}}var Im=/^(\$\$)(\s*[a-zA-Z])+/,Bm=/^(\$\$)(\s*[a-zA-Z])+.*(\$\$)/,jm=/^`{3,}(?!.*`)|^~{3,}/,Fm=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+Lf+"|"+Rf+")\\s*$","i")],zm=/^(?:=+|-+)[ \t]*$/,Hm=/^#{1,6}(?:[ \t]+|$)/,qm=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,Vm=/^[*+-]/,Um=/^(\d{1,9})([.)])/;function Wm(e,t){return e.options.disallowDeepHeading&&("blockQuote"===t.type||"item"===t.type)}var $m=[function(e){return e.indented||62!==_m(e.currentLine,e.nextNonspace)?0:(e.advanceNextNonspace(),e.advanceOffset(1,!1),Om(_m(e.currentLine,e.offset))&&e.advanceOffset(1,!0),e.closeUnmatchedBlocks(),e.addChild("blockQuote",e.nextNonspace),1)},function(e,t){var n;if(!e.indented&&!Wm(e,t)&&(n=e.currentLine.slice(e.nextNonspace).match(Hm))){e.advanceNextNonspace(),e.advanceOffset(n[0].length,!1),e.closeUnmatchedBlocks();var r=e.addChild("heading",e.nextNonspace);return r.level=n[0].trim().length,r.headingType="atx",r.stringContent=e.currentLine.slice(e.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),e.advanceOffset(e.currentLine.length-e.offset),2}return 0},function(e){var t;if(!e.indented&&(t=e.currentLine.slice(e.nextNonspace).match(jm))){var n=t[0].length;e.closeUnmatchedBlocks();var r=e.addChild("codeBlock",e.nextNonspace);return r.isFenced=!0,r.fenceLength=n,r.fenceChar=t[0][0],r.fenceOffset=e.indent,e.advanceNextNonspace(),e.advanceOffset(n,!1),2}return 0},function(e,t){if(!e.indented&&60===_m(e.currentLine,e.nextNonspace)){var n=e.currentLine.slice(e.nextNonspace),r=e.options.disallowedHtmlBlockTags,i=void 0;for(i=1;i<=7;i++){var o=n.match(Fm[i]);if(o){if(7===i){if("paragraph"===t.type)return 0;if(r.length>0)if(new RegExp("</?(?:"+r.join("|")+")","i").test(o[0]))return 0}return e.closeUnmatchedBlocks(),e.addChild("htmlBlock",e.offset).htmlBlockType=i,2}}}return 0},function(e,t){var n;if(null!==t.stringContent&&!e.indented&&"paragraph"===t.type&&!Wm(e,t.parent)&&(n=e.currentLine.slice(e.nextNonspace).match(zm))){e.closeUnmatchedBlocks();for(var r=void 0;91===_m(t.stringContent,0)&&(r=e.inlineParser.parseReference(t,e.refMap));)t.stringContent=t.stringContent.slice(r);if(t.stringContent.length>0){var i=Tf("heading",t.sourcepos);return i.level="="===n[0][0]?1:2,i.headingType="setext",i.stringContent=t.stringContent,t.insertAfter(i),t.unlink(),e.tip=i,e.advanceOffset(e.currentLine.length-e.offset,!1),2}return 0}return 0},function(e){return!e.indented&&qm.test(e.currentLine.slice(e.nextNonspace))?(e.closeUnmatchedBlocks(),e.addChild("thematicBreak",e.nextNonspace),e.advanceOffset(e.currentLine.length-e.offset,!1),2):0},function(e,t){var n,r,i,o=t;return e.indented&&"list"!==t.type||!(n=function(e,t){var n,r,i=e.currentLine.slice(e.nextNonspace),o={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:e.indent,task:!1,checked:!1};if(e.indent>=4)return null;if(n=i.match(Vm))o.type="bullet",o.bulletChar=n[0][0];else{if(!(n=i.match(Um))||"paragraph"===t.type&&"1"!==n[1])return null;o.type="ordered",o.start=parseInt(n[1],10),o.delimiter=n[2]}if(-1!==(r=_m(e.currentLine,e.nextNonspace+n[0].length))&&r!==km&&r!==Sm)return null;if("paragraph"===t.type&&!e.currentLine.slice(e.nextNonspace+n[0].length).match(Cm))return null;e.advanceNextNonspace(),e.advanceOffset(n[0].length,!0);var a=e.column,s=e.offset;do{e.advanceOffset(1,!0),r=_m(e.currentLine,e.offset)}while(e.column-a<5&&Om(r));var l=-1===_m(e.currentLine,e.offset),c=e.column-a;return c>=5||c<1||l?(o.padding=n[0].length+1,e.column=a,e.offset=s,Om(_m(e.currentLine,e.offset))&&e.advanceOffset(1,!0)):o.padding=n[0].length+c,o}(e,o))?0:(e.closeUnmatchedBlocks(),"list"===e.tip.type&&(r=o.listData,i=n,r.type===i.type&&r.delimiter===i.delimiter&&r.bulletChar===i.bulletChar)||((o=e.addChild("list",e.nextNonspace)).listData=n),(o=e.addChild("item",e.nextNonspace)).listData=n,1)},function(e){return e.indented&&"paragraph"!==e.tip.type&&!e.blank?(e.advanceOffset(4,!0),e.closeUnmatchedBlocks(),e.addChild("codeBlock",e.offset),2):0},function(e,t){var n=t.stringContent;if("paragraph"===t.type&&!e.indented&&!e.blank){var r=n.length-1,i=n.lastIndexOf("\n",r-1)+1,o=n.slice(i,r),a=e.currentLine.slice(e.nextNonspace),s=Dm(o),l=s[0],c=s[1],u=Dm(a),p=u[0],d=u[1],h=/^[ \t]*:?-+:?[ \t]*$/;if(!c.length||!d.length||d.some((function(e){return!h.test(e)}))||1===d.length&&0!==a.indexOf("|"))return 0;var f=t.lineOffsets,m=e.lineNumber-1,g=$f(f)+1,v=Tf("table",[[m,g],[e.lineNumber,e.offset]]);if(v.columns=d.map((function(){return{align:null}})),t.insertAfter(v),1===f.length)t.unlink();else{t.stringContent=n.slice(0,i);var y=i-(n.lastIndexOf("\n",i-2)+1)-1;e.lastLineLength=f[f.length-2]+y,e.finalize(t,m-1)}e.advanceOffset(e.currentLine.length-e.offset,!1);var b=Tf("tableHead",[[m,g],[e.lineNumber,e.offset]]);v.appendChild(b);var w=Tf("tableRow",[[m,g],[m,g+o.length-1]]),x=Tf("tableDelimRow",[[e.lineNumber,e.nextNonspace+1],[e.lineNumber,e.offset]]);b.appendChild(w),b.appendChild(x),Lm("tableCell",c,m,g+l).forEach((function(e){w.appendChild(e)}));var k=Lm("tableDelimCell",d,e.lineNumber,e.nextNonspace+1+p);return k.forEach((function(e){x.appendChild(e)})),v.columns=k.map(Rm),e.tip=v,2}return 0},function(e,t){if("table"!==t.type&&"tableBody"!==t.type||!e.blank&&-1===e.currentLine.indexOf("|"))return 0;if(e.advanceOffset(e.currentLine.length-e.offset,!1),e.blank){var n=t;return"tableBody"===t.type&&(n=t.parent,e.finalize(t,e.lineNumber-1)),e.finalize(n,e.lineNumber-1),0}var r=t;"table"===t.type&&((r=e.addChild("tableBody",e.nextNonspace)).stringContent=null);var i=Tf("tableRow",[[e.lineNumber,e.nextNonspace+1],[e.lineNumber,e.currentLine.length]]);r.appendChild(i);var o=r.parent,a=Dm(e.currentLine.slice(e.nextNonspace)),s=a[0];return Lm("tableCell",a[1],e.lineNumber,e.nextNonspace+1+s).forEach((function(e,t){t>=o.columns.length&&(e.ignored=!0),i.appendChild(e)})),2},function(e){var t;if(!e.indented&&!Bm.test(e.currentLine)&&(t=e.currentLine.match(Im))){var n=t[1].length;e.closeUnmatchedBlocks();var r=e.addChild("customBlock",e.nextNonspace);return r.syntaxLength=n,r.offset=e.indent,e.advanceNextNonspace(),e.advanceOffset(n,!1),2}return 0}],Gm=/^(-{3}|\+{3}|;{3})$/,Xm=function(e,t){var n=e.currentLine,r=e.lineNumber,i=e.indented;return 1===r&&!i&&"document"===t.type&&Gm.test(n)?(e.closeUnmatchedBlocks(),e.addChild("frontMatter",e.nextNonspace).stringContent=n,e.advanceNextNonspace(),e.advanceOffset(n.length,!1),2):0},Ym={continue:function(e,t){var n=e.currentLine,r=n.match(Gm);return"frontMatter"===t.type&&r?(t.stringContent+=n,e.lastLineLength=r[0].length,e.finalize(t,e.lineNumber),2):0},finalize:function(e,t){null!==t.stringContent&&(t.literal=t.stringContent,t.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},Zm=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],Km=/^[#`~*+_=<>0-9-;$]/,Jm=/\r\n|\n|\r/;function Qm(){return Tf("document",[[1,1],[0,0]])}var eg={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null,frontMatter:!1},tg=function(){function e(e){this.options=uh(uh({},eg),e),this.doc=Qm(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.lines=[],this.options.frontMatter&&(Pm.frontMatter=Ym,$m.unshift(Xm)),this.inlineParser=new wm(this.options)}return e.prototype.advanceOffset=function(e,t){void 0===t&&(t=!1);for(var n,r,i,o=this.currentLine;e>0&&(i=o[this.offset]);)"\t"===i?(n=4-this.column%4,t?(this.partiallyConsumedTab=n>e,r=n>e?e:n,this.column+=r,this.offset+=this.partiallyConsumedTab?0:1,e-=r):(this.partiallyConsumedTab=!1,this.column+=n,this.offset+=1,e-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,e-=1)},e.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},e.prototype.findNextNonspace=function(){for(var e,t=this.currentLine,n=this.offset,r=this.column;""!==(e=t.charAt(n));)if(" "===e)n++,r++;else{if("\t"!==e)break;n++,r+=4-r%4}this.blank="\n"===e||"\r"===e||""===e,this.nextNonspace=n,this.nextNonspaceColumn=r,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=4},e.prototype.addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var e=4-this.column%4;this.tip.stringContent+=af(" ",e)}this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+"\n"},e.prototype.addChild=function(e,t){for(;!Pm[this.tip.type].canContain(e);)this.finalize(this.tip,this.lineNumber-1);var n=t+1,r=Tf(e,[[this.lineNumber,n],[0,0]]);return r.stringContent="",this.tip.appendChild(r),this.tip=r,r},e.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var e=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=e}this.allClosed=!0}},e.prototype.finalize=function(e,t){var n=e.parent;e.open=!1,e.sourcepos[1]=[t,this.lastLineLength],Pm[e.type].finalize(this,e),this.tip=n},e.prototype.processInlines=function(e){var t,n=this.options.customParser,r=e.walker();for(this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;t=r.next();){var i=t.node,o=t.entering,a=i.type;n&&n[a]&&n[a](i,{entering:o,options:this.options}),o||"paragraph"!==a&&"heading"!==a&&("tableCell"!==a||i.ignored)||this.inlineParser.parse(i)}},e.prototype.incorporateLine=function(e){var t=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,-1!==e.indexOf("\0")&&(e=e.replace(/\0/g,"")),this.currentLine=e;for(var n,r=!0;(n=t.lastChild)&&n.open;){switch(t=n,this.findNextNonspace(),Pm[t.type].continue(this,t)){case 0:break;case 1:r=!1;break;case 2:return void(this.lastLineLength=e.length);default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!r){t=t.parent;break}}this.allClosed=t===this.oldtip,this.lastMatchedContainer=t;for(var i="paragraph"!==t.type&&Pm[t.type].acceptsLines,o=$m.length;!i;){if(this.findNextNonspace(),"table"!==t.type&&"tableBody"!==t.type&&"paragraph"!==t.type&&!this.indented&&!Km.test(e.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var a=0;a<o;){var s=$m[a](this,t);if(1===s){t=this.tip;break}if(2===s){t=this.tip,i=!0;break}a++}if(a===o){this.advanceNextNonspace();break}}if(this.allClosed||this.blank||"paragraph"!==this.tip.type){this.closeUnmatchedBlocks(),this.blank&&t.lastChild&&(t.lastChild.lastLineBlank=!0);for(var l=t.type,c=this.blank&&!("blockQuote"===l||_f(t)&&t.isFenced||"item"===l&&!t.firstChild&&t.sourcepos[0][0]===this.lineNumber),u=t;u;)u.lastLineBlank=c,u=u.parent;Pm[l].acceptsLines?(this.addLine(),"htmlBlock"===t.type&&t.htmlBlockType>=1&&t.htmlBlockType<=5&&Zm[t.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=e.length,this.finalize(t,this.lineNumber))):this.offset<e.length&&!this.blank&&(t=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}else this.addLine();this.lastLineLength=e.length},e.prototype.parse=function(e,t){this.doc=Qm(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var n=e.split(Jm),r=n.length;this.lines=t||n,this.options.referenceDefinition&&this.clearRefMaps(),10===e.charCodeAt(e.length-1)&&(r-=1);for(var i=0;i<r;i++)this.incorporateLine(n[i]);for(;this.tip;)this.finalize(this.tip,r);return this.processInlines(this.doc),this.doc},e.prototype.partialParseStart=function(e,t){this.doc=Qm(),this.tip=this.doc,this.lineNumber=e-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var n=t.length,r=0;r<n;r++)this.incorporateLine(t[r]);return this.doc},e.prototype.partialParseExtends=function(e){for(var t=0;t<e.length;t++)this.incorporateLine(e[t])},e.prototype.partialParseFinish=function(){for(;this.tip;)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},e.prototype.setRefMaps=function(e,t,n){this.refMap=e,this.refLinkCandidateMap=t,this.refDefCandidateMap=n},e.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach((function(e){!function(e){Object.keys(e).forEach((function(t){delete e[t]}))}(e)}))},e}();function ng(e,t){return e[0]<t[0]?1:e[0]>t[0]?-1:e[1]<t[1]?1:e[1]>t[1]?-1:0}function rg(e,t){var n=e[0];return 1===ng(e[1],t)?1:-1===ng(n,t)?-1:0}function ig(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];e.insertBefore(i)}}function og(e,t){var n=e[0];return e[1][0]<t?1:n[0]>t?-1:0}function ag(e,t){for(var n=e.firstChild;n;){var r=og(n.sourcepos,t);if(0===r)return n;if(-1===r)return n.prev||n;n=n.next}return e.lastChild}function sg(e){return function(e){return pf[e]}(e)||null}function lg(e,t,n){if(void 0===n&&(n=null),t)for(var r=t.walker();t&&t!==n;){e(t);var i=r.next();if(!i)break;t=i.node}}var cg=/\r\n|\n|\r/;function ug(e){return{id:e.id,title:e.title,sourcepos:e.sourcepos,unlinked:!1,destination:e.dest}}var pg=function(){function e(e,t){this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!(null==t?void 0:t.referenceDefinition),this.parser=new tg(t),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},e=e||"",this.lineTexts=e.split(cg),this.root=this.parser.parse(e,this.lineTexts)}return e.prototype.updateLineTexts=function(e,t,n){var r,i=e[0],o=e[1],a=t[0],s=t[1],l=n.split(cg),c=l.length,u=this.lineTexts[i-1],p=this.lineTexts[a-1];l[0]=u.slice(0,o-1)+l[0],l[c-1]=l[c-1]+p.slice(s-1);var d=a-i+1;return(r=this.lineTexts).splice.apply(r,ph([i-1,d],l)),c-d},e.prototype.updateRootNodeState=function(){if(1===this.lineTexts.length&&""===this.lineTexts[0])return this.root.lastLineBlank=!0,void(this.root.sourcepos=[[1,1],[1,0]]);this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);for(var e=this.lineTexts,t=e.length-1;""===e[t];)t-=1;e.length-2>t&&(t+=1),this.root.sourcepos[1]=[t+1,e[t].length]},e.prototype.replaceRangeNodes=function(e,t,n){e?(ig(e,n),function(e,t){if(e.parent===t.parent&&e!==t){for(var n=e.next;n&&n!==t;){for(var r=n.next,i=0,o=["parent","prev","next"];i<o.length;i++){var a=o[i];n[a]&&(df(n[a].id),n[a]=null)}n=r}e.next=t.next,t.next?t.next.prev=e:e.parent.lastChild=e}}(e,t),[e.id,t.id].forEach((function(e){return df(e)})),e.unlink()):t?(ig(t,n),df(t.id),t.unlink()):function(e,t){for(var n=t.length-1;n>=0;n-=1)e.prependChild(t[n])}(this.root,n)},e.prototype.getNodeRange=function(e,t){var n=ag(this.root,e[0]),r=ag(this.root,t[0]);return r&&r.next&&t[0]+1===r.next.sourcepos[0][0]&&(r=r.next),[n,r]},e.prototype.trigger=function(e,t){this.eventHandlerMap[e].forEach((function(e){e(t)}))},e.prototype.extendEndLine=function(e){for(;""===this.lineTexts[e];)e+=1;return e},e.prototype.parseRange=function(e,t,n,r){var i;e&&e.prev&&(Af(e.prev)&&function(e){var t=e.match(/^[ \t]+/);if(t&&(t[0].length>=2||/\t/.test(t[0])))return!0;var n=t?e.slice(t.length):e;return Vm.test(n)||Um.test(n)}(this.lineTexts[n-1])||"table"===e.prev.type&&(!Am(i=this.lineTexts[n-1])&&-1!==i.indexOf("|")))&&(n=(e=e.prev).sourcepos[0][0]);for(var o=this.lineTexts.slice(n-1,r),a=this.parser.partialParseStart(n,o),s=t?t.next:this.root.firstChild,l=a.lastChild,c=l&&_f(l)&&l.open,u=l&&Nf(l)&&l.open,p=l&&Af(l);(c||u)&&s||p&&s&&("list"===s.type||s.sourcepos[0][1]>=2);){var d=this.extendEndLine(s.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(r,d)),e||(e=t),t=s,r=d,s=s.next}return this.parser.partialParseFinish(),{newNodes:function(e){for(var t=[],n=e.firstChild;n;)t.push(n),n=n.next;return t}(a),extStartNode:e,extEndNode:t}},e.prototype.getRemovedNodeRange=function(e,t){return!e||e&&Of(e)||t&&Of(t)?null:{id:[e.id,t.id],line:[e.sourcepos[0][0]-1,t.sourcepos[1][0]-1]}},e.prototype.markDeletedRefMap=function(e,t){var n=this;if(!Yf(this.refMap)){var r=function(e){if(Of(e)){var t=n.refMap[e.label];t&&e.id===t.id&&(t.unlinked=!0)}};e&&lg(r,e.parent,t),t&&lg(r,t)}},e.prototype.replaceWithNewRefDefState=function(e){var t=this;if(!Yf(this.refMap)){var n=function(e){if(Of(e)){var n=e.label,r=t.refMap[n];r&&!r.unlinked||(t.refMap[n]=ug(e))}};e.forEach((function(e){lg(n,e)}))}},e.prototype.replaceWithRefDefCandidate=function(){var e=this;Yf(this.refDefCandidateMap)||Xf(this.refDefCandidateMap,(function(t,n){var r=n.label,i=n.sourcepos,o=e.refMap[r];(!o||o.unlinked||o.sourcepos[0][0]>i[0][0])&&(e.refMap[r]=ug(n))}))},e.prototype.getRangeWithRefDef=function(e,t,n,r,i){if(this.referenceDefinition&&!Yf(this.refMap)){var o=ag(this.root,e-1),a=ag(this.root,t+1);o&&Of(o)&&o!==n&&o!==r&&(e=(n=o).sourcepos[0][0]),a&&Of(a)&&a!==n&&a!==r&&(r=a,t=this.extendEndLine(r.sourcepos[1][0]+i))}return[n,r,e,t]},e.prototype.parse=function(e,t,n){void 0===n&&(n=0);var r=this.getNodeRange(e,t),i=r[0],o=r[1],a=i?Math.min(i.sourcepos[0][0],e[0]):e[0],s=this.extendEndLine((o?Math.max(o.sourcepos[1][0],t[0]):t[0])+n),l=this.parseRange.apply(this,this.getRangeWithRefDef(a,s,i,o,n)),c=l.newNodes,u=l.extStartNode,p=l.extEndNode,d=this.getRemovedNodeRange(u,p),h=p?p.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(u,p),this.replaceRangeNodes(u,p,c),this.replaceWithNewRefDefState(c)):this.replaceRangeNodes(u,p,c),{nodes:c,removedNodeRange:d,nextNode:h}},e.prototype.parseRefLink=function(){var e=this,t=[];return Yf(this.refMap)||Xf(this.refMap,(function(n,r){r.unlinked&&delete e.refMap[n],Xf(e.refLinkCandidateMap,(function(r,i){var o=i.node;i.refLabel===n&&t.push(e.parse(o.sourcepos[0],o.sourcepos[1]))}))})),t},e.prototype.removeUnlinkedCandidate=function(){Yf(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach((function(e){Xf(e,(function(t){(function(e){var t=sg(e);if(!t)return!0;for(;t&&"document"!==t.type;){if(!t.parent&&!t.prev&&!t.next)return!0;t=t.parent}return!1})(t)&&delete e[t]}))}))},e.prototype.editMarkdown=function(e,t,n){var r=this.updateLineTexts(e,t,n),i=this.parse(e,t,r),o=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=uh({},e);return t.forEach((function(e){delete r[e]})),r}(i,"nextNode");!function(e,t){if(e&&e.parent&&0!==t){var n,r=e.parent.walker();for(r.resumeAt(e,!0);n=r.next();){var i=n.node;n.entering&&(i.sourcepos[0][0]+=t,i.sourcepos[1][0]+=t)}}}(i.nextNode,r),this.updateRootNodeState();var a=[o];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),a=a.concat(this.parseRefLink())),this.trigger("change",a),a},e.prototype.getLineTexts=function(){return this.lineTexts},e.prototype.getRootNode=function(){return this.root},e.prototype.findNodeAtPosition=function(e){var t=function(e,t){for(var n=e,r=null;n;){var i=rg(n.sourcepos,t);if(0===i){if(!n.firstChild)return n;r=n,n=n.firstChild}else{if(-1===i)return r;if(!n.next)return r;n=n.next}}return n}(this.root,e);return t&&t!==this.root?t:null},e.prototype.findFirstNodeAtLine=function(e){return function(e,t){for(var n=e.firstChild,r=null;n;){var i=og(n.sourcepos,t);if(0===i){if(n.sourcepos[0][0]===t||!n.firstChild)return n;r=n,n=n.firstChild}else{if(-1===i)break;r=n,n=n.next}}return r?function(e){for(;e.parent&&"document"!==e.parent.type&&e.parent.sourcepos[0][0]===e.sourcepos[0][0];)e=e.parent;return e}(function(e){for(;e.lastChild;)e=e.lastChild;return e}(r)):null}(this.root,e)},e.prototype.on=function(e,t){this.eventHandlerMap[e].push(t)},e.prototype.off=function(e,t){var n=this.eventHandlerMap[e],r=n.indexOf(t);n.splice(r,1)},e.prototype.findNodeById=function(e){return sg(e)},e.prototype.removeAllNode=function(){pf={}},e}(),dg=new RegExp("<(/?(?:"+["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"].join("|")+")[^>]*>)","ig");function hg(e){return dg.test(e)?e.replace(dg,(function(e,t){return"&lt;"+t})):e}var fg={heading:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"h"+e.level,outerNewLine:!0}},text:function(e){return{type:"text",content:e.literal}},softbreak:function(e,t){return{type:"html",content:t.options.softbreak}},linebreak:function(){return{type:"html",content:"<br />\n"}},emph:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"em"}},strong:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"strong"}},paragraph:function(e,t){var n,r=t.entering,i=null===(n=e.parent)||void 0===n?void 0:n.parent;return i&&"list"===i.type&&i.listData.tight?null:{type:r?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(e,t){var n=t.entering,r=e.listData,i=r.type,o=r.start,a="bullet"===i?"ul":"ol",s={};return"ol"===a&&null!==o&&1!==o&&(s.start=o.toString()),{type:n?"openTag":"closeTag",tagName:a,attributes:s,outerNewLine:!0}},item:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(e,t){return{type:"html",content:t.options.tagFilter?hg(e.literal):e.literal}},htmlBlock:function(e,t){var n=t.options,r=n.tagFilter?hg(e.literal):e.literal;return n.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:r},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:r,outerNewLine:!0}},code:function(e){return[{type:"openTag",tagName:"code"},{type:"text",content:e.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(e){var t=e.info,n=t?t.split(/\s+/):[],r=[];return n.length>0&&n[0].length>0&&r.push("language-"+of(n[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:r},{type:"text",content:e.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(e,t){if(t.entering){var n=e,r=n.title,i=n.destination;return{type:"openTag",tagName:"a",attributes:uh({href:of(i)},r&&{title:of(r)})}}return{type:"closeTag",tagName:"a"}},image:function(e,t){var n=t.getChildrenText,r=t.skipChildren,i=e,o=i.title,a=i.destination;return r(),{type:"openTag",tagName:"img",selfClose:!0,attributes:uh({src:of(a),alt:n(e)},o&&{title:of(o)})}},customBlock:function(e,t,n){var r=e.info.trim().toLowerCase(),i=n[r];if(i)try{return i(e,t)}catch(e){console.warn("[@toast-ui/editor] - The error occurred when "+r+" block node was parsed in markdown renderer: "+e)}return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"text",content:e.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},frontMatter:function(e){return[{type:"openTag",tagName:"div",outerNewLine:!0,attributes:{style:"white-space: pre; display: none;"}},{type:"text",content:e.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},customInline:function(e,t,n){var r=e,i=r.info,o=r.firstChild,a=i.trim().toLowerCase(),s=n[a],l=t.entering;if(s)try{return s(e,t)}catch(e){console.warn("[@toast-ui/editor] - The error occurred when "+a+" inline node was parsed in markdown renderer: "+e)}return l?[{type:"openTag",tagName:"span"},{type:"text",content:"$$"+i+(o?" ":"")}]:[{type:"text",content:"$$"},{type:"closeTag",tagName:"span"}]}},mg={strike:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"del"}},item:function(e,t){var n=t.entering,r=e.listData,i=r.checked,o=r.task;if(n){var a={type:"openTag",tagName:"li",outerNewLine:!0};return o?[a,{type:"openTag",tagName:"input",selfClose:!0,attributes:uh(uh({},i&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:a}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(e,t){if(t.entering)return{type:"openTag",tagName:"tr",outerNewLine:!0};var n=[];if(e.lastChild)for(var r=e.parent.parent.columns.length,i=e.lastChild.endIdx+1;i<r;i+=1)n.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return n.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),n},tableCell:function(e,t){var n=t.entering;if(e.ignored)return{type:"text",content:""};var r=e.parent.parent,i="tableHead"===r.type?"th":"td",o=r.parent.columns[e.startIdx],a=(null==o?void 0:o.align)?{align:o.align}:null;return n?uh({type:"openTag",tagName:i,outerNewLine:!0},a&&{attributes:a}):{type:"closeTag",tagName:i,outerNewLine:!0}}},gg={softbreak:"\n",gfm:!1,tagFilter:!1,nodeId:!1};function vg(e){for(var t=[],n=e.walker(),r=null;r=n.next();){var i=r.node;"text"===i.type&&t.push(i.literal)}return t.join("")}var yg=function(){function e(e){this.buffer=[],this.options=uh(uh({},gg),e),this.convertors=this.createConvertors(),delete this.options.convertors}return e.prototype.createConvertors=function(){var e=uh({},fg);if(this.options.gfm&&(e=uh(uh({},e),mg)),this.options.convertors){var t=this.options.convertors,n=Object.keys(t),r=uh(uh({},fg),mg);n.forEach((function(n){var i=e[n],o=t[n],a=-1===Object.keys(r).indexOf(n)?n.toLowerCase():n;e[a]=i?function(e,t,n){return t.origin=function(){return i(e,t,n)},o(e,t)}:o}))}return e},e.prototype.getConvertors=function(){return this.convertors},e.prototype.getOptions=function(){return this.options},e.prototype.render=function(e){var t=this;this.buffer=[];for(var n=e.walker(),r=null,i=function(){var e=r.node,i=r.entering,a=o.convertors[e.type];if(!a)return"continue";var s=!1,l={entering:i,leaf:!cf(e),options:o.options,getChildrenText:vg,skipChildren:function(){s=!0}},c=Nf(e)||function(e){return"customInline"===e.type}(e)?a(e,l,o.convertors):a(e,l);c&&((Array.isArray(c)?c:[c]).forEach((function(n,r){"openTag"===n.type&&t.options.nodeId&&0===r&&(n.attributes||(n.attributes={}),n.attributes["data-nodeid"]=String(e.id)),t.renderHTMLNode(n)})),s&&(n.resumeAt(e,!1),n.next()))},o=this;r=n.next();)i();return this.addNewLine(),this.buffer.join("")},e.prototype.renderHTMLNode=function(e){switch(e.type){case"openTag":case"closeTag":this.renderElementNode(e);break;case"text":this.renderTextNode(e);break;case"html":this.renderRawHtmlNode(e)}},e.prototype.generateOpenTagString=function(e){var t=this,n=e.tagName,r=e.classNames,i=e.attributes;this.buffer.push("<"+n),r&&r.length>0&&this.buffer.push(' class="'+r.join(" ")+'"'),i&&Object.keys(i).forEach((function(e){var n=i[e];t.buffer.push(" "+e+'="'+n+'"')})),e.selfClose&&this.buffer.push(" /"),this.buffer.push(">")},e.prototype.generateCloseTagString=function(e){var t=e.tagName;this.buffer.push("</"+t+">")},e.prototype.addNewLine=function(){this.buffer.length&&"\n"!==$f($f(this.buffer))&&this.buffer.push("\n")},e.prototype.addOuterNewLine=function(e){e.outerNewLine&&this.addNewLine()},e.prototype.addInnerNewLine=function(e){e.innerNewLine&&this.addNewLine()},e.prototype.renderTextNode=function(e){this.buffer.push(of(e.content))},e.prototype.renderRawHtmlNode=function(e){this.addOuterNewLine(e),this.buffer.push(e.content),this.addOuterNewLine(e)},e.prototype.renderElementNode=function(e){"openTag"===e.type?(this.addOuterNewLine(e),this.generateOpenTagString(e),e.selfClose?this.addOuterNewLine(e):this.addInnerNewLine(e)):(this.addInnerNewLine(e),this.generateCloseTagString(e),this.addOuterNewLine(e))},e}();
/*! @license DOMPurify 2.3.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.3/LICENSE */var bg=Object.hasOwnProperty,wg=Object.setPrototypeOf,xg=Object.isFrozen,kg=Object.getPrototypeOf,Sg=Object.getOwnPropertyDescriptor,Cg=Object.freeze,Eg=Object.seal,Tg=Object.create,_g="undefined"!=typeof Reflect&&Reflect,Ag=_g.apply,Og=_g.construct;Ag||(Ag=function(e,t,n){return e.apply(t,n)}),Cg||(Cg=function(e){return e}),Eg||(Eg=function(e){return e}),Og||(Og=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))});var Ng,Mg=Hg(Array.prototype.forEach),Pg=Hg(Array.prototype.pop),Dg=Hg(Array.prototype.push),Lg=Hg(String.prototype.toLowerCase),Rg=Hg(String.prototype.match),Ig=Hg(String.prototype.replace),Bg=Hg(String.prototype.indexOf),jg=Hg(String.prototype.trim),Fg=Hg(RegExp.prototype.test),zg=(Ng=TypeError,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Og(Ng,t)});function Hg(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Ag(e,t,r)}}function qg(e,t){wg&&wg(e,null);for(var n=t.length;n--;){var r=t[n];if("string"==typeof r){var i=Lg(r);i!==r&&(xg(t)||(t[n]=i),r=i)}e[r]=!0}return e}function Vg(e){var t=Tg(null),n=void 0;for(n in e)Ag(bg,e,[n])&&(t[n]=e[n]);return t}function Ug(e,t){for(;null!==e;){var n=Sg(e,t);if(n){if(n.get)return Hg(n.get);if("function"==typeof n.value)return Hg(n.value)}e=kg(e)}return function(e){return console.warn("fallback value for",e),null}}var Wg=Cg(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),$g=Cg(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Gg=Cg(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Xg=Cg(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Yg=Cg(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Zg=Cg(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Kg=Cg(["#text"]),Jg=Cg(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Qg=Cg(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ev=Cg(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),tv=Cg(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),nv=Eg(/\{\{[\s\S]*|[\s\S]*\}\}/gm),rv=Eg(/<%[\s\S]*|[\s\S]*%>/gm),iv=Eg(/^data-[\-\w.\u00B7-\uFFFF]/),ov=Eg(/^aria-[\-\w]+$/),av=Eg(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),sv=Eg(/^(?:\w+script|data):/i),lv=Eg(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),cv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function uv(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var pv=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window,n=function(t){return e(t)};if(n.version="2.3.3",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var r=t.document,i=t.document,o=t.DocumentFragment,a=t.HTMLTemplateElement,s=t.Node,l=t.Element,c=t.NodeFilter,u=t.NamedNodeMap,p=void 0===u?t.NamedNodeMap||t.MozNamedAttrMap:u,d=t.Text,h=t.Comment,f=t.DOMParser,m=t.trustedTypes,g=l.prototype,v=Ug(g,"cloneNode"),y=Ug(g,"nextSibling"),b=Ug(g,"childNodes"),w=Ug(g,"parentNode");if("function"==typeof a){var x=i.createElement("template");x.content&&x.content.ownerDocument&&(i=x.content.ownerDocument)}var k=function(e,t){if("object"!==(void 0===e?"undefined":cv(e))||"function"!=typeof e.createPolicy)return null;var n=null,r="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(r)&&(n=t.currentScript.getAttribute(r));var i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}}(m,r),S=k&&te?k.createHTML(""):"",C=i,E=C.implementation,T=C.createNodeIterator,_=C.createDocumentFragment,A=C.getElementsByTagName,O=r.importNode,N={};try{N=Vg(i).documentMode?i.documentMode:{}}catch(e){}var M={};n.isSupported="function"==typeof w&&E&&void 0!==E.createHTMLDocument&&9!==N;var P=nv,D=rv,L=iv,R=ov,I=sv,B=lv,j=av,F=null,z=qg({},[].concat(uv(Wg),uv($g),uv(Gg),uv(Yg),uv(Kg))),H=null,q=qg({},[].concat(uv(Jg),uv(Qg),uv(ev),uv(tv))),V=null,U=null,W=!0,$=!0,G=!1,X=!1,Y=!1,Z=!1,K=!1,J=!1,Q=!1,ee=!0,te=!1,ne=!0,re=!0,ie=!1,oe={},ae=null,se=qg({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),le=null,ce=qg({},["audio","video","img","source","image","track"]),ue=null,pe=qg({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),de="http://www.w3.org/1998/Math/MathML",he="http://www.w3.org/2000/svg",fe="http://www.w3.org/1999/xhtml",me=fe,ge=!1,ve=void 0,ye=["application/xhtml+xml","text/html"],be=void 0,we=null,xe=i.createElement("form"),ke=function(e){we&&we===e||(e&&"object"===(void 0===e?"undefined":cv(e))||(e={}),e=Vg(e),F="ALLOWED_TAGS"in e?qg({},e.ALLOWED_TAGS):z,H="ALLOWED_ATTR"in e?qg({},e.ALLOWED_ATTR):q,ue="ADD_URI_SAFE_ATTR"in e?qg(Vg(pe),e.ADD_URI_SAFE_ATTR):pe,le="ADD_DATA_URI_TAGS"in e?qg(Vg(ce),e.ADD_DATA_URI_TAGS):ce,ae="FORBID_CONTENTS"in e?qg({},e.FORBID_CONTENTS):se,V="FORBID_TAGS"in e?qg({},e.FORBID_TAGS):{},U="FORBID_ATTR"in e?qg({},e.FORBID_ATTR):{},oe="USE_PROFILES"in e&&e.USE_PROFILES,W=!1!==e.ALLOW_ARIA_ATTR,$=!1!==e.ALLOW_DATA_ATTR,G=e.ALLOW_UNKNOWN_PROTOCOLS||!1,X=e.SAFE_FOR_TEMPLATES||!1,Y=e.WHOLE_DOCUMENT||!1,J=e.RETURN_DOM||!1,Q=e.RETURN_DOM_FRAGMENT||!1,ee=!1!==e.RETURN_DOM_IMPORT,te=e.RETURN_TRUSTED_TYPE||!1,K=e.FORCE_BODY||!1,ne=!1!==e.SANITIZE_DOM,re=!1!==e.KEEP_CONTENT,ie=e.IN_PLACE||!1,j=e.ALLOWED_URI_REGEXP||j,me=e.NAMESPACE||fe,ve=ve=-1===ye.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,be="application/xhtml+xml"===ve?function(e){return e}:Lg,X&&($=!1),Q&&(J=!0),oe&&(F=qg({},[].concat(uv(Kg))),H=[],!0===oe.html&&(qg(F,Wg),qg(H,Jg)),!0===oe.svg&&(qg(F,$g),qg(H,Qg),qg(H,tv)),!0===oe.svgFilters&&(qg(F,Gg),qg(H,Qg),qg(H,tv)),!0===oe.mathMl&&(qg(F,Yg),qg(H,ev),qg(H,tv))),e.ADD_TAGS&&(F===z&&(F=Vg(F)),qg(F,e.ADD_TAGS)),e.ADD_ATTR&&(H===q&&(H=Vg(H)),qg(H,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&qg(ue,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(ae===se&&(ae=Vg(ae)),qg(ae,e.FORBID_CONTENTS)),re&&(F["#text"]=!0),Y&&qg(F,["html","head","body"]),F.table&&(qg(F,["tbody"]),delete V.tbody),Cg&&Cg(e),we=e)},Se=qg({},["mi","mo","mn","ms","mtext"]),Ce=qg({},["foreignobject","desc","title","annotation-xml"]),Ee=qg({},$g);qg(Ee,Gg),qg(Ee,Xg);var Te=qg({},Yg);qg(Te,Zg);var _e=function(e){Dg(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=S}catch(t){e.remove()}}},Ae=function(e,t){try{Dg(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){Dg(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!H[e])if(J||Q)try{_e(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Oe=function(e){var t=void 0,n=void 0;if(K)e="<remove></remove>"+e;else{var r=Rg(e,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===ve&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var o=k?k.createHTML(e):e;if(me===fe)try{t=(new f).parseFromString(o,ve)}catch(e){}if(!t||!t.documentElement){t=E.createDocument(me,"template",null);try{t.documentElement.innerHTML=ge?"":o}catch(e){}}var a=t.body||t.documentElement;return e&&n&&a.insertBefore(i.createTextNode(n),a.childNodes[0]||null),me===fe?A.call(t,Y?"html":"body")[0]:Y?t.documentElement:a},Ne=function(e){return T.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},Me=function(e){return"object"===(void 0===s?"undefined":cv(s))?e instanceof s:e&&"object"===(void 0===e?"undefined":cv(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Pe=function(e,t,r){M[e]&&Mg(M[e],(function(e){e.call(n,t,r,we)}))},De=function(e){var t,r=void 0;if(Pe("beforeSanitizeElements",e,null),!((t=e)instanceof d||t instanceof h||"string"==typeof t.nodeName&&"string"==typeof t.textContent&&"function"==typeof t.removeChild&&t.attributes instanceof p&&"function"==typeof t.removeAttribute&&"function"==typeof t.setAttribute&&"string"==typeof t.namespaceURI&&"function"==typeof t.insertBefore))return _e(e),!0;if(Rg(e.nodeName,/[\u0080-\uFFFF]/))return _e(e),!0;var i=be(e.nodeName);if(Pe("uponSanitizeElement",e,{tagName:i,allowedTags:F}),!Me(e.firstElementChild)&&(!Me(e.content)||!Me(e.content.firstElementChild))&&Fg(/<[/\w]/g,e.innerHTML)&&Fg(/<[/\w]/g,e.textContent))return _e(e),!0;if("select"===i&&Fg(/<template/i,e.innerHTML))return _e(e),!0;if(!F[i]||V[i]){if(re&&!ae[i]){var o=w(e)||e.parentNode,a=b(e)||e.childNodes;if(a&&o)for(var s=a.length-1;s>=0;--s)o.insertBefore(v(a[s],!0),y(e))}return _e(e),!0}return e instanceof l&&!function(e){var t=w(e);t&&t.tagName||(t={namespaceURI:fe,tagName:"template"});var n=Lg(e.tagName),r=Lg(t.tagName);if(e.namespaceURI===he)return t.namespaceURI===fe?"svg"===n:t.namespaceURI===de?"svg"===n&&("annotation-xml"===r||Se[r]):Boolean(Ee[n]);if(e.namespaceURI===de)return t.namespaceURI===fe?"math"===n:t.namespaceURI===he?"math"===n&&Ce[r]:Boolean(Te[n]);if(e.namespaceURI===fe){if(t.namespaceURI===he&&!Ce[r])return!1;if(t.namespaceURI===de&&!Se[r])return!1;var i=qg({},["title","style","font","a","script"]);return!Te[n]&&(i[n]||!Ee[n])}return!1}(e)?(_e(e),!0):"noscript"!==i&&"noembed"!==i||!Fg(/<\/no(script|embed)/i,e.innerHTML)?(X&&3===e.nodeType&&(r=e.textContent,r=Ig(r,P," "),r=Ig(r,D," "),e.textContent!==r&&(Dg(n.removed,{element:e.cloneNode()}),e.textContent=r)),Pe("afterSanitizeElements",e,null),!1):(_e(e),!0)},Le=function(e,t,n){if(ne&&("id"===t||"name"===t)&&(n in i||n in xe))return!1;if($&&!U[t]&&Fg(L,t));else if(W&&Fg(R,t));else{if(!H[t]||U[t])return!1;if(ue[t]);else if(Fg(j,Ig(n,B,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==Bg(n,"data:")||!le[e]){if(G&&!Fg(I,Ig(n,B,"")));else if(n)return!1}else;}return!0},Re=function(e){var t=void 0,r=void 0,i=void 0,o=void 0;Pe("beforeSanitizeAttributes",e,null);var a=e.attributes;if(a){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:H};for(o=a.length;o--;){var l=t=a[o],c=l.name,u=l.namespaceURI;if(r=jg(t.value),i=be(c),s.attrName=i,s.attrValue=r,s.keepAttr=!0,s.forceKeepAttr=void 0,Pe("uponSanitizeAttribute",e,s),r=s.attrValue,!s.forceKeepAttr&&(Ae(c,e),s.keepAttr))if(Fg(/\/>/i,r))Ae(c,e);else{X&&(r=Ig(r,P," "),r=Ig(r,D," "));var p=be(e.nodeName);if(Le(p,i,r))try{u?e.setAttributeNS(u,c,r):e.setAttribute(c,r),Pg(n.removed)}catch(e){}}}Pe("afterSanitizeAttributes",e,null)}},Ie=function e(t){var n=void 0,r=Ne(t);for(Pe("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)Pe("uponSanitizeShadowNode",n,null),De(n)||(n.content instanceof o&&e(n.content),Re(n));Pe("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e,i){var a=void 0,l=void 0,c=void 0,u=void 0,p=void 0;if((ge=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Me(e)){if("function"!=typeof e.toString)throw zg("toString is not a function");if("string"!=typeof(e=e.toString()))throw zg("dirty is not a string, aborting")}if(!n.isSupported){if("object"===cv(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(Me(e))return t.toStaticHTML(e.outerHTML)}return e}if(Z||ke(i),n.removed=[],"string"==typeof e&&(ie=!1),ie);else if(e instanceof s)1===(l=(a=Oe("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===l.nodeName||"HTML"===l.nodeName?a=l:a.appendChild(l);else{if(!J&&!X&&!Y&&-1===e.indexOf("<"))return k&&te?k.createHTML(e):e;if(!(a=Oe(e)))return J?null:S}a&&K&&_e(a.firstChild);for(var d=Ne(ie?e:a);c=d.nextNode();)3===c.nodeType&&c===u||De(c)||(c.content instanceof o&&Ie(c.content),Re(c),u=c);if(u=null,ie)return e;if(J){if(Q)for(p=_.call(a.ownerDocument);a.firstChild;)p.appendChild(a.firstChild);else p=a;return ee&&(p=O.call(r,p,!0)),p}var h=Y?a.outerHTML:a.innerHTML;return X&&(h=Ig(h,P," "),h=Ig(h,D," ")),k&&te?k.createHTML(h):h},n.setConfig=function(e){ke(e),Z=!0},n.clearConfig=function(){we=null,Z=!1},n.isValidAttribute=function(e,t,n){we||ke({});var r=be(e),i=be(t);return Le(r,i,n)},n.addHook=function(e,t){"function"==typeof t&&(M[e]=M[e]||[],Dg(M[e],t))},n.removeHook=function(e){M[e]&&Pg(M[e])},n.removeHooks=function(e){M[e]&&(M[e]=[])},n.removeAllHooks=function(){M={}},n}(),dv=["iframe","embed"],hv=[];function fv(e){Ac(dv,e)&&hv.push(e.toLowerCase())}function mv(e,t){return pv.sanitize(e,Ml({ADD_TAGS:hv,ADD_ATTR:["rel","target","hreflang","type"],FORBID_TAGS:["input","script","textarea","form","button","select","meta","style","link","title","object","base"]},t))}function gv(e,t){return e.literal.replace(new RegExp("(<\\s*"+t+"[^>]*>)|(</"+t+"\\s*[>])","ig"),"").trim()}function vv(e){var t=(e=e.match(Ru)[0]).match(new RegExp(Pu,"g"));return t?t.reduce((function(e,t){var n=t.trim().split("="),r=n[0],i=n.slice(1);return i.length&&(e[r]=i.join("=").replace(/'|"/g,"").trim()),e}),{}):{}}function yv(e){return Wc(e.attributes).reduce((function(e,t){return e[t.nodeName]=t.nodeValue,e}),{})}function bv(e,t,n,r){var i=r.getToDOMNode(t)(e),o=n(i.outerHTML),a=document.createElement("div");return a.innerHTML=o,{dom:i=a.firstChild,htmlAttrs:yv(i)}}var wv={htmlBlock:function(e,t,n){return{atom:!0,content:"block+",group:"block",attrs:{htmlAttrs:{default:{}},childrenHTML:{default:""},htmlBlock:{default:!0}},parseDOM:[{tag:e,getAttrs:function(e){return{htmlAttrs:yv(e),childrenHTML:e.innerHTML}}}],toDOM:function(r){var i=bv(r,e,t,n),o=i.dom,a=i.htmlAttrs;return a.class=a.class?a.class+" html-block":"html-block",Pl([e,a],Wc(o.childNodes))}}},htmlInline:function(e,t,n){return{attrs:{htmlAttrs:{default:{}},htmlInline:{default:!0}},parseDOM:[{tag:e,getAttrs:function(e){return{htmlAttrs:yv(e)}}}],toDOM:function(r){var i=bv(r,e,t,n).htmlAttrs;return[e,i,0]}}}};var xv=/^\s*<\s*\//,kv={paragraph:function(e,t){var n=t.entering,r=t.origin;return t.options.nodeId?{type:n?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:r()},softbreak:function(e){return{type:"html",content:e.prev&&"htmlInline"===e.prev.type&&/<br ?\/?>/.test(e.prev.literal)?"\n":"<br>\n"}},item:function(e,t){if(t.entering){var n={},r=[];return e.listData.task&&(n["data-task"]="",r.push("task-list-item"),e.listData.checked&&(r.push("checked"),n["data-task-checked"]="")),{type:"openTag",tagName:"li",classNames:r,attributes:n,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(e){return[{type:"openTag",tagName:"code",attributes:{"data-backticks":String(e.tickCount)}},{type:"text",content:e.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(e){var t=e,n=t.fenceLength,r=t.info,i=r?r.split(/\s+/):[],o=[],a={};if(n>3&&(a["data-backticks"]=n),i.length>0&&i[0].length>0){var s=i[0];o.push("lang-"+s),a["data-language"]=s}return[{type:"openTag",tagName:"pre",classNames:o},{type:"openTag",tagName:"code",attributes:a},{type:"text",content:e.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]},customInline:function(e,t){var n=t.origin,r=t.entering,i=t.skipChildren,o=e.info;return-1!==o.indexOf("widget")&&r?(i(),[{type:"openTag",tagName:"span",classNames:["tui-widget"]},{type:"html",content:yu(o,xu(e)).outerHTML},{type:"closeTag",tagName:"span"}]):n()}};function Sv(e,t){var n=Ml({},kv);return e&&(n.link=function(t,n){var r=n.entering,i=(0,n.origin)();return r&&(i.attributes=Ml(Ml({},i.attributes),e)),i}),t&&Object.keys(t).forEach((function(e){var r=n[e],i=t[e];r&&lp(i)?n[e]=function(e,t){var n=Ml({},t);return n.origin=function(){return r(e,t)},i(e,n)}:Ac(["htmlBlock","htmlInline"],e)&&!lp(i)?n[e]=function(e,t){var n=e.literal.match(Ru);if(n){var r=n[0],o=n[1],a=n[3],s=(o||a).toLowerCase(),l=i[s],c=gv(e,s);if(l){var u=Ml({},e);return u.attrs=vv(r),u.childrenHTML=c,u.type=s,t.entering=!xv.test(e.literal),l(u,t)}}return t.origin()}:n[e]=i})),n}var Cv=["list","item","blockQuote"],Ev=["UL","OL","BLOCKQUOTE"];function Tv(e,t){var n,r=e.child(t);return!r.childCount||1===r.childCount&&!(null===(n=r.firstChild.text)||void 0===n?void 0:n.trim())}function _v(e,t,n){var r=Jc(t)-1,i=Qc(t)-1,o=n[r].getBoundingClientRect(),a=n[i].offsetTop-n[r].offsetTop+n[i].clientHeight;return{height:a<=0?n[r].clientHeight:a+Av(e,n,Math.min(i+1,e.childCount-1)),rect:o}}function Av(e,t,n){for(var r=e.childCount-1,i=0;n<=r&&Tv(e,n);)i+=t[n].clientHeight,n+=1;return i}function Ov(e,t){for(var n=0;e&&e!==t&&(Ac(Ev,e.tagName)||(n+=e.offsetTop),e.offsetParent!==t.offsetParent);)e=e.parentElement;return n}function Nv(e,t,n){return e&&t>n+e.offsetTop?Nv(e.nextElementSibling,t,n)||e:null}function Mv(e,t){for(var n=e.querySelector('[data-nodeid="'+t.id+'"]');!n||nu(t);)t=t.parent,n=e.querySelector('[data-nodeid="'+t.id+'"]');return function(e){var t=e.mdNode,n=e.el;for(;(Ac(Cv,t.type)||"table"===t.type)&&t.firstChild;)t=t.firstChild,n=n.firstElementChild;return{mdNode:t,el:n}}({mdNode:t,el:n})}var Pv={};function Dv(e){e&&(delete Pv[Number(e.getAttribute("data-nodeid"))],Wc(e.children).forEach((function(e){Dv(e)})))}function Lv(e,t,n){var r,i=Pv[r=n]&&Pv[r].height,o=function(e){return Pv[e]&&Pv[e].offsetTop}(n),a=i||e.clientHeight,s=o||Ov(e,t)||e.offsetTop;return i||function(e,t){Pv[e]=Pv[e]||{},Pv[e].height=t}(n,a),o||function(e,t){Pv[e]=Pv[e]||{},Pv[e].offsetTop=t}(n,s),{nodeHeight:a,offsetTop:s}}var Rv=Hu("md-preview-highlight");var Iv=function(){function e(e,t){var n=document.createElement("div");this.el=n,this.eventEmitter=e,this.isViewer=!!t.isViewer,this.el.className=Hu("md-preview");var r=t.linkAttributes,i=t.customHTMLRenderer,o=t.sanitizer,a=t.highlight,s=void 0!==a&&a;this.renderer=new yg({gfm:!0,nodeId:!0,convertors:Sv(r,i)}),this.cursorNodeId=null,this.sanitizer=o,this.initEvent(s),this.initContentSection(),this.isViewer&&(this.previewContent.style.overflowWrap="break-word")}return e.prototype.initContentSection=function(){this.previewContent=$u('<div class="'+Hu("contents")+'"></div>'),this.isViewer||this.el.appendChild(this.previewContent)},e.prototype.toggleActive=function(e){Wu(this.el,"active",e)},e.prototype.initEvent=function(e){var t=this;this.eventEmitter.listen("updatePreview",this.update.bind(this)),this.isViewer||(e&&(this.eventEmitter.listen("changeToolbarState",(function(e){var n=e.mdNode,r=e.cursorPos;t.updateCursorNode(n,r)})),this.eventEmitter.listen("blur",(function(){t.removeHighlight()}))),sh(this.el,"scroll",(function(e){t.eventEmitter.emit("scroll","preview",function(e,t){for(var n=t,r=null;n;){var i=n.firstElementChild;if(!i)break;r=n,n=Nv(i,e,Ov(n,t))}var o=n||r;return o===t?null:o}(e.target.scrollTop,t.previewContent))})),this.eventEmitter.listen("changePreviewTabPreview",(function(){return t.toggleActive(!0)})),this.eventEmitter.listen("changePreviewTabWrite",(function(){return t.toggleActive(!1)})))},e.prototype.removeHighlight=function(){if(this.cursorNodeId){var e=this.getElementByNodeId(this.cursorNodeId);e&&cc(e,Rv)}},e.prototype.updateCursorNode=function(e,t){e&&("tableRow"===(e=su(e,(function(e){return!function(e){switch(e.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":case"customInline":return!0;default:return!1}}(e)}))).type?e=function(e,t){for(var n=e.firstChild;n&&n.next&&!(eu(n.next)>t+1);)n=n.next;return n}(e,t[1]):"tableBody"===e.type&&(e=null));var n=e?e.id:null;if(this.cursorNodeId!==n){var r=this.getElementByNodeId(this.cursorNodeId),i=this.getElementByNodeId(n);r&&cc(r,Rv),i&&ic(i,Rv),this.cursorNodeId=n}},e.prototype.getElementByNodeId=function(e){return e?this.previewContent.querySelector('[data-nodeid="'+e+'"]'):null},e.prototype.update=function(e){var t=this;e.forEach((function(e){return t.replaceRangeNodes(e)})),this.eventEmitter.emit("afterPreviewRender",this)},e.prototype.replaceRangeNodes=function(e){var t=this,n=e.nodes,r=e.removedNodeRange,i=this.previewContent,o=this.eventEmitter.emitReduce("beforePreviewRender",this.sanitizer(n.map((function(e){return t.renderer.render(e)})).join("")));if(r){var a=r.id,s=a[0],l=a[1],c=this.getElementByNodeId(s),u=this.getElementByNodeId(l);if(c){c.insertAdjacentHTML("beforebegin",o);for(var p=c;p&&p!==u;){var d=p.nextElementSibling;Uu(p),Dv(p),p=d}(null==p?void 0:p.parentNode)&&(Uu(p),Dv(p))}}else i.insertAdjacentHTML("afterbegin",o)},e.prototype.getRenderer=function(){return this.renderer},e.prototype.destroy=function(){nh(this.el,"scroll"),this.el=null},e.prototype.getElement=function(){return this.el},e.prototype.getHTML=function(){return Ku(this.previewContent.innerHTML)},e.prototype.setHTML=function(e){this.previewContent.innerHTML=e},e.prototype.setHeight=function(e){Wl(this.el,{height:e+"px"})},e.prototype.setMinHeight=function(e){Wl(this.el,{minHeight:e+"px"})},e}();function Bv(e,t){for(var n=e.depth;n;){var r=e.node(n);if(t(r,n))return{node:r,depth:n,offset:n>0?e.before(n):0};n-=1}return null}function jv(e){return!!Bv(e,(function(e){var t=e.type;return"listItem"===t.name||"bulletList"===t.name||"orderedList"===t.name}))}function Fv(e){return!!Bv(e,(function(e){var t=e.type;return"tableHeadCell"===t.name||"tableBodyCell"===t.name}))}function zv(e){return Bv(e,(function(e){return"listItem"===e.type.name}))}function Hv(e){return{tag:e,getAttrs:function(e){var t=e.getAttribute("data-raw-html");return Ml({},t&&{rawHTML:t})}}}function qv(e){return Object.keys(e).reduce((function(t,n){return"rawHTML"!==n&&e[n]&&(t[n="className"===n?"class":n]=e[n]),t}),{})}function Vv(e){return{tag:e,getAttrs:function(e){return["rawHTML","colspan","rowspan","extended"].reduce((function(t,n){var r="rawHTML"===n?"data-raw-html":n,i=e.getAttribute(r);return i&&(t[n]=Ac(["rawHTML","extended"],n)?i:Number(i)),t}),{})}}}function Uv(e){var t=e.htmlAttrs,n=e.classNames;return Ml(Ml({},t),{class:n?n.join(" "):null})}function Wv(e,t,n,r){var i=t.$from,o=t.$to,a=t.depth,s=t,l=!1;if(a>=2&&i.node(a-1).type.compatibleContent(n)&&0===t.startIndex&&i.index(a-1)){var c=e.doc.resolve(t.start-2);s=new(0,Ns.NodeRange)(c,c,a),t.endIndex<t.parent.childCount&&(t=new(0,Ns.NodeRange)(i,e.doc.resolve(o.end(a)),a)),l=!0}var u=function(e,t,n,r){var i=function(e,t){var n=e.parent,r=e.startIndex,i=e.endIndex,o=n.contentMatchAt(r).findWrapping(t);if(o){var a=o.length?o[0]:t;return n.canReplaceWith(r,i,a)?o:null}return null}(e,n),o=function(e,t){var n=e.parent,r=e.startIndex,i=e.endIndex,o=n.child(r),a=t.contentMatch.findWrapping(o.type);if(a){for(var s=(a.length?a[a.length-1]:t).contentMatch,l=r;s&&l<i;l+=1)s=s.matchType(n.child(l).type);if(s&&s.validEnd)return a}return null}(t,n);if(i&&o){var a=i.map((function(e){return{type:e}})),s=o.map((function(e){return{type:e,attrs:r}}));return a.concat({type:n}).concat(s)}return null}(s,t,n,r);return u?function(e,t,n,r,i){for(var o=t.start,a=t.end,s=t.startIndex,l=t.endIndex,c=t.parent,u=Ns.Fragment.empty,p=n.length-1;p>=0;p-=1)u=Ns.Fragment.from(n[p].type.create(n[p].attrs,u));e.step(new(0,Ps.ReplaceAroundStep)(o-(r?2:0),a,o,a,new(0,Ns.Slice)(u,0,0),n.length,!0));var d=0;for(p=0;p<n.length;p+=1)if(n[p].type===i){d=p+1;break}for(var h=n.length-d,f=o+n.length-(r?2:0),m=(p=s,l);p<m;p+=1)!(p===s)&&(0,Ps.canSplit)(e.doc,f,h)&&(e.split(f,h),f+=2*h),f+=c.child(p).nodeSize;return e}(e,t,u,l,n):e}function $v(e,t){for(var n=e.resolve(t);"paragraph"!==n.node().type.name;)t-=2,n=e.resolve(t);return zv(n)}function Gv(e){return function(t,n){var r=t.selection,i=t.tr,o=r.$from,a=r.$to,s=o.blockRange(a);if(s){var l=jv(o)?function(e,t,n){var r=t.$from,i=t.$to,o=zv(r),a=zv(i);if(o&&a)for(;a;){var s=a.offset,l=a.node,c=a.depth;l.attrs.task&&e.setNodeMarkup(s,null,{task:!1,checked:!1});var u=e.doc.resolve(s);if(u.parent.type!==n){var p=u.before(c-1);e.setNodeMarkup(p,n)}if(s===o.offset)break;a=$v(e.doc,s)}return e}(i,s,e):Wv(i,s,e);return n(l),!0}return!1}}function Xv(){return function(e,t){var n=e.selection,r=e.tr,i=e.schema,o=n.$from,a=n.$to,s=o.blockRange(a);if(s){var l=jv(o)?function(e,t){var n=t.$from,r=t.$to,i=zv(n),o=zv(r);if(i&&o)for(;o;){var a=o.offset,s={task:!o.node.attrs.task,checked:!1};if(e.setNodeMarkup(a,null,s),a===i.offset)break;o=$v(e.doc,a)}return e}(r,s):Wv(r,s,i.nodes.bulletList,{task:!0});return t(l),!0}return!1}}function Yv(e){return function(t,n){var r=t.tr,i=t.selection,o=i.$from,a=i.$to,s=o.blockRange(a,(function(t){var n=t.childCount,r=t.firstChild;return!!n&&r.type===e}));if(s){var l=o.node(s.depth-1).type===e?function(e,t,n){var r=t.$from,i=t.$to,o=t.end,a=t.depth,s=t.parent,l=i.end(a);return o<l&&(e.step(new(0,Ps.ReplaceAroundStep)(o-1,l,o,l,new(0,Ns.Slice)(Ns.Fragment.from(n.create(null,s.copy())),1,0),1,!0)),t=new(0,Ns.NodeRange)(e.doc.resolve(r.pos),e.doc.resolve(l),a)),e.lift(t,(0,Ps.liftTarget)(t)),e}(r,s,e):function(e,t){for(var n=t.parent,r=t.end,i=t.endIndex-1,o=t.startIndex;i>o;i-=1)r-=n.child(i).nodeSize,e.delete(r-1,r+1);var a=e.doc.resolve(t.start),s=a.nodeAfter,l=0===t.startIndex,c=t.endIndex===n.childCount,u=a.node(-1),p=a.index(-1),d=u.canReplace(p+(l?0:1),p+1,null==s?void 0:s.content.append(c?Ns.Fragment.empty:Ns.Fragment.from(n)));if(s&&d){var h=a.pos,f=h+s.nodeSize;e.step(new(0,Ps.ReplaceAroundStep)(h-(l?1:0),f+(c?1:0),h+1,f-1,new(0,Ns.Slice)((l?Ns.Fragment.empty:Ns.Fragment.from(n.copy(Ns.Fragment.empty))).append(c?Ns.Fragment.empty:Ns.Fragment.from(n.copy(Ns.Fragment.empty))),l?0:1,c?0:1),l?0:1))}return e}(r,s);return n(l),!0}return!1}}function Zv(){return function(){return function(e,t){var n,r=e.selection,i=e.schema,o=r.$from,a=r.$to;return!(!o.blockRange(a)||!jv(o))&&(n=i.nodes.listItem,function(e,t){var r=e.tr,i=e.selection,o=i.$from,a=i.$to,s=o.blockRange(a,(function(e){var t=e.childCount,r=e.firstChild;return!!t&&r.type===n}));if(s&&s.startIndex>0){var l=s.parent,c=l.child(s.startIndex-1);if(c.type!==n)return!1;var u=c.lastChild&&c.lastChild.type===l.type,p=u?Ns.Fragment.from(n.create()):null,d=new(0,Ns.Slice)(Ns.Fragment.from(n.create(null,Ns.Fragment.from(l.type.create(null,p)))),u?3:1,0),h=s.start,f=s.end;return r.step(new(0,Ps.ReplaceAroundStep)(h-(u?3:1),f,h,f,d,1,!0)),t(r),!0}return!1})(e,t)}}}function Kv(){return{indent:Zv(),outdent:function(){return function(e,t){var n=e.selection,r=e.schema,i=n.$from,o=n.$to;return!(!i.blockRange(o)||!jv(i))&&Yv(r.nodes.listItem)(e,t)}}}}var Jv=new Map,Qv=function(){function e(e,t,n,r){this.table=e,this.tableRows=t,this.tableStartPos=n,this.rowInfo=r}return e.create=function(t){var n=Bv(t,(function(e){return"table"===e.type.name}));if(n){var r=n.node,i=n.depth,o=n.offset,a=Jv.get(r);if((null==a?void 0:a.tableStartPos)===o+1)return a;var s=[],l=t.start(i),c=r.child(0),u=r.child(1),p=ey(c,l),d=ey(u,l+c.nodeSize);c.forEach((function(e){return s.push(e)})),u.forEach((function(e){return s.push(e)}));var h=new e(r,s,l,p.concat(d));return Jv.set(r,h),h}return null},Object.defineProperty(e.prototype,"totalRowCount",{get:function(){return this.rowInfo.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalColumnCount",{get:function(){return this.rowInfo[0].length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tableStartOffset",{get:function(){return this.tableStartPos},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tableEndOffset",{get:function(){return this.tableStartPos+this.table.nodeSize-1},enumerable:!1,configurable:!0}),e.prototype.getCellInfo=function(e,t){return this.rowInfo[e][t]},e.prototype.posAt=function(e,t){for(var n=0,r=this.tableStartPos;;n+=1){var i=r+this.tableRows[n].nodeSize;if(n===e){for(var o=t;o<this.totalColumnCount&&this.rowInfo[n][o].offset<r;)o+=1;return o===this.totalColumnCount?i:this.rowInfo[n][o].offset}r=i}},e.prototype.getNodeAndPos=function(e,t){var n=this.rowInfo[e][t];return{node:this.table.nodeAt(n.offset-this.tableStartOffset),pos:n.offset}},e.prototype.extendedRowspan=function(e,t){return!1},e.prototype.extendedColspan=function(e,t){return!1},e.prototype.getRowspanCount=function(e,t){return 0},e.prototype.getColspanCount=function(e,t){return 0},e.prototype.decreaseColspanCount=function(e,t){return 0},e.prototype.decreaseRowspanCount=function(e,t){return 0},e.prototype.getColspanStartInfo=function(e,t){return null},e.prototype.getRowspanStartInfo=function(e,t){return null},e.prototype.getCellStartOffset=function(e,t){var n=this.rowInfo[e][t].offset;return this.extendedRowspan(e,t)?this.posAt(e,t):n},e.prototype.getCellEndOffset=function(e,t){var n=this.rowInfo[e][t],r=n.offset,i=n.nodeSize;return this.extendedRowspan(e,t)?this.posAt(e,t):r+i},e.prototype.getCellIndex=function(e){for(var t=0;t<this.totalRowCount;t+=1)for(var n=this.rowInfo[t],r=0;r<this.totalColumnCount;r+=1)if(n[r].offset+1>e.pos)return[t,r];return[0,0]},e.prototype.getRectOffsets=function(e,t){var n,r,i;void 0===t&&(t=e),e.pos>t.pos&&(e=(n=[t,e])[0],t=n[1]);var o=this.getCellIndex(e),a=o[0],s=o[1],l=this.getCellIndex(t),c=l[0],u=l[1];return a=(r=Vc(a,c))[0],c=r[1],s=(i=Vc(s,u))[0],u=i[1],this.getSpannedOffsets({startRowIdx:a,startColIdx:s,endRowIdx:c,endColIdx:u})},e.prototype.getSpannedOffsets=function(e){return e},e}(),ey=function(e,t){var n=[];return e.forEach((function(e,r){var i={rowspanMap:{},colspanMap:{},length:0};e.forEach((function(e,n){for(var o=e.nodeSize,a=0;i[a];)a+=1;i[a]={offset:t+r+n+2,nodeSize:o},i.length+=1})),n.push(i)})),n};function ty(e,t){return qc(Qv.prototype,e),ey=t,Qv}var ny=function(e){function t(t,n){void 0===n&&(n=t);var r=this,i=t.node(0),o=Qv.create(t),a=o.getRectOffsets(t,n),s=function(e,t,n){for(var r=n.startRowIdx,i=n.startColIdx,o=n.endRowIdx,a=n.endColIdx,s=[],l=r;l<=o;l+=1)for(var c=i;c<=a;c+=1){var u=t.getCellInfo(l,c),p=u.offset,d=u.nodeSize;s.push(new(0,Ds.SelectionRange)(e.resolve(p+1),e.resolve(p+d-1)))}return s}(i,o,a);return(r=e.call(this,s[0].$from,s[0].$to,s)||this).startCell=t,r.endCell=n,r.offsetMap=o,r.isCellSelection=!0,r.visible=!1,r}return Nl(t,e),t.prototype.map=function(e,n){var r=this.startCell.pos,i=this.endCell.pos,o=e.resolve(n.map(r)),a=e.resolve(n.map(i)),s=Qv.create(o);if(this.offsetMap.totalColumnCount>s.totalColumnCount||this.offsetMap.totalRowCount>s.totalRowCount){var l={tableBody:1,tableRow:2,tableCell:3,paragraph:4}[a.parent.type.name],c=a.end(a.depth-l),u=Math.min(c-4,a.pos);return Ds.TextSelection.create(e,u)}return new t(o,a)},t.prototype.eq=function(e){return e instanceof t&&e.startCell.pos===this.startCell.pos&&e.endCell.pos===this.endCell.pos},t.prototype.content=function(){for(var e=this.startCell.node(-2),t=this.startCell.start(-2),n=e.child(1).firstChild,r=e.child(0).type.create(),i=e.child(1).type.create(),o=Qv.create(this.startCell),a=o.getRectOffsets(this.startCell,this.endCell),s=a.startRowIdx,l=a.startColIdx,c=a.endRowIdx,u=a.endColIdx,p=!1,d=s;d<=c;d+=1){for(var h=[],f=l;f<=u;f+=1){var m=o.getCellInfo(d,f).offset,g=e.nodeAt(m-t);g&&(p="tableHeadCell"===g.type.name,o.extendedRowspan(d,f)||o.extendedColspan(d,f)?h.push(g.type.create({extended:!0})):h.push(g.copy(g.content)))}var v=n.copy(Ns.Fragment.from(h)),y=p?r:i;y.content=y.content.append(Ns.Fragment.from(v))}return new(0,Ns.Slice)(function(e,t){var n=[];return e.childCount&&n.push(e),t.childCount&&n.push(t),Ns.Fragment.from(n)}(r,i),1,1)},t.prototype.toJSON=function(){return JSON.stringify(this)},t}(Ds.Selection);function ry(e,t,n,r){for(var i=n.nodes,o=i.tableRow,a=i.tableBodyCell,s=i.paragraph,l=[],c=0;c<e;c+=1){for(var u=[],p=0;p<t;p+=1){var d=r&&r[c*t+p],h=s.create(null,d?n.text(d):[]);u.push(a.create(null,h))}l.push(o.create(null,u))}return l}function iy(e,t,n,r){void 0===r&&(r=null);for(var i=n.nodes,o=i.tableHeadCell,a=i.tableBodyCell,s=i.paragraph,l=0===t?o:a,c=[],u=0;u<e;u+=1)c.push(l.create(r,s.create()));return c}function oy(e,t){for(;e&&e!==t;){if("TD"===e.nodeName||"TH"===e.nodeName)return e;e=e.parentNode}return null}function ay(e){return Bv(e,(function(e){var t=e.type;return"tableHeadCell"===t.name||"tableBodyCell"===t.name}))}function sy(e){if(e instanceof Ds.TextSelection){var t=e.$anchor,n=ay(t);if(n){var r=t.node(0).resolve(t.before(n.depth));return{anchor:r,head:r}}}var i=e;return{anchor:i.startCell,head:i.endCell}}function ly(e){var t;if(e.size){var n=e.content,r=e.openStart,i=e.openEnd;if(1!==n.childCount)return null;for(;1===n.childCount&&(r>0&&i>0||"table"===(null===(t=n.firstChild)||void 0===t?void 0:t.type.name));)r-=1,i-=1,n=n.firstChild.content;if("tableHead"===n.firstChild.type.name||"tableBody"===n.firstChild.type.name)return n}return null}function cy(e){var t=e.startRowIdx,n=e.startColIdx;return{rowCount:e.endRowIdx-t+1,columnCount:e.endColIdx-n+1}}function uy(e,t){return Ml(Ml({},e.attrs),t)}var py=new(0,Ds.PluginKey)("cellSelection"),dy=function(){function e(e){this.view=e,this.handlers={mousedown:this.handleMousedown.bind(this),mousemove:this.handleMousemove.bind(this),mouseup:this.handleMouseup.bind(this)},this.startCellPos=null,this.init()}return e.prototype.init=function(){this.view.dom.addEventListener("mousedown",this.handlers.mousedown)},e.prototype.handleMousedown=function(e){var t=oy(e.target,this.view.dom);if(2!==e.button){if(t){var n=this.getCellPos(e);n&&(this.startCellPos=n),this.bindEvent()}}else e.preventDefault()},e.prototype.handleMousemove=function(e){var t,n=py.getState(this.view.state),r=this.getCellPos(e),i=this.startCellPos;n?t=this.view.state.doc.resolve(n):i!==r&&(t=i),t&&i&&r&&this.setCellSelection(i,r)},e.prototype.handleMouseup=function(){this.startCellPos=null,this.unbindEvent(),null!==py.getState(this.view.state)&&this.view.dispatch(this.view.state.tr.setMeta(py,-1))},e.prototype.bindEvent=function(){var e=this.view.dom;e.addEventListener("mousemove",this.handlers.mousemove),e.addEventListener("mouseup",this.handlers.mouseup)},e.prototype.unbindEvent=function(){var e=this.view.dom;e.removeEventListener("mousemove",this.handlers.mousemove),e.removeEventListener("mouseup",this.handlers.mouseup)},e.prototype.getCellPos=function(e){var t=e.clientX,n=e.clientY,r=this.view.posAtCoords({left:t,top:n});if(r){var i=this.view.state.doc,o=i.resolve(r.pos),a=ay(o);if(a){var s=o.before(a.depth);return i.resolve(s)}}return null},e.prototype.setCellSelection=function(e,t){var n=this.view.state,r=n.selection,i=n.tr,o=null===py.getState(this.view.state),a=new ny(e,t);if(o||!r.eq(a)){var s=i.setSelection(a);o&&s.setMeta(py,t.pos),this.view.dispatch(s)}},e.prototype.destroy=function(){this.view.dom.removeEventListener("mousedown",this.handlers.mousedown)},e}(),hy=Hu("cell-selected");function fy(e){var t=e.selection,n=e.doc;if(t instanceof ny){var r=[];return t.ranges.forEach((function(e){var t=e.$from,n=e.$to;r.push(Ms.Decoration.node(t.pos-1,n.pos+1,{class:hy}))})),Ms.DecorationSet.create(n,r)}return null}var my=function(){function e(){this.keys=[],this.values=[]}return e.prototype.getKeyIndex=function(e){return Gl(e,this.keys)},e.prototype.get=function(e){return this.values[this.getKeyIndex(e)]},e.prototype.set=function(e,t){var n=this.getKeyIndex(e);return n>-1?this.values[n]=t:(this.keys.push(e),this.values.push(t)),this},e.prototype.has=function(e){return this.getKeyIndex(e)>-1},e.prototype.delete=function(e){var t=this.getKeyIndex(e);return t>-1&&(this.keys.splice(t,1),this.values.splice(t,1),!0)},e.prototype.forEach=function(e,t){var n=this;void 0===t&&(t=this),this.values.forEach((function(r,i){r&&n.keys[i]&&e.call(t,r,n.keys[i],n)}))},e.prototype.clear=function(){this.keys=[],this.values=[]},e}(),gy="en-US",vy=new(function(){function e(){this.code=gy,this.langs=new my}return e.prototype.setCode=function(e){this.code=e||gy},e.prototype.setLanguage=function(e,t){var n=this;(e=[].concat(e)).forEach((function(e){if(n.langs.has(e)){var r=n.langs.get(e);n.langs.set(e,Rl(r,t))}else n.langs.set(e,t)}))},e.prototype.get=function(e,t){t||(t=this.code);var n=this.langs.get(t);n||(n=this.langs.get(gy));var r=n[e];if(!r)throw new Error('There is no text key "'+e+'" in '+t);return r},e}()),yy=[[{action:"Add row to up",command:"addRowToUp",disableInThead:!0,className:"add-row-up"},{action:"Add row to down",command:"addRowToDown",disableInThead:!0,className:"add-row-down"},{action:"Remove row",command:"removeRow",disableInThead:!0,className:"remove-row"}],[{action:"Add column to left",command:"addColumnToLeft",className:"add-column-left"},{action:"Add column to right",command:"addColumnToRight",className:"add-column-right"},{action:"Remove column",command:"removeColumn",className:"remove-column"}],[{action:"Align column to left",command:"alignColumn",payload:{align:"left"},className:"align-column-left"},{action:"Align column to center",command:"alignColumn",payload:{align:"center"},className:"align-column-center"},{action:"Align column to right",command:"alignColumn",payload:{align:"right"},className:"align-column-right"}],[{action:"Remove table",command:"removeTable",className:"remove-table"}]];function by(e,t){return yy.map((function(n){return n.map((function(n){var r=n.action,i=n.command,o=n.payload,a=n.disableInThead,s=n.className;return{label:vy.get(r),onClick:function(){e.emit("command",i,o)},disabled:t&&!!a,className:s}}))})).concat()}var wy=["image","link","customBlock","frontMatter"],xy=["strong","strike","emph","code"],ky=["bulletList","orderedList","taskList"];function Sy(e,t,n){var r=e.$from,i=e.$to,o=e.from,a=e.to,s={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}};return t.nodesBetween(o,a,(function(e,t,o){var a=function(e,t){var n=e.type.name;return"listItem"===n?e.attrs.task?"taskList":t.type.name:-1!==n.indexOf("table")?"table":n}(e,o);Ac(wy,a)||(Ac(ky,a)?(!function(e,t){t[e]={active:!0},ky.filter((function(t){return t!==e})).forEach((function(e){t[e]&&delete t[e]}))}(a,s),s.indent.disabled=!1,s.outdent.disabled=!1):"paragraph"===a||"text"===a?function(e,t,n,r){xy.forEach((function(i){var o=n.marks[i],a=e.marksAcross(t)||[];o.isInSet(a)&&(r[i]={active:!0})}))}(r,i,n,s):s[a]={active:!0})})),s}function Cy(e){return new(0,Ds.Plugin)({view:function(){return{update:function(t){var n=t.state,r=n.selection,i=n.doc,o=n.schema;e.emit("changeToolbarState",{toolbarState:Sy(r,i,o)})}}}})}var Ey=function(){function e(e,t,n,r){var i=this;this.openEditor=function(){if(i.innerEditorView)throw new Error("The editor is already opened.");i.dom.draggable=!1,i.wrapper.style.display="none",i.innerViewContainer.style.display="block",i.innerEditorView=new(0,Ms.EditorView)(i.innerViewContainer,{state:Ds.EditorState.create({doc:i.node,plugins:[(0,Ls.keymap)({"Mod-z":function(){return Tl(i.innerEditorView.state,i.innerEditorView.dispatch)},"Shift-Mod-z":function(){return _l(i.innerEditorView.state,i.innerEditorView.dispatch)},Tab:function(e,t){return t(e.tr.insertText("\t")),!0},Enter:qs,Escape:function(){return i.cancelEditing(),!0},"Ctrl-Enter":function(){return i.saveAndFinishEditing(),!0}}),El()]}),dispatchTransaction:function(e){return i.dispatchInner(e)},handleDOMEvents:{mousedown:function(){return i.editorView.hasFocus()&&i.innerEditorView.focus(),!0},blur:function(){return i.saveAndFinishEditing(),!0}}}),i.innerEditorView.focus()},this.node=e,this.editorView=t,this.getPos=n,this.toDOMAdaptor=r,this.innerEditorView=null,this.canceled=!1,this.dom=document.createElement("div"),this.dom.className=Hu("custom-block"),this.wrapper=document.createElement("div"),this.wrapper.className=Hu("custom-block-view"),this.createInnerViewContainer(),this.renderCustomBlock(),this.dom.appendChild(this.innerViewContainer),this.dom.appendChild(this.wrapper)}return e.prototype.renderToolArea=function(){var e=this,t=document.createElement("div"),n=document.createElement("span"),r=document.createElement("button");t.className="tool",n.textContent=this.node.attrs.info,n.className="info",r.type="button",r.addEventListener("click",(function(){return e.openEditor()})),t.appendChild(n),t.appendChild(r),this.wrapper.appendChild(t)},e.prototype.renderCustomBlock=function(){var e=this.toDOMAdaptor.getToDOMNode(this.node.attrs.info);if(e){for(var t=e(this.node);this.wrapper.hasChildNodes();)this.wrapper.removeChild(this.wrapper.lastChild);t&&this.wrapper.appendChild(t),this.renderToolArea()}},e.prototype.createInnerViewContainer=function(){this.innerViewContainer=document.createElement("div"),this.innerViewContainer.className=Hu("custom-block-editor"),this.innerViewContainer.style.display="none"},e.prototype.closeEditor=function(){this.innerEditorView&&(this.innerEditorView.destroy(),this.innerEditorView=null,this.innerViewContainer.style.display="none"),this.wrapper.style.display="block"},e.prototype.saveAndFinishEditing=function(){var e=this.editorView.state.selection.to,t=this.editorView.state;this.editorView.dispatch(t.tr.setSelection(Xc(t.tr,e))),this.editorView.focus(),this.renderCustomBlock(),this.closeEditor()},e.prototype.cancelEditing=function(){var e=Al(this.innerEditorView.state);for(this.canceled=!0;e--;)Tl(this.innerEditorView.state,this.innerEditorView.dispatch),Tl(this.editorView.state,this.editorView.dispatch);this.canceled=!1;var t=this.editorView.state.selection.to,n=this.editorView.state;this.editorView.dispatch(n.tr.setSelection(Ds.TextSelection.create(n.doc,t))),this.editorView.focus(),this.closeEditor()},e.prototype.dispatchInner=function(e){var t=this.innerEditorView.state.applyTransaction(e),n=t.state,r=t.transactions;if(this.innerEditorView.updateState(n),!this.canceled&&lp(this.getPos)){for(var i=this.editorView.state.tr,o=Ps.StepMap.offset(this.getPos()+1),a=0;a<r.length;a+=1)for(var s=r[a].steps,l=0;l<s.length;l+=1)i.step(s[l].map(o));i.docChanged&&this.editorView.dispatch(i)}},e.prototype.update=function(e){return!!e.sameMarkup(this.node)&&(this.node=e,this.innerEditorView||this.renderCustomBlock(),!0)},e.prototype.stopEvent=function(e){return!!this.innerEditorView&&!!e.target&&this.innerEditorView.dom.contains(e.target)},e.prototype.ignoreMutation=function(){return!0},e.prototype.destroy=function(){this.dom.removeEventListener("dblclick",this.openEditor),this.closeEditor()},e}(),Ty="image-link",_y=function(){function e(e,t,n,r){var i,o=this;this.handleMousedown=function(e){e.preventDefault();var t=e.target,n=e.offsetX,r=e.offsetY;if(o.imageLink&&lp(o.getPos)&&Eu(t,Ty)){var i=getComputedStyle(t,":before");if(e.stopPropagation(),Fu(i,n,r)){var a=o.view.state.tr,s=o.getPos();a.setSelection(Xc(a,s,s+1)),o.view.dispatch(a),o.eventEmitter.emit("openPopup","link",o.imageLink.attrs)}}},this.node=e,this.view=t,this.getPos=n,this.eventEmitter=r,this.imageLink=null!==(i=e.marks.filter((function(e){return"link"===e.type.name}))[0])&&void 0!==i?i:null,this.dom=this.createElement(),this.bindEvent()}return e.prototype.createElement=function(){var e=this.createImageElement(this.node);if(this.imageLink){var t=document.createElement("span");return t.className=Ty,t.appendChild(e),t}return e},e.prototype.createImageElement=function(e){var t=document.createElement("img"),n=e.attrs,r=n.imageUrl,i=n.altText,o=Uv(e.attrs);return t.src=r,i&&(t.alt=i),Zu(o,t),t},e.prototype.bindEvent=function(){this.imageLink&&this.dom.addEventListener("mousedown",this.handleMousedown)},e.prototype.stopEvent=function(){return!0},e.prototype.destroy=function(){this.imageLink&&this.dom.removeEventListener("mousedown",this.handleMousedown)},e}(),Ay=function(){function e(e,t,n,r){var i=this;this.contentDOM=null,this.input=null,this.timer=null,this.handleMousedown=function(e){var t=e.target;if("none"!==getComputedStyle(t,":after").backgroundImage&&lp(i.getPos)){var n=i.view.coordsAtPos(i.getPos()),r=n.top,o=n.right;i.createLanguageEditor({top:r,right:o})}},this.handleKeydown=function(e){"Enter"===e.key&&i.input&&(e.preventDefault(),i.changeLanguage())},this.node=e,this.view=t,this.getPos=n,this.eventEmitter=r,this.createElement(),this.bindDOMEvent(),this.bindEvent()}return e.prototype.createElement=function(){var e=this.node.attrs.language,t=document.createElement("div");t.setAttribute("data-language",e||"text"),t.className="toastui-editor-ww-code-block";var n=this.createCodeBlockElement(),r=n.firstChild;t.appendChild(n),this.dom=t,this.contentDOM=r},e.prototype.createCodeBlockElement=function(){var e=document.createElement("pre"),t=document.createElement("code"),n=this.node.attrs.language,r=Uv(this.node.attrs);return n&&t.setAttribute("data-language",n),Zu(r,e),e.appendChild(t),e},e.prototype.createLanguageEditor=function(e){var t=this,n=e.top,r=e.right,i=document.createElement("span");i.className="toastui-editor-ww-code-block-language";var o=document.createElement("input");o.type="text",o.value=this.node.attrs.language,i.appendChild(o),this.view.dom.parentElement.appendChild(i);var a=i.clientWidth;Wl(i,{top:n+10+"px",left:r-a-10+"px",width:a+"px"}),this.input=o,this.input.addEventListener("blur",(function(){return t.changeLanguage()})),this.input.addEventListener("keydown",this.handleKeydown),this.clearTimer(),this.timer=setTimeout((function(){t.input.focus()}))},e.prototype.bindDOMEvent=function(){this.dom&&this.dom.addEventListener("click",this.handleMousedown)},e.prototype.bindEvent=function(){var e=this;this.eventEmitter.listen("scroll",(function(){e.input&&e.reset()}))},e.prototype.changeLanguage=function(){if(this.input&&lp(this.getPos)){var e=this.input.value;this.reset();var t=this.getPos(),n=this.view.state.tr;n.setNodeMarkup(t,null,{language:e}),this.view.dispatch(n)}},e.prototype.reset=function(){var e;if(null===(e=this.input)||void 0===e?void 0:e.parentElement){var t=this.input.parentElement;this.input=null,Uu(t)}},e.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},e.prototype.stopEvent=function(){return!0},e.prototype.update=function(e){return!!e.sameMarkup(this.node)&&(this.node=e,!0)},e.prototype.destroy=function(){this.reset(),this.clearTimer(),this.dom&&this.dom.removeEventListener("click",this.handleMousedown)},e}(),Oy=/MsoListParagraph/,Ny=/style=(.|\n)*mso-/,My=/mso-list:(.*)/,Py=/O:P/,Dy=/^(n|u|l)/,Ly="p.MsoListParagraph";function Ry(e){for(var t=[],n=document.createTreeWalker(e,1,null,!1);n.nextNode();){var r=n.currentNode;if(Vu(r)){var i=r,o=i.outerHTML,a=i.textContent,s=Ny.test(o),l=My.test(o);s&&!l&&a?t.push([r,!0]):(Py.test(r.nodeName)||s&&!a||l)&&t.push([r,!1])}}return t.forEach((function(e){var t=e[0];e[1]?function(e){for(var t=[];e.firstChild;)t.push(e.firstChild),e.parentNode&&e.parentNode.insertBefore(e.firstChild,e);Uu(e)}(t):Uu(t)})),e.innerHTML.trim()}function Iy(e){var t=[];return e.forEach((function(e,n){var r=t[n-1],i=function(e,t){var n=e.getAttribute("style");if(n){var r=n.match(My)[1].trim().split(" ")[1];return{id:t,level:parseInt(r.replace("level",""),10),prev:null,parent:null,children:[],unordered:Dy.test(e.textContent||""),contents:Ry(e)}}return null}(e,n);i&&(r&&function(e,t){if(t.level<e.level)t.children.push(e),e.parent=t;else{for(;t&&t.level!==e.level;)t=t.parent;t&&(e.prev=t,e.parent=t.parent,e.parent&&e.parent.children.push(e))}}(i,r),t.push(i))})),t}function By(e){var t=e[0].unordered?"ul":"ol",n=document.createElement(t);return e.forEach((function(e){var t=e.children,r=e.contents,i=document.createElement("li");i.innerHTML=r,n.appendChild(i),t.length&&n.appendChild(By(t))})),n}function jy(e){return By(Iy(e).filter((function(e){return!e.parent})))}function Fy(e){var t=document.createElement("div");t.innerHTML=e;var n,r,i=[],o=(n=Ly,(r=Wc(t.querySelectorAll(n))).length?r:[]);return o.forEach((function(e){var n,r,o=function(e){for(;e&&!Vu(e);)e=e.nextSibling;return!e||!Oy.test(e.className)}(e.nextSibling);if(i.push(e),o){var a=jy(i),s=e.nextSibling;s?(n=a,(r=s).parentNode&&r.parentNode.insertBefore(n,r)):function(e,t){(t=Bl(t)?Wc(t):[t]).forEach((function(t){e.appendChild(t)}))}(t,a),i=[]}Uu(e)})),""+(o.length?"<p></p>":"")+t.innerHTML}var zy="\x3c!--StartFragment--\x3e",Hy="\x3c!--EndFragment--\x3e";function qy(e){return function(e){return Ny.test(e)}(e=function(e){return/<\/td>((?!<\/tr>)[\s\S])*$/i.test(e)&&(e="<tr>"+e+"</tr>"),/<\/tr>((?!<\/table>)[\s\S])*$/i.test(e)&&(e="<table>"+e+"</table>"),e}(e=function(e){var t=e.indexOf(zy),n=e.lastIndexOf(Hy);return t>-1&&n>-1&&(e=e.slice(t+zy.length,n)),e.replace(/<br[^>]*>/g,ju)}(e)))&&(e=Fy(e)),e}function Vy(e,t,n){for(var r=[],i=e.childCount,o=0;o<i;o+=1)if(!e.child(o).attrs.extended){var a=o<i?n.create(e.child(o).attrs,e.child(o).content):n.createAndFill();r.push(a)}return r}function Uy(e,t,n){var r=n.nodes,i=r.tableRow,o=Vy(e,0,r.tableHeadCell);return i.create(null,o)}function Wy(e,t,n){var r=n.nodes,i=r.tableRow,o=Vy(e,0,r.tableBodyCell);return i.create(null,o)}function $y(e){var t=[],n=[];"tableHead"===e.firstChild.type.name&&e.firstChild.forEach((function(e){return t.push(e)}));"tableBody"===e.lastChild.type.name&&e.lastChild.forEach((function(e){return n.push(e)}));return Pl(Pl([],t),n)}function Gy(e,t,n){var r=Uy(e,0,n);return n.nodes.tableHead.create(null,r)}function Xy(e,t,n){var r=e.map((function(e){return Wy(e,0,n)}));if(!e.length){var i=function(e,t){for(var n=t.nodes,r=n.tableRow,i=n.tableBodyCell,o=[],a=0;a<e;a+=1){var s=i.createAndFill();o.push(s)}return r.create({dummyRowForPasting:!0},o)}(t,n);r.push(i)}return n.nodes.tableBody.create(null,r)}function Yy(e,t,n){var r=[],i=e.content,o=e.openStart,a=e.openEnd;return i.forEach((function(e){if("table"===e.type.name){var i=ly(new(0,Ns.Slice)(Ns.Fragment.from(e),0,0));if(i){var o=$y(i),a="tableBody"===i.firstChild.type.name,s=function(e,t,n,r){var i=function(e){return e.reduce((function(e,t){return e.childCount>t.childCount?e:t})).childCount}(e);if(n&&r)return t.nodes.table.create(null,[Xy(e,i,t)]);var o=e[0],a=e.slice(1),s=[Gy(o,0,t)];return a.length&&s.push(Xy(a,i,t)),t.nodes.table.create(null,s)}(o,t,a,n);r.push(s)}}else r.push(e)})),new(0,Ns.Slice)(Ns.Fragment.from(r),o,a)}var Zy=4,Ky=2;function Jy(e){return e*Zy}function Qy(e,t){var n=e.state,r=n.selection,i=n.schema,o=n.tr,a=sy(r),s=a.anchor,l=a.head;if(s&&l){var c=ly(t);if(!c)return!1;var u=Qv.create(s),p=u.getRectOffsets(s,l),d=function(e,t,n){var r=[],i=$y(e),o=(i[0].childCount,i.length),a=0===t.startRowIdx,s=i.slice(0,o);if(a){var l=s.shift();if(l){var c=Uy(l,0,n).content;r.push(c)}}return s.forEach((function(e){if(!e.attrs.dummyRowForPasting){var t=Wy(e,0,n).content;r.push(t)}})),r}(c,p,i),h=function(e,t,n){for(var r=t.startRowIdx,i=t.startColIdx,o=n.length,a=0,s=function(e){var t=n[e].childCount;n[e].forEach((function(e){var n=e.attrs.colspan;n>1&&(t+=n-1)})),a=Math.max(a,t)},l=0;l<o;l+=1)s(l);var c=r+o-1,u=i+a-1;return{startRowIdx:r,startColIdx:i,endRowIdx:c,endColIdx:u,addedRowCount:Math.max(c+1-e.totalRowCount,0),addedColumnCount:Math.max(u+1-e.totalColumnCount,0)}}(u,p,d),f=[];return function(e,t){var n=e.getSpannedOffsets(t),r=cy(n),i=r.rowCount,o=r.columnCount,a=cy(t),s=a.rowCount,l=a.columnCount;return i===s&&o===l}(u,h)&&(function(e,t){for(var n=e.startRowIdx,r=e.startColIdx,i=e.endRowIdx,o=e.endColIdx,a=e.addedRowCount,s=e.addedColumnCount,l=n;l<=i-a;l+=1)t.push({rowIdx:l,startColIdx:r,endColIdx:o-s})}(h,f),h.addedColumnCount&&function(e,t,n,r,i){for(var o=r.startRowIdx,a=r.startColIdx,s=r.endRowIdx,l=r.endColIdx,c=r.addedRowCount,u=r.addedColumnCount,p=n.totalRowCount,d=0,h=0;h<p;h+=1){var f=n.getCellInfo(h,l-u),m=f.offset,g=f.nodeSize,v=e.mapping.map(m+g),y=iy(u,h,t);if(e.insert(v,y),h>=o&&h<=s-c){var b=n.getCellInfo(h,l-u),w=e.mapping.map(b.offset),x=v+Jy(u);i[d]={rowIdx:h,startColIdx:a,endColIdx:l,dummyOffsets:[w,x]},d+=1}}}(o,i,u,h,f),h.addedRowCount&&function(e,t,n,r,i){var o=r.addedRowCount,a=r.addedColumnCount,s=r.startColIdx,l=r.endColIdx,c=e.mapping.maps.length,u=n.tableEndOffset-2,p=ry(o,n.totalColumnCount+a,t),d=u;e.insert(e.mapping.slice(c).map(d),p);for(var h=0;h<o;h+=1){var f=d+Jy(s)+1,m=d+Jy(l+1)+1,g=d+Jy(n.totalColumnCount+a)+Ky;i.push({rowIdx:h+n.totalRowCount,startColIdx:s,endColIdx:l,dummyOffsets:[f,m]}),d=g}}(o,i,u,h,f),function(e,t,n,r){var i=e.mapping.maps.length;n.forEach((function(n,o){var a=n.rowIdx,s=n.startColIdx,l=n.endColIdx,c=n.dummyOffsets,u=e.mapping.slice(i),p=new(0,Ns.Slice)(t[o],0,0),d=c?c[0]:r.getCellStartOffset(a,s),h=c?c[1]:r.getCellEndOffset(a,l);e.replace(u.map(d),u.map(h),p)}))}(o,d,f,u),e.dispatch(o),function(e,t,n){var r=e.state,i=r.tr,o=r.doc,a=Qv.create(o.resolve(n)),s=t[0],l=s.rowIdx,c=s.startColIdx,u=Bc(t),p=u.rowIdx,d=u.endColIdx,h=a.getCellInfo(l,c).offset,f=a.getCellInfo(p,d).offset;e.dispatch(i.setSelection(new ny(o.resolve(h),o.resolve(f))))}(e,f,u.getCellInfo(0,0).offset)),!0}return!1}var eb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),t}(rp),tb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"inline*",group:"block",attrs:Ml({},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:[{tag:"p"}],toDOM:function(e){return["p",Uv(e.attrs),0]}}},enumerable:!1,configurable:!0}),t}(rp),nb=/\s{1,4}$/,rb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),t.prototype.addSpaces=function(){return function(e,t){var n=e.selection,r=e.tr,i=n.$from,o=n.$to;return!(!i.blockRange(o)||jv(i)||Fv(i))&&(t(r.insertText("    ",i.pos,o.pos)),!0)}},t.prototype.removeSpaces=function(){return function(e,t){var n=e.selection,r=e.tr,i=n.$from,o=n.$to,a=n.from;if(i.blockRange(o)&&!jv(i)&&!Fv(i)){var s=i.nodeBefore;if(s&&s.isText){var l=s.text,c=l.replace(nb,""),u=l.length-c.length;return t(r.delete(a-u,a)),!0}}return!1}},t.prototype.keymaps=function(){return{Tab:this.addSpaces(),"Shift-Tab":this.removeSpaces()}},t}(rp),ib=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"levels",{get:function(){return[1,2,3,4,5,6]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){var e=this.levels.map((function(e){return{tag:"h"+e,getAttrs:function(t){var n=t.getAttribute("data-raw-html");return Ml({level:e},n&&{rawHTML:n})}}}));return{attrs:Ml({level:{default:1},headingType:{default:"atx"},rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),content:"inline*",group:"block",defining:!0,parseDOM:e,toDOM:function(e){var t=e.attrs;return["h"+t.level,Uv(t),0]}}},enumerable:!1,configurable:!0}),t.prototype.commands=function(){return function(e){return function(t,n){return Qs(t.schema.nodes[e.level?"heading":"paragraph"],e)(t,n)}}},t}(rp),ob=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:Ml({language:{default:null},rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),code:!0,defining:!0,marks:"",parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(e){var t=e.getAttribute("data-raw-html"),n=e.firstElementChild;return Ml({language:(null==n?void 0:n.getAttribute("data-language"))||null},t&&{rawHTML:t})}}],toDOM:function(e){var t=e.attrs;return[t.rawHTML||"pre",["code",Ml({"data-language":t.language},Uv(t)),0]]}}},enumerable:!1,configurable:!0}),t.prototype.commands=function(){return function(){return function(e,t){return Qs(e.schema.nodes.codeBlock)(e,t)}}},t.prototype.moveCursor=function(e){var t=this;return function(n,r){var i,o,a=n.tr,s=n.doc,l=n.schema,c=n.selection.$from;if(t.context.view.endOfTextblock(e)&&"codeBlock"===c.node().type.name){var u=c.parent.textContent.split("\n"),p="up"===e?c.start():c.end(),d="up"===e?[p,u[0].length+p]:[p-Bc(u).length,p],h=s.resolve("up"===e?c.before():c.after()),f="up"===e?h.nodeBefore:h.nodeAfter;if(i=c.pos,o=d[1],i>=d[0]&&i<=o&&!f){var m=Yc(a,h,l);if(m)return r(m),!0}}return!1}},t.prototype.keymaps=function(){var e=this.commands()();return{"Shift-Mod-p":e,"Shift-Mod-P":e,ArrowUp:this.moveCursor("up"),ArrowDown:this.moveCursor("down")}},t}(rp),ab=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"bulletList"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:Ml({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:[Hv("ul")],toDOM:function(e){return["ul",Uv(e.attrs),0]}}},enumerable:!1,configurable:!0}),t.prototype.changeList=function(){return function(e,t){return Gv(e.schema.nodes.bulletList)(e,t)}},t.prototype.commands=function(){return{bulletList:this.changeList,taskList:Xv}},t.prototype.keymaps=function(){var e=this.changeList(),t=Kv(),n=t.indent,r=t.outdent;return{"Mod-u":e,"Mod-U":e,Tab:n(),"Shift-Tab":r()}},t}(rp),sb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"orderedList"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:Ml({order:{default:1},rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:[{tag:"ol",getAttrs:function(e){var t=e.getAttribute("start"),n=e.getAttribute("data-raw-html");return Ml({order:e.hasAttribute("start")?Number(t):1},n&&{rawHTML:n})}}],toDOM:function(e){var t=e.attrs;return[t.rawHTML||"ol",Ml({start:1===t.order?null:t.order},Uv(t)),0]}}},enumerable:!1,configurable:!0}),t.prototype.commands=function(){return function(){return function(e,t){return Gv(e.schema.nodes.orderedList)(e,t)}}},t.prototype.keymaps=function(){var e=this.commands()(),t=Kv(),n=t.indent,r=t.outdent;return{"Mod-o":e,"Mod-O":e,Tab:n(),"Shift-Tab":r()}},t}(rp),lb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"paragraph block*",selectable:!1,attrs:{task:{default:!1},checked:{default:!1},rawHTML:{default:null}},defining:!0,parseDOM:[{tag:"li",getAttrs:function(e){var t=e.getAttribute("data-raw-html");return Ml({task:e.hasAttribute("data-task"),checked:e.hasAttribute("data-task-checked")},t&&{rawHTML:t})}}],toDOM:function(e){var t=e.attrs,n=t.task,r=t.checked;if(!n)return[t.rawHTML||"li",0];var i=["task-list-item"];return r&&i.push("checked"),[t.rawHTML||"li",Ml({class:i.join(" "),"data-task":n},r&&{"data-task-checked":r}),0]}}},enumerable:!1,configurable:!0}),t.prototype.liftToPrevListItem=function(){return function(e,t){var n=e.selection,r=e.tr,i=e.schema,o=n.$from,a=n.empty,s=i.nodes.listItem,l=o.parent,c=o.node(-1);if(a&&!l.childCount&&c.type===s){if(o.index(-2)>=1)return r.delete(o.start(-1)-1,o.end(-1)),t(r),!0;if(o.node(-3).type===s)return r.delete(o.start(-2)-1,o.end(-1)),t(r),!0}return!1}},t.prototype.keymaps=function(){return{Backspace:this.liftToPrevListItem(),Enter:function(e,t){return(n=e.schema.nodes.listItem,function(e,t){var r=e.tr,i=e.selection,o=i.$from,a=i.$to;if(o.depth<2||!o.sameParent(a))return!1;var s=o.node(-1);if(s.type!==n)return!1;if(0===o.parent.content.size&&o.node(-1).childCount===o.indexAfter(-1)){if(2===o.depth||o.node(-3).type!==n||o.index(-2)!==o.node(-2).childCount-1)return!1;for(var l=o.index(-1)>0,c=Ns.Fragment.empty,u=o.depth-(l?1:2);u>=o.depth-3;u-=1)c=Ns.Fragment.from(o.node(u).copy(c));return c=c.append(Ns.Fragment.from(n.createAndFill())),r.replace(l?o.before():o.before(-1),o.after(-3),new(0,Ns.Slice)(c,l?3:2,2)),r.setSelection(Ds.Selection.near(r.doc.resolve(o.pos+(l?3:2)))),t(r),!0}var p=a.pos===o.end()?s.contentMatchAt(0).defaultType:null,d=p&&[null,{type:p}];return r.delete(o.pos,a.pos),!!(0,Ps.canSplit)(r.doc,o.pos,2,d)&&(r.split(o.pos,2,d),t(r),!0)})(e,t);var n}}},t}(rp),cb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{attrs:Ml({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),content:"block+",group:"block",parseDOM:[Hv("blockquote")],toDOM:function(e){return["blockquote",Uv(e.attrs),0]}}},enumerable:!1,configurable:!0}),t.prototype.commands=function(){return function(){return function(e,t){return Js(e.schema.nodes.blockQuote)(e,t)}}},t.prototype.keymaps=function(){var e=this.commands()();return{"Alt-q":e,"Alt-Q":e}},t}(rp),ub={left:function(e,t){var n=e[0],r=e[1],i=t.totalColumnCount,o=0===r;if(0!==n||!o){r-=1,o&&(n-=1,r=i-1);var a=t.getCellInfo(n,r);return a.offset+a.nodeSize-2}return null},right:function(e,t){var n=e[0],r=e[1],i=t.totalRowCount,o=t.totalColumnCount,a=r===o-1;if(n!==i-1||!a){var s=r+1,l=t.getColspanStartInfo(n,r);return(null==l?void 0:l.count)>1&&(s+=l.count-1),(a||s===o)&&(n+=1,s=0),t.getCellInfo(n,s).offset+2}return null},up:function(e,t){var n=e[0],r=e[1];if(n>0){var i=t.getCellInfo(n-1,r);return i.offset+i.nodeSize-2}return null},down:function(e,t){var n=e[0],r=e[1],i=t.totalRowCount;if(n<i-1){var o=n+1,a=t.getRowspanStartInfo(n,r);return(null==a?void 0:a.count)>1&&(o+=a.count-1),t.getCellInfo(o,r).offset+2}return null}};function pb(e,t,n){var r=n[0],i=n[1],o=t.getRowspanStartInfo(r,i),a="up"===e&&0===r,s="down"===e&&((null==o?void 0:o.count)>1?r+o.count-1:r)===t.totalRowCount-1;return a||s}function db(e,t,n,r){void 0===r&&(r=!1);var i=e.doc.resolve(t.tableEndOffset);return r||!i.nodeAfter?Yc(e,i,n):e.setSelection(Ds.Selection.near(i,1))}function hb(e,t,n,r){var i=(0,ub[e])(n,r);if(i){var o="right"===e||"down"===e?1:-1;return t.setSelection(Ds.Selection.near(t.doc.resolve(i),o))}return null}function fb(e,t,n){var r=e.getCellInfo(t,0).offset,i=e.getCellInfo(t,n-1);return{from:r,to:i.offset+i.nodeSize}}var mb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"tableHead{1} tableBody{1}",group:"block",attrs:Ml({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:[Hv("table")],toDOM:function(e){return["table",Uv(e.attrs),0]}}},enumerable:!1,configurable:!0}),t.prototype.addTable=function(){return function(e){return void 0===e&&(e={rowCount:2,columnCount:1,data:[]}),function(t,n){var r=e.rowCount,i=e.columnCount,o=e.data,a=t.schema,s=t.selection,l=t.tr,c=s.from,u=s.to,p=s.$from;if(c===u&&!Fv(p)){var d=a.nodes,h=d.tableHead,f=d.tableBody,m=null==o?void 0:o.slice(0,i),g=null==o?void 0:o.slice(i,o.length),v=function(e,t,n){for(var r=t.nodes,i=r.tableRow,o=r.tableHeadCell,a=r.paragraph,s=[],l=0;l<e;l+=1){var c=n&&n[l],u=a.create(null,c?t.text(c):[]);s.push(o.create(null,u))}return[i.create(null,s)]}(i,a,m),y=ry(r-1,i,a,g),b=a.nodes.table.create(null,[h.create(null,v),f.create(null,y)]);return n(l.replaceSelectionWith(b)),!0}return!1}}},t.prototype.removeTable=function(){return function(){return function(e,t){var n=e.selection,r=e.tr,i=Qv.create(n.$anchor);if(i){var o=i.tableStartOffset,a=i.tableEndOffset,s=o-1,l=Xc(r.delete(s,a),s);return t(r.setSelection(l)),!0}return!1}}},t.prototype.addColumn=function(e){return function(){return function(t,n){var r=t.selection,i=t.tr,o=t.schema,a=sy(r),s=a.anchor,l=a.head;if(s&&l){for(var c=Qv.create(s),u=c.getRectOffsets(s,l),p="left"===e?u.startColIdx:u.endColIdx+1,d=cy(u).columnCount,h=c.totalRowCount,f=0;f<h;f+=1){var m=iy(d,f,o);i.insert(i.mapping.map(c.posAt(f,p)),m)}return n(i),!0}return!1}}},t.prototype.removeColumn=function(){return function(){return function(e,t){var n=e.selection,r=e.tr,i=sy(n),o=i.anchor,a=i.head;if(o&&a){var s=Qv.create(o),l=s.getRectOffsets(o,a),c=s.totalColumnCount,u=s.totalRowCount;if(cy(l).columnCount===c)return!1;for(var p=l.startColIdx,d=l.endColIdx,h=r.mapping.maps.length,f=0;f<u;f+=1)for(var m=d;m>=p;m-=1){var g=s.getCellInfo(f,m),v=g.offset,y=g.nodeSize,b=r.mapping.slice(h).map(v),w=b+y;r.delete(b,w)}return t(r),!0}return!1}}},t.prototype.addRow=function(e){return function(){return function(t,n){var r=t.selection,i=t.schema,o=t.tr,a=sy(r),s=a.anchor,l=a.head;if(s&&l){var c=Qv.create(s),u=c.totalColumnCount,p=c.getRectOffsets(s,l),d=cy(p).rowCount,h=function(e,t,n){var r,i,o;return"up"===e?(r=n.startRowIdx,i=0,o=-1):(r=n.endRowIdx,i=t.totalColumnCount-1,o=t.getCellInfo(r,i).nodeSize+1),{targetRowIdx:r,insertColIdx:i,nodeSize:o}}(e,c,p),f=h.targetRowIdx,m=h.insertColIdx,g=h.nodeSize;if(!(0===f)){for(var v=[],y=o.mapping.map(c.posAt(f,m))+g,b=[],w=0;w<u;w+=1)b=b.concat(iy(1,f,i));for(var x=0;x<d;x+=1)v.push(i.nodes.tableRow.create(null,b));return n(o.insert(y,v)),!0}}return!1}}},t.prototype.removeRow=function(){return function(){return function(e,t){var n=e.selection,r=e.tr,i=sy(n),o=i.anchor,a=i.head;if(o&&a){var s=Qv.create(o),l=s.totalRowCount,c=s.totalColumnCount,u=s.getRectOffsets(o,a),p=cy(u).rowCount,d=u.startRowIdx,h=u.endRowIdx;if(p===l-1||0===d)return!1;for(var f=h;f>=d;f-=1){var m=fb(s,f,c),g=m.from,v=m.to;r.delete(g-1,v+1)}return t(r),!0}return!1}}},t.prototype.alignColumn=function(){return function(e){return void 0===e&&(e={align:"center"}),function(t,n){var r=e.align,i=t.selection,o=t.tr,a=sy(i),s=a.anchor,l=a.head;if(s&&l){for(var c=Qv.create(s),u=c.totalRowCount,p=c.getRectOffsets(s,l),d=p.startColIdx,h=p.endColIdx,f=0;f<u;f+=1)for(var m=d;m<=h;m+=1)if(!c.extendedRowspan(f,m)&&!c.extendedColspan(f,m)){var g=c.getNodeAndPos(f,m),v=g.node,y=g.pos,b=uy(v,{align:r});o.setNodeMarkup(y,null,b)}return n(o),!0}return!1}}},t.prototype.moveToCell=function(e){return function(t,n){var r=t.selection,i=t.tr,o=t.schema,a=sy(r),s=a.anchor,l=a.head;if(s&&l){var c=Qv.create(s),u=c.getCellIndex(s),p=void 0;if(p=pb(e,c,u)?db(i,c,o):hb(e,i,u,c))return n(p),!0}return!1}},t.prototype.moveInCell=function(e){var t=this;return function(n,r){var i=n.selection,o=n.tr,a=n.doc,s=n.schema,l=i.$from;if(!t.context.view.endOfTextblock(e))return!1;var c=Bv(l,(function(e){var t=e.type;return"tableHeadCell"===t.name||"tableBodyCell"===t.name}));if(c){var u=Bv(l,(function(e){return"paragraph"===e.type.name})),p=c.depth;if(u&&function(e,t,n,r){var i=t[0],o=t[1],a=i+3,s=o>=a,l=s?i+1:o,c=function(e,t,n,r,i){var o=t[0],a=t[1],s=t[2];if("left"===e||"up"===e){if(i&&!function(e,t,n){var r=n[0],i=n[1],o=t.resolve(e.before(r-1));return i===r&&!o.nodeBefore}(n,r,[o,a]))return!1;var l=n.before(s);if(r.resolve(l).nodeBefore)return!1}return!0}(e,[o,a,l],n,r,s),u=function(e,t,n,r,i){if("right"===e||"down"===e){if(i&&!function(e){for(var t,n,r=e.depth;r&&"tableBodyCell"!==(n=e.node(r)).type.name;){if("listItem"===n.type.name){var i=e.node(r-1).lastChild===n,o="paragraph"!==(null===(t=n.lastChild)||void 0===t?void 0:t.type.name);return!!i&&!o}r-=1}return!1}(n))return!1;var o=n.after(t);if(r.resolve(o).nodeAfter)return!1}return!0}(e,l,n,r,s);return c&&u}(e,[p,u.depth],l,a)){var d=sy(i).anchor,h=Qv.create(d),f=h.getCellIndex(d),m=void 0;if(!function(e,t,n){var r=n[0],i=n[1];if("up"===e||"down"===e)return!1;var o=t.tableStartOffset,a=t.tableEndOffset,s=t.getCellInfo(r,i),l=s.offset,c=s.nodeSize;return("left"===e?o:a)===("left"===e?l-2:l+c+3)}(e,h,f)?pb(e,h,f)?"up"===e?m=function(e,t,n){var r=e.doc.resolve(t.tableStartOffset-1);return r.nodeBefore?e.setSelection(Ds.Selection.near(r,-1)):Yc(e,r,n)}(o,h,s):"down"===e&&(m=db(o,h,s)):m=hb(e,o,f,h):m=function(e,t,n){var r=e.doc.resolve(t.before(n-3));return e.setSelection(new(0,Ds.NodeSelection)(r))}(o,l,p),m)return r(m),!0}}return!1}},t.prototype.deleteCells=function(){return function(e,t){var n=e.schema,r=e.selection,i=e.tr,o=sy(r),a=o.anchor,s=o.head,l=r instanceof Ds.TextSelection;if(a&&s&&!l){for(var c=Qv.create(a),u=c.getRectOffsets(a,s),p=u.startRowIdx,d=u.startColIdx,h=u.endRowIdx,f=u.endColIdx,m=p;m<=h;m+=1)for(var g=d;g<=f;g+=1)if(!c.extendedRowspan(m,g)&&!c.extendedColspan(m,g)){var v=c.getNodeAndPos(m,g),y=v.node,b=v.pos,w=iy(1,m,n,y.attrs);i.replaceWith(i.mapping.map(b),i.mapping.map(b+y.nodeSize),w)}return t(i),!0}return!1}},t.prototype.exitTable=function(){return function(e,t){var n=e.selection,r=e.tr,i=e.schema,o=n.$from;if(Bv(o,(function(e){var t=e.type;return"tableHeadCell"===t.name||"tableBodyCell"===t.name}))&&Bv(o,(function(e){return"paragraph"===e.type.name}))){var a=sy(n).anchor;return t(db(r,Qv.create(a),i,!0)),!0}return!1}},t.prototype.commands=function(){return{addTable:this.addTable(),removeTable:this.removeTable(),addColumnToLeft:this.addColumn("left"),addColumnToRight:this.addColumn("right"),removeColumn:this.removeColumn(),addRowToUp:this.addRow("up"),addRowToDown:this.addRow("down"),removeRow:this.removeRow(),alignColumn:this.alignColumn()}},t.prototype.keymaps=function(){var e=this.deleteCells();return{Tab:this.moveToCell("right"),"Shift-Tab":this.moveToCell("left"),ArrowUp:this.moveInCell("up"),ArrowDown:this.moveInCell("down"),ArrowLeft:this.moveInCell("left"),ArrowRight:this.moveInCell("right"),Backspace:e,"Mod-Backspace":e,Delete:e,"Mod-Delete":e,"Mod-Enter":this.exitTable()}},t}(rp),gb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"tableHead"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"tableRow{1}",attrs:Ml({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:[Hv("thead")],toDOM:function(e){return["thead",Uv(e.attrs),0]}}},enumerable:!1,configurable:!0}),t}(rp),vb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"tableBody"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"tableRow+",attrs:Ml({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:[{tag:"tbody",getAttrs:function(e){var t=e.querySelectorAll("tr")[0].children.length,n=e.getAttribute("data-raw-html");return!!t&&Ml({},n&&{rawHTML:n})}}],toDOM:function(e){return["tbody",Uv(e.attrs),0]}}},enumerable:!1,configurable:!0}),t}(rp),yb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"tableRow"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"(tableHeadCell | tableBodyCell)*",attrs:Ml({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:[{tag:"tr",getAttrs:function(e){var t=e.children.length,n=e.getAttribute("data-raw-html");return!!t&&Ml({},n&&{rawHTML:n})}}],toDOM:function(e){return["tr",Uv(e.attrs),0]}}},enumerable:!1,configurable:!0}),t}(rp),bb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"tableHeadCell"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"paragraph+",attrs:Ml({align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},extended:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),isolating:!0,parseDOM:[Vv("th")],toDOM:function(e){var t=e.attrs,n=qv(t);return["th",Ml(Ml({},n),Uv(t)),0]}}},enumerable:!1,configurable:!0}),t}(rp),wb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"tableBodyCell"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"(paragraph | bulletList | orderedList)+",attrs:{align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},rowspan:{default:null},extended:{default:null}},isolating:!0,parseDOM:[Vv("td")],toDOM:function(e){return["td",qv(e.attrs),0]}}},enumerable:!1,configurable:!0}),t}(rp),xb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"image"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{inline:!0,attrs:Ml({imageUrl:{default:""},altText:{default:null},rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),group:"inline",selectable:!1,parseDOM:[{tag:"img[src]",getAttrs:function(e){var t=mv(e,{RETURN_DOM_FRAGMENT:!0}).firstChild,n=t.getAttribute("src")||"",r=t.getAttribute("data-raw-html"),i=t.getAttribute("alt");return Ml({imageUrl:n,altText:i},r&&{rawHTML:r})}}],toDOM:function(e){var t=e.attrs;return[t.rawHTML||"img",Ml(Ml({src:_c(t.imageUrl)},t.altText&&{alt:t.altText}),Uv(t))]}}},enumerable:!1,configurable:!0}),t.prototype.addImage=function(){return function(e){return function(t,n){var r=t.schema,i=t.tr,o=e,a=o.imageUrl,s=o.altText;if(!a)return!1;var l=r.nodes.image.createAndFill(Ml({imageUrl:a},s&&{altText:s}));return n(i.replaceSelectionWith(l).scrollIntoView()),!0}}},t.prototype.commands=function(){return{addImage:this.addImage()}},t}(rp),kb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{attrs:Ml({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),group:"block",parseDOM:[{tag:"hr"}],selectable:!1,toDOM:function(e){var t=e.attrs;return["div",Uv(t),[t.rawHTML||"hr"]]}}},enumerable:!1,configurable:!0}),t.prototype.hr=function(){var e=this;return function(){return function(t,n){var r,i=t.selection,o=i.$from;if(o===i.$to){var a=t.doc,s=t.schema.nodes,l=s.thematicBreak,c=s.paragraph,u=[l.create()],p=o.node(1),d=a.child(a.childCount-1)===p,h=a.resolve(o.after(1)),f=(null===(r=o.nodeAfter)||void 0===r?void 0:r.type.name)===e.name;return(d||f)&&u.push(c.create()),n(t.tr.insert(h.pos,u).scrollIntoView()),!0}return!1}}},t.prototype.commands=function(){return{hr:this.hr()}},t.prototype.keymaps=function(){var e=this.hr()();return{"Mod-l":e,"Mod-L":e}},t}(rp),Sb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){var e=["b","strong"].map((function(e){return{tag:e,getAttrs:function(e){var t=e.getAttribute("data-raw-html");return Ml({},t&&{rawHTML:t})}}}));return{attrs:Ml({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:e,toDOM:function(e){var t=e.attrs;return[t.rawHTML||"strong",Uv(t)]}}},enumerable:!1,configurable:!0}),t.prototype.bold=function(){return function(){return function(e,t){return el(e.schema.marks.strong)(e,t)}}},t.prototype.commands=function(){return{bold:this.bold()}},t.prototype.keymaps=function(){var e=this.bold()();return{"Mod-b":e,"Mod-B":e}},t}(qp),Cb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){var e=["i","em"].map((function(e){return{tag:e,getAttrs:function(e){var t=e.getAttribute("data-raw-html");return Ml({},t&&{rawHTML:t})}}}));return{attrs:Ml({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:e,toDOM:function(e){var t=e.attrs;return[t.rawHTML||"em",Uv(t)]}}},enumerable:!1,configurable:!0}),t.prototype.italic=function(){return function(){return function(e,t){return el(e.schema.marks.emph)(e,t)}}},t.prototype.commands=function(){return{italic:this.italic()}},t.prototype.keymaps=function(){var e=this.italic()();return{"Mod-i":e,"Mod-I":e}},t}(qp),Eb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){var e=["s","del"].map((function(e){return{tag:e,getAttrs:function(e){var t=e.getAttribute("data-raw-html");return Ml({},t&&{rawHTML:t})}}}));return{attrs:Ml({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:e,toDOM:function(e){var t=e.attrs;return[t.rawHTML||"del",Uv(t)]}}},enumerable:!1,configurable:!0}),t.prototype.commands=function(){return function(){return function(e,t){return el(e.schema.marks.strike)(e,t)}}},t.prototype.keymaps=function(){var e=this.commands()();return{"Mod-s":e,"Mod-S":e}},t}(qp),Tb=function(e){function t(t){var n=e.call(this)||this;return n.linkAttributes=t,n}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){var e=this;return{attrs:Ml({linkUrl:{default:""},title:{default:null},rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(e){var t=mv(e,{RETURN_DOM_FRAGMENT:!0}).firstChild,n=t.getAttribute("href")||"",r=t.getAttribute("title")||"",i=t.getAttribute("data-raw-html");return Ml({linkUrl:n,title:r},i&&{rawHTML:i})}}],toDOM:function(t){var n=t.attrs;return[n.rawHTML||"a",Ml(Ml({href:_c(n.linkUrl)},e.linkAttributes),Uv(n))]}}},enumerable:!1,configurable:!0}),t.prototype.addLink=function(){return function(e){return function(t,n){var r=e,i=r.linkUrl,o=r.linkText,a=void 0===o?"":o,s=t.schema,l=t.tr,c=t.selection,u=c.empty,p=c.from,d=c.to;if(p&&d&&i){var h={linkUrl:i},f=s.mark("link",h);if(u&&a){var m=Gc(s,a,f);l.replaceRangeWith(p,d,m)}else l.addMark(p,d,f);return n(l.scrollIntoView()),!0}return!1}}},t.prototype.toggleLink=function(){return function(e){return function(t,n){return el(t.schema.marks.link,e)(t,n)}}},t.prototype.commands=function(){return{addLink:this.addLink(),toggleLink:this.toggleLink()}},t}(qp),_b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{attrs:Ml({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:[{tag:"code",getAttrs:function(e){var t=e.getAttribute("data-raw-html");return Ml({},t&&{rawHTML:t})}}],toDOM:function(e){var t=e.attrs;return[t.rawHTML||"code",Uv(t)]}}},enumerable:!1,configurable:!0}),t.prototype.commands=function(){return function(){return function(e,t){return el(e.schema.marks.code)(e,t)}}},t.prototype.keymaps=function(){var e=this.commands()();return{"Shift-Mod-c":e,"Shift-Mod-C":e}},t}(qp),Ab=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:{info:{default:null}},atom:!0,code:!0,defining:!0,parseDOM:[{tag:"div[data-custom-info]",getAttrs:function(e){return{info:e.getAttribute("data-custom-info")}}}],toDOM:function(e){return["div",{"data-custom-info":e.attrs.info||null},0]}}},enumerable:!1,configurable:!0}),t.prototype.commands=function(){return function(e){return function(t,n){return!!(null==e?void 0:e.info)&&Qs(t.schema.nodes.customBlock,e)(t,n)}}},t}(rp),Ob=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"frontMatter"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-front-matter]"}],toDOM:function(){return["div",{"data-front-matter":"true"},0]}}},enumerable:!1,configurable:!0}),t.prototype.commands=function(){return function(){return function(e,t,n){var r=e.selection.$from;return!(!n.endOfTextblock("down")||"frontMatter"!==r.node().type.name)&&Us(e,t)}}},t.prototype.keymaps=function(){return{Enter:this.commands()()}},t}(rp),Nb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"htmlComment"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-html-comment]"}],toDOM:function(){return["div",{"data-html-comment":"true"},0]}}},enumerable:!1,configurable:!0}),t.prototype.commands=function(){return function(){return function(e,t,n){var r=e.selection.$from;return!(!n.endOfTextblock("down")||"htmlComment"!==r.node().type.name)&&Us(e,t)}}},t.prototype.keymaps=function(){return{Enter:this.commands()()}},t}(rp);var Mb=Hu("contents"),Pb=function(e){function t(t,n){var r=e.call(this,t)||this,i=n.toDOMAdaptor,o=n.htmlSchemaMap,a=void 0===o?{}:o,s=n.linkAttributes,l=void 0===s?{}:s,c=n.useCommandShortcut,u=void 0===c||c,p=n.wwPlugins,d=void 0===p?[]:p,h=n.wwNodeViews,f=void 0===h?{}:h;return r.editorType="wysiwyg",r.el.classList.add("ww-mode"),r.toDOMAdaptor=i,r.linkAttributes=l,r.extraPlugins=d,r.pluginNodeViews=f,r.specs=r.createSpecs(),r.schema=r.createSchema(a),r.context=r.createContext(),r.keymaps=r.createKeymaps(u),r.view=r.createView(),r.commands=r.createCommands(),r.specs.setContext(Ml(Ml({},r.context),{view:r.view})),r.initEvent(),r}return Nl(t,e),t.prototype.createSpecs=function(){return e=this.linkAttributes,new pp([new eb,new tb,new rb,new ib,new ob,new ab,new sb,new lb,new cb,new mb,new gb,new vb,new yb,new bb,new wb,new xb,new kb,new Sb,new Cb,new Eb,new Tb(e),new _b,new Ab,new Ob,new ap,new Nb]);var e},t.prototype.createContext=function(){return{schema:this.schema,eventEmitter:this.eventEmitter}},t.prototype.createSchema=function(e){return new(0,Ns.Schema)({nodes:Ml(Ml({},this.specs.nodes),e.nodes),marks:Ml(Ml({},this.specs.marks),e.marks)})},t.prototype.createPlugins=function(){return Pl([new(0,Ds.Plugin)({key:py,state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(py);if(n)return-1===n?null:n;if(pc(t)||!e.docChanged)return t;var r=e.mapping.mapResult(t),i=r.deleted,o=r.pos;return i?null:o}},props:{decorations:fy,createSelectionBetween:function(e){var t=e.state;return pc(py.getState(t))?null:t.selection}},view:function(e){return new dy(e)}}),(e=this.eventEmitter,new(0,Ds.Plugin)({props:{handleDOMEvents:{contextmenu:function(t,n){var r=oy(n.target,t.dom);if(r){n.preventDefault();var i=n,o=i.clientX,a=i.clientY,s=t.dom.parentNode.getBoundingClientRect(),l=s.left,c=s.top,u="TH"===r.nodeName;return e.emit("contextmenu",{pos:{left:o-l+10+"px",top:a-c+30+"px"},menuGroups:by(e,u),tableCell:r}),!0}return!1}}}})),new(0,Ds.Plugin)({props:{handleDOMEvents:{mousedown:function(e,t){var n=t,r=n.clientX,i=n.clientY,o=e.posAtCoords({left:r,top:i});if(o){var a=e.state,s=a.doc,l=a.tr,c=s.resolve(o.pos),u=zv(c),p=t.target,d=getComputedStyle(p,":before"),h=t,f=h.offsetX,m=h.offsetY;if(!u||!Fu(d,f,m))return!1;t.preventDefault();var g=c.before(u.depth),v=u.node.attrs;return l.setNodeMarkup(g,null,Ml(Ml({},v),{checked:!v.checked})),e.dispatch(l),!0}return!1}}}}),Cy(this.eventEmitter)],this.createPluginProps()).concat(this.defaultPlugins);var e},t.prototype.createPluginNodeViews=function(){var e=this.eventEmitter,t=this.pluginNodeViews,n={};return t&&Object.keys(t).forEach((function(r){n[r]=function(n,i,o){return t[r](n,i,o,e)}})),n},t.prototype.createView=function(){var e=this,t=this.toDOMAdaptor,n=this.eventEmitter;return new(0,Ms.EditorView)(this.el,{state:this.createState(),attributes:{class:Mb},nodeViews:Ml({customBlock:function(e,n,r){return new Ey(e,n,r,t)},image:function(e,t,r){return new _y(e,t,r,n)},codeBlock:function(e,t,r){return new Ay(e,t,r,n)},widget:ip},this.createPluginNodeViews()),dispatchTransaction:function(t){var n=e.view.state.applyTransaction(t).state;e.view.updateState(n),e.emitChangeEvent(t.scrollIntoView()),e.eventEmitter.emit("setFocusedNode",n.selection.$from.node(1))},transformPastedHTML:qy,transformPasted:function(t){return Yy(t,e.schema,Fv(e.view.state.selection.$from))},handlePaste:function(e,t,n){return Qy(e,n)},handleKeyDown:function(t,n){return e.eventEmitter.emit("keydown",e.editorType,n),!1},handleDOMEvents:{paste:function(t,n){var r=n.clipboardData||window.clipboardData,i=null==r?void 0:r.items;if(i&&!Wc(i).some((function(e){return"string"===e.kind&&"text/rtf"===e.type}))){var o=tp(i);o&&(n.preventDefault(),ep(e.eventEmitter,o,n.type))}return!1},keyup:function(t,n){return e.eventEmitter.emit("keyup",e.editorType,n),!1},scroll:function(){return e.eventEmitter.emit("scroll","editor"),!0}}})},t.prototype.createCommands=function(){return this.specs.commands(this.view,Kv())},t.prototype.getHTML=function(){return Ku(this.view.dom.innerHTML)},t.prototype.getModel=function(){return this.view.state.doc},t.prototype.getSelection=function(){var e=this.view.state.selection;return[e.from,e.to]},t.prototype.getSchema=function(){return this.view.state.schema},t.prototype.replaceSelection=function(e,t,n){var r=this.view.state,i=r.schema,o=r.tr,a=e.split("\n").map((function(e){return $c(i,wu(e,i))})),s=new(0,Ns.Slice)(Ns.Fragment.from(a),1,1),l=uc(t)&&uc(n)?o.replaceRange(t,n,s):o.replaceSelection(s);this.view.dispatch(l),this.focus()},t.prototype.deleteSelection=function(e,t){var n=this.view.state.tr,r=uc(e)&&uc(t)?n.deleteRange(e,t):n.deleteSelection();this.view.dispatch(r.scrollIntoView())},t.prototype.getSelectedText=function(e,t){var n=this.view.state,r=n.doc,i=n.selection,o=i.from,a=i.to;return uc(e)&&uc(t)&&(o=e,a=t),r.textBetween(o,a,"\n")},t.prototype.setModel=function(e,t){void 0===t&&(t=!1);var n=this.view.state,r=n.tr,i=n.doc;this.view.dispatch(r.replaceWith(0,i.content.size,e)),t&&this.moveCursorToEnd(!0)},t.prototype.setSelection=function(e,t){void 0===t&&(t=e);var n=this.view.state.tr,r=Xc(n,e,t);this.view.dispatch(n.setSelection(r).scrollIntoView())},t.prototype.addWidget=function(e,t,n){var r=this.view,i=r.dispatch,o=r.state;i(o.tr.setMeta("widget",{pos:null!=n?n:o.selection.to,node:e,style:t}))},t.prototype.replaceWithWidget=function(e,t,n){var r=this.view.state,i=r.tr,o=wu(n,r.schema);this.view.dispatch(i.replaceWith(e,t,o))},t.prototype.getRangeInfoOfNode=function(e){var t=this.view.state,n=t.doc,r=t.selection,i=e?n.resolve(e):r.$from,o=i.marks(),a=i.node(),s=i.start(),l=i.end(),c=a.type.name;if(o.length||"paragraph"===c){var u=o[o.length-1];c=u?u.type.name:"text",a.forEach((function(e,t){var n=e.isText,r=e.nodeSize,o=e.marks,a=i.pos-s;n&&t<=a&&t+r>=a&&function(e){return!e.length||Ac(e,u)}(o)&&(l=(s+=t)+r)}))}return{range:[s,l],type:c}},t}(sp),Db=Xl,Lb=pc;var Rb=function(e){return!Db(e)&&!Lb(e)};var Ib=function(e){return Rb(e)&&!1!==e},Bb=Ib;var jb=function(e){return!Bb(e)},Fb=["afterPreviewRender","updatePreview","changeMode","needChangeMode","command","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","scroll","contextmenu","show","hide","changeLanguage","changeToolbarState","toggleScrollSync","mixinTableOffsetMapPrototype","setFocusedNode","removePopupWidget","query","openPopup","closePopup","addImageBlobHook","beforePreviewRender","beforeConvertWysiwygToMarkdown","load","loadUI","change","caretChange","destroy","focus","blur","keydown","keyup"],zb=function(){function e(){var e=this;this.events=new my,this.eventTypes=Fb.reduce((function(e,t){return Ml(Ml({},e),{type:t})}),{}),this.hold=!1,Fb.forEach((function(t){e.addEventType(t)}))}return e.prototype.listen=function(e,t){var n=this.getTypeInfo(e),r=this.events.get(n.type)||[];if(!this.hasEventType(n.type))throw new Error("There is no event type "+n.type);n.namespace&&(t.namespace=n.namespace),r.push(t),this.events.set(n.type,r)},e.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this.getTypeInfo(e),i=this.events.get(r.type),o=[];return!this.hold&&i&&i.forEach((function(e){var n=e.apply(void 0,t);Xl(n)||o.push(n)})),o},e.prototype.emitReduce=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=this.events.get(e);return!this.hold&&i&&i.forEach((function(e){var r=e.apply(void 0,Pl([t],n));jb(r)||(t=r)})),t},e.prototype.getTypeInfo=function(e){var t=e.split(".");return{type:t[0],namespace:t[1]}},e.prototype.hasEventType=function(e){return!Xl(this.eventTypes[this.getTypeInfo(e).type])},e.prototype.addEventType=function(e){if(this.hasEventType(e))throw new Error("There is already have event type "+e);this.eventTypes[e]=e},e.prototype.removeEventHandler=function(e,t){var n=this,r=this.getTypeInfo(e),i=r.type,o=r.namespace;i&&t?this.removeEventHandlerWithHandler(i,t):i&&!o?this.events.delete(i):!i&&o?this.events.forEach((function(e,t){n.removeEventHandlerWithTypeInfo(t,o)})):i&&o&&this.removeEventHandlerWithTypeInfo(i,o)},e.prototype.removeEventHandlerWithHandler=function(e,t){var n=this.events.get(e);if(n){var r=n.indexOf(t);n.indexOf(t)>=0&&n.splice(r,1)}},e.prototype.removeEventHandlerWithTypeInfo=function(e,t){var n=[],r=this.events.get(e);r&&(r.map((function(e){return e.namespace!==t&&n.push(e),null})),this.events.set(e,n))},e.prototype.getEvents=function(){return this.events},e.prototype.holdEventInvoke=function(e){this.hold=!0,e(),this.hold=!1},e}(),Hb=function(){function e(e,t,n,r){this.eventEmitter=e,this.mdCommands=t,this.wwCommands=n,this.getEditorType=r,this.initEvent()}return e.prototype.initEvent=function(){var e=this;this.eventEmitter.listen("command",(function(t,n){e.exec(t,n)}))},e.prototype.addCommand=function(e,t,n){"markdown"===e?this.mdCommands[t]=n:this.wwCommands[t]=n},e.prototype.deleteCommand=function(e,t){"markdown"===e?delete this.mdCommands[t]:delete this.wwCommands[t]},e.prototype.exec=function(e,t){"markdown"===this.getEditorType()?this.mdCommands[e](t):this.wwCommands[e](t)},e}();function qb(e){return"\n"===e[e.length-1]?e.slice(0,e.length-1):e}function Vb(e,t){var n=e.schema,r=t.literal.match(Ru);if(r){var i=r[1],o=r[3],a=(i||o).toLowerCase();return"htmlInline"===t.type&&!(!n.marks[a]&&!n.nodes[a])}return!1}function Ub(e){return Ac(["text","strong","emph","strike","image","link","code"],e.type)}function Wb(e){return"softbreak"===(null==e?void 0:e.type)}function $b(e){var t=e.type,n=e.literal,r="htmlInline"===t&&n.match(Ru);if(r){var i=r[1],o=r[3],a=i||o;if(a)return Ac(["ul","ol","li"],a.toLowerCase())}return!1}function Gb(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=document.createElement("div");r.innerHTML=mv(e);var i=r.firstChild;return t.map((function(e){return i.getAttribute(e)||""}))}var Xb,Yb,Zb=(Xb={"b, strong":function(e,t,n){var r=e.schema.marks.strong;n?e.openMark(r.create({rawHTML:n})):e.closeMark(r)},"i, em":function(e,t,n){var r=e.schema.marks.emph;n?e.openMark(r.create({rawHTML:n})):e.closeMark(r)},"s, del":function(e,t,n){var r=e.schema.marks.strike;n?e.openMark(r.create({rawHTML:n})):e.closeMark(r)},code:function(e,t,n){var r=e.schema.marks.code;n?e.openMark(r.create({rawHTML:n})):e.closeMark(r)},a:function(e,t,n){var r=t.literal,i=e.schema.marks.link;if(n){var o=Gb(r,"href")[0];e.openMark(i.create({linkUrl:o,rawHTML:n}))}else e.closeMark(i)},img:function(e,t,n){var r=t.literal;if(n){var i=Gb(r,"src","alt"),o=i[0],a=i[1],s=e.schema.nodes.image;e.addNode(s,Ml({rawHTML:n,imageUrl:o},a&&{altText:a}))}},hr:function(e,t,n){e.addNode(e.schema.nodes.thematicBreak,{rawHTML:n})},br:function(e,t){var n=e.schema.nodes.paragraph,r=t.parent,i=t.prev,o=t.next;"paragraph"===(null==r?void 0:r.type)?(Wb(i)&&e.openNode(n),Wb(o)?e.closeNode():o&&(e.closeNode(),e.openNode(n))):"tableCell"===(null==r?void 0:r.type)&&(i&&(Ub(i)||Vb(e,i))&&e.closeNode(),o&&(Ub(o)||Vb(e,o))&&e.openNode(n))},pre:function(e,t,n){var r,i,o=document.createElement("div");o.innerHTML=t.literal;var a=null===(i=null===(r=o.firstChild)||void 0===r?void 0:r.firstChild)||void 0===i?void 0:i.textContent;e.openNode(e.schema.nodes.codeBlock,{rawHTML:n}),e.addText(qb(a)),e.closeNode()},"ul, ol":function(e,t,n){if("tableCell"===t.parent.type){var r=e.schema.nodes,i=r.bulletList,o=r.orderedList,a=r.paragraph,s="ul"===n?i:o;n?(t.prev&&!$b(t.prev)&&e.closeNode(),e.openNode(s,{rawHTML:n})):(e.closeNode(),t.next&&!$b(t.next)&&e.openNode(a))}},li:function(e,t,n){var r;if("tableCell"===(null===(r=t.parent)||void 0===r?void 0:r.type)){var i=e.schema.nodes,o=i.listItem,a=i.paragraph;if(n){var s=function(e){var t=e.literal;return{task:/data-task/.test(t),checked:/data-task-checked/.test(t)}}(t);t.prev&&!$b(t.prev)&&e.closeNode(),e.openNode(o,Ml({rawHTML:n},s)),t.next&&!$b(t.next)&&e.openNode(a)}else t.prev&&!$b(t.prev)&&e.closeNode(),e.closeNode()}}},Yb={},Object.keys(Xb).forEach((function(e){e.split(", ").forEach((function(t){var n=t.toLowerCase();Yb[n]=Xb[e]}))})),Yb);function Kb(e){return"htmlInline"===e.type&&Iu.test(e.literal)}function Jb(e){Wc(e.childNodes).forEach((function(e){if(Vu(e)){var t=e.nodeName.toLowerCase();e.setAttribute("data-raw-html",t),e.childNodes&&Jb(e)}}))}var Qb={text:function(e,t){e.addText(t.literal||"")},paragraph:function(e,t,n,r){var i;if(n.entering){var o=e.schema.nodes.paragraph;"paragraph"===(null===(i=t.prev)||void 0===i?void 0:i.type)&&(e.openNode(o,r),e.closeNode()),e.openNode(o,r)}else e.closeNode()},heading:function(e,t,n,r){if(n.entering){var i=t,o=i.level,a=i.headingType;e.openNode(e.schema.nodes.heading,Ml({level:o,headingType:a},r))}else e.closeNode()},codeBlock:function(e,t,n){var r=e.schema.nodes.codeBlock,i=t,o=i.info,a=i.literal;e.openNode(r,Ml({language:o},n)),e.addText(qb(a||"")),e.closeNode()},list:function(e,t,n,r){if(n.entering){var i=e.schema.nodes,o=i.bulletList,a=i.orderedList,s=t.listData,l=s.type,c=s.start;"bullet"===l?e.openNode(o,r):e.openNode(a,Ml({order:c},r))}else e.closeNode()},item:function(e,t,n,r){var i=n.entering,o=e.schema.nodes.listItem,a=t.listData,s=a.task,l=a.checked;if(i){var c=Ml(Ml(Ml({},s&&{task:s}),l&&{checked:l}),r);e.openNode(o,c)}else e.closeNode()},blockQuote:function(e,t,n,r){n.entering?e.openNode(e.schema.nodes.blockQuote,r):e.closeNode()},image:function(e,t,n,r){var i=n.entering,o=n.skipChildren,a=e.schema.nodes.image,s=t,l=s.destination,c=s.firstChild;i&&o&&o(),e.addNode(a,Ml(Ml({imageUrl:l},c&&{altText:c.literal}),r))},thematicBreak:function(e,t,n,r){e.addNode(e.schema.nodes.thematicBreak,r)},strong:function(e,t,n,r){var i=n.entering,o=e.schema.marks.strong;i?e.openMark(o.create(r)):e.closeMark(o)},emph:function(e,t,n,r){var i=n.entering,o=e.schema.marks.emph;i?e.openMark(o.create(r)):e.closeMark(o)},link:function(e,t,n,r){var i=n.entering,o=e.schema.marks.link,a=t,s=a.destination,l=a.title;if(i){var c=Ml({linkUrl:s,title:l},r);e.openMark(o.create(c))}else e.closeMark(o)},softbreak:function(e,t){if("paragraph"===t.parent.type){var n=t.prev,r=t.next;n&&!Kb(n)&&e.closeNode(),r&&!Kb(r)&&e.openNode(e.schema.nodes.paragraph)}},table:function(e,t,n,r){n.entering?e.openNode(e.schema.nodes.table,r):e.closeNode()},tableHead:function(e,t,n,r){n.entering?e.openNode(e.schema.nodes.tableHead,r):e.closeNode()},tableBody:function(e,t,n,r){n.entering?e.openNode(e.schema.nodes.tableBody,r):e.closeNode()},tableRow:function(e,t,n,r){n.entering?e.openNode(e.schema.nodes.tableRow,r):e.closeNode()},tableCell:function(e,t,n){var r=n.entering;if(!t.ignored){var i=function(t){return t&&(Ub(t)||Vb(e,t))};if(r){var o=e.schema.nodes,a=o.tableHeadCell,s=o.tableBodyCell,l=o.paragraph,c=t.parent.parent,u="tableHead"===c.type?a:s,p=(c.parent.columns[t.startIdx]||{}).align,d=Ml({},t.attrs);p&&(d.align=p),e.openNode(u,d),i(t.firstChild)&&e.openNode(l)}else i(t.lastChild)&&e.closeNode(),e.closeNode()}},strike:function(e,t,n,r){var i=n.entering,o=e.schema.marks.strike;i?e.openMark(o.create(r)):e.closeMark(o)},code:function(e,t,n,r){var i=e.schema.marks.code;e.openMark(i.create(r)),e.addText(qb(t.literal||"")),e.closeMark(i)},customBlock:function(e,t){var n=e.schema.nodes,r=n.customBlock,i=n.paragraph,o=t,a=o.info,s=o.literal;e.openNode(r,{info:a}),e.addText(qb(s||"")),e.closeNode(),t.next||(e.openNode(i),e.closeNode())},frontMatter:function(e,t){e.openNode(e.schema.nodes.frontMatter),e.addText(t.literal),e.closeNode()},htmlInline:function(e,t){var n=t.literal,r=n.match(Ru),i=r[1],o=r[3],a=(i||o).toLowerCase(),s=e.schema.marks[a],l=mv(n);if(null==s?void 0:s.spec.attrs.htmlInline)if(i){var c=vv(l);e.openMark(s.create({htmlAttrs:c}))}else e.closeMark(s);else{var u=Zb[a];u&&u(e,t,i)}},htmlBlock:function(e,t){var n=t.literal,r=document.createElement("div");if(Bu.test(n))e.openNode(e.schema.nodes.htmlComment),e.addText(t.literal),e.closeNode();else{var i=n.match(Ru),o=i[1],a=i[3],s=(o||a).toLowerCase(),l=e.schema.nodes[s],c=mv(n);if(null==l?void 0:l.spec.attrs.htmlBlock){var u=vv(c),p=gv(t,s);e.addNode(l,{htmlAttrs:u,childrenHTML:p})}else r.innerHTML=c,Jb(r),e.convertByDOMParser(r)}},customInline:function(e,t,n){var r=n.entering,i=n.skipChildren,o=t,a=o.info,s=o.firstChild,l=e.schema;if(-1!==a.indexOf("widget")&&r){var c=xu(t);i(),e.addNode(l.nodes.widget,{info:a},[l.text(vu(a,c))])}else{var u="$$";r&&(u+=s?a+" ":a),e.addText(u)}}};var ew=function(){function e(e,t){this.schema=e,this.convertors=t,this.stack=[{type:this.schema.topNodeType,attrs:null,content:[]}],this.marks=Ns.Mark.none}return e.prototype.top=function(){return Bc(this.stack)},e.prototype.push=function(e){this.stack.length&&this.top().content.push(e)},e.prototype.addText=function(e){if(e){var t=this.top().content,n=Bc(t),r=this.schema.text(e,this.marks),i=n&&(a=r,!!((o=n).isText&&a.isText&&Ns.Mark.sameSet(o.marks,a.marks))&&o.withText(o.text+a.text));i?t[t.length-1]=i:t.push(r)}var o,a},e.prototype.openMark=function(e){this.marks=e.addToSet(this.marks)},e.prototype.closeMark=function(e){this.marks=e.removeFromSet(this.marks)},e.prototype.addNode=function(e,t,n){var r=e.createAndFill(t,n,this.marks);return r?(this.push(r),r):null},e.prototype.openNode=function(e,t){this.stack.push({type:e,attrs:t,content:[]})},e.prototype.closeNode=function(){this.marks.length&&(this.marks=Ns.Mark.none);var e=this.stack.pop(),t=e.type,n=e.attrs,r=e.content;return this.addNode(t,n,r)},e.prototype.convertByDOMParser=function(e){var t=this;Ns.DOMParser.fromSchema(this.schema).parse(e).content.forEach((function(e){return t.push(e)}))},e.prototype.closeUnmatchedHTMLInline=function(e,t){var n;if(!t&&"htmlInline"!==e.type)for(var r=this.stack.length-1;r>=0;r-=1){var i=this.stack[r];if(!(null===(n=i.attrs)||void 0===n?void 0:n.rawHTML))break;i.content.length?this.closeNode():this.stack.pop()}},e.prototype.convert=function(e,t){for(var n=e.walker(),r=n.next(),i=function(){var e=r.node,i=r.entering,a=o.convertors[e.type],s=!1;if(a){var l={entering:i,leaf:!pu(e),getChildrenText:du,options:{gfm:!0,nodeId:!1,tagFilter:!1,softbreak:"\n"},skipChildren:function(){s=!0}};if(o.closeUnmatchedHTMLInline(e,i),a(o,e,l),(null==t?void 0:t.node)===e){var c=o.stack.reduce((function(e,t){return e+t.content.reduce((function(e,t){return e+t.nodeSize}),0)}),0)+1;t.setMappedPos(c)}}s&&(n.resumeAt(e,!1),n.next()),r=n.next()},o=this;r;)i()},e.prototype.convertNode=function(e,t){return this.convert(e,t),this.stack.length?this.closeNode():null},e}();var tw={text:function(e,t){var n,r=t.node,i=null!==(n=r.text)&&void 0!==n?n:"";(r.marks||[]).some((function(e){return"link"===e.type.name}))?e.text(Dc(i),!1):e.text(i)},paragraph:function(e,t){var n=t.node,r=t.parent,i=t.index,o=void 0===i?0:i;if(e.stopNewline)e.convertInline(n);else{var a=0===o,s=!a&&r.child(o-1),l=s&&0===s.childCount,c=o<r.childCount-1&&r.child(o+1),u=c&&"paragraph"===c.type.name,p=0===n.childCount;if(p&&l)e.write("<br>\n");else if(!p||l||a)e.convertInline(n),u?e.write("\n"):e.closeBlock(n);else{if("listItem"===(null==r?void 0:r.type.name)){var d=e.getDelim();e.setDelim(""),e.write("<br>"),e.setDelim(d)}e.write("\n")}}},heading:function(e,t,n){var r=t.node,i=n.delim;"atx"===r.attrs.headingType?(e.write(i+" "),e.convertInline(r),e.closeBlock(r)):(e.convertInline(r),e.ensureNewLine(),e.write(i),e.closeBlock(r))},codeBlock:function(e,t,n){var r=t.node,i=n.delim,o=n.text,a=i,s=a[0],l=a[1];e.write(s),e.ensureNewLine(),e.text(o,!1),e.ensureNewLine(),e.write(l),e.closeBlock(r)},blockQuote:function(e,t,n){var r=t.node,i=t.parent,o=n.delim;(null==i?void 0:i.type.name)===r.type.name&&e.flushClose(1),e.wrapBlock(o,null,r,(function(){return e.convertNode(r)}))},bulletList:function(e,t,n){var r=t.node,i=n.delim;e.convertList(r,Pc(" ",4),(function(){return i+" "}))},orderedList:function(e,t){var n=t.node,r=n.attrs.order||1;e.convertList(n,Pc(" ",4),(function(e){return String(r+e)+". "}))},listItem:function(e,t){var n=t.node,r=n.attrs,i=r.task,o=r.checked;i&&e.write("["+(o?"x":" ")+"] "),e.convertNode(n)},image:function(e,t,n){var r=n.attrs;e.write("!["+(null==r?void 0:r.altText)+"]("+(null==r?void 0:r.imageUrl)+")")},thematicBreak:function(e,t,n){var r=t.node,i=n.delim;e.write(i),e.closeBlock(r)},table:function(e,t){var n=t.node;e.convertNode(n),e.closeBlock(n)},tableHead:function(e,t,n){var r=t.node,i=n.delim,o=r.firstChild;e.convertNode(r);var a=null!=i?i:"";!i&&o&&o.forEach((function(e){var t=function(e,t){var n=e.length,r="",i="";return"left"===t?(r=":",n-=1):"right"===t?(i=":",n-=1):"center"===t&&(r=":",i=":",n-=2),""+r+Pc("-",Math.max(n,3))+i}(e.textContent,e.attrs.align);a+="| "+t+" "})),e.write(a+"|"),e.ensureNewLine()},tableBody:function(e,t){var n=t.node;e.convertNode(n)},tableRow:function(e,t){var n=t.node;e.convertNode(n),e.write("|"),e.ensureNewLine()},tableHeadCell:function(e,t,n){var r=t.node,i=n.delim,o=void 0===i?"| ":i;e.write(o),e.convertTableCell(r),e.write(" ")},tableBodyCell:function(e,t,n){var r=t.node,i=n.delim,o=void 0===i?"| ":i;e.write(o),e.convertTableCell(r),e.write(" ")},customBlock:function(e,t,n){var r=t.node,i=n.delim,o=n.text,a=i,s=a[0],l=a[1];e.write(s),e.ensureNewLine(),e.text(o,!1),e.ensureNewLine(),e.write(l),e.closeBlock(r)},frontMatter:function(e,t,n){var r=t.node,i=n.text;e.text(i,!1),e.closeBlock(r)},widget:function(e,t,n){var r=n.text;e.write(r)},html:function(e,t,n){var r=t.node,i=n.text;e.write(i),r.attrs.htmlBlock&&e.closeBlock(r)},htmlComment:function(e,t,n){var r=t.node,i=n.text;e.write(i),e.closeBlock(r)}};function nw(e,t){var n=e.text,r=/`+/g,i=0;if(e.isText&&n)for(var o=r.exec(n);o;)i=Math.max(i,o[0].length),o=r.exec(n);for(var a=i>0&&t>0?" `":"`",s=0;s<i;s+=1)a+="`";return i>0&&t<0&&(a+=" "),a}function rw(e){return e?["<"+e+">","</"+e+">"]:null}function iw(e){return e?"<"+e+">":null}function ow(e){return e?"</"+e+">":null}var aw={heading:function(e){var t=e.node.attrs,n=t.level,r=Pc("#",n);return"setext"===t.headingType&&(r=1===n?"===":"---"),{delim:r,rawHTML:rw(t.rawHTML)}},codeBlock:function(e){var t=e.node,n=t.attrs,r=t.textContent;return{delim:["```"+(n.language||""),"```"],rawHTML:rw(n.rawHTML),text:r}},blockQuote:function(e){return{delim:"> ",rawHTML:rw(e.node.attrs.rawHTML)}},bulletList:function(e,t){var n=e.node,r=t.inTable,i=n.attrs.rawHTML;return r&&(i=i||"ul"),{delim:"*",rawHTML:rw(i)}},orderedList:function(e,t){var n=e.node,r=t.inTable,i=n.attrs.rawHTML;return r&&(i=i||"ol"),{rawHTML:rw(i)}},listItem:function(e,t){var n=e.node,r=t.inTable,i=n.attrs,o=i.task,a=i.checked,s=n.attrs.rawHTML;return r&&(s=s||"li"),{rawHTML:s?["<"+s+(o?' class="task-list-item'+(a?" checked":"")+'"':"")+(o?" data-task"+(a?" data-task-checked":""):"")+">","</"+s+">"]:null}},table:function(e){return{rawHTML:rw(e.node.attrs.rawHTML)}},tableHead:function(e){return{rawHTML:rw(e.node.attrs.rawHTML)}},tableBody:function(e){return{rawHTML:rw(e.node.attrs.rawHTML)}},tableRow:function(e){return{rawHTML:rw(e.node.attrs.rawHTML)}},tableHeadCell:function(e){return{rawHTML:rw(e.node.attrs.rawHTML)}},tableBodyCell:function(e){return{rawHTML:rw(e.node.attrs.rawHTML)}},image:function(e){var t=e.node.attrs,n=t.rawHTML,r=t.altText,i=t.imageUrl.replace(/&amp;/g,"&"),o=r?' alt="'+_c(r)+'"':"";return{rawHTML:n?"<"+n+' src="'+_c(i)+'"'+o+">":null,attrs:{altText:Dc(r||""),imageUrl:i}}},thematicBreak:function(e){return{delim:"***",rawHTML:iw(e.node.attrs.rawHTML)}},customBlock:function(e){var t=e.node,n=t.attrs,r=t.textContent;return{delim:["$$"+n.info,"$$"],text:r}},frontMatter:function(e){return{text:e.node.textContent}},widget:function(e){return{text:e.node.textContent}},strong:function(e,t){var n=e.node,r=t.entering,i=n.attrs.rawHTML;return{delim:"**",rawHTML:r?iw(i):ow(i)}},emph:function(e,t){var n=e.node,r=t.entering,i=n.attrs.rawHTML;return{delim:"*",rawHTML:r?iw(i):ow(i)}},strike:function(e,t){var n=e.node,r=t.entering,i=n.attrs.rawHTML;return{delim:"~~",rawHTML:r?iw(i):ow(i)}},link:function(e,t){var n,r,i=e.node,o=t.entering,a=i.attrs,s=a.title,l=a.rawHTML,c=a.linkUrl.replace(/&amp;/g,"&"),u=s?' title="'+_c(s)+'"':"";return o?{delim:"[",rawHTML:l?"<"+l+' href="'+_c(c)+'"'+u+">":null}:{delim:"]("+c+(s?" "+(n=Dc(s),(r=-1===n.indexOf('"')?'""':-1===n.indexOf("'")?"''":"()")[0]+n+r[1]):"")+")",rawHTML:ow(l)}},code:function(e,t){var n=e.node,r=e.parent,i=e.index,o=void 0===i?0:i,a=t.entering;return{delim:a?nw(r.child(o),-1):nw(r.child(o-1),1),rawHTML:a?iw(n.attrs.rawHTML):ow(n.attrs.rawHTML)}},htmlComment:function(e){return{text:e.node.textContent}},html:function(e,t){var n=e.node,r=t.entering,i=n.type.name,o=n.attrs.htmlAttrs,a="<"+i,s="</"+i+">";return Object.keys(o).forEach((function(e){a+=" "+e+'="'+o[e].replace(/"/g,"'")+'"'})),a+=">",n.attrs.htmlInline?{rawHTML:r?a:s}:{text:""+a+n.attrs.childrenHTML+s}}},sw={strong:{mixable:!0,removedEnclosingWhitespace:!0},emph:{mixable:!0,removedEnclosingWhitespace:!0},strike:{mixable:!0,removedEnclosingWhitespace:!0},code:{escape:!1},link:null,html:null};function lw(e){var t={};return Object.keys(tw).forEach((function(n){t[n]=function(t,r){if(tw[n]){var i=e[n],o=i?i(r,{inTable:t.inTable}):{};!function(e,t){var n=t.state,r=t.nodeInfo,i=t.params,o=i.rawHTML;o?Gl(e,["heading","codeBlock"])>-1?function(e,t,n){var r=n[0],i=n[1];e.write(r),e.convertInline(t),e.write(i)}(n,r.node,o):Gl(e,["image","thematicBreak"])>-1?n.write(o):function(e,t,n){var r=t.node,i=t.parent,o=n[0],a=n[1];e.stopNewline=!0,e.write(o),e.convertNode(r),e.write(a),"doc"===(null==i?void 0:i.type.name)&&(e.closeBlock(r),e.stopNewline=!1)}(n,r,o):tw[e](n,r,i)}(n,{state:t,nodeInfo:r,params:o})}}})),t}function cw(e){Object.keys(e).forEach((function(t){var n=aw[t],r=e[t];aw[t]=n?function(e,t){return t.origin=function(){return n(e,t)},r(e,t)}:r,delete e[t]}));var t=lw(aw),n=function(e){var t={};return Object.keys(sw).forEach((function(n){t[n]=function(t,r){var i=sw[n],o=e[n],a=o&&t&&!Xl(r)?o(t,{entering:r}):{};return Ml(Ml({},a),i)}})),t}(aw);return{nodeTypeConvertors:t,markTypeConvertors:n}}var uw=function(){function e(e){var t=e.nodeTypeConvertors,n=e.markTypeConvertors;this.nodeTypeConvertors=t,this.markTypeConvertors=n,this.delim="",this.result="",this.closed=!1,this.tightList=!1,this.stopNewline=!1,this.inTable=!1}return e.prototype.getMarkConvertor=function(e){var t=e.attrs.htmlInline?"html":e.type.name;return this.markTypeConvertors[t]},e.prototype.isInBlank=function(){return/(^|\n)$/.test(this.result)},e.prototype.markText=function(e,t,n,r){var i=this.getMarkConvertor(e);if(i){var o=i({node:e,parent:n,index:r},t),a=o.delim;return o.rawHTML||a}return""},e.prototype.setDelim=function(e){this.delim=e},e.prototype.getDelim=function(){return this.delim},e.prototype.flushClose=function(e){if(!this.stopNewline&&this.closed){if(this.isInBlank()||(this.result+="\n"),e||(e=2),e>1){var t=this.delim,n=/\s+$/.exec(t);n&&(t=t.slice(0,t.length-n[0].length));for(var r=1;r<e;r+=1)this.result+=t+"\n"}this.closed=!1}},e.prototype.wrapBlock=function(e,t,n,r){var i=this.getDelim();this.write(t||e),this.setDelim(this.getDelim()+e),r(),this.setDelim(i),this.closeBlock(n)},e.prototype.ensureNewLine=function(){this.isInBlank()||(this.result+="\n")},e.prototype.write=function(e){void 0===e&&(e=""),this.flushClose(),this.delim&&this.isInBlank()&&(this.result+=this.delim),e&&(this.result+=e)},e.prototype.closeBlock=function(e){this.closed=e},e.prototype.text=function(e,t){void 0===t&&(t=!0);for(var n=e.split("\n"),r=0;r<n.length;r+=1)this.write(),this.result+=t?Lc(n[r]):n[r],r!==n.length-1&&(this.result+="\n")},e.prototype.convertBlock=function(e,t,n){var r=e.type.name,i=this.nodeTypeConvertors[r],o={node:e,parent:t,index:n};e.attrs.htmlBlock?this.nodeTypeConvertors.html(this,o):i&&i(this,o)},e.prototype.convertInline=function(e){var t=this,n=[],r="",i=function(i,o,a){var s=i?i.marks:[],l=r;r="";var c=i&&i.isText&&s.some((function(e){var n=t.getMarkConvertor(e),r=n&&n();return r&&r.removedEnclosingWhitespace}));if(c&&i&&i.text){var u=/^(\s*)(.*?)(\s*)$/m.exec(i.text),p=u[1],d=u[2],h=u[3];l+=p,r=h,(p||h)&&((i=d?i.withText(d):null)||(s=n))}for(var f=s.length&&Bc(s),m=f&&t.getMarkConvertor(f),g=m&&m(),v=g&&!1===g.escape,y=s.length-(v?1:0),b=0;b<y;b+=1){d=s[b];if(g&&!g.mixable)break;for(var w=0;w<n.length;w+=1){var x=n[w];if(g&&!g.mixable)break;if(d.eq(x)){b>w?s=s.slice(0,w).concat(d).concat(s.slice(w,b)).concat(s.slice(b+1,y)):w>b&&(s=s.slice(0,b).concat(s.slice(b+1,w)).concat(d).concat(s.slice(w,y)));break}}}for(var k=0;k<Math.min(n.length,y)&&s[k].eq(n[k]);)k+=1;for(;k<n.length;){var S=n.pop();S&&t.text(t.markText(S,!1,e,a),!1)}if(l&&t.text(l),i){for(;n.length<y;){d=s[n.length];n.push(d),t.text(t.markText(d,!0,e,a),!1)}v&&i.isText?t.text(t.markText(f,!0,e,a)+i.text+t.markText(f,!1,e,a+1),!1):t.convertBlock(i,e,a)}};e.forEach(i),i(null,0,e.childCount)},e.prototype.convertList=function(e,t,n){var r,i=this;this.closed&&this.closed.type===e.type?this.flushClose(3):this.tightList&&this.flushClose(1);var o=null===(r=e.attrs.tight)||void 0===r||r,a=this.tightList;this.tightList=o,e.forEach((function(r,a,s){s&&o&&i.flushClose(1),i.wrapBlock(t,n(s),e,(function(){return i.convertBlock(r,e,s)}))})),this.tightList=a},e.prototype.convertTableCell=function(e){var t=this;this.stopNewline=!0,this.inTable=!0,e.forEach((function(n,r,i){Ac(["bulletList","orderedList"],n.type.name)?(t.convertBlock(n,e,i),t.closed=!1):(t.convertInline(n),i<e.childCount-1&&"paragraph"===e.child(i+1).type.name&&t.write("<br>"))})),this.stopNewline=!1,this.inTable=!1},e.prototype.convertNode=function(e,t){var n=this;return e.forEach((function(r,i,o){if(n.convertBlock(r,e,o),(null==t?void 0:t.node)===r){var a=n.result.split("\n");t.setMappedPos([a.length,Bc(a).length+1])}})),this.result},e}(),pw=function(){function e(e,t,n,r){var i=this;this.setMappedPos=function(e){i.mappedPosWhenConverting=e},this.schema=e,this.eventEmitter=r,this.focusedNode=null,this.mappedPosWhenConverting=null,this.toWwConvertors=function(e){var t=Object.keys(e),n=Ml({},Qb),r=new yg({gfm:!0,nodeId:!0,convertors:e}).getConvertors();return t.forEach((function(t){var i=Qb[t];i&&!Ac(["htmlBlock","htmlInline"],t)&&(n[t]=function(n,o,a){a.origin=function(){return r[t](o,a,r)};var s,l=e[t](o,a);if(l){var c=Array.isArray(l)?l[0]:l;s={htmlAttrs:c.attributes,classNames:c.classNames}}i(n,o,a,s)})})),n}(n),this.toMdConvertors=cw(t||{}),this.eventEmitter.listen("setFocusedNode",(function(e){return i.focusedNode=e}))}return e.prototype.getMappedPos=function(){return this.mappedPosWhenConverting},e.prototype.getInfoForPosSync=function(){return{node:this.focusedNode,setMappedPos:this.setMappedPos}},e.prototype.toWysiwygModel=function(e){return new ew(this.schema,this.toWwConvertors).convertNode(e,this.getInfoForPosSync())},e.prototype.toMarkdownText=function(e){var t=new uw(this.toMdConvertors).convertNode(e,this.getInfoForPosSync());return t=this.eventEmitter.emitReduce("beforeConvertWysiwygToMarkdown",t)},e}();function dw(e){var t=e.plugins,n=e.eventEmitter,r=e.usageStatistics,i=e.instance;return n.listen("mixinTableOffsetMapPrototype",ty),(null!=t?t:[]).reduce((function(e,t){var o=function(e){var t=e.plugin,n={eventEmitter:e.eventEmitter,usageStatistics:e.usageStatistics,instance:e.instance,pmState:{Plugin:Ds.Plugin,PluginKey:Ds.PluginKey,Selection:Ds.Selection,TextSelection:Ds.TextSelection},pmView:{Decoration:Ms.Decoration,DecorationSet:Ms.DecorationSet},pmModel:{Fragment:Ns.Fragment},pmRules:{InputRule:sl.InputRule,inputRules:sl.inputRules,undoInputRule:sl.undoInputRule},pmKeymap:{keymap:Ls.keymap},i18n:vy};if(Bl(t)){var r=t[0],i=t[1];return r(n,void 0===i?{}:i)}return t(n)}({plugin:t,eventEmitter:n,usageStatistics:r,instance:i});if(!o)throw new Error("The return value of the executed plugin is empty.");var a=o.markdownParsers,s=o.toHTMLRenderers,l=o.toMarkdownRenderers,c=o.markdownPlugins,u=o.wysiwygPlugins,p=o.wysiwygNodeViews,d=o.markdownCommands,h=o.wysiwygCommands,f=o.toolbarItems;return s&&(e.toHTMLRenderers=Fc(e.toHTMLRenderers,s)),l&&(e.toMarkdownRenderers=Fc(e.toMarkdownRenderers,l)),c&&(e.mdPlugins=e.mdPlugins.concat(c)),u&&(e.wwPlugins=e.wwPlugins.concat(u)),p&&(e.wwNodeViews=Ml(Ml({},e.wwNodeViews),p)),d&&(e.mdCommands=Ml(Ml({},e.mdCommands),d)),h&&(e.wwCommands=Ml(Ml({},e.wwCommands),h)),f&&(e.toolbarItems=e.toolbarItems.concat(f)),a&&(e.markdownParsers=Ml(Ml({},e.markdownParsers),a)),e}),{toHTMLRenderers:{},toMarkdownRenderers:{},mdPlugins:[],wwPlugins:[],wwNodeViews:{},mdCommands:{},wwCommands:{},toolbarItems:[],markdownParsers:{}})}var hw=function(){function e(e){var t=this;this.options=Rl({linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,usageStatistics:!0,theme:"light"},e),this.eventEmitter=new zb;var n=Mc(this.options.linkAttributes),r=dw({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this})||{},i=r.toHTMLRenderers,o=r.markdownParsers,a=this.options,s=a.customHTMLRenderer,l=a.extendedAutolinks,c=a.referenceDefinition,u=a.frontMatter,p=a.customHTMLSanitizer,d={linkAttributes:n,customHTMLRenderer:Ml(Ml({},i),s),extendedAutolinks:l,referenceDefinition:c,frontMatter:u,sanitizer:p||mv};!function(e){["htmlBlock","htmlInline"].forEach((function(t){e[t]&&Object.keys(e[t]).forEach((function(e){return fv(e)}))}))}(d.customHTMLRenderer),this.options.events&&Ll(this.options.events,(function(e,n){t.on(n,e)}));var h=this.options,f=h.el,m=h.initialValue,g=h.theme,v=f.innerHTML;"light"!==g&&f.classList.add(Hu(g)),f.innerHTML="",this.toastMark=new pg("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:l,referenceDefinition:c,disallowDeepHeading:!0,frontMatter:u,customParser:o}),this.preview=new Iv(this.eventEmitter,Ml(Ml({},d),{isViewer:!0})),sh(this.preview.previewContent,"mousedown",this.toggleTask.bind(this)),m?this.setMarkdown(m):v&&this.preview.setHTML(v),f.appendChild(this.preview.previewContent),this.eventEmitter.emit("load",this)}return e.prototype.toggleTask=function(e){var t=e.target,n=getComputedStyle(t,":before");!t.hasAttribute("data-task-disabled")&&t.hasAttribute("data-task")&&Fu(n,e.offsetX,e.offsetY)&&(Wu(t,"checked"),this.eventEmitter.emit("change",{source:"viewer",date:e}))},e.prototype.setMarkdown=function(e){var t=this.toastMark.getLineTexts(),n=[t.length,Bc(t).length+1],r=this.toastMark.editMarkdown([1,1],n,e||"");this.eventEmitter.emit("updatePreview",r)},e.prototype.on=function(e,t){this.eventEmitter.listen(e,t)},e.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},e.prototype.addHook=function(e,t){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,t)},e.prototype.destroy=function(){nh(this.preview.el,"mousedown",this.toggleTask.bind(this)),this.preview.destroy(),this.eventEmitter.emit("destroy")},e.prototype.isViewer=function(){return!0},e.prototype.isMarkdownMode=function(){return!1},e.prototype.isWysiwygMode=function(){return!1},e}();function fw(e){return e instanceof Ns.Node}function mw(e){return Ac(["document","blockQuote","bulletList","orderedList","listItem","paragraph","heading","emph","strong","strike","link","image","table","tableHead","tableBody","tableRow","tableHeadCell","tableBodyCell"],e)}var gw={openTag:function(e,t){var n=e,r=n.tagName,i=n.classNames,o=n.attributes,a=document.createElement(r),s={};i&&(a.className=i.join(" ")),o&&(s=Ml(Ml({},s),o)),Zu(s,a),t.push(a)},closeTag:function(e,t){if(t.length>1){var n=t.pop();Bc(t).appendChild(n)}},html:function(e,t){Bc(t).insertAdjacentHTML("beforeend",e.content)},text:function(e,t){var n=document.createTextNode(e.content);Bc(t).appendChild(n)}},vw=function(){function e(e,t){var n=Sv(e,t),r=Ml(Ml({},t.htmlBlock),t.htmlInline);this.customConvertorKeys=Object.keys(t).concat(Object.keys(r)),this.renderer=new yg({gfm:!0,convertors:Ml(Ml({},n),r)}),this.convertors=this.renderer.getConvertors()}return e.prototype.generateTokens=function(e){var t=function(e){var t=e.attrs,n=e.type.name,r={type:n,wysiwygNode:!0,literal:!mw(n)&&fw(e)?e.textContent:null},i={heading:{level:t.level},link:{destination:t.linkUrl,title:t.title},image:{destination:t.imageUrl},codeBlock:{info:t.language},bulletList:{type:"list",listData:{type:"bullet"}},orderedList:{type:"list",listData:{type:"ordered",start:t.order}},listItem:{type:"item",listData:{task:t.task,checked:t.checked}},tableHeadCell:{type:"tableCell",cellType:"head",align:t.align},tableBodyCell:{type:"tableCell",cellType:"body",align:t.align},customBlock:{info:t.info}}[n],o=Ml(Ml({},r),i),a=e.attrs,s=a.htmlAttrs,l=a.childrenHTML;return s?Ml(Ml({},o),{attrs:s,childrenHTML:l}):o}(e),n={entering:!0,leaf:!!fw(e)&&e.isLeaf,options:this.renderer.getOptions(),getChildrenText:function(){return fw(e)?e.textContent:""},skipChildren:function(){return!1}},r=this.convertors[e.type.name],i=r(t,n,this.convertors),o=Bl(i)?i:[i];return(mw(e.type.name)||e.attrs.htmlInline)&&(n.entering=!1,o.push({type:"text",content:fw(e)?e.textContent:""}),o=o.concat(r(t,n,this.convertors))),o},e.prototype.toDOMNode=function(e){var t=this.generateTokens(e),n=[];return t.forEach((function(e){return gw[e.type](e,n)})),n[0]},e.prototype.getToDOMNode=function(e){return Ac(this.customConvertorKeys,e)?this.toDOMNode.bind(this):null},e}(),yw=15,bw=null,ww=null;function xw(e,t){var n=t.syncScrollTop,r=t.releaseEventBlock;ww&&clearTimeout(ww),n(e),ww=setTimeout((function(){r()}),yw)}var kw=function(){function e(e,t,n){this.latestEditorScrollTop=null,this.latestPreviewScrollTop=null,this.blockedScroll=null,this.active=!0,this.timer=null;var r=t.previewContent,i=t.el;this.previewRoot=r,this.previewEl=i,this.mdEditor=e,this.editorView=e.view,this.toastMark=e.getToastMark(),this.eventEmitter=n,this.addScrollSyncEvent()}return e.prototype.addScrollSyncEvent=function(){var e=this;this.eventEmitter.listen("afterPreviewRender",(function(){e.clearTimer(),e.timer=setTimeout((function(){e.syncPreviewScrollTop(!0)}),200)})),this.eventEmitter.listen("scroll",(function(t,n){e.active&&("editor"===t&&"editor"!==e.blockedScroll?e.syncPreviewScrollTop():"preview"===t&&"preview"!==e.blockedScroll&&e.syncEditorScrollTop(n))})),this.eventEmitter.listen("toggleScrollSync",(function(t){e.active=t}))},e.prototype.getMdNodeAtPos=function(e,t){var n=e.content.findIndex(t.pos).index;return this.toastMark.findFirstNodeAtLine(n+1)},e.prototype.getScrollTopByCaretPos=function(){var e=this.mdEditor.getSelection(),t=this.toastMark.findFirstNodeAtLine(e[0][0]),n=this.previewEl.clientHeight,r=Mv(this.previewRoot,t).el,i=(Ov(r,this.previewRoot)||r.offsetTop)+r.clientHeight-.5*n;return this.latestEditorScrollTop=null,r.getBoundingClientRect().top-this.previewEl.getBoundingClientRect().top<n?null:i},e.prototype.syncPreviewScrollTop=function(e){void 0===e&&(e=!1);var t=this,n=t.editorView,r=t.previewEl,i=t.previewRoot,o=n.dom.getBoundingClientRect(),a=o.left,s=o.top,l=n.posAtCoords({left:a,top:s}),c=n.state.doc,u=this.getMdNodeAtPos(c,l);if(u&&!function(e){var t=e.type;return"htmlBlock"===t||"htmlInline"===t}(u)){var p=r.scrollTop,d=n.dom,h=d.scrollTop,f=d.scrollHeight,m=d.clientHeight,g=d.children,v=f-h<=m+18,y=v?r.scrollHeight:0;if(h&&!v){if(e){var b=this.getScrollTopByCaretPos();if(!b)return;y=b}else{var w=Mv(this.previewRoot,u),x=w.el,k=_v(c,w.mdNode,g),S=k.height,C=k.rect;y=(Ov(x,i)||x.offsetTop)+x.clientHeight*(s>C.top?Math.min((s-C.top)/S,1):0)}y=this.getResolvedScrollTop("editor",h,y,p),this.latestEditorScrollTop=h}y!==p&&this.run("editor",y,p)}},e.prototype.syncEditorScrollTop=function(e){var t=this,n=t.toastMark,r=t.editorView,i=t.previewRoot,o=t.previewEl,a=r.dom,s=r.state,l=o.scrollTop,c=o.clientHeight,u=o.scrollHeight-l<=c,p=a.scrollTop,d=u?a.scrollHeight:0;if(l&&e&&!u){if(e=function(e,t){for(;!e.getAttribute("data-nodeid")&&e.parentElement!==t;)e=e.parentElement;return e}(e,i),!e.getAttribute("data-nodeid"))return;var h=a.children,f=Number(e.getAttribute("data-nodeid")),m=Mv(this.previewRoot,n.findNodeById(f)),g=m.mdNode,v=m.el;d=h[Jc(g)-1].offsetTop;var y=_v(s.doc,g,h).height,b=Lv(v,i,f),w=b.nodeHeight;d+=function(e,t,n,r){return Math.min((e-t)/n,1)*r}(l,b.offsetTop,w,y),d=this.getResolvedScrollTop("preview",l,d,p),this.latestPreviewScrollTop=l}d!==p&&this.run("preview",d,p)},e.prototype.getResolvedScrollTop=function(e,t,n,r){var i="editor"===e?this.latestEditorScrollTop:this.latestPreviewScrollTop;return null===i?n:i<t?Math.max(n,r):Math.min(n,r)},e.prototype.run=function(e,t,n){var r,i=this;"editor"===e?(r=this.previewEl,this.blockedScroll="preview"):(r=this.editorView.dom,this.blockedScroll="editor"),function(e,t,n){var r=t-e,i=Date.now(),o=function(){var a,s=(Date.now()-i)/100;bw&&clearTimeout(bw),s<1?(a=e+r*Math.cos((1-s)*Math.PI/2),xw(Math.ceil(a),n),bw=setTimeout(o,1)):(xw(t,n),bw=null)};o()}(n,t,{syncScrollTop:function(e){return r.scrollTop=e},releaseEventBlock:function(){return i.blockedScroll=null}})},e.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},e.prototype.destroy=function(){this.clearTimer(),this.eventEmitter.removeEventHandler("scroll"),this.eventEmitter.removeEventHandler("afterPreviewRender")},e}(),Sw={getPopupInitialValues:function(e,t){return"link"===t.popupName?{linkText:e.getSelectedText()}:{}}};var Cw=function(){function e(e){var t=this;this.initialHTML=e.el.innerHTML,e.el.innerHTML="",this.options=Rl({previewStyle:"tab",previewHighlight:!0,initialEditType:"markdown",height:"300px",minHeight:"200px",language:"en-US",useCommandShortcut:!0,usageStatistics:!0,toolbarItems:[["heading","bold","italic","strike"],["hr","quote"],["ul","ol","task","indent","outdent"],["table","image","link"],["code","codeblock"],["scrollSync"]],hideModeSwitch:!1,linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,customMarkdownRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,widgetRules:[],theme:"light",autofocus:!0},e);var n=this.options,r=n.customHTMLRenderer,i=n.extendedAutolinks,o=n.referenceDefinition,a=n.frontMatter,s=n.customMarkdownRenderer,l=n.useCommandShortcut,c=n.initialEditType,u=n.widgetRules,p=n.customHTMLSanitizer;this.mode=c||"markdown",this.mdPreviewStyle=this.options.previewStyle,this.i18n=vy,this.i18n.setCode(this.options.language),this.eventEmitter=new zb,(hu=u).forEach((function(e,t){fu["widget"+t]=e}));var d=Mc(this.options.linkAttributes);this.pluginInfo=dw({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this});var h,f=this.pluginInfo,m=f.toHTMLRenderers,g=f.toMarkdownRenderers,v=f.mdPlugins,y=f.wwPlugins,b=f.wwNodeViews,w=f.mdCommands,x=f.wwCommands,k=f.markdownParsers,S={linkAttributes:d,customHTMLRenderer:Fc(m,r),extendedAutolinks:i,referenceDefinition:o,frontMatter:a,sanitizer:p||mv},C=new vw(d,S.customHTMLRenderer),E=function(e,t,n){var r={nodes:{},marks:{}};return["htmlBlock","htmlInline"].forEach((function(i){e[i]&&Object.keys(e[i]).forEach((function(e){var o="htmlBlock"===i?"nodes":"marks";fv(e),r[o][e]=wv[i](e,t,n)}))})),r}(S.customHTMLRenderer,S.sanitizer,C);this.toastMark=new pg("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:i,referenceDefinition:o,disallowDeepHeading:!0,frontMatter:a,customParser:k}),this.mdEditor=new Xd(this.eventEmitter,{toastMark:this.toastMark,useCommandShortcut:l,mdPlugins:v}),this.preview=new Iv(this.eventEmitter,Ml(Ml({},S),{isViewer:!1,highlight:this.options.previewHighlight})),this.wwEditor=new Pb(this.eventEmitter,{toDOMAdaptor:C,useCommandShortcut:l,htmlSchemaMap:E,linkAttributes:d,wwPlugins:y,wwNodeViews:b}),this.convertor=new pw(this.wwEditor.getSchema(),Ml(Ml({},g),s),Sv(d,S.customHTMLRenderer),this.eventEmitter),this.setMinHeight(this.options.minHeight),this.setHeight(this.options.height),this.setMarkdown(this.options.initialValue,!1),this.options.placeholder&&this.setPlaceholder(this.options.placeholder),this.options.initialValue||this.setHTML(this.initialHTML,!1),this.commandManager=new Hb(this.eventEmitter,this.mdEditor.commands,this.wwEditor.commands,(function(){return t.mode})),this.options.usageStatistics&&gc("editor","UA-129966929-1"),this.scrollSync=new kw(this.mdEditor,this.preview,this.eventEmitter),this.addInitEvent(),this.addInitCommand(w,x),(h=this).eventEmitter.listen("query",(function(e,t){return Sw[e](h,t)})),this.options.hooks&&Ll(this.options.hooks,(function(e,n){return t.addHook(n,e)})),this.options.events&&Ll(this.options.events,(function(e,n){return t.on(n,e)})),this.eventEmitter.emit("load",this),this.moveCursorToStart(this.options.autofocus)}return e.prototype.addInitEvent=function(){var e=this;this.on("needChangeMode",this.changeMode.bind(this)),this.on("loadUI",(function(){if("auto"!==e.height){var t=Math.min(parseInt(e.minHeight,10),parseInt(e.height,10)-75)+"px";e.setMinHeight(t)}})),this.eventEmitter.listen("addImageBlobHook",(function(e,t){var n=new FileReader;n.onload=function(e){var n=e.target;return t(n.result)},n.readAsDataURL(e)}))},e.prototype.addInitCommand=function(e,t){var n=this,r=function(e,t){Object.keys(t).forEach((function(r){n.addCommand(e,r,t[r])}))};this.addCommand("markdown","toggleScrollSync",(function(e){return n.eventEmitter.emit("toggleScrollSync",e.active),!0})),r("markdown",e),r("wysiwyg",t)},e.prototype.getCurrentModeEditor=function(){return this.isMarkdownMode()?this.mdEditor:this.wwEditor},e.factory=function(t){return t.viewer?new hw(t):new e(t)},e.setLanguage=function(e,t){vy.setLanguage(e,t)},e.prototype.changePreviewStyle=function(e){this.mdPreviewStyle!==e&&(this.mdPreviewStyle=e,this.eventEmitter.emit("changePreviewStyle",e))},e.prototype.exec=function(e,t){this.commandManager.exec(e,t)},e.prototype.addCommand=function(e,t,n){var r=this;this.commandManager.addCommand(e,t,(function(t){void 0===t&&(t={});var i=("markdown"===e?r.mdEditor:r.wwEditor).view;n(t,i.state,i.dispatch,i)}))},e.prototype.on=function(e,t){this.eventEmitter.listen(e,t)},e.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},e.prototype.addHook=function(e,t){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,t)},e.prototype.removeHook=function(e){this.eventEmitter.removeEventHandler(e)},e.prototype.focus=function(){this.getCurrentModeEditor().focus()},e.prototype.blur=function(){this.getCurrentModeEditor().blur()},e.prototype.moveCursorToEnd=function(e){void 0===e&&(e=!0),this.getCurrentModeEditor().moveCursorToEnd(e)},e.prototype.moveCursorToStart=function(e){void 0===e&&(e=!0),this.getCurrentModeEditor().moveCursorToStart(e)},e.prototype.setMarkdown=function(e,t){if(void 0===e&&(e=""),void 0===t&&(t=!0),this.mdEditor.setMarkdown(e,t),this.isWysiwygMode()){var n=this.toastMark.getRootNode(),r=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(r,t)}},e.prototype.setHTML=function(e,t){void 0===e&&(e=""),void 0===t&&(t=!0);var n=document.createElement("div");n.innerHTML=function(e){var t=e.replace(/<p><br\s*\/*><\/p>/gi,"<p></p>"),n=new RegExp(Lu,"ig"),r=t.match(n);return null==r||r.forEach((function(e,n){if(Iu.test(e)){var i=ju;if(n){var o=r[n-1].match(Du);if(o&&!/br/i.test(o[1])){var a=o[1];i="</"+a+"><"+a+">"}}t=t.replace(Iu,i)}})),t}(e);var r=Ns.DOMParser.fromSchema(this.wwEditor.schema).parse(n);this.isMarkdownMode()?this.mdEditor.setMarkdown(this.convertor.toMarkdownText(r),t):this.wwEditor.setModel(r,t)},e.prototype.getMarkdown=function(){return this.isMarkdownMode()?this.mdEditor.getMarkdown():this.convertor.toMarkdownText(this.wwEditor.getModel())},e.prototype.getHTML=function(){var e=this;this.eventEmitter.holdEventInvoke((function(){if(e.isMarkdownMode()){var t=e.toastMark.getRootNode(),n=e.convertor.toWysiwygModel(t);e.wwEditor.setModel(n)}}));var t=Ku(this.wwEditor.view.dom.innerHTML);if(this.placeholder){var n=new RegExp('<span class="placeholder[^>]+>'+this.placeholder+"</span>","i");return t.replace(n,"")}return t},e.prototype.insertText=function(e){this.getCurrentModeEditor().replaceSelection(e)},e.prototype.setSelection=function(e,t){this.getCurrentModeEditor().setSelection(e,t)},e.prototype.replaceSelection=function(e,t,n){this.getCurrentModeEditor().replaceSelection(e,t,n)},e.prototype.deleteSelection=function(e,t){this.getCurrentModeEditor().deleteSelection(e,t)},e.prototype.getSelectedText=function(e,t){return this.getCurrentModeEditor().getSelectedText(e,t)},e.prototype.getRangeInfoOfNode=function(e){return this.getCurrentModeEditor().getRangeInfoOfNode(e)},e.prototype.addWidget=function(e,t,n){this.getCurrentModeEditor().addWidget(e,t,n)},e.prototype.replaceWithWidget=function(e,t,n){this.getCurrentModeEditor().replaceWithWidget(e,t,n)},e.prototype.setHeight=function(e){var t=this.options.el;Il(e)&&("auto"===e?ic(t,"auto-height"):cc(t,"auto-height"),this.setMinHeight(this.getMinHeight())),Wl(t,{height:e}),this.height=e},e.prototype.getHeight=function(){return this.height},e.prototype.setMinHeight=function(e){if(e!==this.minHeight){var t=this.height||this.options.height;"auto"!==t&&this.options.el.querySelector("."+Hu("main"))&&(e=Math.min(parseInt(e,10),parseInt(t,10)-75)+"px");var n=parseInt(e,10);this.minHeight=e,this.wwEditor.setMinHeight(n),this.mdEditor.setMinHeight(n),this.preview.setMinHeight(n)}},e.prototype.getMinHeight=function(){return this.minHeight},e.prototype.isMarkdownMode=function(){return"markdown"===this.mode},e.prototype.isWysiwygMode=function(){return"wysiwyg"===this.mode},e.prototype.isViewer=function(){return!1},e.prototype.getCurrentPreviewStyle=function(){return this.mdPreviewStyle},e.prototype.changeMode=function(e,t){if(this.mode!==e){if(this.mode=e,this.isWysiwygMode()){var n=this.toastMark.getRootNode(),r=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(r)}else{r=this.wwEditor.getModel();this.mdEditor.setMarkdown(this.convertor.toMarkdownText(r),!t)}if(this.eventEmitter.emit("removePopupWidget"),this.eventEmitter.emit("changeMode",e),!t){var i=this.convertor.getMappedPos();this.focus(),this.isWysiwygMode()&&uc(i)?this.wwEditor.setSelection(i):Array.isArray(i)&&this.mdEditor.setSelection(i)}}},e.prototype.destroy=function(){var e=this;this.wwEditor.destroy(),this.mdEditor.destroy(),this.preview.destroy(),this.scrollSync.destroy(),this.eventEmitter.emit("destroy"),this.eventEmitter.getEvents().forEach((function(t,n){return e.off(n)}))},e.prototype.hide=function(){this.eventEmitter.emit("hide")},e.prototype.show=function(){this.eventEmitter.emit("show")},e.prototype.setScrollTop=function(e){this.getCurrentModeEditor().setScrollTop(e)},e.prototype.getScrollTop=function(){return this.getCurrentModeEditor().getScrollTop()},e.prototype.reset=function(){this.wwEditor.setModel([]),this.mdEditor.setMarkdown("")},e.prototype.getSelection=function(){return this.getCurrentModeEditor().getSelection()},e.prototype.setPlaceholder=function(e){this.placeholder=e,this.mdEditor.setPlaceholder(e),this.wwEditor.setPlaceholder(e)},e.prototype.getEditorElements=function(){return{mdEditor:this.mdEditor.getElement(),mdPreview:this.preview.getElement(),wwEditor:this.wwEditor.getElement()}},e.prototype.convertPosToMatchEditorMode=function(e,t,n){var r,i;void 0===t&&(t=e),void 0===n&&(n=this.mode);var o=this.mdEditor.view.state.doc,a=Array.isArray(e),s=Array.isArray(t),l=e,c=t;if(a!==s)throw new Error("Types of arguments must be same");return"markdown"!==n||a||s?"wysiwyg"===n&&a&&s&&(l=(i=vp(o,e,t))[0],c=i[1]):(l=(r=mp(o,e,t))[0],c=r[1]),[l,c]},e}();var Ew=function(e){return"boolean"==typeof e||e instanceof Boolean},Tw=function(){function e(e){this.current=e,this.root=e,this.entering=!0}return e.prototype.walk=function(){var e=this.entering,t=this.current;return t?(e?t.firstChild?(this.current=t.firstChild,this.entering=!0):this.entering=!1:t===this.root?this.current=null:t.next?(this.current=t.next,this.entering=!0):(this.current=t.parent,this.entering=!1),{vnode:t,entering:e}):null},e}(),_w=function(){function e(e,t,n){this.parent=null,this.old=null,this.firstChild=null,this.next=null,this.skip=!1,this.type=e,this.props=t,this.children=n,this.props.children=n,t.ref&&(this.ref=t.ref,delete t.ref),t.key&&(this.key=t.key,delete t.key)}return e.prototype.walker=function(){return new Tw(this)},e.removalNodes=[],e}();function Aw(e,t){var n,r=e;Ew(e)||null==e?r=null:(Il(e)||uc(e))&&(n=String(e),r=new _w("TEXT_NODE",{nodeValue:n},[])),r&&t.push(r)}var Ow=function(e){for(var t,n,r=arguments,i=1,o="",a="",s=[0],l=function(e){1===i&&(e||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?s.push(e?r[e]:o):3===i&&(e||o)?(s[1]=e?r[e]:o,i=2):2===i&&"..."===o&&e?s[2]=qc(s[2]||{},r[e]):2===i&&o&&!e?(s[2]=s[2]||{})[o]=!0:i>=5&&(5===i?((s[2]=s[2]||{})[n]=e?o?o+r[e]:r[e]:o,i=6):(e||o)&&(s[2][n]+=e?o+r[e]:o)),o=""},c=0;c<e.length;c++){c&&(1===i&&l(),l(c));for(let r=0;r<e[c].length;r++)t=e[c][r],1===i?"<"===t?(l(),s=[s,"",null],i=3):o+=t:4===i?"--"===o&&">"===t?(i=1,o=""):o=t+o[0]:a?t===a?a="":o+=t:'"'===t||"'"===t?a=t:">"===t?(l(),i=1):i&&("="===t?(i=5,n=o,o=""):"/"===t&&(i<5||">"===e[c][r+1])?(l(),3===i&&(s=s[0]),i=s,(s=s[0]).push(this.apply(null,i.slice(1))),i=0):" "===t||"\t"===t||"\n"===t||"\r"===t?(l(),i=2):o+=t),3===i&&"!--"===o&&(i=4,s=s[0])}return l(),s.length>2?s.slice(1):s[1]}.bind((function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=[];return n.forEach((function(e){Array.isArray(e)?e.forEach((function(e){Aw(e,i)})):Aw(e,i)})),new _w(e,t||{},i)}));var Nw=function(e){return e===Object(e)};function Mw(e){var t;return"TEXT_NODE"===e.type?t=document.createTextNode(e.props.nodeValue):Rw(t=document.createElement(e.type),{},e.props),t}function Pw(e,t){e.node?t.removeChild(e.node):Pw(e.firstChild,t)}function Dw(e,t,n){Object.keys(t).forEach((function(r){if(/^on/.test(r)){if(!n[r]||t[r]!==n[r]){var i=r.slice(2).toLowerCase();e.removeEventListener(i,t[r])}}else"children"===r||n[r]||function(e){return(null==e?void 0:e.nodeType)===Node.TEXT_NODE}(e)||e.removeAttribute(r)})),Rw(e,t,n,(function(e){return!Ic(t[e],n[e])}))}var Lw=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function Rw(e,t,n,r){Object.keys(n).forEach((function(i){if(!r||r(i))if(/^on/.test(i)){var o=i.slice(2).toLowerCase();e.addEventListener(o,n[i])}else"nodeValue"===i?e[i]=n[i]:"style"===i&&Nw(n[i])?function(e,t,n){t&&Object.keys(t).forEach((function(t){e.style[t]=""}));Object.keys(n).forEach((function(t){var r=n[t];e.style[t]=uc(r)&&!Lw.test(t)?r+"px":r}))}(e,t[i],n[i]):"children"!==i&&(!1===n[i]?e.removeAttribute(i):e.setAttribute(i,n[i]))}))}function Iw(e){if(_w.removalNodes.forEach((function(e){return jw(e)})),e)for(var t=void 0,n=e.walker();t=n.walk();)if(e=t.vnode,t.entering)jw(e);else if(lp(e.type)){var r=e.component;if(!e.old&&r.mounted&&r.mounted(),e.old&&r.updated){var i=r.prevProps||{};r.updated(i)}}}function Bw(e){for(var t=e.parent;!t.node;)t=t.parent;return t.node}function jw(e){if(e&&e.parent){if(e.node){var t=Bw(e);"A"===e.effect?t.appendChild(e.node):"U"===e.effect&&Dw(e.node,e.old.props,e.props)}if("D"===e.effect)for(var n=void 0,r=e.walker();n=r.walk();)if(e=n.vnode,!n.entering)if(lp(e.type)){var i=e.component;i.beforeDestroy&&i.beforeDestroy()}else{Pw(e,t=Bw(e))}e.ref&&(e.component?e.ref(e.component):e.node&&e.ref(e.node))}}function Fw(e,t){var n=t.props,r=t.component;return r?(r.prevProps=r.props,r.props=t.props,r):new e(n)}function zw(e){for(var t=e;e&&!e.skip;){if(lp(e.type)){var n=Fw(e.type,e);n.vnode=e,e.component=n,e.props.children=e.children=[n.render()],Hw(e)}else e.node||(e.node=Mw(e)),Hw(e);if(e.firstChild)e=e.firstChild;else{for(;e&&e.parent&&!e.next&&(e=e.parent)!==t;);e=e.next}}}function Hw(e){var t=e.children,n=e.old?e.old.firstChild:null,r=null;t.forEach((function(t,i){var o=function(e,t){return e&&t&&t.type===e.type&&(!t.key||t.key===e.key)}(n,t);o&&(t.old=n,t.parent=e,t.node=n.node,t.component=n.component,t.effect="U"),t&&!o&&(t.old=null,t.parent=e,t.node=null,t.effect="A"),n&&!o&&(_w.removalNodes.push(n),n.effect="D"),n&&(n=n.next),0===i?e.firstChild=t:t&&(r.next=t),r=t}));var i=Bc(t);if(!t.length)for(;n;)_w.removalNodes.push(n),n.effect="D",n=n.next;for(;n&&i;)n&&i.old!==n&&(_w.removalNodes.push(n),n.effect="D",n=n.next)}function qw(e,t){var n=new _w(e.tagName.toLowerCase(),{},[t]);return n.node=e,_w.removalNodes=[],zw(n),Iw(n),function(){return function(e){e.effect="D",_w.removalNodes=[e],Iw(),_w.removalNodes=[]}(n.firstChild)}}var Vw,Uw=function(){function e(e){this.props=e,this.state={},this.refs={}}return e.prototype.setState=function(e){var t,n=Ml(Ml({},this.state),e);Ic(this.state,n)||(this.state=n,(t=this.vnode).effect="U",t.old=t,t.next&&(t.next.skip=!0),_w.removalNodes=[],zw(t),Iw(t),t.next&&(t.next.skip=!1))},e}(),Ww=function(e){function t(t){var n=e.call(this,t)||this;return n.state={hide:!1},n}return Nl(t,e),t.prototype.show=function(){this.setState({hide:!1})},t.prototype.hide=function(){this.setState({hide:!0})},t.prototype.render=function(){var e=this.props,t=e.editorType,n=e.eventEmitter;return Ow(Vw||(Vw=Dl(['\n      <div class="','" style="display: ','">\n        <div\n          class="tab-item','"\n          onClick=',"\n        >\n          ",'\n        </div>\n        <div\n          class="tab-item','"\n          onClick=',"\n        >\n          ","\n        </div>\n      </div>\n    "],['\n      <div class="','" style="display: ','">\n        <div\n          class="tab-item','"\n          onClick=',"\n        >\n          ",'\n        </div>\n        <div\n          class="tab-item','"\n          onClick=',"\n        >\n          ","\n        </div>\n      </div>\n    "])),Hu("mode-switch"),this.state.hide?"none":"block","markdown"===t?" active":"",(function(){n.emit("needChangeMode","markdown")}),vy.get("Markdown"),"wysiwyg"===t?" active":"",(function(){n.emit("needChangeMode","wysiwyg")}),vy.get("WYSIWYG"))},t}(Uw);var $w=function(e,t){var n,r;return t=t||0,function(){r=Array.prototype.slice.call(arguments),window.clearTimeout(n),n=window.setTimeout((function(){e.apply(null,r)}),t)}};var Gw=function(e,t){var n,r,i,o,a=!0,s=function(t){e.apply(null,t),n=null};function l(){if(o=Array.prototype.slice.call(arguments),a)return s(o),void(a=!1);i=Number(new Date),n=n||i,r(o),i-n>=t&&s(o)}return r=$w(s,t=t||0),l.reset=function(){a=!0,n=null},l},Xw=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),Yw="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,Zw=void 0!==n&&n.Math===Math?n:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),Kw="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(Zw):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var Jw=["top","right","bottom","left","width","height","size","weight"],Qw="undefined"!=typeof MutationObserver,ex=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&s()}function a(){Kw(o)}function s(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);i=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){Yw&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Qw?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){Yw&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;Jw.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),tx=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},nx=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||Zw},rx=cx(0,0,0,0);function ix(e){return parseFloat(e)||0}function ox(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+ix(e["border-"+n+"-width"])}),0)}function ax(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return rx;var r=nx(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=ix(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=ix(r.width),l=ix(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=ox(r,"left","right")+o),Math.round(l+a)!==n&&(l-=ox(r,"top","bottom")+a)),!function(e){return e===nx(e).document.documentElement}(e)){var c=Math.round(s+o)-t,u=Math.round(l+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return cx(i.left,i.top,s,l)}var sx="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof nx(e).SVGGraphicsElement}:function(e){return e instanceof nx(e).SVGElement&&"function"==typeof e.getBBox};function lx(e){return Yw?sx(e)?function(e){var t=e.getBBox();return cx(0,0,t.width,t.height)}(e):ax(e):rx}function cx(e,t,n,r){return{x:e,y:t,width:n,height:r}}var ux=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=cx(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=lx(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),px=function(e,t){var n,r,i,o,a,s,l,c=(r=(n=t).x,i=n.y,o=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),tx(l,{x:r,y:i,width:o,height:a,top:i,right:r+o,bottom:a+i,left:r}),l);tx(this,{target:e,contentRect:c})},dx=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new Xw,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof nx(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new ux(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof nx(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new px(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),hx="undefined"!=typeof WeakMap?new WeakMap:new Xw,fx=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=ex.getInstance(),r=new dx(t,n,this);hx.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){fx.prototype[e]=function(){var t;return(t=hx.get(this))[e].apply(t,arguments)}}));var mx,gx,vx,yx,bx,wx,xx,kx,Sx,Cx,Ex,Tx,_x,Ax,Ox,Nx,Mx=void 0!==Zw.ResizeObserver?Zw.ResizeObserver:fx,Px=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),t.prototype.execCommand=function(e){var t=Xu(e.target,"li");this.props.execCommand("heading",{level:Number(t.getAttribute("data-level"))})},t.prototype.render=function(){var e=this;return Ow(gx||(gx=Dl(["\n      <ul\n        onClick=",'\n        aria-role="menu"\n        aria-label="','"\n      >\n        ','\n        <li data-type="Paragraph" aria-role="menuitem">\n          <div>',"</div>\n        </li>\n      </ul>\n    "],["\n      <ul\n        onClick=",'\n        aria-role="menu"\n        aria-label="','"\n      >\n        ','\n        <li data-type="Paragraph" aria-role="menuitem">\n          <div>',"</div>\n        </li>\n      </ul>\n    "])),(function(t){return e.execCommand(t)}),vy.get("Headings"),[1,2,3,4,5,6].map((function(e){return Ow(mx||(mx=Dl(['\n              <li data-level="','" data-type="Heading" aria-role="menuitem">\n                <',">"," ","</$>\n              </li>\n            "],['\n              <li data-level="','" data-type="Heading" aria-role="menuitem">\n                <',">"," ","</$>\n              </li>\n            "])),e,"h"+e,vy.get("Heading"),e)})),vy.get("Paragraph"))},t}(Uw),Dx=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),t.prototype.toggleTab=function(e,t){this.props.onClick(e,t)},t.prototype.render=function(){var e=this;return Ow(yx||(yx=Dl(['\n      <div class="','" aria-role="tabpanel">\n        ',"\n      </div>\n    "],['\n      <div class="','" aria-role="tabpanel">\n        ',"\n      </div>\n    "])),Hu("tabs"),this.props.tabs.map((function(t){var n=t.name,r=t.text,i=e.props.activeTab===n;return Ow(vx||(vx=Dl(['\n            <div\n              class="tab-item','"\n              onClick=','\n              aria-role="tab"\n              aria-label="','"\n              aria-selected="','"\n              tabindex="','"\n            >\n              ',"\n            </div>\n          "],['\n            <div\n              class="tab-item','"\n              onClick=','\n              aria-role="tab"\n              aria-label="','"\n              aria-selected="','"\n              tabindex="','"\n            >\n              ',"\n            </div>\n          "])),i?" active":"",(function(t){return e.toggleTab(t,n)}),vy.get(r),i?"true":"false",i?"0":"-1",vy.get(r))})))},t}(Uw),Lx=function(e){function t(t){var n=e.call(this,t)||this;return n.initialize=function(e){void 0===e&&(e="file");var t=n.refs.url;t.value="",n.refs.altText.value="",n.refs.file.value="",cc(t,"wrong"),n.setState({activeTab:e,file:null,fileNameElClassName:""})},n.execCommand=function(){"file"===n.state.activeTab?n.emitAddImageBlob():n.emitAddImage()},n.toggleTab=function(e,t){t!==n.state.activeTab&&n.initialize(t)},n.showFileSelectBox=function(){n.refs.file.click()},n.changeFile=function(e){var t=e.target.files;(null==t?void 0:t.length)&&n.setState({file:t[0]})},n.state={activeTab:"file",file:null,fileNameElClassName:""},n.tabs=[{name:"file",text:"File"},{name:"url",text:"URL"}],n}return Nl(t,e),t.prototype.emitAddImageBlob=function(){var e=this,t=this.refs.file.files,n=this.refs.altText,r=" wrong";if(null==t?void 0:t.length){r="";var i=t.item(0);this.props.eventEmitter.emit("addImageBlobHook",i,(function(t,r){return e.props.execCommand("addImage",{imageUrl:t,altText:r||n.value})}),"ui")}this.setState({fileNameElClassName:r})},t.prototype.emitAddImage=function(){var e=this.refs.url,t=this.refs.altText,n=e.value,r=t.value||"image";cc(e,"wrong"),n.length?n&&this.props.execCommand("addImage",{imageUrl:n,altText:r}):ic(e,"wrong")},t.prototype.preventSelectStart=function(e){e.preventDefault()},t.prototype.updated=function(){this.props.show||this.initialize()},t.prototype.render=function(){var e=this,t=this.state,n=t.activeTab,r=t.file,i=t.fileNameElClassName;return Ow(bx||(bx=Dl(['\n      <div aria-label="','">\n        <'," tabs="," activeTab="," onClick=",' />\n        <div style="display:','">\n          <label for="toastuiImageUrlInput">','</label>\n          <input\n            id="toastuiImageUrlInput"\n            type="text"\n            ref=','\n          />\n        </div>\n        <div style="display:',';position: relative;">\n          <label for="toastuiImageFileInput">','</label>\n          <span\n            class="',"",'"\n            onClick=',"\n            onSelectstart=","\n          >\n            ",'\n          </span>\n          <button\n            type="button"\n            class="','"\n            onClick=',"\n          >\n            ",'\n          </button>\n          <input\n            id="toastuiImageFileInput"\n            type="file"\n            accept="image/*"\n            onChange=',"\n            ref=",'\n          />\n        </div>\n        <label for="toastuiAltTextInput">','</label>\n        <input\n          id="toastuiAltTextInput"\n          type="text"\n          ref=','\n        />\n        <div class="','">\n          <button type="button" class="','" onClick=',">\n            ",'\n          </button>\n          <button type="button" class="','" onClick=',">\n            ","\n          </button>\n        </div>\n      </div>\n    "],['\n      <div aria-label="','">\n        <'," tabs="," activeTab="," onClick=",' />\n        <div style="display:','">\n          <label for="toastuiImageUrlInput">','</label>\n          <input\n            id="toastuiImageUrlInput"\n            type="text"\n            ref=','\n          />\n        </div>\n        <div style="display:',';position: relative;">\n          <label for="toastuiImageFileInput">','</label>\n          <span\n            class="',"",'"\n            onClick=',"\n            onSelectstart=","\n          >\n            ",'\n          </span>\n          <button\n            type="button"\n            class="','"\n            onClick=',"\n          >\n            ",'\n          </button>\n          <input\n            id="toastuiImageFileInput"\n            type="file"\n            accept="image/*"\n            onChange=',"\n            ref=",'\n          />\n        </div>\n        <label for="toastuiAltTextInput">','</label>\n        <input\n          id="toastuiAltTextInput"\n          type="text"\n          ref=','\n        />\n        <div class="','">\n          <button type="button" class="','" onClick=',">\n            ",'\n          </button>\n          <button type="button" class="','" onClick=',">\n            ","\n          </button>\n        </div>\n      </div>\n    "])),vy.get("Insert image"),Dx,this.tabs,n,this.toggleTab,"url"===n?"block":"none",vy.get("Image URL"),(function(t){return e.refs.url=t}),"file"===n?"block":"none",vy.get("Select image file"),Hu("file-name"),r?" has-file":i,this.showFileSelectBox,this.preventSelectStart,r?r.name:vy.get("No file"),Hu("file-select-button"),this.showFileSelectBox,vy.get("Choose a file"),this.changeFile,(function(t){return e.refs.file=t}),vy.get("Description"),(function(t){return e.refs.altText=t}),Hu("button-container"),Hu("close-button"),this.props.hidePopup,vy.get("Cancel"),Hu("ok-button"),this.execCommand,vy.get("OK"))},t}(Uw),Rx=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.execCommand=function(){var e=t.refs.url,n=t.refs.text;(cc(e,"wrong"),cc(n,"wrong"),e.value.length<1)?ic(e,"wrong"):Xl(t.props.initialValues.linkUrl)&&n.value.length<1?ic(n,"wrong"):t.props.execCommand("addLink",{linkUrl:e.value,linkText:n.value})},t}return Nl(t,e),t.prototype.initialize=function(){var e=this.props.initialValues,t=e.linkUrl,n=e.linkText,r=this.refs.url,i=this.refs.text;cc(r,"wrong"),cc(i,"wrong","disabled"),i.removeAttribute("disabled"),t&&(ic(i,"disabled"),i.setAttribute("disabled","disabled")),r.value=t||"",i.value=n||""},t.prototype.mounted=function(){this.initialize()},t.prototype.updated=function(e){!e.show&&this.props.show&&this.initialize()},t.prototype.render=function(){var e=this;return Ow(wx||(wx=Dl(['\n      <div aria-label="','">\n        <label for="toastuiLinkUrlInput">','</label>\n        <input\n          id="toastuiLinkUrlInput"\n          type="text"\n          ref=','\n        />\n        <label for="toastuiLinkTextInput">','</label>\n        <input\n          id="toastuiLinkTextInput"\n          type="text"\n          ref=','\n        />\n        <div class="','">\n          <button type="button" class="','" onClick=',">\n            ",'\n          </button>\n          <button type="button" class="','" onClick=',">\n            ","\n          </button>\n        </div>\n      </div>\n    "],['\n      <div aria-label="','">\n        <label for="toastuiLinkUrlInput">','</label>\n        <input\n          id="toastuiLinkUrlInput"\n          type="text"\n          ref=','\n        />\n        <label for="toastuiLinkTextInput">','</label>\n        <input\n          id="toastuiLinkTextInput"\n          type="text"\n          ref=','\n        />\n        <div class="','">\n          <button type="button" class="','" onClick=',">\n            ",'\n          </button>\n          <button type="button" class="','" onClick=',">\n            ","\n          </button>\n        </div>\n      </div>\n    "])),vy.get("Insert link"),vy.get("URL"),(function(t){return e.refs.url=t}),vy.get("Link text"),(function(t){return e.refs.text=t}),Hu("button-container"),Hu("close-button"),this.props.hidePopup,vy.get("Cancel"),Hu("ok-button"),this.execCommand,vy.get("OK"))},t}(Uw),Ix=function(e){function t(t){var n=e.call(this,t)||this;return n.extendSelectionRange=function(e){var t=e.pageX,r=e.pageY,i=t-n.offsetRect.left,o=r-n.offsetRect.top,a=n.getSelectionRangeByOffset(i,o);n.setState(Ml({},a))},n.execCommand=function(){n.props.execCommand("addTable",{rowCount:n.state.rowIdx+1,columnCount:n.state.colIdx+1})},n.state={rowIdx:-1,colIdx:-1},n}return Nl(t,e),t.prototype.getDescription=function(){return-1===this.state.colIdx?"":this.state.colIdx+1+" x "+(this.state.rowIdx+1)},t.prototype.getBoundByRange=function(e,t){return{width:20*(e+1),height:20*(t+1)}},t.prototype.getRangeByOffset=function(e,t){return{colIdx:Math.floor(e/20),rowIdx:Math.floor(t/20)}},t.prototype.getTableRange=function(){var e=this.state,t=e.colIdx,n=e.rowIdx,r=Math.max(t,5),i=Math.max(n,5);return t>=5&&r<9&&(r+=1),n>=5&&i<14&&(i+=1),{colIdx:r+1,rowIdx:i+1}},t.prototype.getSelectionAreaBound=function(){var e=this.getBoundByRange(this.state.colIdx,this.state.rowIdx),t=e.width,n=e.height;return t||n?{width:t-1,height:n-1,display:"block"}:{display:"none"}},t.prototype.getSelectionRangeByOffset=function(e,t){var n=this.getRangeByOffset(e,t);return n.rowIdx=Math.min(Math.max(n.rowIdx,1),14),n.colIdx=Math.min(Math.max(n.colIdx,1),9),n},t.prototype.updated=function(){if(this.props.show){if(-1===this.state.colIdx&&-1===this.state.rowIdx){var e=this.refs.tableEl.getBoundingClientRect(),t=e.left,n=e.top;this.offsetRect={left:window.pageXOffset+t,top:window.pageYOffset+n}}}else this.setState({colIdx:-1,rowIdx:-1})},t.prototype.createTableArea=function(e){for(var t=e.colIdx,n=e.rowIdx,r=[],i=0;i<n;i+=1){for(var o=[],a=0;a<t;a+=1){var s=Hu("table-cell")+(i>0?"":" header");o.push(Ow(xx||(xx=Dl(['<div class="','"></div>'],['<div class="','"></div>'])),s))}r.push(Ow(kx||(kx=Dl(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),Hu("table-row"),o))}return Ow(Sx||(Sx=Dl(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),Hu("table"),r)},t.prototype.render=function(){var e=this,t=this.getTableRange(),n=this.getSelectionAreaBound();return Ow(Cx||(Cx=Dl(['\n      <div aria-label="','">\n        <div\n          class="','"\n          ref=',"\n          onMousemove=","\n          onClick=","\n        >\n          ",'\n          <div class="','" style=','></div>\n        </div>\n        <p class="','">',"</p>\n      </div>\n    "],['\n      <div aria-label="','">\n        <div\n          class="','"\n          ref=',"\n          onMousemove=","\n          onClick=","\n        >\n          ",'\n          <div class="','" style=','></div>\n        </div>\n        <p class="','">',"</p>\n      </div>\n    "])),vy.get("Insert table"),Hu("table-selection"),(function(t){return e.refs.tableEl=t}),this.extendSelectionRange,this.execCommand,this.createTableArea(t),Hu("table-selection-layer"),n,Hu("table-description"),this.getDescription())},t}(Uw),Bx=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),t.prototype.mounted=function(){this.refs.el.appendChild(this.props.body)},t.prototype.updated=function(e){this.refs.el.replaceChild(this.props.body,e.body)},t.prototype.render=function(){var e=this;return Ow(Ex||(Ex=Dl(["<div ref=","></div>"],["<div ref=","></div>"])),(function(t){return e.refs.el=t}))},t}(Uw);function jx(e){return Il(e)?function(e){var t;switch(e){case"heading":t={name:"heading",className:"heading",tooltip:vy.get("Headings"),state:"heading"};break;case"bold":t={name:"bold",className:"bold",command:"bold",tooltip:vy.get("Bold"),state:"strong"};break;case"italic":t={name:"italic",className:"italic",command:"italic",tooltip:vy.get("Italic"),state:"emph"};break;case"strike":t={name:"strike",className:"strike",command:"strike",tooltip:vy.get("Strike"),state:"strike"};break;case"hr":t={name:"hr",className:"hrline",command:"hr",tooltip:vy.get("Line"),state:"thematicBreak"};break;case"quote":t={name:"quote",className:"quote",command:"blockQuote",tooltip:vy.get("Blockquote"),state:"blockQuote"};break;case"ul":t={name:"ul",className:"bullet-list",command:"bulletList",tooltip:vy.get("Unordered list"),state:"bulletList"};break;case"ol":t={name:"ol",className:"ordered-list",command:"orderedList",tooltip:vy.get("Ordered list"),state:"orderedList"};break;case"task":t={name:"task",className:"task-list",command:"taskList",tooltip:vy.get("Task"),state:"taskList"};break;case"table":t={name:"table",className:"table",tooltip:vy.get("Insert table"),state:"table"};break;case"image":t={name:"image",className:"image",tooltip:vy.get("Insert image")};break;case"link":t={name:"link",className:"link",tooltip:vy.get("Insert link")};break;case"code":t={name:"code",className:"code",command:"code",tooltip:vy.get("Code"),state:"code"};break;case"codeblock":t={name:"codeblock",className:"codeblock",command:"codeBlock",tooltip:vy.get("Insert CodeBlock"),state:"codeBlock"};break;case"indent":t={name:"indent",className:"indent",command:"indent",tooltip:vy.get("Indent"),state:"indent"};break;case"outdent":t={name:"outdent",className:"outdent",command:"outdent",tooltip:vy.get("Outdent"),state:"outdent"};break;case"scrollSync":t=function(){var e=document.createElement("label"),t=document.createElement("input"),n=document.createElement("span");e.className="scroll-sync active",t.type="checkbox",t.checked=!0,n.className="switch";var r=function(n){return t.addEventListener("change",(function(t){var r=t.target.checked;r?ic(e,"active"):cc(e,"active"),n("toggleScrollSync",{active:r})}))};return e.appendChild(t),e.appendChild(n),{name:"scrollSync",el:e,onMounted:r}}();break;case"more":t={name:"more",className:"more",tooltip:vy.get("More")}}"scrollSync"!==t.name&&(t.className+=" "+Hu("toolbar-icons"));return t}(e):e}function Fx(e,t){var n=t.el,r=t.pos,i=t.popup,o=t.initialValues;switch(e){case"heading":return{render:function(e){return Ow(Tx||(Tx=Dl(["<"," ..."," />"],["<"," ..."," />"])),Px,e)},className:Hu("popup-add-heading"),fromEl:n,pos:r};case"link":return{render:function(e){return Ow(_x||(_x=Dl(["<"," ..."," />"],["<"," ..."," />"])),Rx,e)},className:Hu("popup-add-link"),fromEl:n,pos:r,initialValues:o};case"image":return{render:function(e){return Ow(Ax||(Ax=Dl(["<"," ..."," />"],["<"," ..."," />"])),Lx,e)},className:Hu("popup-add-image"),fromEl:n,pos:r};case"table":return{render:function(e){return Ow(Ox||(Ox=Dl(["<"," ..."," />"],["<"," ..."," />"])),Ix,e)},className:Hu("popup-add-table"),fromEl:n,pos:r};case"customPopupBody":return i?Ml({render:function(e){return Ow(Nx||(Nx=Dl(["<"," ..."," body="," />"],["<"," ..."," body="," />"])),Bx,e,i.body)},fromEl:n,pos:r},i):null;default:return null}}function zx(e){e.hidden=e.length===e.filter((function(e){return e.hidden})).length}function Hx(e,t){return e.reduce((function(e,n){e.push(n.map((function(e){return function(e){return e.hidden="scrollSync"===e.name&&t,e}(jx(e))})));var r=e[(e.length||1)-1];return r&&zx(r),e}),[])}var qx,Vx,Ux=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleMousedown=function(e){Xu(e.target,"."+Hu("popup"))||Xu(e.target,t.props.info.fromEl)||t.props.hidePopup()},t}return Nl(t,e),t.prototype.mounted=function(){document.addEventListener("mousedown",this.handleMousedown),this.props.eventEmitter.listen("closePopup",this.props.hidePopup)},t.prototype.beforeDestroy=function(){document.removeEventListener("mousedown",this.handleMousedown)},t.prototype.updated=function(e){var t=this.props,n=t.show,r=t.info;if(n&&r.pos&&e.show!==n){var i=Ml({},r.pos),o=this.refs.el.offsetWidth,a=Xu(this.refs.el,"."+Hu("toolbar")).offsetWidth;i.left+o>=a&&(i.left=a-o-20),Ic(this.state.popupPos,i)||this.setState({popupPos:i})}},t.prototype.render=function(){var e=this,t=this.props,n=t.info,r=t.show,i=t.hidePopup,o=t.eventEmitter,a=t.execCommand,s=n||{},l=s.className,c=void 0===l?"":l,u=s.style,p=s.render,d=s.initialValues,h=void 0===d?{}:d,f=Ml(Ml({display:r?"block":"none"},u),this.state.popupPos);return Ow(qx||(qx=Dl(['\n      <div\n        class="'," ",'"\n        style=',"\n        ref=",'\n        aria-role="dialog"\n      >\n        <div class="','">\n          ',"\n        </div>\n      </div>\n    "],['\n      <div\n        class="'," ",'"\n        style=',"\n        ref=",'\n        aria-role="dialog"\n      >\n        <div class="','">\n          ',"\n        </div>\n      </div>\n    "])),Hu("popup"),c,f,(function(t){return e.refs.el=t}),Hu("popup-body"),p&&p({eventEmitter:o,show:r,hidePopup:i,execCommand:a,initialValues:h}))},t}(Uw);function Wx(e){return function(t){function n(e){var n=t.call(this,e)||this;return n.showTooltip=function(e){var t=n.props.item.tooltip;if(!n.props.disabled&&t){var r=n.getBound(e),i=r.left+6+"px",o=r.top+6+"px";Wl(n.props.tooltipRef.current,{display:"block",left:i,top:o}),n.props.tooltipRef.current.querySelector(".text").textContent=t}},n.hideTooltip=function(){Wl(n.props.tooltipRef.current,"display","none")},n.state={active:!1,disabled:e.disabled},n.addEvent(),n}return Nl(n,t),n.prototype.addEvent=function(){var e=this,t=this.props,n=t.item,r=t.eventEmitter;n.state&&r.listen("changeToolbarState",(function(t){var r,i=null!==(r=t.toolbarState[n.state])&&void 0!==r?r:{},o=i.active,a=i.disabled;e.setState({active:!!o,disabled:null!=a?a:e.props.disabled})}))},n.prototype.getBound=function(e){var t=Yu(e,Xu(e,"."+Hu("toolbar"))),n=t.offsetLeft,r=t.offsetTop;return{left:n,top:e.offsetHeight+r}},n.prototype.render=function(){return Ow(Vx||(Vx=Dl(["\n        <","\n          ...","\n          active=","\n          showTooltip=","\n          hideTooltip=","\n          getBound=","\n          disabled=","\n        />\n      "],["\n        <","\n          ...","\n          active=","\n          showTooltip=","\n          hideTooltip=","\n          getBound=","\n          disabled=","\n        />\n      "])),e,this.props,this.state.active,this.showTooltip,this.hideTooltip,this.getBound,this.state.disabled||this.props.disabled)},n}(Uw)}var $x,Gx,Xx,Yx,Zx,Kx,Jx,Qx,ek,tk,nk,rk,ik,ok,ak=Wx(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showTooltip=function(){t.props.showTooltip(t.refs.el)},t.execCommand=function(){var e=t.props,n=e.item,r=e.execCommand,i=e.setPopupInfo,o=e.getBound,a=e.eventEmitter,s=n.command,l=n.name,c=n.popup;if(s)r(s);else{var u=c?"customPopupBody":l,p=a.emit("query","getPopupInitialValues",{popupName:u})[0],d=Fx(u,{el:t.refs.el,pos:o(t.refs.el),popup:c,initialValues:p});d&&i(d)}},t}return Nl(t,e),t.prototype.mounted=function(){this.setItemWidth()},t.prototype.updated=function(e){e.item.name!==this.props.item.name&&this.setItemWidth()},t.prototype.setItemWidth=function(){var e=this.props,t=e.setItemWidth,n=e.item;t&&t(n.name,Gu(this.refs.el)+(n.hidden?80:0))},t.prototype.render=function(){var e=this,t=this.props,n=t.hideTooltip,r=t.disabled,i=t.item,o=t.active,a=Ml({display:i.hidden?"none":null},i.style),s=(i.className||"")+(o?" active":"");return Ow($x||($x=Dl(["\n      <button\n        ref=",'\n        type="button"\n        style=',"\n        class=","\n        onClick=","\n        onMouseover=","\n        onMouseout=","\n        disabled=","\n        aria-label=","\n      >\n        ","\n      </button>\n    "],["\n      <button\n        ref=",'\n        type="button"\n        style=',"\n        class=","\n        onClick=","\n        onMouseover=","\n        onMouseout=","\n        disabled=","\n        aria-label=","\n      >\n        ","\n      </button>\n    "])),(function(t){return e.refs.el=t}),a,s,this.execCommand,this.showTooltip,n,!!r,i.text||i.tooltip||"",i.text||"")},t}(Uw)),sk=Wx(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showTooltip=function(){t.props.showTooltip(t.refs.el)},t.showPopup=function(){var e=Fx("customPopupBody",{el:t.refs.el,pos:t.props.getBound(t.refs.el),popup:t.props.item.popup});e&&t.props.setPopupInfo(e)},t}return Nl(t,e),t.prototype.mounted=function(){var e=this.props,t=e.setItemWidth,n=e.item;this.refs.el.appendChild(n.el),t&&t(n.name,Gu(this.refs.el)),n.onMounted&&n.onMounted(this.props.execCommand)},t.prototype.updated=function(e){var t,n=this.props,r=n.item,i=n.active,o=n.disabled;e.active===i&&e.disabled===o||null===(t=r.onUpdated)||void 0===t||t.call(r,{active:i,disabled:o})},t.prototype.render=function(){var e=this,t=this.props,n=t.disabled,r={display:t.item.hidden?"none":"inline-block"},i=function(e){return n?null:e};return Ow(Gx||(Gx=Dl(["\n      <div\n        ref=","\n        style=","\n        class=","\n        onClick=","\n        onMouseover=","\n        onMouseout=","\n      ></div>\n    "],["\n      <div\n        ref=","\n        style=","\n        class=","\n        onClick=","\n        onMouseover=","\n        onMouseout=","\n      ></div>\n    "])),(function(t){return e.refs.el=t}),r,Hu("toolbar-item-wrapper"),i(this.showPopup),i(this.showTooltip),i(this.props.hideTooltip))},t}(Uw)),lk=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nl(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.group,r=t.hiddenDivider,i=n.hidden?{display:"none"}:null,o=r?{display:"none"}:null;return Ow(Yx||(Yx=Dl(['\n      <div class="','" style=',">\n        ",'\n        <div class="','" style=',"></div>\n      </div>\n    "],['\n      <div class="','" style=',">\n        ",'\n        <div class="','" style=',"></div>\n      </div>\n    "])),Hu("toolbar-group"),i,n.map((function(t){var n=t.el?sk:ak;return Ow(Xx||(Xx=Dl(["<"," key="," ..."," item="," />"],["<"," key="," ..."," item="," />"])),n,t.name,e.props,t)})),Hu("toolbar-divider"),o)},t}(Uw),ck=Wx(function(e){function t(t){var n=e.call(this,t)||this;return n.handleClickDocument=function(e){var t=e.target;Xu(t,"."+Hu("dropdown-toolbar"))||Xu(t,".more")||n.setState({showDropdown:!1,dropdownPos:null})},n.showTooltip=function(){n.props.showTooltip(n.refs.el)},n.state={showDropdown:!1,dropdownPos:null},n}return Nl(t,e),t.prototype.getBound=function(){var e=this.props.getBound(this.refs.el);return e.top+=4,Ml(Ml({},e),{left:null,right:10})},t.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},t.prototype.updated=function(){this.state.showDropdown&&!this.state.dropdownPos&&this.setState({dropdownPos:this.getBound()})},t.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},t.prototype.render=function(){var e=this,t=this.state,n=t.showDropdown,r=t.dropdownPos,i=this.props,o=i.disabled,a=i.item,s=i.items,l=i.hideTooltip,c=s.filter((function(e){return!e.hidden})),u=c.length?null:{display:"none"},p=n?null:{display:"none"};return Ow(Kx||(Kx=Dl(['\n      <div class="','" style=',">\n        <button\n          ref=",'\n          type="button"\n          class=',"\n          onClick=","\n          onMouseover=","\n          onMouseout=","\n          disabled=",'\n        ></button>\n        <div\n          class="','"\n          style=',"\n          ref=","\n        >\n          ","\n        </div>\n      </div>\n    "],['\n      <div class="','" style=',">\n        <button\n          ref=",'\n          type="button"\n          class=',"\n          onClick=","\n          onMouseover=","\n          onMouseout=","\n          disabled=",'\n        ></button>\n        <div\n          class="','"\n          style=',"\n          ref=","\n        >\n          ","\n        </div>\n      </div>\n    "])),Hu("toolbar-group"),u,(function(t){return e.refs.el=t}),a.className,(function(){return e.setState({showDropdown:!0})}),this.showTooltip,l,o,Hu("dropdown-toolbar"),Ml(Ml({},p),r),(function(t){return e.refs.dropdownEl=t}),c.length?c.map((function(t,n){var r;return Ow(Zx||(Zx=Dl(["\n                  <","\n                    group=","\n                    hiddenDivider=","\n                    ...","\n                  />\n                "],["\n                  <","\n                    group=","\n                    hiddenDivider=","\n                    ...","\n                  />\n                "])),lk,t,n===c.length-1||(null===(r=c[n+1])||void 0===r?void 0:r.hidden),e.props)})):null)},t}(Uw)),uk=function(e){function t(t){var n=e.call(this,t)||this;return n.toggleTab=function(e,t){var r=n.props.eventEmitter;if(n.state.activeTab!==t){var i="write"===t?"changePreviewTabWrite":"changePreviewTabPreview";r.emit(i),n.setState({activeTab:t})}},n.setItemWidth=function(e,t){n.itemWidthMap[e]=t},n.setPopupInfo=function(e){n.setState({showPopup:!0,popupInfo:e})},n.openPopup=function(e,t){void 0===t&&(t={});var r=n.refs.el.querySelector("."+Hu("toolbar-group")+" ."+e);if(r){var i=Yu(r,Xu(r,"."+Hu("toolbar"))),o=i.offsetLeft,a=i.offsetTop,s=Fx(e,{el:r,pos:{left:o,top:r.offsetHeight+a},initialValues:t});s&&n.setPopupInfo(s)}},n.hidePopup=function(){n.state.showPopup&&n.setState({showPopup:!1})},n.execCommand=function(e,t){n.props.eventEmitter.emit("command",e,t),n.hidePopup()},n.tabs=[{name:"write",text:"Write"},{name:"preview",text:"Preview"}],n.itemWidthMap={},n.initialItems=Hx(t.toolbarItems||[],n.hiddenScrollSync()),n.state={items:n.initialItems,dropdownItems:[],showPopup:!1,popupInfo:{},activeTab:"write"},n.tooltipRef={current:null},n.resizeObserver=new Mx((function(){return n.handleResize()})),n.addEvent(),n}return Nl(t,e),t.prototype.insertToolbarItem=function(e,t){var n=e.groupIndex,r=e.itemIndex,i=this.initialItems[n];t=jx(t),i?i.splice(r,0,t):this.initialItems.push([t]),this.setState(this.classifyToolbarItems())},t.prototype.removeToolbarItem=function(e){var t=this;jl(this.initialItems,(function(n){var r=!1;return jl(n,(function(i,o){return i.name!==e||(r=!0,n.splice(o,1),t.setState(t.classifyToolbarItems()),!1)})),!r}))},t.prototype.addEvent=function(){var e=this,t=this.props.eventEmitter;this.handleResize=Gw((function(){e.setState({items:e.initialItems,dropdownItems:[]}),e.setState(e.classifyToolbarItems())}),200),t.listen("openPopup",this.openPopup)},t.prototype.appendTooltipToRoot=function(){var e='<div class="'+Hu("tooltip")+'" style="display:none">\n        <div class="arrow"></div>\n        <span class="text"></span>\n      </div>';this.tooltipRef.current=$u(e,this.refs.el)},t.prototype.hiddenScrollSync=function(){return"wysiwyg"===this.props.editorType||"tab"===this.props.previewStyle},t.prototype.movePrevItemToDropdownToolbar=function(e,t,n,r){var i=function(e){var t=e.pop();t&&r.push(t)};if(e>1)i(n);else{var o=Bc(t);o&&i(o)}},t.prototype.classifyToolbarItems=function(){var e=this,t=0,n=this.refs.el.clientWidth,r=this.refs.el.querySelector("."+Hu("toolbar-divider")),i=r?Gu(r):0,o=[],a=[],s=!1;return this.initialItems.forEach((function(r,l){var c=[],u=[];r.forEach((function(r,i){r.hidden||((t+=e.itemWidthMap[r.name])>n-50?(s||(e.movePrevItemToDropdownToolbar(i,o,c,u),s=!0),u.push(r)):c.push(r))})),c.length&&(zx(c),o.push(c)),u.length&&(zx(u),a.push(u)),l<e.state.items.length-1&&(t+=i)})),{items:o,dropdownItems:a}},t.prototype.mounted=function(){"tab"===this.props.previewStyle&&this.props.eventEmitter.emit("changePreviewTabWrite",!0),this.setState(this.classifyToolbarItems()),this.appendTooltipToRoot(),this.resizeObserver.observe(this.refs.el)},t.prototype.updated=function(e){var t,n,r=this.props,i=r.editorType,o=r.previewStyle,a=r.eventEmitter,s=o!==e.previewStyle,l=i!==e.editorType;if(s||l){t=this.initialItems,n=this.hiddenScrollSync(),t.forEach((function(e){e.forEach((function(e){return e.hidden="scrollSync"===e.name&&n})),zx(e)}));var c=this.classifyToolbarItems();(s||"tab"===o&&"markdown"===i)&&(a.emit("changePreviewTabWrite"),c.activeTab="write"),this.setState(c)}},t.prototype.beforeDestroy=function(){window.removeEventListener("resize",this.handleResize),this.resizeObserver.disconnect(),Uu(this.tooltipRef.current)},t.prototype.render=function(){var e=this,t=this.props,n=t.previewStyle,r=t.eventEmitter,i=t.editorType,o=this.state,a=o.popupInfo,s=o.showPopup,l=o.activeTab,c=o.items,u=o.dropdownItems,p={eventEmitter:r,tooltipRef:this.tooltipRef,disabled:"markdown"===i&&"tab"===n&&"preview"===l,execCommand:this.execCommand,setPopupInfo:this.setPopupInfo},d="tab"===n?{borderTopLeftRadius:0}:null;return Ow(Qx||(Qx=Dl(['\n      <div class="','">\n        <div\n          class="','"\n          style="display: ','"\n        >\n          <'," tabs="," activeTab="," onClick=",' />\n        </div>\n        <div\n          class="','"\n          ref=',"\n          style=","\n        >\n          ","\n          <","\n            item=","\n            items=","\n            ...","\n          />\n        </div>\n        <","\n          info=","\n          show=","\n          eventEmitter=","\n          hidePopup=","\n          execCommand=","\n        />\n      </div>\n    "],['\n      <div class="','">\n        <div\n          class="','"\n          style="display: ','"\n        >\n          <'," tabs="," activeTab="," onClick=",' />\n        </div>\n        <div\n          class="','"\n          ref=',"\n          style=","\n        >\n          ","\n          <","\n            item=","\n            items=","\n            ...","\n          />\n        </div>\n        <","\n          info=","\n          show=","\n          eventEmitter=","\n          hidePopup=","\n          execCommand=","\n        />\n      </div>\n    "])),Hu("toolbar"),Hu("md-tab-container"),"wysiwyg"===i||"vertical"===n?"none":"block",Dx,this.tabs,l,this.toggleTab,Hu("defaultUI-toolbar"),(function(t){return e.refs.el=t}),d,c.map((function(t,n){var r;return Ow(Jx||(Jx=Dl(["\n              <","\n                group=","\n                hiddenDivider=","\n                setItemWidth=","\n                ...","\n              />\n            "],["\n              <","\n                group=","\n                hiddenDivider=","\n                setItemWidth=","\n                ...","\n              />\n            "])),lk,t,n===c.length-1||(null===(r=c[n+1])||void 0===r?void 0:r.hidden),e.setItemWidth,p)})),ck,jx("more"),u,p,Ux,a,s,r,this.hidePopup,this.execCommand)},t}(Uw),pk=function(e){function t(t){var n=e.call(this,t)||this;return n.handleClickDocument=function(e){Xu(e.target,"."+Hu("context-menu"))||n.setState({pos:null})},n.state={pos:null,menuGroups:[]},n.addEvent(),n}return Nl(t,e),t.prototype.addEvent=function(){var e=this;this.props.eventEmitter.listen("contextmenu",(function(t){var n=t.pos,r=t.menuGroups;e.setState({pos:n,menuGroups:r})}))},t.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},t.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},t.prototype.getMenuGroupElements=function(){var e=this,t=this.state,n=t.pos,r=t.menuGroups;return n?r.reduce((function(t,n){var r=[];return n.forEach((function(t){var n=t.label,i=t.className,o=void 0!==i&&i,a=t.disabled,s=t.onClick;r.push(Ow(ek||(ek=Dl(["\n                <li\n                  onClick=",'\n                  class="menu-item','"\n                  aria-role="menuitem"\n                >\n                  <span class="','">',"</span>\n                </li>\n              "],["\n                <li\n                  onClick=",'\n                  class="menu-item','"\n                  aria-role="menuitem"\n                >\n                  <span class="','">',"</span>\n                </li>\n              "])),(function(){a||(s(),e.setState({pos:null}))}),a?" disabled":"",o,n))})),t.push(Ow(tk||(tk=Dl(['<ul class="menu-group">\n              ',"\n            </ul>"],['<ul class="menu-group">\n              ',"\n            </ul>"])),r)),t}),[]):[]},t.prototype.render=function(){var e=Ml({display:this.state.pos?"block":"none"},this.state.pos);return Ow(nk||(nk=Dl(['<div class="','" style=',' aria-role="menu">\n      ',"\n    </div>"],['<div class="','" style=',' aria-role="menu">\n      ',"\n    </div>"])),Hu("context-menu"),e,this.getMenuGroupElements())},t}(Uw),dk=function(e){function t(t){var n=e.call(this,t)||this;n.changeMode=function(e){e!==n.state.editorType&&n.setState({editorType:e})},n.changePreviewStyle=function(e){e!==n.state.previewStyle&&n.setState({previewStyle:e})},n.hide=function(){n.setState({hide:!0})},n.show=function(){n.setState({hide:!1})};var r=t.editorType,i=t.previewStyle;return n.state={editorType:r,previewStyle:i,hide:!1},n.addEvent(),n}return Nl(t,e),t.prototype.mounted=function(){var e=this.props.slots,t=e.wwEditor,n=e.mdEditor,r=e.mdPreview;this.refs.wwContainer.appendChild(t),this.refs.mdContainer.insertAdjacentElement("afterbegin",n),this.refs.mdContainer.appendChild(r)},t.prototype.insertToolbarItem=function(e,t){this.toolbar.insertToolbarItem(e,t)},t.prototype.removeToolbarItem=function(e){this.toolbar.removeToolbarItem(e)},t.prototype.render=function(){var e=this,t=this.props,n=t.eventEmitter,r=t.hideModeSwitch,i=t.toolbarItems,o=t.theme,a=this.state,s=a.hide,l=a.previewStyle,c=a.editorType,u=s?" hidden":"",p=Hu("markdown"===c?"md-mode":"ww-mode"),d=Hu("md")+"-"+l+"-style",h=Hu(["light"!==o,o+" "]);return Ow(ik||(ik=Dl(['\n      <div\n        class="',"","",'"\n        ref=',"\n      >\n        <","\n          ref=","\n          eventEmitter=","\n          previewStyle=","\n          toolbarItems=","\n          editorType=",'\n        />\n        <div\n          class="'," ",'"\n          ref=','\n        >\n          <div class="','">\n            <div\n              class="'," ",'"\n              ref=','\n            >\n              <div class="','"></div>\n            </div>\n            <div\n              class="','"\n              ref=',"\n            />\n          </div>\n        </div>\n        ","\n        <"," eventEmitter="," />\n      </div>\n    "],['\n      <div\n        class="',"","",'"\n        ref=',"\n      >\n        <","\n          ref=","\n          eventEmitter=","\n          previewStyle=","\n          toolbarItems=","\n          editorType=",'\n        />\n        <div\n          class="'," ",'"\n          ref=','\n        >\n          <div class="','">\n            <div\n              class="'," ",'"\n              ref=','\n            >\n              <div class="','"></div>\n            </div>\n            <div\n              class="','"\n              ref=',"\n            />\n          </div>\n        </div>\n        ","\n        <"," eventEmitter="," />\n      </div>\n    "])),h,Hu("defaultUI"),u,(function(t){return e.refs.el=t}),uk,(function(t){return e.toolbar=t}),n,l,i,c,Hu("main"),p,(function(t){return e.refs.editorSection=t}),Hu("main-container"),Hu("md-container"),d,(function(t){return e.refs.mdContainer=t}),Hu("md-splitter"),Hu("ww-container"),(function(t){return e.refs.wwContainer=t}),!r&&Ow(rk||(rk=Dl(["<"," eventEmitter="," editorType="," />"],["<"," eventEmitter="," editorType="," />"])),Ww,n,c),pk,n)},t.prototype.addEvent=function(){var e=this.props.eventEmitter;e.listen("hide",this.hide),e.listen("show",this.show),e.listen("changeMode",this.changeMode),e.listen("changePreviewStyle",this.changePreviewStyle)},t}(Uw),hk=function(e){function t(t){var n,r,i=e.call(this,t)||this,o=qw(i.options.el,Ow(ok||(ok=Dl(["\n        <","\n          ref=","\n          eventEmitter=","\n          slots=","\n          hideModeSwitch=","\n          toolbarItems=","\n          previewStyle=","\n          editorType=","\n          theme=","\n        />\n      "],["\n        <","\n          ref=","\n          eventEmitter=","\n          slots=","\n          hideModeSwitch=","\n          toolbarItems=","\n          previewStyle=","\n          editorType=","\n          theme=","\n        />\n      "])),dk,(function(e){return r=e}),i.eventEmitter,i.getEditorElements(),i.options.hideModeSwitch,i.options.toolbarItems,i.options.previewStyle,i.options.initialEditType,i.options.theme));return i.setMinHeight(i.options.minHeight),i.setHeight(i.options.height),i.defaultUI={insertToolbarItem:r.insertToolbarItem.bind(r),removeToolbarItem:r.removeToolbarItem.bind(r),destroy:o},null===(n=i.pluginInfo.toolbarItems)||void 0===n||n.forEach((function(e){var t=e.groupIndex,n=e.itemIndex,r=e.item;i.defaultUI.insertToolbarItem({groupIndex:t,itemIndex:n},r)})),i.eventEmitter.emit("loadUI",i),i}return Nl(t,e),t.factory=function(e){return e.viewer?new hw(e):new t(e)},t.prototype.insertToolbarItem=function(e,t){this.defaultUI.insertToolbarItem(e,t)},t.prototype.removeToolbarItem=function(e){this.defaultUI.removeToolbarItem(e)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.defaultUI.destroy()},t}(Cw);Cw.setLanguage(["en","en-US"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Write",Preview:"Preview",Headings:"Headings",Paragraph:"Paragraph",Bold:"Bold",Italic:"Italic",Strike:"Strike",Code:"Inline code",Line:"Line",Blockquote:"Blockquote","Unordered list":"Unordered list","Ordered list":"Ordered list",Task:"Task",Indent:"Indent",Outdent:"Outdent","Insert link":"Insert link","Insert CodeBlock":"Insert codeBlock","Insert table":"Insert table","Insert image":"Insert image",Heading:"Heading","Image URL":"Image URL","Select image file":"Select image file","Choose a file":"Choose a file","No file":"No file",Description:"Description",OK:"OK",More:"More",Cancel:"Cancel",File:"File",URL:"URL","Link text":"Link text","Add row to up":"Add row to up","Add row to down":"Add row to down","Add column to left":"Add column to left","Add column to right":"Add column to right","Remove row":"Remove row","Remove column":"Remove column","Align column to left":"Align column to left","Align column to center":"Align column to center","Align column to right":"Align column to right","Remove table":"Remove table","Would you like to paste as table?":"Would you like to paste as table?","Text color":"Text color","Auto scroll enabled":"Auto scroll enabled","Auto scroll disabled":"Auto scroll disabled","Choose language":"Choose language"});var fk,mk={};
/*!
 * @toast-ui/editor
 * @version 3.2.2 | Fri Feb 17 2023
 * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 */self,fk=function(e,t,n,r,i){return function(){var o={368:function(e){
/*! @license DOMPurify 2.3.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.3/LICENSE */e.exports=function(){function e(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var t=Object.hasOwnProperty,n=Object.setPrototypeOf,r=Object.isFrozen,i=Object.getPrototypeOf,o=Object.getOwnPropertyDescriptor,a=Object.freeze,s=Object.seal,l=Object.create,c="undefined"!=typeof Reflect&&Reflect,u=c.apply,p=c.construct;u||(u=function(e,t,n){return e.apply(t,n)}),a||(a=function(e){return e}),s||(s=function(e){return e}),p||(p=function(t,n){return new(Function.prototype.bind.apply(t,[null].concat(e(n))))});var d=k(Array.prototype.forEach),h=k(Array.prototype.pop),f=k(Array.prototype.push),m=k(String.prototype.toLowerCase),g=k(String.prototype.match),v=k(String.prototype.replace),y=k(String.prototype.indexOf),b=k(String.prototype.trim),w=k(RegExp.prototype.test),x=S(TypeError);function k(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return u(e,t,r)}}function S(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(e,n)}}function C(e,t){n&&n(e,null);for(var i=t.length;i--;){var o=t[i];if("string"==typeof o){var a=m(o);a!==o&&(r(t)||(t[i]=a),o=a)}e[o]=!0}return e}function E(e){var n=l(null),r=void 0;for(r in e)u(t,e,[r])&&(n[r]=e[r]);return n}function T(e,t){for(;null!==e;){var n=o(e,t);if(n){if(n.get)return k(n.get);if("function"==typeof n.value)return k(n.value)}e=i(e)}function r(e){return console.warn("fallback value for",e),null}return r}var _=a(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),A=a(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),O=a(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),N=a(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),M=a(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),P=a(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),D=a(["#text"]),L=a(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),R=a(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),I=a(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),B=a(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),j=s(/\{\{[\s\S]*|[\s\S]*\}\}/gm),F=s(/<%[\s\S]*|[\s\S]*%>/gm),z=s(/^data-[\-\w.\u00B7-\uFFFF]/),H=s(/^aria-[\-\w]+$/),q=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),V=s(/^(?:\w+script|data):/i),U=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function $(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var G=function(){return"undefined"==typeof window?null:window},X=function(e,t){if("object"!==(void 0===e?"undefined":W(e))||"function"!=typeof e.createPolicy)return null;var n=null,r="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(r)&&(n=t.currentScript.getAttribute(r));var i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G(),t=function(e){return Y(e)};if(t.version="2.3.3",t.removed=[],!e||!e.document||9!==e.document.nodeType)return t.isSupported=!1,t;var n=e.document,r=e.document,i=e.DocumentFragment,o=e.HTMLTemplateElement,s=e.Node,l=e.Element,c=e.NodeFilter,u=e.NamedNodeMap,p=void 0===u?e.NamedNodeMap||e.MozNamedAttrMap:u,k=e.Text,S=e.Comment,Z=e.DOMParser,K=e.trustedTypes,J=l.prototype,Q=T(J,"cloneNode"),ee=T(J,"nextSibling"),te=T(J,"childNodes"),ne=T(J,"parentNode");if("function"==typeof o){var re=r.createElement("template");re.content&&re.content.ownerDocument&&(r=re.content.ownerDocument)}var ie=X(K,n),oe=ie&&Be?ie.createHTML(""):"",ae=r,se=ae.implementation,le=ae.createNodeIterator,ce=ae.createDocumentFragment,ue=ae.getElementsByTagName,pe=n.importNode,de={};try{de=E(r).documentMode?r.documentMode:{}}catch(e){}var he={};t.isSupported="function"==typeof ne&&se&&void 0!==se.createHTMLDocument&&9!==de;var fe=j,me=F,ge=z,ve=H,ye=V,be=U,we=q,xe=null,ke=C({},[].concat($(_),$(A),$(O),$(M),$(D))),Se=null,Ce=C({},[].concat($(L),$(R),$(I),$(B))),Ee=null,Te=null,_e=!0,Ae=!0,Oe=!1,Ne=!1,Me=!1,Pe=!1,De=!1,Le=!1,Re=!1,Ie=!0,Be=!1,je=!0,Fe=!0,ze=!1,He={},qe=null,Ve=C({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ue=null,We=C({},["audio","video","img","source","image","track"]),$e=null,Ge=C({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Xe="http://www.w3.org/1998/Math/MathML",Ye="http://www.w3.org/2000/svg",Ze="http://www.w3.org/1999/xhtml",Ke=Ze,Je=!1,Qe=void 0,et=["application/xhtml+xml","text/html"],tt="text/html",nt=void 0,rt=null,it=r.createElement("form"),ot=function(e){rt&&rt===e||(e&&"object"===(void 0===e?"undefined":W(e))||(e={}),e=E(e),xe="ALLOWED_TAGS"in e?C({},e.ALLOWED_TAGS):ke,Se="ALLOWED_ATTR"in e?C({},e.ALLOWED_ATTR):Ce,$e="ADD_URI_SAFE_ATTR"in e?C(E(Ge),e.ADD_URI_SAFE_ATTR):Ge,Ue="ADD_DATA_URI_TAGS"in e?C(E(We),e.ADD_DATA_URI_TAGS):We,qe="FORBID_CONTENTS"in e?C({},e.FORBID_CONTENTS):Ve,Ee="FORBID_TAGS"in e?C({},e.FORBID_TAGS):{},Te="FORBID_ATTR"in e?C({},e.FORBID_ATTR):{},He="USE_PROFILES"in e&&e.USE_PROFILES,_e=!1!==e.ALLOW_ARIA_ATTR,Ae=!1!==e.ALLOW_DATA_ATTR,Oe=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ne=e.SAFE_FOR_TEMPLATES||!1,Me=e.WHOLE_DOCUMENT||!1,Le=e.RETURN_DOM||!1,Re=e.RETURN_DOM_FRAGMENT||!1,Ie=!1!==e.RETURN_DOM_IMPORT,Be=e.RETURN_TRUSTED_TYPE||!1,De=e.FORCE_BODY||!1,je=!1!==e.SANITIZE_DOM,Fe=!1!==e.KEEP_CONTENT,ze=e.IN_PLACE||!1,we=e.ALLOWED_URI_REGEXP||we,Ke=e.NAMESPACE||Ze,Qe=Qe=-1===et.indexOf(e.PARSER_MEDIA_TYPE)?tt:e.PARSER_MEDIA_TYPE,nt="application/xhtml+xml"===Qe?function(e){return e}:m,Ne&&(Ae=!1),Re&&(Le=!0),He&&(xe=C({},[].concat($(D))),Se=[],!0===He.html&&(C(xe,_),C(Se,L)),!0===He.svg&&(C(xe,A),C(Se,R),C(Se,B)),!0===He.svgFilters&&(C(xe,O),C(Se,R),C(Se,B)),!0===He.mathMl&&(C(xe,M),C(Se,I),C(Se,B))),e.ADD_TAGS&&(xe===ke&&(xe=E(xe)),C(xe,e.ADD_TAGS)),e.ADD_ATTR&&(Se===Ce&&(Se=E(Se)),C(Se,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&C($e,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(qe===Ve&&(qe=E(qe)),C(qe,e.FORBID_CONTENTS)),Fe&&(xe["#text"]=!0),Me&&C(xe,["html","head","body"]),xe.table&&(C(xe,["tbody"]),delete Ee.tbody),a&&a(e),rt=e)},at=C({},["mi","mo","mn","ms","mtext"]),st=C({},["foreignobject","desc","title","annotation-xml"]),lt=C({},A);C(lt,O),C(lt,N);var ct=C({},M);C(ct,P);var ut=function(e){var t=ne(e);t&&t.tagName||(t={namespaceURI:Ze,tagName:"template"});var n=m(e.tagName),r=m(t.tagName);if(e.namespaceURI===Ye)return t.namespaceURI===Ze?"svg"===n:t.namespaceURI===Xe?"svg"===n&&("annotation-xml"===r||at[r]):Boolean(lt[n]);if(e.namespaceURI===Xe)return t.namespaceURI===Ze?"math"===n:t.namespaceURI===Ye?"math"===n&&st[r]:Boolean(ct[n]);if(e.namespaceURI===Ze){if(t.namespaceURI===Ye&&!st[r])return!1;if(t.namespaceURI===Xe&&!at[r])return!1;var i=C({},["title","style","font","a","script"]);return!ct[n]&&(i[n]||!lt[n])}return!1},pt=function(e){f(t.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=oe}catch(t){e.remove()}}},dt=function(e,n){try{f(t.removed,{attribute:n.getAttributeNode(e),from:n})}catch(e){f(t.removed,{attribute:null,from:n})}if(n.removeAttribute(e),"is"===e&&!Se[e])if(Le||Re)try{pt(n)}catch(e){}else try{n.setAttribute(e,"")}catch(e){}},ht=function(e){var t=void 0,n=void 0;if(De)e="<remove></remove>"+e;else{var i=g(e,/^[\r\n\t ]+/);n=i&&i[0]}"application/xhtml+xml"===Qe&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var o=ie?ie.createHTML(e):e;if(Ke===Ze)try{t=(new Z).parseFromString(o,Qe)}catch(e){}if(!t||!t.documentElement){t=se.createDocument(Ke,"template",null);try{t.documentElement.innerHTML=Je?"":o}catch(e){}}var a=t.body||t.documentElement;return e&&n&&a.insertBefore(r.createTextNode(n),a.childNodes[0]||null),Ke===Ze?ue.call(t,Me?"html":"body")[0]:Me?t.documentElement:a},ft=function(e){return le.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},mt=function(e){return!(e instanceof k||e instanceof S||"string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof p&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute&&"string"==typeof e.namespaceURI&&"function"==typeof e.insertBefore)},gt=function(e){return"object"===(void 0===s?"undefined":W(s))?e instanceof s:e&&"object"===(void 0===e?"undefined":W(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},vt=function(e,n,r){he[e]&&d(he[e],(function(e){e.call(t,n,r,rt)}))},yt=function(e){var n=void 0;if(vt("beforeSanitizeElements",e,null),mt(e))return pt(e),!0;if(g(e.nodeName,/[\u0080-\uFFFF]/))return pt(e),!0;var r=nt(e.nodeName);if(vt("uponSanitizeElement",e,{tagName:r,allowedTags:xe}),!gt(e.firstElementChild)&&(!gt(e.content)||!gt(e.content.firstElementChild))&&w(/<[/\w]/g,e.innerHTML)&&w(/<[/\w]/g,e.textContent))return pt(e),!0;if("select"===r&&w(/<template/i,e.innerHTML))return pt(e),!0;if(!xe[r]||Ee[r]){if(Fe&&!qe[r]){var i=ne(e)||e.parentNode,o=te(e)||e.childNodes;if(o&&i)for(var a=o.length-1;a>=0;--a)i.insertBefore(Q(o[a],!0),ee(e))}return pt(e),!0}return e instanceof l&&!ut(e)?(pt(e),!0):"noscript"!==r&&"noembed"!==r||!w(/<\/no(script|embed)/i,e.innerHTML)?(Ne&&3===e.nodeType&&(n=e.textContent,n=v(n,fe," "),n=v(n,me," "),e.textContent!==n&&(f(t.removed,{element:e.cloneNode()}),e.textContent=n)),vt("afterSanitizeElements",e,null),!1):(pt(e),!0)},bt=function(e,t,n){if(je&&("id"===t||"name"===t)&&(n in r||n in it))return!1;if(Ae&&!Te[t]&&w(ge,t));else if(_e&&w(ve,t));else{if(!Se[t]||Te[t])return!1;if($e[t]);else if(w(we,v(n,be,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==y(n,"data:")||!Ue[e])if(Oe&&!w(ye,v(n,be,"")));else if(n)return!1}return!0},wt=function(e){var n=void 0,r=void 0,i=void 0,o=void 0;vt("beforeSanitizeAttributes",e,null);var a=e.attributes;if(a){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Se};for(o=a.length;o--;){var l=n=a[o],c=l.name,u=l.namespaceURI;if(r=b(n.value),i=nt(c),s.attrName=i,s.attrValue=r,s.keepAttr=!0,s.forceKeepAttr=void 0,vt("uponSanitizeAttribute",e,s),r=s.attrValue,!s.forceKeepAttr&&(dt(c,e),s.keepAttr))if(w(/\/>/i,r))dt(c,e);else{Ne&&(r=v(r,fe," "),r=v(r,me," "));var p=nt(e.nodeName);if(bt(p,i,r))try{u?e.setAttributeNS(u,c,r):e.setAttribute(c,r),h(t.removed)}catch(e){}}}vt("afterSanitizeAttributes",e,null)}},xt=function e(t){var n=void 0,r=ft(t);for(vt("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)vt("uponSanitizeShadowNode",n,null),yt(n)||(n.content instanceof i&&e(n.content),wt(n));vt("afterSanitizeShadowDOM",t,null)};return t.sanitize=function(r,o){var a=void 0,l=void 0,c=void 0,u=void 0,p=void 0;if((Je=!r)&&(r="\x3c!--\x3e"),"string"!=typeof r&&!gt(r)){if("function"!=typeof r.toString)throw x("toString is not a function");if("string"!=typeof(r=r.toString()))throw x("dirty is not a string, aborting")}if(!t.isSupported){if("object"===W(e.toStaticHTML)||"function"==typeof e.toStaticHTML){if("string"==typeof r)return e.toStaticHTML(r);if(gt(r))return e.toStaticHTML(r.outerHTML)}return r}if(Pe||ot(o),t.removed=[],"string"==typeof r&&(ze=!1),ze);else if(r instanceof s)1===(l=(a=ht("\x3c!----\x3e")).ownerDocument.importNode(r,!0)).nodeType&&"BODY"===l.nodeName||"HTML"===l.nodeName?a=l:a.appendChild(l);else{if(!Le&&!Ne&&!Me&&-1===r.indexOf("<"))return ie&&Be?ie.createHTML(r):r;if(!(a=ht(r)))return Le?null:oe}a&&De&&pt(a.firstChild);for(var d=ft(ze?r:a);c=d.nextNode();)3===c.nodeType&&c===u||yt(c)||(c.content instanceof i&&xt(c.content),wt(c),u=c);if(u=null,ze)return r;if(Le){if(Re)for(p=ce.call(a.ownerDocument);a.firstChild;)p.appendChild(a.firstChild);else p=a;return Ie&&(p=pe.call(n,p,!0)),p}var h=Me?a.outerHTML:a.innerHTML;return Ne&&(h=v(h,fe," "),h=v(h,me," ")),ie&&Be?ie.createHTML(h):h},t.setConfig=function(e){ot(e),Pe=!0},t.clearConfig=function(){rt=null,Pe=!1},t.isValidAttribute=function(e,t,n){rt||ot({});var r=nt(e),i=nt(t);return bt(r,i,n)},t.addHook=function(e,t){"function"==typeof t&&(he[e]=he[e]||[],f(he[e],t))},t.removeHook=function(e){he[e]&&h(he[e])},t.removeHooks=function(e){he[e]&&(he[e]=[])},t.removeAllHooks=function(){he={}},t}return Y()}()},928:function(e,t,n){var r=n(322);e.exports=function(e,t,n){var i,o;if(n=n||0,!r(t))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e,n);for(o=t.length,i=n;n>=0&&i<o;i+=1)if(t[i]===e)return i;return-1}},690:function(e,t,n){var r=n(322),i=n(893),o=n(956);e.exports=function(e,t,n){r(e)?i(e,t,n):o(e,t,n)}},893:function(e){e.exports=function(e,t,n){var r=0,i=e.length;for(n=n||null;r<i&&!1!==t.call(n,e[r],r,e);r+=1);}},956:function(e){e.exports=function(e,t,n){var r;for(r in n=n||null,e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))break}},990:function(e,t,n){var r=n(893);e.exports=function(e){var t;try{t=Array.prototype.slice.call(e)}catch(n){t=[],r(e,(function(e){t.push(e)}))}return t}},755:function(e){var t="_feEventKey";e.exports=function(e,n){var r,i=e[t];return i||(i=e[t]={}),(r=i[n])||(r=i[n]=[]),r}},349:function(e,t,n){var r=n(758),i=n(690),o=n(755);function a(e,t,n){var r,a=o(e,t);n?(i(a,(function(i,o){return n!==i.handler||(s(e,t,i.wrappedHandler),r=o,!1)})),a.splice(r,1)):(i(a,(function(n){s(e,t,n.wrappedHandler)})),a.splice(0,a.length))}function s(e,t,n){"removeEventListener"in e?e.removeEventListener(t,n):"detachEvent"in e&&e.detachEvent("on"+t,n)}e.exports=function(e,t,n){r(t)?i(t.split(/\s+/g),(function(t){a(e,t,n)})):i(t,(function(t,n){a(e,n,t)}))}},348:function(e,t,n){var r=n(758),i=n(690),o=n(755);function a(e,t,n,r){function a(t){n.call(r||e,t||window.event)}"addEventListener"in e?e.addEventListener(t,a):"attachEvent"in e&&e.attachEvent("on"+t,a),function(e,t,n,r){var a=o(e,t),s=!1;i(a,(function(e){return e.handler!==n||(s=!0,!1)})),s||a.push({handler:n,wrappedHandler:r})}(e,t,n,a)}e.exports=function(e,t,n,o){r(t)?i(t.split(/\s+/g),(function(t){a(e,t,n,o)})):i(t,(function(t,r){a(e,r,t,n)}))}},24:function(e,t,n){var r=n(322),i=n(929);e.exports=function(e,t){t=(t=r(t)?t.join(" "):t).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),i(e.className.baseVal)?e.className=t:e.className.baseVal=t}},204:function(e,t,n){var r=n(690),i=n(928),o=n(902),a=n(24);e.exports=function(e){var t,n=Array.prototype.slice.call(arguments,1),s=e.classList,l=[];s?r(n,(function(t){e.classList.add(t)})):((t=o(e))&&(n=[].concat(t.split(/\s+/),n)),r(n,(function(e){i(e,l)<0&&l.push(e)})),a(e,l))}},522:function(e,t,n){var r=n(758),i=n(690);e.exports=function(e,t,n){var o=e.style;r(t)?o[t]=n:i(t,(function(e,t){o[t]=e}))}},902:function(e,t,n){var r=n(929);e.exports=function(e){return e&&e.className?r(e.className.baseVal)?e.className:e.className.baseVal:""}},714:function(e,t,n){var r=n(928),i=n(902);e.exports=function(e,t){var n;return e.classList?e.classList.contains(t):(n=i(e).split(/\s+/),r(t,n)>-1)}},471:function(e,t,n){var r=n(928),i=n(990),o=Element.prototype,a=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||function(e){var t=this.document||this.ownerDocument;return r(this,i(t.querySelectorAll(e)))>-1};e.exports=function(e,t){return a.call(e,t)}},462:function(e,t,n){var r=n(893),i=n(928),o=n(902),a=n(24);e.exports=function(e){var t,n,s=Array.prototype.slice.call(arguments,1),l=e.classList;l?r(s,(function(e){l.remove(e)})):(t=o(e).split(/\s+/),n=[],r(t,(function(e){i(e,s)<0&&n.push(e)})),a(e,n))}},969:function(e){e.exports=function(e,t){var n,r,i,o,a=Object.prototype.hasOwnProperty;for(i=1,o=arguments.length;i<o;i+=1)for(r in n=arguments[i])a.call(n,r)&&(e[r]=n[r]);return e}},254:function(e,t,n){var r=n(956);e.exports=function(e,t){var n=document.createElement("img"),i="";return r(t,(function(e,t){i+="&"+t+"="+e})),i=i.substring(1),n.src=e+"?"+i,n.style.display="none",document.body.appendChild(n),document.body.removeChild(n),n}},391:function(e,t,n){var r=n(929),i=n(254),o=6048e5;e.exports=function(e,t){var n=location.hostname,a="TOAST UI "+e+" for "+n+": Statistics",s=window.localStorage.getItem(a);(r(window.tui)||!1!==window.tui.usageStatistics)&&(s&&!function(e){return(new Date).getTime()-e>o}(s)||(window.localStorage.setItem(a,(new Date).getTime()),setTimeout((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||i("https://www.google-analytics.com/collect",{v:1,t:"event",tid:t,cid:n,dp:n,dh:e,el:e,ec:"use"})}),1e3)))}},322:function(e){e.exports=function(e){return e instanceof Array}},65:function(e,t,n){var r=n(929),i=n(934);e.exports=function(e){return!r(e)&&!i(e)}},404:function(e,t,n){var r=n(790);e.exports=function(e){return!r(e)}},294:function(e){e.exports=function(e){return e instanceof Function}},934:function(e){e.exports=function(e){return null===e}},758:function(e){e.exports=function(e){return"string"==typeof e||e instanceof String}},790:function(e,t,n){var r=n(65);e.exports=function(e){return r(e)&&!1!==e}},929:function(e){e.exports=function(e){return void 0===e}},479:function(t){t.exports=e},481:function(e){e.exports=t},43:function(e){e.exports=n},814:function(e){e.exports=r},311:function(e){e.exports=i}},a={};function s(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return o[e].call(n.exports,n,n.exports,s),n.exports}s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,{a:t}),t},s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var l={};return function(){s.d(l,{default:function(){return Xr}});var e=function(){return e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},e.apply(this,arguments)};function t(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create,Object.create;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)};function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};function o(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==s.g?s.g:"undefined"!=typeof self?self:{},c={};function u(e,t,n){var r,i,o,a,s,l="";for("string"!=typeof t&&(n=t,t=u.defaultChars),void 0===n&&(n=!0),s=function(e){var t,n,r=c[e];if(r)return r;for(r=c[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?r.push(n):r.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)r[e.charCodeAt(t)]=e[t];return r}(t),r=0,i=e.length;r<i;r++)if(o=e.charCodeAt(r),n&&37===o&&r+2<i&&/^[0-9a-f]{2}$/i.test(e.slice(r+1,r+3)))l+=e.slice(r,r+3),r+=2;else if(o<128)l+=s[o];else if(o>=55296&&o<=57343){if(o>=55296&&o<=56319&&r+1<i&&(a=e.charCodeAt(r+1))>=56320&&a<=57343){l+=encodeURIComponent(e[r]+e[r+1]),r++;continue}l+="%EF%BF%BD"}else l+=encodeURIComponent(e[r]);return l}u.defaultChars=";/?:@&=+$,-_.!~*'()#",u.componentChars="-_.!~*'()";var p=u,d={},h={},f={Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",amp:"&",AMP:"&",andand:"",And:"",and:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angmsd:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",apacir:"",ap:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",barwed:"",Barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",because:"",Because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxdl:"",boxdL:"",boxDl:"",boxDL:"",boxdr:"",boxdR:"",boxDr:"",boxDR:"",boxh:"",boxH:"",boxhd:"",boxHd:"",boxhD:"",boxHD:"",boxhu:"",boxHu:"",boxhU:"",boxHU:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxuL:"",boxUl:"",boxUL:"",boxur:"",boxuR:"",boxUr:"",boxUR:"",boxv:"",boxV:"",boxvh:"",boxvH:"",boxVh:"",boxVH:"",boxvl:"",boxvL:"",boxVl:"",boxVL:"",boxvr:"",boxvR:"",boxVr:"",boxVR:"",bprime:"",breve:"",Breve:"",brvbar:"",bscr:"",Bscr:"",bsemi:"",bsim:"",bsime:"",bsolb:"",bsol:"\\",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",capand:"",capbrcup:"",capcap:"",cap:"",Cap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",centerdot:"",CenterDot:"",cfr:"",Cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cir:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",colon:":",Colon:"",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",conint:"",Conint:"",ContourIntegral:"",copf:"",Copf:"",coprod:"",Coproduct:"",copy:"",COPY:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",cross:"",Cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cupbrcap:"",cupcap:"",CupCap:"",cup:"",Cup:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dagger:"",Dagger:"",daleth:"",darr:"",Darr:"",dArr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",ddagger:"",ddarr:"",DD:"",dd:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",diamond:"",Diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrowBar:"",downarrow:"",DownArrow:"",Downarrow:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVectorBar:"",DownLeftVector:"",DownRightTeeVector:"",DownRightVectorBar:"",DownRightVector:"",DownTeeArrow:"",DownTee:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",Ecirc:"",ecirc:"",ecir:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",edot:"",eDot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp13:"",emsp14:"",emsp:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",escr:"",Escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",exponentiale:"",ExponentialE:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",forall:"",ForAll:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",fscr:"",Fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",ge:"",gE:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",gescc:"",ges:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",gg:"",Gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gla:"",gl:"",glE:"",glj:"",gnap:"",gnapprox:"",gne:"",gnE:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",gtcc:"",gtcir:"",gt:">",GT:">",Gt:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",harrcir:"",harr:"",hArr:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"",Hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"",Hopf:"",horbar:"",HorizontalLine:"",hscr:"",Hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",ifr:"",Ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",Im:"",imof:"",imped:"",Implies:"",incare:"",in:"",infin:"",infintie:"",inodot:"",intcal:"",int:"",Int:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",iscr:"",Iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",lang:"",Lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",larrb:"",larrbfs:"",larr:"",Larr:"",lArr:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",latail:"",lAtail:"",lat:"",late:"",lates:"",lbarr:"",lBarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",lE:"",LeftAngleBracket:"",LeftArrowBar:"",leftarrow:"",LeftArrow:"",Leftarrow:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVectorBar:"",LeftDownVector:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTeeArrow:"",LeftTee:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangleBar:"",LeftTriangle:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVectorBar:"",LeftUpVector:"",LeftVectorBar:"",LeftVector:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",lescc:"",les:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",llarr:"",ll:"",Ll:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoustache:"",lmoust:"",lnap:"",lnapprox:"",lne:"",lnE:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",LongLeftArrow:"",Longleftarrow:"",longleftrightarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longmapsto:"",longrightarrow:"",LongRightArrow:"",Longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",Lscr:"",lsh:"",Lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",ltcc:"",ltcir:"",lt:"<",LT:"<",Lt:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",midast:"*",midcir:"",mid:"",middot:"",minusb:"",minus:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",mscr:"",Mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natural:"",naturals:"",natur:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",nearhk:"",nearr:"",neArr:"",nearrow:"",ne:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nharr:"",nhArr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlarr:"",nlArr:"",nldr:"",nlE:"",nle:"",nleftarrow:"",nLeftarrow:"",nleftrightarrow:"",nLeftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",nopf:"",Nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangleBar:"",NotLeftTriangle:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangleBar:"",NotRightTriangle:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",nparallel:"",npar:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",nprec:"",npreceq:"",npre:"",nrarrc:"",nrarr:"",nrArr:"",nrarrw:"",nrightarrow:"",nRightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwarr:"",nwArr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",Ocirc:"",ocirc:"",ocir:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",orarr:"",Or:"",or:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",otimesas:"",Otimes:"",otimes:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",para:"",parallel:"",par:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plusacir:"",plusb:"",pluscir:"",plus:"+",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",popf:"",Popf:"",pound:"",prap:"",Pr:"",pr:"",prcue:"",precapprox:"",prec:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",pre:"",prE:"",precsim:"",prime:"",Prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportional:"",Proportion:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",qopf:"",Qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",quot:'"',QUOT:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",rang:"",Rang:"",rangd:"",range:"",rangle:"",raquo:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarr:"",Rarr:"",rArr:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",ratail:"",rAtail:"",ratio:"",rationals:"",rbarr:"",rBarr:"",RBarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",real:"",realine:"",realpart:"",reals:"",Re:"",rect:"",reg:"",REG:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",rfr:"",Rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrowBar:"",rightarrow:"",RightArrow:"",Rightarrow:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVectorBar:"",RightDownVector:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTeeArrow:"",RightTee:"",RightTeeVector:"",rightthreetimes:"",RightTriangleBar:"",RightTriangle:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVectorBar:"",RightUpVector:"",RightVectorBar:"",RightVector:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoustache:"",rmoust:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"",Ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",rscr:"",Rscr:"",rsh:"",Rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",scap:"",Scaron:"",scaron:"",Sc:"",sc:"",sccue:"",sce:"",scE:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdotb:"",sdot:"",sdote:"",searhk:"",searr:"",seArr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",solbar:"",solb:"",sol:"/",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",square:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squ:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",Sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",subset:"",Subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succapprox:"",succ:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",sum:"",Sum:"",sung:"",sup1:"",sup2:"",sup3:"",sup:"",Sup:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",supset:"",Supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swarr:"",swArr:"",swarrow:"",swnwar:"",szlig:"",Tab:"\t",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",therefore:"",Therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",ThinSpace:"",thinsp:"",thkap:"",thksim:"",THORN:"",thorn:"",tilde:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",timesbar:"",timesb:"",times:"",timesd:"",tint:"",toea:"",topbot:"",topcir:"",top:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",trade:"",TRADE:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",uarr:"",Uarr:"",uArr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrowBar:"",uparrow:"",UpArrow:"",Uparrow:"",UpArrowDownArrow:"",updownarrow:"",UpDownArrow:"",Updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",upsi:"",Upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTeeArrow:"",UpTee:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",vArr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vBar:"",Vbar:"",vBarv:"",Vcy:"",vcy:"",vdash:"",vDash:"",Vdash:"",VDash:"",Vdashl:"",veebar:"",vee:"",Vee:"",veeeq:"",vellip:"",verbar:"|",Verbar:"",vert:"|",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",wedge:"",Wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xharr:"",xhArr:"",Xi:"",xi:"",xlarr:"",xlArr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrarr:"",xrArr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",yuml:"",Yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",zfr:"",Zfr:"",ZHcy:"",zhcy:"",zigrarr:"",zopf:"",Zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""},m={Aacute:"",aacute:"",Acirc:"",acirc:"",acute:"",AElig:"",aelig:"",Agrave:"",agrave:"",amp:"&",AMP:"&",Aring:"",aring:"",Atilde:"",atilde:"",Auml:"",auml:"",brvbar:"",Ccedil:"",ccedil:"",cedil:"",cent:"",copy:"",COPY:"",curren:"",deg:"",divide:"",Eacute:"",eacute:"",Ecirc:"",ecirc:"",Egrave:"",egrave:"",ETH:"",eth:"",Euml:"",euml:"",frac12:"",frac14:"",frac34:"",gt:">",GT:">",Iacute:"",iacute:"",Icirc:"",icirc:"",iexcl:"",Igrave:"",igrave:"",iquest:"",Iuml:"",iuml:"",laquo:"",lt:"<",LT:"<",macr:"",micro:"",middot:"",nbsp:"",not:"",Ntilde:"",ntilde:"",Oacute:"",oacute:"",Ocirc:"",ocirc:"",Ograve:"",ograve:"",ordf:"",ordm:"",Oslash:"",oslash:"",Otilde:"",otilde:"",Ouml:"",ouml:"",para:"",plusmn:"",pound:"",quot:'"',QUOT:'"',raquo:"",reg:"",REG:"",sect:"",shy:"",sup1:"",sup2:"",sup3:"",szlig:"",THORN:"",thorn:"",times:"",Uacute:"",uacute:"",Ucirc:"",ucirc:"",Ugrave:"",ugrave:"",uml:"",Uuml:"",uuml:"",Yacute:"",yacute:"",yen:"",yuml:""},g={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'},v={},y=a&&a.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(v,"__esModule",{value:!0});var b=y({0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}),w=String.fromCodePoint||function(e){var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e)};v.default=function(e){return e>=55296&&e<=57343||e>1114111?"":(e in b.default&&(e=b.default[e]),w(e))};var x=a&&a.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(h,"__esModule",{value:!0}),h.decodeHTML=h.decodeHTMLStrict=h.decodeXML=void 0;var k=x(f),S=x(m),C=x(g),E=x(v),T=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;function _(e){var t=O(e);return function(e){return String(e).replace(T,t)}}h.decodeXML=_(C.default),h.decodeHTMLStrict=_(k.default);var A=function(e,t){return e<t?1:-1};function O(e){return function(t){if("#"===t.charAt(1)){var n=t.charAt(2);return"X"===n||"x"===n?E.default(parseInt(t.substr(3),16)):E.default(parseInt(t.substr(2),10))}return e[t.slice(1,-1)]||t}}h.decodeHTML=function(){for(var e=Object.keys(S.default).sort(A),t=Object.keys(k.default).sort(A),n=0,r=0;n<t.length;n++)e[r]===t[n]?(t[n]+=";?",r++):t[n]+=";";var i=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),o=O(k.default);function a(e){return";"!==e.substr(-1)&&(e+=";"),o(e)}return function(e){return String(e).replace(i,a)}}();var N={},M=a&&a.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(N,"__esModule",{value:!0}),N.escapeUTF8=N.escape=N.encodeNonAsciiHTML=N.encodeHTML=N.encodeXML=void 0;var P=I(M(g).default),D=B(P);N.encodeXML=q(P);var L=I(M(f).default),R=B(L);function I(e){return Object.keys(e).sort().reduce((function(t,n){return t[e[n]]="&"+n+";",t}),{})}function B(e){for(var t=[],n=[],r=0,i=Object.keys(e);r<i.length;r++){var o=i[r];1===o.length?t.push("\\"+o):n.push(o)}t.sort();for(var a=0;a<t.length-1;a++){for(var s=a;s<t.length-1&&t[s].charCodeAt(1)+1===t[s+1].charCodeAt(1);)s+=1;var l=1+s-a;l<3||t.splice(a,l,t[a]+"-"+t[s])}return n.unshift("["+t.join("")+"]"),new RegExp(n.join("|"),"g")}N.encodeHTML=function(e,t){return function(n){return n.replace(t,(function(t){return e[t]})).replace(j,z)}}(L,R),N.encodeNonAsciiHTML=q(L);var j=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,F=null!=String.prototype.codePointAt?function(e){return e.codePointAt(0)}:function(e){return 1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536};function z(e){return"&#x"+(e.length>1?F(e):e.charCodeAt(0)).toString(16).toUpperCase()+";"}var H=new RegExp(D.source+"|"+j.source,"g");function q(e){return function(t){return t.replace(H,(function(t){return e[t]||z(t)}))}}N.escape=function(e){return e.replace(H,z)},N.escapeUTF8=function(e){return e.replace(D,z)},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXMLStrict=e.decodeHTML5Strict=e.decodeHTML4Strict=e.decodeHTML5=e.decodeHTML4=e.decodeHTMLStrict=e.decodeHTML=e.decodeXML=e.encodeHTML5=e.encodeHTML4=e.escapeUTF8=e.escape=e.encodeNonAsciiHTML=e.encodeHTML=e.encodeXML=e.encode=e.decodeStrict=e.decode=void 0;var t=h,n=N;e.decode=function(e,n){return(!n||n<=0?t.decodeXML:t.decodeHTML)(e)},e.decodeStrict=function(e,n){return(!n||n<=0?t.decodeXML:t.decodeHTMLStrict)(e)},e.encode=function(e,t){return(!t||t<=0?n.encodeXML:n.encodeHTML)(e)};var r=N;Object.defineProperty(e,"encodeXML",{enumerable:!0,get:function(){return r.encodeXML}}),Object.defineProperty(e,"encodeHTML",{enumerable:!0,get:function(){return r.encodeHTML}}),Object.defineProperty(e,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return r.encodeNonAsciiHTML}}),Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return r.escape}}),Object.defineProperty(e,"escapeUTF8",{enumerable:!0,get:function(){return r.escapeUTF8}}),Object.defineProperty(e,"encodeHTML4",{enumerable:!0,get:function(){return r.encodeHTML}}),Object.defineProperty(e,"encodeHTML5",{enumerable:!0,get:function(){return r.encodeHTML}});var i=h;Object.defineProperty(e,"decodeXML",{enumerable:!0,get:function(){return i.decodeXML}}),Object.defineProperty(e,"decodeHTML",{enumerable:!0,get:function(){return i.decodeHTML}}),Object.defineProperty(e,"decodeHTMLStrict",{enumerable:!0,get:function(){return i.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML4",{enumerable:!0,get:function(){return i.decodeHTML}}),Object.defineProperty(e,"decodeHTML5",{enumerable:!0,get:function(){return i.decodeHTML}}),Object.defineProperty(e,"decodeHTML4Strict",{enumerable:!0,get:function(){return i.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML5Strict",{enumerable:!0,get:function(){return i.decodeHTMLStrict}}),Object.defineProperty(e,"decodeXMLStrict",{enumerable:!0,get:function(){return i.decodeXML}})}(d);var V="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",U=/[\\&]/,W="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",$=new RegExp("\\\\"+W+"|"+V,"gi"),G=new RegExp('[&<>"]',"g"),X=function(e){return 92===e.charCodeAt(0)?e.charAt(1):d.decodeHTML(e)};function Y(e){return U.test(e)?e.replace($,X):e}function Z(e){try{return p(e)}catch(t){return e}}function K(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return e}}function J(e){return G.test(e)?e.replace(G,K):e}function Q(e,t){for(var n=[],r=0;r<t;r++)n.push(e);return n.join("")}function ee(e){return!e||!/[^ \t]+/.test(e)}var te=function(){function e(e){this.current=e,this.root=e,this.entering=!0}return e.prototype.next=function(){var e=this.current,t=this.entering;if(null===e)return null;var n=ne(e);return t&&n?e.firstChild?(this.current=e.firstChild,this.entering=!0):this.entering=!1:e===this.root?this.current=null:null===e.next?(this.current=e.parent,this.entering=!1):(this.current=e.next,this.entering=!0),{entering:t,node:e}},e.prototype.resumeAt=function(e,t){this.current=e,this.entering=!0===t},e}();function ne(e){switch(e.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}var re=1,ie={};function oe(e){delete ie[e]}var ae=function(){function e(e,t){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,this.id="document"===e?-1:re++,this.type=e,this.sourcepos=t,ie[this.id]=this}return e.prototype.isContainer=function(){return ne(this)},e.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},e.prototype.replaceWith=function(e){this.insertBefore(e),this.unlink()},e.prototype.insertAfter=function(e){e.unlink(),e.next=this.next,e.next&&(e.next.prev=e),e.prev=this,this.next=e,this.parent&&(e.parent=this.parent,e.next||(e.parent.lastChild=e))},e.prototype.insertBefore=function(e){e.unlink(),e.prev=this.prev,e.prev&&(e.prev.next=e),e.next=this,this.prev=e,e.parent=this.parent,e.prev||(e.parent.firstChild=e)},e.prototype.appendChild=function(e){e.unlink(),e.parent=this,this.lastChild?(this.lastChild.next=e,e.prev=this.lastChild,this.lastChild=e):(this.firstChild=e,this.lastChild=e)},e.prototype.prependChild=function(e){e.unlink(),e.parent=this,this.firstChild?(this.firstChild.prev=e,e.next=this.firstChild,this.firstChild=e):(this.firstChild=e,this.lastChild=e)},e.prototype.walker=function(){return new te(this)},e}(),se=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.open=!0,r.lineOffsets=null,r.stringContent=null,r.lastLineBlank=!1,r.lastLineChecked=!1,r.type=t,r}return r(t,e),t}(ae),le=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listData=null,t}return r(t,e),t}(se),ce=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.level=0,t.headingType="atx",t}return r(t,e),t}(se),ue=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isFenced=!1,t.fenceChar=null,t.fenceLength=0,t.fenceOffset=-1,t.info=null,t.infoPadding=0,t}return r(t,e),t}(se),pe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.columns=[],t}return r(t,e),t}(se),de=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.startIdx=0,t.endIdx=0,t.paddingLeft=0,t.paddingRight=0,t.ignored=!1,t}return r(t,e),t}(se),he=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="",t.dest="",t.label="",t}return r(t,e),t}(se),fe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.syntaxLength=0,t.offset=-1,t.info="",t}return r(t,e),t}(se),me=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.htmlBlockType=-1,t}return r(t,e),t}(se),ge=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.destination=null,t.title=null,t.extendedAutolink=!1,t}return r(t,e),t}(ae),ve=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tickCount=0,t}return r(t,e),t}(ae),ye=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.info="",t}return r(t,e),t}(ae);function be(e,t){switch(e){case"heading":return new ce(e,t);case"list":case"item":return new le(e,t);case"link":case"image":return new ge(e,t);case"codeBlock":return new ue(e,t);case"htmlBlock":return new me(e,t);case"table":return new pe(e,t);case"tableCell":return new de(e,t);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":case"frontMatter":return new se(e,t);case"code":return new ve(e,t);case"refDef":return new he(e,t);case"customBlock":return new fe(e,t);case"customInline":return new ye(e,t);default:return new ae(e,t)}}function we(e){return"codeBlock"===e.type}function xe(e){return"list"===e.type}function ke(e){return"refDef"===e.type}function Se(e){return"customBlock"===e.type}function Ce(e,t){var n=be("text",t);return n.literal=e,n}var Ee,Te="[A-Za-z][A-Za-z0-9-]*",_e="<"+Te+"(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*/?>",Ae="</"+Te+"\\s*[>]",Oe=new RegExp("^(?:"+_e+"|"+Ae+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|[<][?].*?[?][>]|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)","i");if(String.fromCodePoint)Ee=function(e){try{return String.fromCodePoint(e)}catch(e){if(e instanceof RangeError)return String.fromCharCode(65533);throw e}};else{var Ne=String.fromCharCode,Me=Math.floor;Ee=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,r,i=[],o=-1,a=e.length;if(!a)return"";for(var s="";++o<a;){var l=Number(e[o]);if(!isFinite(l)||l<0||l>1114111||Me(l)!==l)return String.fromCharCode(65533);l<=65535?i.push(l):(n=55296+((l-=65536)>>10),r=l%1024+56320,i.push(n,r)),(o+1===a||i.length>16384)&&(s+=Ne.apply(void 0,i),i.length=0)}return s}}var Pe=Ee,De="(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+",Le="[^<\\s]*[^<?!.,:*_?~\\s]",Re="[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+";function Ie(e){var t=/\)+$/.exec(e);if(t){for(var n=0,r=0,i=e;r<i.length;r++){var o=i[r];"("===o?n<0?n=1:n+=1:")"===o&&(n-=1)}if(n<0){var a=Math.min(-n,t[0].length);return e.substring(0,e.length-a)}}return e}function Be(e){return e.replace(/&[A-Za-z0-9]+;$/,"")}function je(e){return o(o([],function(e){for(var t,n=new RegExp("(www|https?://)."+De+Le,"g"),r=[];t=n.exec(e);){var i=Be(Ie(t[0])),o="www"===t[1]?"http://":"";r.push({text:i,range:[t.index,t.index+i.length-1],url:""+o+i})}return r}(e)),function(e){for(var t,n=new RegExp(Re,"g"),r=[];t=n.exec(e);){var i=t[0];/[_-]+$/.test(i)||r.push({text:i,range:[t.index,t.index+i.length-1],url:"mailto:"+i})}return r}(e)).sort((function(e,t){return e.range[0]-t.range[0]}))}function Fe(e){return e[e.length-1]}function ze(e){return e.slice(1,e.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()}function He(e,t){Object.keys(e).forEach((function(n){t(n,e[n])}))}function qe(e){return!Object.keys(e).length}var Ve=126,Ue=39,We=34,$e=36,Ge="\\\\"+W,Xe=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),Ye=new RegExp('^(?:"('+Ge+'|[^"\\x00])*"|\'('+Ge+"|[^'\\x00])*'|\\(("+Ge+"|[^()\\x00])*\\))"),Ze=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,Ke=new RegExp("^"+W),Je=new RegExp("^"+V,"i"),Qe=/`+/,et=/^`+/,tt=/\.\.\./g,nt=/--+/g,rt=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,it=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,ot=/^ *(?:\n *)?/,at=/^[ \t\n\x0b\x0c\x0d]/,st=/^\s/,lt=/ *$/,ct=/^ */,ut=/^ *(?:\n|$)/,pt=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,dt=/^[^\n`\[\]\\!<&*_'"~$]+/m,ht=function(){function e(e){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=e}return e.prototype.sourcepos=function(e,t){var n=this.linePosOffset+this.lineOffsets[this.lineIdx],r=this.lineStartNum+this.lineIdx,i=[r,e+n];return"number"==typeof t?[i,[r,t+n]]:i},e.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},e.prototype.match=function(e){var t=e.exec(this.subject.slice(this.pos));return null===t?null:(this.pos+=t.index+t[0].length,t[0])},e.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},e.prototype.spnl=function(){return this.match(ot),!0},e.prototype.parseBackticks=function(e){var t=this.pos+1,n=this.match(et);if(null===n)return!1;for(var r,i=this.pos;null!==(r=this.match(Qe));)if(r===n){var o=this.subject.slice(i,this.pos-n.length),a=this.sourcepos(t,this.pos),s=o.split("\n");if(s.length>1){var l=Fe(s);this.lineIdx+=s.length-1,this.linePosOffset=-(this.pos-l.length-n.length),a[1]=this.sourcepos(this.pos),o=s.join(" ")}var c=be("code",a);return o.length>0&&null!==o.match(/[^ ]/)&&" "==o[0]&&" "==o[o.length-1]?c.literal=o.slice(1,o.length-1):c.literal=o,c.tickCount=n.length,e.appendChild(c),!0}return this.pos=i,e.appendChild(Ce(n,this.sourcepos(t,this.pos-1))),!0},e.prototype.parseBackslash=function(e){var t,n=this.subject;this.pos+=1;var r=this.pos;return 10===this.peek()?(this.pos+=1,t=be("linebreak",this.sourcepos(this.pos-1,this.pos)),e.appendChild(t),this.nextLine()):Ke.test(n.charAt(this.pos))?(e.appendChild(Ce(n.charAt(this.pos),this.sourcepos(r,this.pos))),this.pos+=1):e.appendChild(Ce("\\",this.sourcepos(r,r))),!0},e.prototype.parseAutolink=function(e){var t,n,r,i=this.pos+1;return(t=this.match(rt))?(n=t.slice(1,t.length-1),(r=be("link",this.sourcepos(i,this.pos))).destination=Z("mailto:"+n),r.title="",r.appendChild(Ce(n,this.sourcepos(i+1,this.pos-1))),e.appendChild(r),!0):!!(t=this.match(it))&&(n=t.slice(1,t.length-1),(r=be("link",this.sourcepos(i,this.pos))).destination=Z(n),r.title="",r.appendChild(Ce(n,this.sourcepos(i+1,this.pos-1))),e.appendChild(r),!0)},e.prototype.parseHtmlTag=function(e){var t=this.pos+1,n=this.match(Oe);if(null===n)return!1;var r=be("htmlInline",this.sourcepos(t,this.pos));return r.literal=n,e.appendChild(r),!0},e.prototype.scanDelims=function(e){var t=0,n=this.pos;if(e===Ue||e===We)t++,this.pos++;else for(;this.peek()===e;)t++,this.pos++;if(0===t||t<2&&(e===Ve||e===$e))return this.pos=n,null;var r,i=0===n?"\n":this.subject.charAt(n-1),o=this.peek();r=-1===o?"\n":Pe(o);var a,s,l=st.test(r),c=Xe.test(r),u=st.test(i),p=Xe.test(i),d=!l&&(!c||u||p),h=!u&&(!p||l||c);return 95===e?(a=d&&(!h||p),s=h&&(!d||c)):e===Ue||e===We?(a=d&&!h,s=h):e===$e?(a=!l,s=!u):(a=d,s=h),this.pos=n,{numdelims:t,canOpen:a,canClose:s}},e.prototype.handleDelim=function(e,t){var n=this.scanDelims(e);if(!n)return!1;var r=n.numdelims,i=this.pos+1;this.pos+=r;var o=Ce(e===Ue?"":e===We?"":this.subject.slice(i-1,this.pos),this.sourcepos(i,this.pos));return t.appendChild(o),(n.canOpen||n.canClose)&&(this.options.smart||e!==Ue&&e!==We)&&(this.delimiters={cc:e,numdelims:r,origdelims:r,node:o,previous:this.delimiters,next:null,canOpen:n.canOpen,canClose:n.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},e.prototype.removeDelimiter=function(e){null!==e.previous&&(e.previous.next=e.next),null===e.next?this.delimiters=e.previous:e.next.previous=e.previous},e.prototype.removeDelimitersBetween=function(e,t){e.next!==t&&(e.next=t,t.previous=e)},e.prototype.processEmphasis=function(e){var t,n,r,i,o,a,s,l=!1,c=((t={})[95]=[e,e,e],t[42]=[e,e,e],t[39]=[e],t[34]=[e],t[126]=[e],t[36]=[e],t);for(r=this.delimiters;null!==r&&r.previous!==e;)r=r.previous;for(;null!==r;){var u=r.cc,p=95===u||42===u;if(r.canClose){for(n=r.previous,s=!1;null!==n&&n!==e&&n!==c[u][p?r.origdelims%3:0];){if(l=p&&(r.canOpen||n.canClose)&&r.origdelims%3!=0&&(n.origdelims+r.origdelims)%3==0,n.cc===r.cc&&n.canOpen&&!l){s=!0;break}n=n.previous}if(i=r,p||u===Ve||u===$e)if(s){if(n){var d=r.numdelims>=2&&n.numdelims>=2?2:1,h=p?0:1;o=n.node,a=r.node;var f=p?1===d?"emph":"strong":"strike";u===$e&&(f="customInline");var m=be(f),g=o.sourcepos[1],v=a.sourcepos[0];m.sourcepos=[[g[0],g[1]-d+1],[v[0],v[1]+d-1]],o.sourcepos[1][1]-=d,a.sourcepos[0][1]+=d,o.literal=o.literal.slice(d),a.literal=a.literal.slice(d),n.numdelims-=d,r.numdelims-=d;for(var y=o.next,b=void 0;y&&y!==a;)b=y.next,y.unlink(),m.appendChild(y),y=b;if(u===$e){var w=m.firstChild,x=w.literal||"",k=x.split(/\s/)[0];m.info=k,x.length<=k.length?w.unlink():(w.sourcepos[0][1]+=k.length,w.literal=x.replace(k+" ",""))}if(o.insertAfter(m),this.removeDelimitersBetween(n,r),n.numdelims<=h&&(0===n.numdelims&&o.unlink(),this.removeDelimiter(n)),r.numdelims<=h){0===r.numdelims&&a.unlink();var S=r.next;this.removeDelimiter(r),r=S}}}else r=r.next;else u===Ue?(r.node.literal="",s&&(n.node.literal=""),r=r.next):u===We&&(r.node.literal="",s&&(n.node.literal=""),r=r.next);s||(c[u][p?i.origdelims%3:0]=i.previous,i.canOpen||this.removeDelimiter(i))}else r=r.next}for(;null!==this.delimiters&&this.delimiters!==e;)this.removeDelimiter(this.delimiters)},e.prototype.parseLinkTitle=function(){var e=this.match(Ye);return null===e?null:Y(e.substr(1,e.length-2))},e.prototype.parseLinkDestination=function(){var e=this.match(Ze);if(null===e){if(60===this.peek())return null;for(var t=this.pos,n=0,r=void 0;-1!==(r=this.peek());)if(92===r&&Ke.test(this.subject.charAt(this.pos+1)))this.pos+=1,-1!==this.peek()&&(this.pos+=1);else if(40===r)this.pos+=1,n+=1;else if(41===r){if(n<1)break;this.pos+=1,n-=1}else{if(null!==at.exec(Pe(r)))break;this.pos+=1}return this.pos===t&&41!==r||0!==n?null:Z(Y(e=this.subject.substr(t,this.pos-t)))}return Z(Y(e.substr(1,e.length-2)))},e.prototype.parseLinkLabel=function(){var e=this.match(pt);return null===e||e.length>1001?0:e.length},e.prototype.parseOpenBracket=function(e){var t=this.pos;this.pos+=1;var n=Ce("[",this.sourcepos(this.pos,this.pos));return e.appendChild(n),this.addBracket(n,t,!1),!0},e.prototype.parseBang=function(e){var t=this.pos;if(this.pos+=1,91===this.peek()){this.pos+=1;var n=Ce("![",this.sourcepos(this.pos-1,this.pos));e.appendChild(n),this.addBracket(n,t+1,!0)}else n=Ce("!",this.sourcepos(this.pos,this.pos)),e.appendChild(n);return!0},e.prototype.parseCloseBracket=function(e){var t=null,n=null,r=!1;this.pos+=1;var i=this.pos,o=this.brackets;if(null===o)return e.appendChild(Ce("]",this.sourcepos(i,i))),!0;if(!o.active)return e.appendChild(Ce("]",this.sourcepos(i,i))),this.removeBracket(),!0;var a=o.image,s=this.pos;40===this.peek()&&(this.pos++,this.spnl()&&null!==(t=this.parseLinkDestination())&&this.spnl()&&(at.test(this.subject.charAt(this.pos-1))&&(n=this.parseLinkTitle()),1)&&this.spnl()&&41===this.peek()?(this.pos+=1,r=!0):this.pos=s);var l="";if(!r){var c=this.pos,u=this.parseLinkLabel();if(u>2?l=this.subject.slice(c,c+u):o.bracketAfter||(l=this.subject.slice(o.index,i)),0===u&&(this.pos=s),l){l=ze(l);var p=this.refMap[l];p&&(t=p.destination,n=p.title,r=!0)}}if(r){var d=be(a?"image":"link");d.destination=t,d.title=n||"",d.sourcepos=[o.startpos,this.sourcepos(this.pos)];for(var h=o.node.next,f=void 0;h;)f=h.next,h.unlink(),d.appendChild(h),h=f;if(e.appendChild(d),this.processEmphasis(o.previousDelimiter),this.removeBracket(),o.node.unlink(),!a)for(o=this.brackets;null!==o;)o.image||(o.active=!1),o=o.previous;return this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:l}),!0}return this.removeBracket(),this.pos=i,e.appendChild(Ce("]",this.sourcepos(i,i))),this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:l}),!0},e.prototype.addBracket=function(e,t,n){null!==this.brackets&&(this.brackets.bracketAfter=!0),this.brackets={node:e,startpos:this.sourcepos(t+(n?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:t,image:n,active:!0}},e.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},e.prototype.parseEntity=function(e){var t,n=this.pos+1;return!!(t=this.match(Je))&&(e.appendChild(Ce(d.decodeHTML(t),this.sourcepos(n,this.pos))),!0)},e.prototype.parseString=function(e){var t,n=this.pos+1;if(t=this.match(dt)){if(this.options.smart){var r=t.replace(tt,"").replace(nt,(function(e){var t=0,n=0;return e.length%3==0?n=e.length/3:e.length%2==0?t=e.length/2:e.length%3==2?(t=1,n=(e.length-2)/3):(t=2,n=(e.length-4)/3),Q("",n)+Q("",t)}));e.appendChild(Ce(r,this.sourcepos(n,this.pos)))}else{var i=Ce(t,this.sourcepos(n,this.pos));e.appendChild(i)}return!0}return!1},e.prototype.parseNewline=function(e){this.pos+=1;var t=e.lastChild;if(t&&"text"===t.type&&" "===t.literal[t.literal.length-1]){var n=" "===t.literal[t.literal.length-2],r=t.literal.length;t.literal=t.literal.replace(lt,"");var i=r-t.literal.length;t.sourcepos[1][1]-=i,e.appendChild(be(n?"linebreak":"softbreak",this.sourcepos(this.pos-i,this.pos)))}else e.appendChild(be("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match(ct),!0},e.prototype.parseReference=function(e,t){if(!this.options.referenceDefinition)return 0;this.subject=e.stringContent,this.pos=0;var n=null,r=this.pos,i=this.parseLinkLabel();if(0===i)return 0;var o=this.subject.substr(0,i);if(58!==this.peek())return this.pos=r,0;this.pos++,this.spnl();var a=this.parseLinkDestination();if(null===a)return this.pos=r,0;var s=this.pos;this.spnl(),this.pos!==s&&(n=this.parseLinkTitle()),null===n&&(n="",this.pos=s);var l=!0;if(null===this.match(ut)&&(""===n?l=!1:(n="",this.pos=s,l=null!==this.match(ut))),!l)return this.pos=r,0;var c=ze(o);if(""===c)return this.pos=r,0;var u=this.getReferenceDefSourcepos(e);e.sourcepos[0][0]=u[1][0]+1;var p=be("refDef",u);return p.title=n,p.dest=a,p.label=c,e.insertBefore(p),t[c]?this.refDefCandidateMap[p.id]=p:t[c]=cn(p),this.pos-r},e.prototype.mergeTextNodes=function(e){for(var t,n=[];t=e.next();){var r=t.entering,i=t.node;if(r&&"text"===i.type)n.push(i);else if(1===n.length)n=[];else if(n.length>1){var o=n[0],a=n[n.length-1];o.sourcepos&&a.sourcepos&&(o.sourcepos[1]=a.sourcepos[1]),o.next=a.next,o.next&&(o.next.prev=o);for(var s=1;s<n.length;s+=1)o.literal+=n[s].literal,n[s].unlink();n=[]}}},e.prototype.getReferenceDefSourcepos=function(e){for(var t=e.stringContent.split(/\n|\r\n/),n=!1,r=0,i={line:0,ch:0},o=0;o<t.length;o+=1){var a=t[o];if(at.test(a))break;if(/\:/.test(a)&&0===r){if(n)break;var s=a.indexOf(":")===a.length-1?o+1:o;i={line:s,ch:t[s].length},n=!0}var l=a.match(/'|"/g);if(l&&(r+=l.length),2===r){i={line:o,ch:a.length};break}}return[[e.sourcepos[0][0],e.sourcepos[0][1]],[e.sourcepos[0][0]+i.line,i.ch]]},e.prototype.parseInline=function(e){var t,n=!1,r=this.peek();if(-1===r)return!1;switch(r){case 10:n=this.parseNewline(e);break;case 92:n=this.parseBackslash(e);break;case 96:n=this.parseBackticks(e);break;case 42:case 95:case Ve:case $e:n=this.handleDelim(r,e);break;case Ue:case We:n=!!(null===(t=this.options)||void 0===t?void 0:t.smart)&&this.handleDelim(r,e);break;case 91:n=this.parseOpenBracket(e);break;case 33:n=this.parseBang(e);break;case 93:n=this.parseCloseBracket(e);break;case 60:n=this.parseAutolink(e)||this.parseHtmlTag(e);break;case 38:e.disabledEntityParse||(n=this.parseEntity(e));break;default:n=this.parseString(e)}return n||(this.pos+=1,e.appendChild(Ce(Pe(r),this.sourcepos(this.pos,this.pos+1)))),!0},e.prototype.parse=function(e){for(this.subject=e.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=e.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=e.sourcepos[0][0],function(e){return"heading"===e.type}(e)&&(this.lineOffsets[0]+=e.level+1);this.parseInline(e););e.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(e.walker());var t=this.options,n=t.extendedAutolinks,r=t.customParser;if(n&&function(e,t){var n;"boolean"==typeof t&&(t=je);for(var r=function(){var e=n.entering,r=n.node;if(e&&"text"===r.type&&"link"!==r.parent.type){var i=r.literal,o=t(i);if(!o||!o.length)return"continue";for(var a=0,s=r.sourcepos[0],l=s[0],c=s[1],u=function(e,t){return[[l,c+e],[l,c+t]]},p=[],d=0,h=o;d<h.length;d++){var f=h[d],m=f.range,g=f.url,v=f.text;m[0]>a&&p.push(Ce(i.substring(a,m[0]),u(a,m[0]-1)));var y=be("link",u.apply(void 0,m));y.appendChild(Ce(v,u.apply(void 0,m))),y.destination=g,y.extendedAutolink=!0,p.push(y),a=m[1]+1}a<i.length&&p.push(Ce(i.substring(a),u(a,i.length-1)));for(var b=0,w=p;b<w.length;b++){var x=w[b];r.insertBefore(x)}r.unlink()}};n=e.next();)r()}(e.walker(),n),r&&e.firstChild)for(var i,o=e.firstChild.walker();i=o.next();){var a=i.node,s=i.entering;r[a.type]&&r[a.type](a,{entering:s,options:this.options})}},e}(),ft=/^\[([ \txX])\][ \t]+/,mt=9,gt=32,vt=/[^ \t\f\v\r\n]/,yt=/^(?:`{3,}|~{3,})(?= *$)/;function bt(e){for(var t=e;t;){if(t.lastLineBlank)return!0;var n=t.type;if(t.lastLineChecked||"list"!==n&&"item"!==n){t.lastLineChecked=!0;break}t.lastLineChecked=!0,t=t.lastChild}return!1}function wt(e,t){return t<e.length?e.charCodeAt(t):-1}function xt(e){return!vt.test(e)}function kt(e){return e===gt||e===mt}var St=/^\$\$$/,Ct={continue:function(e,t){var n=e.currentLine,r=n.match(St);if(r)return e.lastLineLength=r[0].length,e.finalize(t,e.lineNumber),2;for(var i=t.offset;i>0&&kt(wt(n,e.offset));)e.advanceOffset(1,!0),i--;return 0},finalize:function(e,t){if(null!==t.stringContent){var n=t.stringContent,r=n.indexOf("\n"),i=n.slice(0,r),o=n.slice(r+1),a=i.match(/^(\s*)(.*)/);t.info=Y(a[2].trim()),t.literal=o,t.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},Et={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0},Tt={continue:function(){return 0},finalize:function(e,t){for(var n=t.firstChild;n;){if(bt(n)&&n.next){t.listData.tight=!1;break}for(var r=n.firstChild;r;){if(bt(r)&&(n.next||r.next)){t.listData.tight=!1;break}r=r.next}n=n.next}},canContain:function(e){return"item"===e},acceptsLines:!1},_t={continue:function(e,t){if(e.blank){if(null===t.firstChild)return 1;e.advanceNextNonspace()}else{if(!(e.indent>=t.listData.markerOffset+t.listData.padding))return 1;e.advanceOffset(t.listData.markerOffset+t.listData.padding,!0)}return 0},finalize:function(e,t){if(t.firstChild&&"paragraph"===t.firstChild.type){var n=t.firstChild,r=n.stringContent.match(ft);if(r){var i=r[0].length;n.stringContent=n.stringContent.substring(i-1),n.sourcepos[0][1]+=i,n.lineOffsets[0]+=i,t.listData.task=!0,t.listData.checked=/[xX]/.test(r[1])}}},canContain:function(e){return"item"!==e},acceptsLines:!1},At={continue:function(e,t){var n=e.currentLine,r=e.indent;if(t.isFenced){var i=r<=3&&n.charAt(e.nextNonspace)===t.fenceChar&&n.slice(e.nextNonspace).match(yt);if(i&&i[0].length>=t.fenceLength)return e.lastLineLength=e.offset+r+i[0].length,e.finalize(t,e.lineNumber),2;for(var o=t.fenceOffset;o>0&&kt(wt(n,e.offset));)e.advanceOffset(1,!0),o--}else if(r>=4)e.advanceOffset(4,!0);else{if(!e.blank)return 1;e.advanceNextNonspace()}return 0},finalize:function(e,t){var n;if(null!==t.stringContent){if(t.isFenced){var r=t.stringContent,i=r.indexOf("\n"),o=r.slice(0,i),a=r.slice(i+1),s=o.match(/^(\s*)(.*)/);t.infoPadding=s[1].length,t.info=Y(s[2].trim()),t.literal=a}else t.literal=null===(n=t.stringContent)||void 0===n?void 0:n.replace(/(\n *)+$/,"\n");t.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},Ot={continue:function(e){return e.blank?1:0},finalize:function(e,t){if(null!==t.stringContent){for(var n,r=!1;91===wt(t.stringContent,0)&&(n=e.inlineParser.parseReference(t,e.refMap));)t.stringContent=t.stringContent.slice(n),r=!0;r&&xt(t.stringContent)&&t.unlink()}},canContain:function(){return!1},acceptsLines:!0},Nt={document:{continue:function(){return 0},finalize:function(){},canContain:function(e){return"item"!==e},acceptsLines:!1},list:Tt,blockQuote:{continue:function(e){var t=e.currentLine;return e.indented||62!==wt(t,e.nextNonspace)?1:(e.advanceNextNonspace(),e.advanceOffset(1,!1),kt(wt(t,e.offset))&&e.advanceOffset(1,!0),0)},finalize:function(){},canContain:function(e){return"item"!==e},acceptsLines:!1},item:_t,heading:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},thematicBreak:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},codeBlock:At,htmlBlock:{continue:function(e,t){return!e.blank||6!==t.htmlBlockType&&7!==t.htmlBlockType?0:1},finalize:function(e,t){var n;t.literal=(null===(n=t.stringContent)||void 0===n?void 0:n.replace(/(\n *)+$/,""))||null,t.stringContent=null},canContain:function(){return!1},acceptsLines:!0},paragraph:Ot,table:{continue:function(){return 0},finalize:function(){},canContain:function(e){return"tableHead"===e||"tableBody"===e},acceptsLines:!1},tableBody:{continue:function(){return 0},finalize:function(){},canContain:function(e){return"tableRow"===e},acceptsLines:!1},tableHead:{continue:function(){return 1},finalize:function(){},canContain:function(e){return"tableRow"===e||"tableDelimRow"===e},acceptsLines:!1},tableRow:{continue:function(){return 1},finalize:function(){},canContain:function(e){return"tableCell"===e},acceptsLines:!1},tableCell:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},tableDelimRow:{continue:function(){return 1},finalize:function(){},canContain:function(e){return"tableDelimCell"===e},acceptsLines:!1},tableDelimCell:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},refDef:Et,customBlock:Ct,frontMatter:Et};function Mt(e){for(var t=0,n=0,r=[],i=0;i<e.length;i+=1)if("|"===e[i]&&"\\"!==e[i-1]){var o=e.substring(t,i);0===t&&ee(o)?n=i+1:r.push(o),t=i+1}return t<e.length&&(ee(o=e.substring(t,e.length))||r.push(o)),[n,r]}function Pt(e,t,n,r){for(var i=[],o=0,a=t;o<a.length;o++){var s=a[o],l=s.match(/^[ \t]+/),c=l?l[0].length:0,u=void 0,p=void 0;if(c===s.length)c=0,u=0,p="";else{var d=s.match(/[ \t]+$/);u=d?d[0].length:0,p=s.slice(c,s.length-u)}var h=r+c,f=be(e,[[n,r],[n,r+s.length-1]]);f.stringContent=p.replace(/\\\|/g,"|"),f.startIdx=i.length,f.endIdx=i.length,f.lineOffsets=[h-1],f.paddingLeft=c,f.paddingRight=u,i.push(f),r+=s.length+1}return i}function Dt(e){var t=null,n=e.stringContent,r=n[0];return":"===n[n.length-1]?t=":"===r?"center":"right":":"===r&&(t="left"),{align:t}}var Lt=/^(\$\$)(\s*[a-zA-Z])+/,Rt=/^(\$\$)(\s*[a-zA-Z])+.*(\$\$)/,It=/^`{3,}(?!.*`)|^~{3,}/,Bt=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+_e+"|"+Ae+")\\s*$","i")],jt=/^(?:=+|-+)[ \t]*$/,Ft=/^#{1,6}(?:[ \t]+|$)/,zt=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,Ht=/^[*+-]/,qt=/^(\d{1,9})([.)])/;function Vt(e,t){return e.options.disallowDeepHeading&&("blockQuote"===t.type||"item"===t.type)}var Ut=[function(e){return e.indented||62!==wt(e.currentLine,e.nextNonspace)?0:(e.advanceNextNonspace(),e.advanceOffset(1,!1),kt(wt(e.currentLine,e.offset))&&e.advanceOffset(1,!0),e.closeUnmatchedBlocks(),e.addChild("blockQuote",e.nextNonspace),1)},function(e,t){var n;if(!e.indented&&!Vt(e,t)&&(n=e.currentLine.slice(e.nextNonspace).match(Ft))){e.advanceNextNonspace(),e.advanceOffset(n[0].length,!1),e.closeUnmatchedBlocks();var r=e.addChild("heading",e.nextNonspace);return r.level=n[0].trim().length,r.headingType="atx",r.stringContent=e.currentLine.slice(e.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),e.advanceOffset(e.currentLine.length-e.offset),2}return 0},function(e){var t;if(!e.indented&&(t=e.currentLine.slice(e.nextNonspace).match(It))){var n=t[0].length;e.closeUnmatchedBlocks();var r=e.addChild("codeBlock",e.nextNonspace);return r.isFenced=!0,r.fenceLength=n,r.fenceChar=t[0][0],r.fenceOffset=e.indent,e.advanceNextNonspace(),e.advanceOffset(n,!1),2}return 0},function(e,t){if(!e.indented&&60===wt(e.currentLine,e.nextNonspace)){var n=e.currentLine.slice(e.nextNonspace),r=e.options.disallowedHtmlBlockTags,i=void 0;for(i=1;i<=7;i++){var o=n.match(Bt[i]);if(o){if(7===i){if("paragraph"===t.type)return 0;if(r.length>0&&new RegExp("</?(?:"+r.join("|")+")","i").test(o[0]))return 0}return e.closeUnmatchedBlocks(),e.addChild("htmlBlock",e.offset).htmlBlockType=i,2}}}return 0},function(e,t){var n;if(null!==t.stringContent&&!e.indented&&"paragraph"===t.type&&!Vt(e,t.parent)&&(n=e.currentLine.slice(e.nextNonspace).match(jt))){e.closeUnmatchedBlocks();for(var r=void 0;91===wt(t.stringContent,0)&&(r=e.inlineParser.parseReference(t,e.refMap));)t.stringContent=t.stringContent.slice(r);if(t.stringContent.length>0){var i=be("heading",t.sourcepos);return i.level="="===n[0][0]?1:2,i.headingType="setext",i.stringContent=t.stringContent,t.insertAfter(i),t.unlink(),e.tip=i,e.advanceOffset(e.currentLine.length-e.offset,!1),2}return 0}return 0},function(e){return!e.indented&&zt.test(e.currentLine.slice(e.nextNonspace))?(e.closeUnmatchedBlocks(),e.addChild("thematicBreak",e.nextNonspace),e.advanceOffset(e.currentLine.length-e.offset,!1),2):0},function(e,t){var n,r,i,o=t;return e.indented&&"list"!==t.type||!(n=function(e,t){var n,r,i=e.currentLine.slice(e.nextNonspace),o={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:e.indent,task:!1,checked:!1};if(e.indent>=4)return null;if(n=i.match(Ht))o.type="bullet",o.bulletChar=n[0][0];else{if(!(n=i.match(qt))||"paragraph"===t.type&&"1"!==n[1])return null;o.type="ordered",o.start=parseInt(n[1],10),o.delimiter=n[2]}if(-1!==(r=wt(e.currentLine,e.nextNonspace+n[0].length))&&r!==mt&&r!==gt)return null;if("paragraph"===t.type&&!e.currentLine.slice(e.nextNonspace+n[0].length).match(vt))return null;e.advanceNextNonspace(),e.advanceOffset(n[0].length,!0);var a=e.column,s=e.offset;do{e.advanceOffset(1,!0),r=wt(e.currentLine,e.offset)}while(e.column-a<5&&kt(r));var l=-1===wt(e.currentLine,e.offset),c=e.column-a;return c>=5||c<1||l?(o.padding=n[0].length+1,e.column=a,e.offset=s,kt(wt(e.currentLine,e.offset))&&e.advanceOffset(1,!0)):o.padding=n[0].length+c,o}(e,o))?0:(e.closeUnmatchedBlocks(),"list"===e.tip.type&&(r=o.listData,i=n,r.type===i.type&&r.delimiter===i.delimiter&&r.bulletChar===i.bulletChar)||((o=e.addChild("list",e.nextNonspace)).listData=n),(o=e.addChild("item",e.nextNonspace)).listData=n,1)},function(e){return e.indented&&"paragraph"!==e.tip.type&&!e.blank?(e.advanceOffset(4,!0),e.closeUnmatchedBlocks(),e.addChild("codeBlock",e.offset),2):0},function(e,t){var n=t.stringContent;if("paragraph"===t.type&&!e.indented&&!e.blank){var r=n.length-1,i=n.lastIndexOf("\n",r-1)+1,o=n.slice(i,r),a=e.currentLine.slice(e.nextNonspace),s=Mt(o),l=s[0],c=s[1],u=Mt(a),p=u[0],d=u[1],h=/^[ \t]*:?-+:?[ \t]*$/;if(!c.length||!d.length||d.some((function(e){return!h.test(e)}))||1===d.length&&0!==a.indexOf("|"))return 0;var f=t.lineOffsets,m=e.lineNumber-1,g=Fe(f)+1,v=be("table",[[m,g],[e.lineNumber,e.offset]]);if(v.columns=d.map((function(){return{align:null}})),t.insertAfter(v),1===f.length)t.unlink();else{t.stringContent=n.slice(0,i);var y=i-(n.lastIndexOf("\n",i-2)+1)-1;e.lastLineLength=f[f.length-2]+y,e.finalize(t,m-1)}e.advanceOffset(e.currentLine.length-e.offset,!1);var b=be("tableHead",[[m,g],[e.lineNumber,e.offset]]);v.appendChild(b);var w=be("tableRow",[[m,g],[m,g+o.length-1]]),x=be("tableDelimRow",[[e.lineNumber,e.nextNonspace+1],[e.lineNumber,e.offset]]);b.appendChild(w),b.appendChild(x),Pt("tableCell",c,m,g+l).forEach((function(e){w.appendChild(e)}));var k=Pt("tableDelimCell",d,e.lineNumber,e.nextNonspace+1+p);return k.forEach((function(e){x.appendChild(e)})),v.columns=k.map(Dt),e.tip=v,2}return 0},function(e,t){if("table"!==t.type&&"tableBody"!==t.type||!e.blank&&-1===e.currentLine.indexOf("|"))return 0;if(e.advanceOffset(e.currentLine.length-e.offset,!1),e.blank){var n=t;return"tableBody"===t.type&&(n=t.parent,e.finalize(t,e.lineNumber-1)),e.finalize(n,e.lineNumber-1),0}var r=t;"table"===t.type&&((r=e.addChild("tableBody",e.nextNonspace)).stringContent=null);var i=be("tableRow",[[e.lineNumber,e.nextNonspace+1],[e.lineNumber,e.currentLine.length]]);r.appendChild(i);var o=r.parent,a=Mt(e.currentLine.slice(e.nextNonspace)),s=a[0];return Pt("tableCell",a[1],e.lineNumber,e.nextNonspace+1+s).forEach((function(e,t){t>=o.columns.length&&(e.ignored=!0),i.appendChild(e)})),2},function(e){var t;if(!e.indented&&!Rt.test(e.currentLine)&&(t=e.currentLine.match(Lt))){var n=t[1].length;e.closeUnmatchedBlocks();var r=e.addChild("customBlock",e.nextNonspace);return r.syntaxLength=n,r.offset=e.indent,e.advanceNextNonspace(),e.advanceOffset(n,!1),2}return 0}],Wt=/^(-{3}|\+{3}|;{3})$/,$t=function(e,t){var n=e.currentLine,r=e.lineNumber,i=e.indented;return 1===r&&!i&&"document"===t.type&&Wt.test(n)?(e.closeUnmatchedBlocks(),e.addChild("frontMatter",e.nextNonspace).stringContent=n,e.advanceNextNonspace(),e.advanceOffset(n.length,!1),2):0},Gt={continue:function(e,t){var n=e.currentLine,r=n.match(Wt);return"frontMatter"===t.type&&r?(t.stringContent+=n,e.lastLineLength=r[0].length,e.finalize(t,e.lineNumber),2):0},finalize:function(e,t){null!==t.stringContent&&(t.literal=t.stringContent,t.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},Xt=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],Yt=/^[#`~*+_=<>0-9-;$]/,Zt=/\r\n|\n|\r/;function Kt(){return be("document",[[1,1],[0,0]])}var Jt={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null,frontMatter:!1},Qt=function(){function e(e){this.options=i(i({},Jt),e),this.doc=Kt(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.lines=[],this.options.frontMatter&&(Nt.frontMatter=Gt,Ut.unshift($t)),this.inlineParser=new ht(this.options)}return e.prototype.advanceOffset=function(e,t){void 0===t&&(t=!1);for(var n,r,i,o=this.currentLine;e>0&&(i=o[this.offset]);)"\t"===i?(n=4-this.column%4,t?(this.partiallyConsumedTab=n>e,r=n>e?e:n,this.column+=r,this.offset+=this.partiallyConsumedTab?0:1,e-=r):(this.partiallyConsumedTab=!1,this.column+=n,this.offset+=1,e-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,e-=1)},e.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},e.prototype.findNextNonspace=function(){for(var e,t=this.currentLine,n=this.offset,r=this.column;""!==(e=t.charAt(n));)if(" "===e)n++,r++;else{if("\t"!==e)break;n++,r+=4-r%4}this.blank="\n"===e||"\r"===e||""===e,this.nextNonspace=n,this.nextNonspaceColumn=r,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=4},e.prototype.addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var e=4-this.column%4;this.tip.stringContent+=Q(" ",e)}this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+"\n"},e.prototype.addChild=function(e,t){for(;!Nt[this.tip.type].canContain(e);)this.finalize(this.tip,this.lineNumber-1);var n=t+1,r=be(e,[[this.lineNumber,n],[0,0]]);return r.stringContent="",this.tip.appendChild(r),this.tip=r,r},e.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var e=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=e}this.allClosed=!0}},e.prototype.finalize=function(e,t){var n=e.parent;e.open=!1,e.sourcepos[1]=[t,this.lastLineLength],Nt[e.type].finalize(this,e),this.tip=n},e.prototype.processInlines=function(e){var t,n=this.options.customParser,r=e.walker();for(this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;t=r.next();){var i=t.node,o=t.entering,a=i.type;n&&n[a]&&n[a](i,{entering:o,options:this.options}),o||"paragraph"!==a&&"heading"!==a&&("tableCell"!==a||i.ignored)||this.inlineParser.parse(i)}},e.prototype.incorporateLine=function(e){var t=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,-1!==e.indexOf("\0")&&(e=e.replace(/\0/g,"")),this.currentLine=e;for(var n,r=!0;(n=t.lastChild)&&n.open;){switch(t=n,this.findNextNonspace(),Nt[t.type].continue(this,t)){case 0:break;case 1:r=!1;break;case 2:return void(this.lastLineLength=e.length);default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!r){t=t.parent;break}}this.allClosed=t===this.oldtip,this.lastMatchedContainer=t;for(var i="paragraph"!==t.type&&Nt[t.type].acceptsLines,o=Ut.length;!i;){if(this.findNextNonspace(),"table"!==t.type&&"tableBody"!==t.type&&"paragraph"!==t.type&&!this.indented&&!Yt.test(e.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var a=0;a<o;){var s=Ut[a](this,t);if(1===s){t=this.tip;break}if(2===s){t=this.tip,i=!0;break}a++}if(a===o){this.advanceNextNonspace();break}}if(this.allClosed||this.blank||"paragraph"!==this.tip.type){this.closeUnmatchedBlocks(),this.blank&&t.lastChild&&(t.lastChild.lastLineBlank=!0);for(var l=t.type,c=this.blank&&!("blockQuote"===l||we(t)&&t.isFenced||"item"===l&&!t.firstChild&&t.sourcepos[0][0]===this.lineNumber),u=t;u;)u.lastLineBlank=c,u=u.parent;Nt[l].acceptsLines?(this.addLine(),"htmlBlock"===t.type&&t.htmlBlockType>=1&&t.htmlBlockType<=5&&Xt[t.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=e.length,this.finalize(t,this.lineNumber))):this.offset<e.length&&!this.blank&&(t=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}else this.addLine();this.lastLineLength=e.length},e.prototype.parse=function(e,t){this.doc=Kt(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var n=e.split(Zt),r=n.length;this.lines=t||n,this.options.referenceDefinition&&this.clearRefMaps(),10===e.charCodeAt(e.length-1)&&(r-=1);for(var i=0;i<r;i++)this.incorporateLine(n[i]);for(;this.tip;)this.finalize(this.tip,r);return this.processInlines(this.doc),this.doc},e.prototype.partialParseStart=function(e,t){this.doc=Kt(),this.tip=this.doc,this.lineNumber=e-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var n=t.length,r=0;r<n;r++)this.incorporateLine(t[r]);return this.doc},e.prototype.partialParseExtends=function(e){for(var t=0;t<e.length;t++)this.incorporateLine(e[t])},e.prototype.partialParseFinish=function(){for(;this.tip;)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},e.prototype.setRefMaps=function(e,t,n){this.refMap=e,this.refLinkCandidateMap=t,this.refDefCandidateMap=n},e.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach((function(e){!function(e){Object.keys(e).forEach((function(t){delete e[t]}))}(e)}))},e}();function en(e,t){return e[0]<t[0]?1:e[0]>t[0]?-1:e[1]<t[1]?1:e[1]>t[1]?-1:0}function tn(e,t){var n=e[0];return 1===en(e[1],t)?1:-1===en(n,t)?-1:0}function nn(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];e.insertBefore(i)}}function rn(e,t){var n=e[0];return e[1][0]<t?1:n[0]>t?-1:0}function on(e,t){for(var n=e.firstChild;n;){var r=rn(n.sourcepos,t);if(0===r)return n;if(-1===r)return n.prev||n;n=n.next}return e.lastChild}function an(e){return function(e){return ie[e]}(e)||null}function sn(e,t,n){if(void 0===n&&(n=null),t)for(var r=t.walker();t&&t!==n;){e(t);var i=r.next();if(!i)break;t=i.node}}var ln=/\r\n|\n|\r/;function cn(e){return{id:e.id,title:e.title,sourcepos:e.sourcepos,unlinked:!1,destination:e.dest}}var un=function(){function e(e,t){this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!(null==t?void 0:t.referenceDefinition),this.parser=new Qt(t),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},e=e||"",this.lineTexts=e.split(ln),this.root=this.parser.parse(e,this.lineTexts)}return e.prototype.updateLineTexts=function(e,t,n){var r,i=e[0],a=e[1],s=t[0],l=t[1],c=n.split(ln),u=c.length,p=this.lineTexts[i-1],d=this.lineTexts[s-1];c[0]=p.slice(0,a-1)+c[0],c[u-1]=c[u-1]+d.slice(l-1);var h=s-i+1;return(r=this.lineTexts).splice.apply(r,o([i-1,h],c)),u-h},e.prototype.updateRootNodeState=function(){if(1===this.lineTexts.length&&""===this.lineTexts[0])return this.root.lastLineBlank=!0,void(this.root.sourcepos=[[1,1],[1,0]]);this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);for(var e=this.lineTexts,t=e.length-1;""===e[t];)t-=1;e.length-2>t&&(t+=1),this.root.sourcepos[1]=[t+1,e[t].length]},e.prototype.replaceRangeNodes=function(e,t,n){e?(nn(e,n),function(e,t){if(e.parent===t.parent&&e!==t){for(var n=e.next;n&&n!==t;){for(var r=n.next,i=0,o=["parent","prev","next"];i<o.length;i++){var a=o[i];n[a]&&(oe(n[a].id),n[a]=null)}n=r}e.next=t.next,t.next?t.next.prev=e:e.parent.lastChild=e}}(e,t),[e.id,t.id].forEach((function(e){return oe(e)})),e.unlink()):t?(nn(t,n),oe(t.id),t.unlink()):function(e,t){for(var n=t.length-1;n>=0;n-=1)e.prependChild(t[n])}(this.root,n)},e.prototype.getNodeRange=function(e,t){var n=on(this.root,e[0]),r=on(this.root,t[0]);return r&&r.next&&t[0]+1===r.next.sourcepos[0][0]&&(r=r.next),[n,r]},e.prototype.trigger=function(e,t){this.eventHandlerMap[e].forEach((function(e){e(t)}))},e.prototype.extendEndLine=function(e){for(;""===this.lineTexts[e];)e+=1;return e},e.prototype.parseRange=function(e,t,n,r){var i;e&&e.prev&&(xe(e.prev)&&function(e){var t=e.match(/^[ \t]+/);if(t&&(t[0].length>=2||/\t/.test(t[0])))return!0;var n=t?e.slice(t.length):e;return Ht.test(n)||qt.test(n)}(this.lineTexts[n-1])||"table"===e.prev.type&&!xt(i=this.lineTexts[n-1])&&-1!==i.indexOf("|"))&&(n=(e=e.prev).sourcepos[0][0]);for(var o=this.lineTexts.slice(n-1,r),a=this.parser.partialParseStart(n,o),s=t?t.next:this.root.firstChild,l=a.lastChild,c=l&&we(l)&&l.open,u=l&&Se(l)&&l.open,p=l&&xe(l);(c||u)&&s||p&&s&&("list"===s.type||s.sourcepos[0][1]>=2);){var d=this.extendEndLine(s.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(r,d)),e||(e=t),t=s,r=d,s=s.next}return this.parser.partialParseFinish(),{newNodes:function(e){for(var t=[],n=e.firstChild;n;)t.push(n),n=n.next;return t}(a),extStartNode:e,extEndNode:t}},e.prototype.getRemovedNodeRange=function(e,t){return!e||e&&ke(e)||t&&ke(t)?null:{id:[e.id,t.id],line:[e.sourcepos[0][0]-1,t.sourcepos[1][0]-1]}},e.prototype.markDeletedRefMap=function(e,t){var n=this;if(!qe(this.refMap)){var r=function(e){if(ke(e)){var t=n.refMap[e.label];t&&e.id===t.id&&(t.unlinked=!0)}};e&&sn(r,e.parent,t),t&&sn(r,t)}},e.prototype.replaceWithNewRefDefState=function(e){var t=this;if(!qe(this.refMap)){var n=function(e){if(ke(e)){var n=e.label,r=t.refMap[n];r&&!r.unlinked||(t.refMap[n]=cn(e))}};e.forEach((function(e){sn(n,e)}))}},e.prototype.replaceWithRefDefCandidate=function(){var e=this;qe(this.refDefCandidateMap)||He(this.refDefCandidateMap,(function(t,n){var r=n.label,i=n.sourcepos,o=e.refMap[r];(!o||o.unlinked||o.sourcepos[0][0]>i[0][0])&&(e.refMap[r]=cn(n))}))},e.prototype.getRangeWithRefDef=function(e,t,n,r,i){if(this.referenceDefinition&&!qe(this.refMap)){var o=on(this.root,e-1),a=on(this.root,t+1);o&&ke(o)&&o!==n&&o!==r&&(e=(n=o).sourcepos[0][0]),a&&ke(a)&&a!==n&&a!==r&&(r=a,t=this.extendEndLine(r.sourcepos[1][0]+i))}return[n,r,e,t]},e.prototype.parse=function(e,t,n){void 0===n&&(n=0);var r=this.getNodeRange(e,t),i=r[0],o=r[1],a=i?Math.min(i.sourcepos[0][0],e[0]):e[0],s=this.extendEndLine((o?Math.max(o.sourcepos[1][0],t[0]):t[0])+n),l=this.parseRange.apply(this,this.getRangeWithRefDef(a,s,i,o,n)),c=l.newNodes,u=l.extStartNode,p=l.extEndNode,d=this.getRemovedNodeRange(u,p),h=p?p.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(u,p),this.replaceRangeNodes(u,p,c),this.replaceWithNewRefDefState(c)):this.replaceRangeNodes(u,p,c),{nodes:c,removedNodeRange:d,nextNode:h}},e.prototype.parseRefLink=function(){var e=this,t=[];return qe(this.refMap)||He(this.refMap,(function(n,r){r.unlinked&&delete e.refMap[n],He(e.refLinkCandidateMap,(function(r,i){var o=i.node;i.refLabel===n&&t.push(e.parse(o.sourcepos[0],o.sourcepos[1]))}))})),t},e.prototype.removeUnlinkedCandidate=function(){qe(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach((function(e){He(e,(function(t){(function(e){var t=an(e);if(!t)return!0;for(;t&&"document"!==t.type;){if(!t.parent&&!t.prev&&!t.next)return!0;t=t.parent}return!1})(t)&&delete e[t]}))}))},e.prototype.editMarkdown=function(e,t,n){var r=this.updateLineTexts(e,t,n),o=this.parse(e,t,r),a=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=i({},e);return t.forEach((function(e){delete r[e]})),r}(o,"nextNode");!function(e,t){if(e&&e.parent&&0!==t){var n,r=e.parent.walker();for(r.resumeAt(e,!0);n=r.next();){var i=n.node;n.entering&&(i.sourcepos[0][0]+=t,i.sourcepos[1][0]+=t)}}}(o.nextNode,r),this.updateRootNodeState();var s=[a];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),s=s.concat(this.parseRefLink())),this.trigger("change",s),s},e.prototype.getLineTexts=function(){return this.lineTexts},e.prototype.getRootNode=function(){return this.root},e.prototype.findNodeAtPosition=function(e){var t=function(e,t){for(var n=e,r=null;n;){var i=tn(n.sourcepos,t);if(0===i){if(!n.firstChild)return n;r=n,n=n.firstChild}else{if(-1===i)return r;if(!n.next)return r;n=n.next}}return n}(this.root,e);return t&&t!==this.root?t:null},e.prototype.findFirstNodeAtLine=function(e){return function(e,t){for(var n=e.firstChild,r=null;n;){var i=rn(n.sourcepos,t);if(0===i){if(n.sourcepos[0][0]===t||!n.firstChild)return n;r=n,n=n.firstChild}else{if(-1===i)break;r=n,n=n.next}}return r?function(e){for(;e.parent&&"document"!==e.parent.type&&e.parent.sourcepos[0][0]===e.sourcepos[0][0];)e=e.parent;return e}(function(e){for(;e.lastChild;)e=e.lastChild;return e}(r)):null}(this.root,e)},e.prototype.on=function(e,t){this.eventHandlerMap[e].push(t)},e.prototype.off=function(e,t){var n=this.eventHandlerMap[e],r=n.indexOf(t);n.splice(r,1)},e.prototype.findNodeById=function(e){return an(e)},e.prototype.removeAllNode=function(){ie={}},e}(),pn=new RegExp("<(/?(?:"+["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"].join("|")+")[^>]*>)","ig");function dn(e){return pn.test(e)?e.replace(pn,(function(e,t){return"&lt;"+t})):e}var hn={heading:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"h"+e.level,outerNewLine:!0}},text:function(e){return{type:"text",content:e.literal}},softbreak:function(e,t){return{type:"html",content:t.options.softbreak}},linebreak:function(){return{type:"html",content:"<br />\n"}},emph:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"em"}},strong:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"strong"}},paragraph:function(e,t){var n,r=t.entering,i=null===(n=e.parent)||void 0===n?void 0:n.parent;return i&&"list"===i.type&&i.listData.tight?null:{type:r?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(e,t){var n=t.entering,r=e.listData,i=r.type,o=r.start,a="bullet"===i?"ul":"ol",s={};return"ol"===a&&null!==o&&1!==o&&(s.start=o.toString()),{type:n?"openTag":"closeTag",tagName:a,attributes:s,outerNewLine:!0}},item:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(e,t){return{type:"html",content:t.options.tagFilter?dn(e.literal):e.literal}},htmlBlock:function(e,t){var n=t.options,r=n.tagFilter?dn(e.literal):e.literal;return n.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:r},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:r,outerNewLine:!0}},code:function(e){return[{type:"openTag",tagName:"code"},{type:"text",content:e.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(e){var t=e.info,n=t?t.split(/\s+/):[],r=[];return n.length>0&&n[0].length>0&&r.push("language-"+J(n[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:r},{type:"text",content:e.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(e,t){if(t.entering){var n=e,r=n.title,o=n.destination;return{type:"openTag",tagName:"a",attributes:i({href:J(o)},r&&{title:J(r)})}}return{type:"closeTag",tagName:"a"}},image:function(e,t){var n=t.getChildrenText,r=t.skipChildren,o=e,a=o.title,s=o.destination;return r(),{type:"openTag",tagName:"img",selfClose:!0,attributes:i({src:J(s),alt:n(e)},a&&{title:J(a)})}},customBlock:function(e,t,n){var r=e.info.trim().toLowerCase(),i=n[r];if(i)try{return i(e,t)}catch(e){console.warn("[@toast-ui/editor] - The error occurred when "+r+" block node was parsed in markdown renderer: "+e)}return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"text",content:e.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},frontMatter:function(e){return[{type:"openTag",tagName:"div",outerNewLine:!0,attributes:{style:"white-space: pre; display: none;"}},{type:"text",content:e.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},customInline:function(e,t,n){var r=e,i=r.info,o=r.firstChild,a=i.trim().toLowerCase(),s=n[a],l=t.entering;if(s)try{return s(e,t)}catch(e){console.warn("[@toast-ui/editor] - The error occurred when "+a+" inline node was parsed in markdown renderer: "+e)}return l?[{type:"openTag",tagName:"span"},{type:"text",content:"$$"+i+(o?" ":"")}]:[{type:"text",content:"$$"},{type:"closeTag",tagName:"span"}]}},fn={strike:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"del"}},item:function(e,t){var n=t.entering,r=e.listData,o=r.checked,a=r.task;if(n){var s={type:"openTag",tagName:"li",outerNewLine:!0};return a?[s,{type:"openTag",tagName:"input",selfClose:!0,attributes:i(i({},o&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:s}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(e,t){if(t.entering)return{type:"openTag",tagName:"tr",outerNewLine:!0};var n=[];if(e.lastChild)for(var r=e.parent.parent.columns.length,i=e.lastChild.endIdx+1;i<r;i+=1)n.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return n.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),n},tableCell:function(e,t){var n=t.entering;if(e.ignored)return{type:"text",content:""};var r=e.parent.parent,o="tableHead"===r.type?"th":"td",a=r.parent.columns[e.startIdx],s=(null==a?void 0:a.align)?{align:a.align}:null;return n?i({type:"openTag",tagName:o,outerNewLine:!0},s&&{attributes:s}):{type:"closeTag",tagName:o,outerNewLine:!0}}},mn={softbreak:"\n",gfm:!1,tagFilter:!1,nodeId:!1};function gn(e){for(var t=[],n=e.walker(),r=null;r=n.next();){var i=r.node;"text"===i.type&&t.push(i.literal)}return t.join("")}var vn=function(){function e(e){this.buffer=[],this.options=i(i({},mn),e),this.convertors=this.createConvertors(),delete this.options.convertors}return e.prototype.createConvertors=function(){var e=i({},hn);if(this.options.gfm&&(e=i(i({},e),fn)),this.options.convertors){var t=this.options.convertors,n=Object.keys(t),r=i(i({},hn),fn);n.forEach((function(n){var i=e[n],o=t[n],a=-1===Object.keys(r).indexOf(n)?n.toLowerCase():n;e[a]=i?function(e,t,n){return t.origin=function(){return i(e,t,n)},o(e,t)}:o}))}return e},e.prototype.getConvertors=function(){return this.convertors},e.prototype.getOptions=function(){return this.options},e.prototype.render=function(e){var t=this;this.buffer=[];for(var n=e.walker(),r=null,i=function(){var e=r.node,i=r.entering,a=o.convertors[e.type];if(!a)return"continue";var s=!1,l={entering:i,leaf:!ne(e),options:o.options,getChildrenText:gn,skipChildren:function(){s=!0}},c=Se(e)||function(e){return"customInline"===e.type}(e)?a(e,l,o.convertors):a(e,l);c&&((Array.isArray(c)?c:[c]).forEach((function(n,r){"openTag"===n.type&&t.options.nodeId&&0===r&&(n.attributes||(n.attributes={}),n.attributes["data-nodeid"]=String(e.id)),t.renderHTMLNode(n)})),s&&(n.resumeAt(e,!1),n.next()))},o=this;r=n.next();)i();return this.addNewLine(),this.buffer.join("")},e.prototype.renderHTMLNode=function(e){switch(e.type){case"openTag":case"closeTag":this.renderElementNode(e);break;case"text":this.renderTextNode(e);break;case"html":this.renderRawHtmlNode(e)}},e.prototype.generateOpenTagString=function(e){var t=this,n=e.tagName,r=e.classNames,i=e.attributes;this.buffer.push("<"+n),r&&r.length>0&&this.buffer.push(' class="'+r.join(" ")+'"'),i&&Object.keys(i).forEach((function(e){var n=i[e];t.buffer.push(" "+e+'="'+n+'"')})),e.selfClose&&this.buffer.push(" /"),this.buffer.push(">")},e.prototype.generateCloseTagString=function(e){var t=e.tagName;this.buffer.push("</"+t+">")},e.prototype.addNewLine=function(){this.buffer.length&&"\n"!==Fe(Fe(this.buffer))&&this.buffer.push("\n")},e.prototype.addOuterNewLine=function(e){e.outerNewLine&&this.addNewLine()},e.prototype.addInnerNewLine=function(e){e.innerNewLine&&this.addNewLine()},e.prototype.renderTextNode=function(e){this.buffer.push(J(e.content))},e.prototype.renderRawHtmlNode=function(e){this.addOuterNewLine(e),this.buffer.push(e.content),this.addOuterNewLine(e)},e.prototype.renderElementNode=function(e){"openTag"===e.type?(this.addOuterNewLine(e),this.generateOpenTagString(e),e.selfClose?this.addOuterNewLine(e):this.addInnerNewLine(e)):(this.addInnerNewLine(e),this.generateCloseTagString(e),this.addOuterNewLine(e))},e}(),yn=s(956),bn=s.n(yn),wn=s(969),xn=s.n(wn),kn=s(348),Sn=s.n(kn),Cn=s(349),En=s.n(Cn),Tn=s(204),_n=s.n(Tn),An=s(462),On=s.n(An),Nn=s(522),Mn=s.n(Nn),Pn=s(990),Dn=s.n(Pn),Ln=s(322),Rn=s.n(Ln),In=s(758),Bn=s.n(In),jn=s(929),Fn=s.n(jn),zn=s(714),Hn=s.n(zn),qn=(s(471),"[A-Za-z][A-Za-z0-9-]*"),Vn="(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)",Un=new RegExp("^(?:<("+qn+")("+Vn+")*\\s*/?>|</("+qn+")\\s*[>])","i");function Wn(e,t){return-1!==e.indexOf(t)}s(934),s(391),/Mac/.test(navigator.platform),new RegExp('[&<>"]',"g");var $n=["rel","target","hreflang","type"];function Gn(e){return"object"==typeof e&&null!==e}function Xn(t,n){var r=e({},t);return t&&n&&Object.keys(n).forEach((function(e){Gn(r[e])?Array.isArray(n[e])?r[e]=Yn(n[e]):r.hasOwnProperty(e)?r[e]=Xn(r[e],n[e]):r[e]=Zn(n[e]):r[e]=n[e]})),r}function Yn(e){return e.map((function(e){return Gn(e)?Array.isArray(e)?Yn(e):Zn(e):e}))}function Zn(e){var t=Object.keys(e);return t.length?t.reduce((function(t,n){return Gn(e[n])?t[n]=Array.isArray(e[n])?Yn(e[n]):Zn(e[n]):t[n]=e[n],t}),{}):e}function Kn(e,t){return void 0===t&&(t={}),Object.keys(t).forEach((function(n){e.hasOwnProperty(n)&&"object"==typeof e[n]?Array.isArray(t[n])?e[n]=t[n]:Kn(e[n],t[n]):e[n]=t[n]})),e}function Jn(e,t){return e>t?[t,e]:[e,t]}var Qn="toastui-editor-";function er(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r],a=void 0;(a=Array.isArray(o)?o[0]?o[1]:null:o)&&n.push(""+Qn+a)}return n.join(" ")}function tr(e){e.parentNode&&e.parentNode.removeChild(e)}function nr(e,t,n){Fn()(n)&&(n=!Hn()(e,t)),(n?_n():On())(e,t)}var rr=s(294),ir=s.n(rr);function or(e){var t=e.firstChild.literal;switch(e.type){case"emph":return"*"+t+"*";case"strong":return"**"+t+"**";case"strike":return"~~"+t+"~~";case"code":return"`"+t+"`";case"link":case"image":var n=e,r=n.destination,i=n.title;return("link"===e.type?"":"!")+"["+t+"]("+r+(i?' "'+i+'"':"")+")";default:return null}}var ar={},sr=/\$\$widget\d+\s/;function lr(e){var t=e.search(sr);if(-1!==t){var n=e.substring(t).replace(sr,"").replace("$$","");e=e.substring(0,t),e+=lr(n)}return e}var cr=s(368),ur=s.n(cr),pr=["iframe","embed"],dr=[];function hr(t,n){return ur().sanitize(t,e({ADD_TAGS:dr,ADD_ATTR:["rel","target","hreflang","type"],FORBID_TAGS:["input","script","textarea","form","button","select","meta","style","link","title","object","base"]},n))}var fr=/^\s*<\s*\//,mr={paragraph:function(e,t){var n=t.entering,r=t.origin;return t.options.nodeId?{type:n?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:r()},softbreak:function(e){return{type:"html",content:e.prev&&"htmlInline"===e.prev.type&&/<br ?\/?>/.test(e.prev.literal)?"\n":"<br>\n"}},item:function(e,t){if(t.entering){var n={},r=[];return e.listData.task&&(n["data-task"]="",r.push("task-list-item"),e.listData.checked&&(r.push("checked"),n["data-task-checked"]="")),{type:"openTag",tagName:"li",classNames:r,attributes:n,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(e){return[{type:"openTag",tagName:"code",attributes:{"data-backticks":String(e.tickCount)}},{type:"text",content:e.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(e){var t=e,n=t.fenceLength,r=t.info,i=r?r.split(/\s+/):[],o=[],a={};if(n>3&&(a["data-backticks"]=n),i.length>0&&i[0].length>0){var s=i[0];o.push("lang-"+s),a["data-language"]=s}return[{type:"openTag",tagName:"pre",classNames:o},{type:"openTag",tagName:"code",attributes:a},{type:"text",content:e.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]},customInline:function(e,t){var n=t.origin,r=t.entering,i=t.skipChildren,o=e.info;if(-1!==o.indexOf("widget")&&r){i();var a=function(e){for(var t,n="",r=e.walker();t=r.next();){var i=t.node;t.entering&&(i!==e&&"text"!==i.type?(n+=or(i),r.resumeAt(e,!1),r.next()):"text"===i.type&&(n+=i.literal))}return n}(e),s=function(e,t){var n=ar[e],r=n.rule,i=n.toDOM,o=lr(t).match(r);return o&&(t=o[0]),i(t)}(o,a).outerHTML;return[{type:"openTag",tagName:"span",classNames:["tui-widget"]},{type:"html",content:s},{type:"closeTag",tagName:"span"}]}return n()}};function gr(t,n){var r=e({},mr);return t&&(r.link=function(n,r){var i=r.entering,o=(0,r.origin)();return i&&(o.attributes=e(e({},o.attributes),t)),o}),n&&Object.keys(n).forEach((function(t){var i=r[t],o=n[t];i&&ir()(o)?r[t]=function(t,n){var r=e({},n);return r.origin=function(){return i(t,n)},o(t,r)}:Wn(["htmlBlock","htmlInline"],t)&&!ir()(o)?r[t]=function(t,n){var r,i=t.literal.match(Un);if(i){var a=i[0],s=i[1],l=i[3],c=(s||l).toLowerCase(),u=o[c],p=function(e,t){return e.literal.replace(new RegExp("(<\\s*"+t+"[^>]*>)|(</"+t+"\\s*[>])","ig"),"").trim()}(t,c);if(u){var d=e({},t);return d.attrs=(r=a.match(Un)[0].match(new RegExp(Vn,"g")))?r.reduce((function(e,t){var n=t.trim().split("="),r=n[0],i=n.slice(1);return i.length&&(e[r]=i.join("=").replace(/'|"/g,"").trim()),e}),{}):{},d.childrenHTML=p,d.type=c,n.entering=!fr.test(t.literal),u(d,n)}}return n.origin()}:r[t]=o})),r}var vr=["UL","OL","BLOCKQUOTE"];function yr(e,t){for(var n=0;e&&e!==t&&(Wn(vr,e.tagName)||(n+=e.offsetTop),e.offsetParent!==t.offsetParent);)e=e.parentElement;return n}function br(e,t,n){return e&&t>n+e.offsetTop?br(e.nextElementSibling,t,n)||e:null}var wr={};function xr(e){e&&(delete wr[Number(e.getAttribute("data-nodeid"))],Dn()(e.children).forEach((function(e){xr(e)})))}var kr=er("md-preview-highlight"),Sr=function(){function e(e,t){var n=document.createElement("div");this.el=n,this.eventEmitter=e,this.isViewer=!!t.isViewer,this.el.className=er("md-preview");var r=t.linkAttributes,i=t.customHTMLRenderer,o=t.sanitizer,a=t.highlight,s=void 0!==a&&a;this.renderer=new vn({gfm:!0,nodeId:!0,convertors:gr(r,i)}),this.cursorNodeId=null,this.sanitizer=o,this.initEvent(s),this.initContentSection(),this.isViewer&&(this.previewContent.style.overflowWrap="break-word")}return e.prototype.initContentSection=function(){this.previewContent=function(e,t){var n=document.createElement("div");Bn()(e)?n.innerHTML=e:n.appendChild(e);var r=n.firstChild;return t&&t.appendChild(r),r}('<div class="'+er("contents")+'"></div>'),this.isViewer||this.el.appendChild(this.previewContent)},e.prototype.toggleActive=function(e){nr(this.el,"active",e)},e.prototype.initEvent=function(e){var t=this;this.eventEmitter.listen("updatePreview",this.update.bind(this)),this.isViewer||(e&&(this.eventEmitter.listen("changeToolbarState",(function(e){var n=e.mdNode,r=e.cursorPos;t.updateCursorNode(n,r)})),this.eventEmitter.listen("blur",(function(){t.removeHighlight()}))),Sn()(this.el,"scroll",(function(e){t.eventEmitter.emit("scroll","preview",function(e,t){for(var n=t,r=null;n;){var i=n.firstElementChild;if(!i)break;r=n,n=br(i,e,yr(n,t))}var o=n||r;return o===t?null:o}(e.target.scrollTop,t.previewContent))})),this.eventEmitter.listen("changePreviewTabPreview",(function(){return t.toggleActive(!0)})),this.eventEmitter.listen("changePreviewTabWrite",(function(){return t.toggleActive(!1)})))},e.prototype.removeHighlight=function(){if(this.cursorNodeId){var e=this.getElementByNodeId(this.cursorNodeId);e&&On()(e,kr)}},e.prototype.updateCursorNode=function(e,t){e&&("tableRow"===(e=function(e,t,n){for(void 0===n&&(n=!0),e=n?e:e.parent;e&&"document"!==e.type;){if(t(e))return e;e=e.parent}return null}(e,(function(e){return!function(e){switch(e.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":case"customInline":return!0;default:return!1}}(e)}))).type?e=function(e,t){for(var n=e.firstChild;n&&n.next&&!(n.next.sourcepos[0][1]>t+1);)n=n.next;return n}(e,t[1]):"tableBody"===e.type&&(e=null));var n=e?e.id:null;if(this.cursorNodeId!==n){var r=this.getElementByNodeId(this.cursorNodeId),i=this.getElementByNodeId(n);r&&On()(r,kr),i&&_n()(i,kr),this.cursorNodeId=n}},e.prototype.getElementByNodeId=function(e){return e?this.previewContent.querySelector('[data-nodeid="'+e+'"]'):null},e.prototype.update=function(e){var t=this;e.forEach((function(e){return t.replaceRangeNodes(e)})),this.eventEmitter.emit("afterPreviewRender",this)},e.prototype.replaceRangeNodes=function(e){var t=this,n=e.nodes,r=e.removedNodeRange,i=this.previewContent,o=this.eventEmitter.emitReduce("beforePreviewRender",this.sanitizer(n.map((function(e){return t.renderer.render(e)})).join("")));if(r){var a=r.id,s=a[0],l=a[1],c=this.getElementByNodeId(s),u=this.getElementByNodeId(l);if(c){c.insertAdjacentHTML("beforebegin",o);for(var p=c;p&&p!==u;){var d=p.nextElementSibling;tr(p),xr(p),p=d}(null==p?void 0:p.parentNode)&&(tr(p),xr(p))}}else i.insertAdjacentHTML("afterbegin",o)},e.prototype.getRenderer=function(){return this.renderer},e.prototype.destroy=function(){En()(this.el,"scroll"),this.el=null},e.prototype.getElement=function(){return this.el},e.prototype.getHTML=function(){return this.previewContent.innerHTML.replace(/<img class="ProseMirror-separator" alt="">/g,"").replace(/ class="ProseMirror-trailingBreak"/g,"")},e.prototype.setHTML=function(e){this.previewContent.innerHTML=e},e.prototype.setHeight=function(e){Mn()(this.el,{height:e+"px"})},e.prototype.setMinHeight=function(e){Mn()(this.el,{minHeight:e+"px"})},e}(),Cr=Sr,Er=s(814),Tr=s(479),_r=s(311),Ar=s(481),Or=s(43),Nr=s(928),Mr=s.n(Nr),Pr=function(){function e(){this.keys=[],this.values=[]}return e.prototype.getKeyIndex=function(e){return Mr()(e,this.keys)},e.prototype.get=function(e){return this.values[this.getKeyIndex(e)]},e.prototype.set=function(e,t){var n=this.getKeyIndex(e);return n>-1?this.values[n]=t:(this.keys.push(e),this.values.push(t)),this},e.prototype.has=function(e){return this.getKeyIndex(e)>-1},e.prototype.delete=function(e){var t=this.getKeyIndex(e);return t>-1&&(this.keys.splice(t,1),this.values.splice(t,1),!0)},e.prototype.forEach=function(e,t){var n=this;void 0===t&&(t=this),this.values.forEach((function(r,i){r&&n.keys[i]&&e.call(t,r,n.keys[i],n)}))},e.prototype.clear=function(){this.keys=[],this.values=[]},e}(),Dr="en-US",Lr=new(function(){function e(){this.code=Dr,this.langs=new Pr}return e.prototype.setCode=function(e){this.code=e||Dr},e.prototype.setLanguage=function(e,t){var n=this;(e=[].concat(e)).forEach((function(e){if(n.langs.has(e)){var r=n.langs.get(e);n.langs.set(e,xn()(r,t))}else n.langs.set(e,t)}))},e.prototype.get=function(e,t){t||(t=this.code);var n=this.langs.get(t);n||(n=this.langs.get(Dr));var r=n[e];if(!r)throw new Error('There is no text key "'+e+'" in '+t);return r},e}());function Rr(e,t){for(var n=e.depth;n;){var r=e.node(n);if(t(r,n))return{node:r,depth:n,offset:n>0?e.before(n):0};n-=1}return null}var Ir=new Map,Br=function(){function e(e,t,n,r){this.table=e,this.tableRows=t,this.tableStartPos=n,this.rowInfo=r}return e.create=function(t){var n=Rr(t,(function(e){return"table"===e.type.name}));if(n){var r=n.node,i=n.depth,o=n.offset,a=Ir.get(r);if((null==a?void 0:a.tableStartPos)===o+1)return a;var s=[],l=t.start(i),c=r.child(0),u=r.child(1),p=jr(c,l),d=jr(u,l+c.nodeSize);c.forEach((function(e){return s.push(e)})),u.forEach((function(e){return s.push(e)}));var h=new e(r,s,l,p.concat(d));return Ir.set(r,h),h}return null},Object.defineProperty(e.prototype,"totalRowCount",{get:function(){return this.rowInfo.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalColumnCount",{get:function(){return this.rowInfo[0].length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tableStartOffset",{get:function(){return this.tableStartPos},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tableEndOffset",{get:function(){return this.tableStartPos+this.table.nodeSize-1},enumerable:!1,configurable:!0}),e.prototype.getCellInfo=function(e,t){return this.rowInfo[e][t]},e.prototype.posAt=function(e,t){for(var n=0,r=this.tableStartPos;;n+=1){var i=r+this.tableRows[n].nodeSize;if(n===e){for(var o=t;o<this.totalColumnCount&&this.rowInfo[n][o].offset<r;)o+=1;return o===this.totalColumnCount?i:this.rowInfo[n][o].offset}r=i}},e.prototype.getNodeAndPos=function(e,t){var n=this.rowInfo[e][t];return{node:this.table.nodeAt(n.offset-this.tableStartOffset),pos:n.offset}},e.prototype.extendedRowspan=function(e,t){return!1},e.prototype.extendedColspan=function(e,t){return!1},e.prototype.getRowspanCount=function(e,t){return 0},e.prototype.getColspanCount=function(e,t){return 0},e.prototype.decreaseColspanCount=function(e,t){return 0},e.prototype.decreaseRowspanCount=function(e,t){return 0},e.prototype.getColspanStartInfo=function(e,t){return null},e.prototype.getRowspanStartInfo=function(e,t){return null},e.prototype.getCellStartOffset=function(e,t){var n=this.rowInfo[e][t].offset;return this.extendedRowspan(e,t)?this.posAt(e,t):n},e.prototype.getCellEndOffset=function(e,t){var n=this.rowInfo[e][t],r=n.offset,i=n.nodeSize;return this.extendedRowspan(e,t)?this.posAt(e,t):r+i},e.prototype.getCellIndex=function(e){for(var t=0;t<this.totalRowCount;t+=1)for(var n=this.rowInfo[t],r=0;r<this.totalColumnCount;r+=1)if(n[r].offset+1>e.pos)return[t,r];return[0,0]},e.prototype.getRectOffsets=function(e,t){var n,r,i;void 0===t&&(t=e),e.pos>t.pos&&(e=(n=[t,e])[0],t=n[1]);var o=this.getCellIndex(e),a=o[0],s=o[1],l=this.getCellIndex(t),c=l[0],u=l[1];return a=(r=Jn(a,c))[0],c=r[1],s=(i=Jn(s,u))[0],u=i[1],this.getSpannedOffsets({startRowIdx:a,startColIdx:s,endRowIdx:c,endColIdx:u})},e.prototype.getSpannedOffsets=function(e){return e},e}(),jr=function(e,t){var n=[];return e.forEach((function(e,r){var i={rowspanMap:{},colspanMap:{},length:0};e.forEach((function(e,n){for(var o=e.nodeSize,a=0;i[a];)a+=1;i[a]={offset:t+r+n+2,nodeSize:o},i.length+=1})),n.push(i)})),n};function Fr(e,t){return Kn(Br.prototype,e),jr=t,Br}function zr(t){var n=t.plugins,r=t.eventEmitter,i=t.usageStatistics,o=t.instance;return r.listen("mixinTableOffsetMapPrototype",Fr),(null!=n?n:[]).reduce((function(t,n){var a=function(e){var t=e.plugin,n={eventEmitter:e.eventEmitter,usageStatistics:e.usageStatistics,instance:e.instance,pmState:{Plugin:Er.Plugin,PluginKey:Er.PluginKey,Selection:Er.Selection,TextSelection:Er.TextSelection},pmView:{Decoration:_r.Decoration,DecorationSet:_r.DecorationSet},pmModel:{Fragment:Or.Fragment},pmRules:{InputRule:Tr.InputRule,inputRules:Tr.inputRules,undoInputRule:Tr.undoInputRule},pmKeymap:{keymap:Ar.keymap},i18n:Lr};if(Rn()(t)){var r=t[0],i=t[1];return r(n,void 0===i?{}:i)}return t(n)}({plugin:n,eventEmitter:r,usageStatistics:i,instance:o});if(!a)throw new Error("The return value of the executed plugin is empty.");var s=a.markdownParsers,l=a.toHTMLRenderers,c=a.toMarkdownRenderers,u=a.markdownPlugins,p=a.wysiwygPlugins,d=a.wysiwygNodeViews,h=a.markdownCommands,f=a.wysiwygCommands,m=a.toolbarItems;return l&&(t.toHTMLRenderers=Xn(t.toHTMLRenderers,l)),c&&(t.toMarkdownRenderers=Xn(t.toMarkdownRenderers,c)),u&&(t.mdPlugins=t.mdPlugins.concat(u)),p&&(t.wwPlugins=t.wwPlugins.concat(p)),d&&(t.wwNodeViews=e(e({},t.wwNodeViews),d)),h&&(t.mdCommands=e(e({},t.mdCommands),h)),f&&(t.wwCommands=e(e({},t.wwCommands),f)),m&&(t.toolbarItems=t.toolbarItems.concat(m)),s&&(t.markdownParsers=e(e({},t.markdownParsers),s)),t}),{toHTMLRenderers:{},toMarkdownRenderers:{},mdPlugins:[],wwPlugins:[],wwNodeViews:{},mdCommands:{},wwCommands:{},toolbarItems:[],markdownParsers:{}})}var Hr=s(404),qr=s.n(Hr),Vr=["afterPreviewRender","updatePreview","changeMode","needChangeMode","command","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","scroll","contextmenu","show","hide","changeLanguage","changeToolbarState","toggleScrollSync","mixinTableOffsetMapPrototype","setFocusedNode","removePopupWidget","query","openPopup","closePopup","addImageBlobHook","beforePreviewRender","beforeConvertWysiwygToMarkdown","load","loadUI","change","caretChange","destroy","focus","blur","keydown","keyup"],Ur=function(){function n(){var t=this;this.events=new Pr,this.eventTypes=Vr.reduce((function(t,n){return e(e({},t),{type:n})}),{}),this.hold=!1,Vr.forEach((function(e){t.addEventType(e)}))}return n.prototype.listen=function(e,t){var n=this.getTypeInfo(e),r=this.events.get(n.type)||[];if(!this.hasEventType(n.type))throw new Error("There is no event type "+n.type);n.namespace&&(t.namespace=n.namespace),r.push(t),this.events.set(n.type,r)},n.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this.getTypeInfo(e),i=this.events.get(r.type),o=[];return!this.hold&&i&&i.forEach((function(e){var n=e.apply(void 0,t);Fn()(n)||o.push(n)})),o},n.prototype.emitReduce=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=this.events.get(e);return!this.hold&&o&&o.forEach((function(e){var i=e.apply(void 0,t([n],r));qr()(i)||(n=i)})),n},n.prototype.getTypeInfo=function(e){var t=e.split(".");return{type:t[0],namespace:t[1]}},n.prototype.hasEventType=function(e){return!Fn()(this.eventTypes[this.getTypeInfo(e).type])},n.prototype.addEventType=function(e){if(this.hasEventType(e))throw new Error("There is already have event type "+e);this.eventTypes[e]=e},n.prototype.removeEventHandler=function(e,t){var n=this,r=this.getTypeInfo(e),i=r.type,o=r.namespace;i&&t?this.removeEventHandlerWithHandler(i,t):i&&!o?this.events.delete(i):!i&&o?this.events.forEach((function(e,t){n.removeEventHandlerWithTypeInfo(t,o)})):i&&o&&this.removeEventHandlerWithTypeInfo(i,o)},n.prototype.removeEventHandlerWithHandler=function(e,t){var n=this.events.get(e);if(n){var r=n.indexOf(t);n.indexOf(t)>=0&&n.splice(r,1)}},n.prototype.removeEventHandlerWithTypeInfo=function(e,t){var n=[],r=this.events.get(e);r&&(r.map((function(e){return e.namespace!==t&&n.push(e),null})),this.events.set(e,n))},n.prototype.getEvents=function(){return this.events},n.prototype.holdEventInvoke=function(e){this.hold=!0,e(),this.hold=!1},n}(),Wr=Ur;function $r(e){["htmlBlock","htmlInline"].forEach((function(t){e[t]&&Object.keys(e[t]).forEach((function(e){var t;Wn(pr,t=e)&&dr.push(t.toLowerCase())}))}))}var Gr=function(){function t(t){var n=this;this.options=xn()({linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,usageStatistics:!0,theme:"light"},t),this.eventEmitter=new Wr;var r=function(e){if(!e)return null;var t={};return $n.forEach((function(n){Fn()(e[n])||(t[n]=e[n])})),t}(this.options.linkAttributes),i=zr({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this})||{},o=i.toHTMLRenderers,a=i.markdownParsers,s=this.options,l=s.customHTMLRenderer,c=s.extendedAutolinks,u=s.referenceDefinition,p=s.frontMatter,d=s.customHTMLSanitizer,h={linkAttributes:r,customHTMLRenderer:e(e({},o),l),extendedAutolinks:c,referenceDefinition:u,frontMatter:p,sanitizer:d||hr};$r(h.customHTMLRenderer),this.options.events&&bn()(this.options.events,(function(e,t){n.on(t,e)}));var f=this.options,m=f.el,g=f.initialValue,v=f.theme,y=m.innerHTML;"light"!==v&&m.classList.add(er(v)),m.innerHTML="",this.toastMark=new un("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:c,referenceDefinition:u,disallowDeepHeading:!0,frontMatter:p,customParser:a}),this.preview=new Cr(this.eventEmitter,e(e({},h),{isViewer:!0})),Sn()(this.preview.previewContent,"mousedown",this.toggleTask.bind(this)),g?this.setMarkdown(g):y&&this.preview.setHTML(y),m.appendChild(this.preview.previewContent),this.eventEmitter.emit("load",this)}return t.prototype.toggleTask=function(e){var t=e.target,n=getComputedStyle(t,":before");!t.hasAttribute("data-task-disabled")&&t.hasAttribute("data-task")&&function(e,t,n){var r=parseInt(e.left,10),i=parseInt(e.top,10),o=parseInt(e.width,10)+parseInt(e.paddingLeft,10)+parseInt(e.paddingRight,10),a=parseInt(e.height,10)+parseInt(e.paddingTop,10)+parseInt(e.paddingBottom,10);return t>=r&&t<=r+o&&n>=i&&n<=i+a}(n,e.offsetX,e.offsetY)&&(nr(t,"checked"),this.eventEmitter.emit("change",{source:"viewer",date:e}))},t.prototype.setMarkdown=function(e){var t,n=this.toastMark.getLineTexts(),r=[n.length,(t=n)[t.length-1].length+1],i=this.toastMark.editMarkdown([1,1],r,e||"");this.eventEmitter.emit("updatePreview",i)},t.prototype.on=function(e,t){this.eventEmitter.listen(e,t)},t.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},t.prototype.addHook=function(e,t){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,t)},t.prototype.destroy=function(){En()(this.preview.el,"mousedown",this.toggleTask.bind(this)),this.preview.destroy(),this.eventEmitter.emit("destroy")},t.prototype.isViewer=function(){return!0},t.prototype.isMarkdownMode=function(){return!1},t.prototype.isWysiwygMode=function(){return!1},t}(),Xr=Gr}(),l=l.default}()},mk=fk(o("dpGEw"),o("f15Bj"),o("iwjgp"),o("gHsGI"),o("1dZxV"));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var gk=function(e,t){return gk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},gk(e,t)};function vk(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}gk(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var yk=function(){return yk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},yk.apply(this,arguments)},bk=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.rootEl=t(l).createRef(),n}return vk(n,e),n.prototype.getRootElement=function(){return this.rootEl.current},n.prototype.getInstance=function(){return this.editorInst},n.prototype.getBindingEventNames=function(){var e=this;return Object.keys(this.props).filter((function(e){return/^on[A-Z][a-zA-Z]+/.test(e)})).filter((function(t){return e.props[t]}))},n.prototype.bindEventHandlers=function(e){var t=this;this.getBindingEventNames().forEach((function(n){var r=n[2].toLowerCase()+n.slice(3);t.editorInst.off(r),t.editorInst.on(r,e[n])}))},n.prototype.getInitEvents=function(){var e=this;return this.getBindingEventNames().reduce((function(t,n){return t[n[2].toLowerCase()+n.slice(3)]=e.props[n],t}),{})},n.prototype.componentDidMount=function(){this.editorInst=new hk(yk(yk({el:this.rootEl.current},this.props),{events:this.getInitEvents()}))},n.prototype.shouldComponentUpdate=function(e){var t=this.getInstance(),n=e.height,r=e.previewStyle;return n&&this.props.height!==n&&t.setHeight(n),r&&this.props.previewStyle!==r&&t.changePreviewStyle(r),this.bindEventHandlers(e),!1},n.prototype.render=function(){return t(l).createElement("div",{ref:this.rootEl})},n}(t(l).Component);!function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.rootEl=t(l).createRef(),n}vk(n,e),n.prototype.getRootElement=function(){return this.rootEl.current},n.prototype.getInstance=function(){return this.viewerInst},n.prototype.getBindingEventNames=function(){var e=this;return Object.keys(this.props).filter((function(e){return/^on[A-Z][a-zA-Z]+/.test(e)})).filter((function(t){return e.props[t]}))},n.prototype.bindEventHandlers=function(e){var t=this;this.getBindingEventNames().forEach((function(n){var r=n[2].toLowerCase()+n.slice(3);t.viewerInst.off(r),t.viewerInst.on(r,e[n])}))},n.prototype.getInitEvents=function(){var e=this;return this.getBindingEventNames().reduce((function(t,n){return t[n[2].toLowerCase()+n.slice(3)]=e.props[n],t}),{})},n.prototype.componentDidMount=function(){this.viewerInst=new(t(mk))(yk(yk({el:this.rootEl.current},this.props),{events:this.getInitEvents()}))},n.prototype.shouldComponentUpdate=function(e){return this.bindEventHandlers(e),!1},n.prototype.render=function(){return t(l).createElement("div",{ref:this.rootEl})}}(t(l).Component);class wk extends l.Component{constructor(e){super(e),this.state={isDeleting:!1,selectedTags:this.props.selectedAnnotation.body&&this.props.selectedAnnotation.body.length>0&&this.props.selectedAnnotation.body.filter((e=>"tagging"===e.purpose)).reduce(((e,t)=>[...e,t.value]),[])||[],markdown:[],selectedTags:[]}}editorRef=React.createRef();saveMD=()=>{let e=this.props.annotations,t=[{type:"TextualBody",value:this.editorRef.current.getInstance().getMarkdown(),purpose:"commenting"},{type:"HTMLBody",value:this.editorRef.current.getInstance().getMarkdown()?this.editorRef.current.getInstance().getHTML():"",purpose:"commenting"},...this.state.selectedTags.map((e=>({type:"TextualBody",value:e,purpose:"tagging"})))];e.filter((e=>e.id===this.props.selectedAnnotation.id)).length>0?e.filter((e=>e.id===this.props.selectedAnnotation.id))[0].body=t:(this.props.selectedAnnotation.body=t,e.push(this.props.selectedAnnotation)),Rt(`${this.props.selectedProjectId}_annotations`,JSON.stringify(e)),this.props.updateAnnos(e),document.getElementById(`anno_edit_card_${this.props.selectedAnnotation.id}`).scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),this.props.closeMdEditor()};getAnnoBody=()=>Array.isArray(this.props.selectedAnnotation.body)&&this.props.selectedAnnotation.body.length>0&&this.props.selectedAnnotation.body.filter((e=>"TextualBody"===e.type&&"commenting"===e.purpose))[0]?this.props.selectedAnnotation.body.filter((e=>"TextualBody"===e.type&&"commenting"===e.purpose))[0].value:"";render(){return(0,a.jsx)("div",{className:"card w-96 bg-base-100 shadow-xl rich-card-editor",children:(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsx)("div",{className:"card-actions justify-end",children:(0,a.jsx)("button",{className:"btn btn-square btn-sm",onClick:()=>this.props.closeMdEditor(),children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})}),(0,a.jsx)(bk,{initialValue:this.getAnnoBody(),previewStyle:"vertical",height:"600px",initialEditType:"markdown",ref:this.editorRef,usageStatistics:!1,previewStyle:"tab",initialEditType:"markdown",placeholder:"Ajoutez votre texte ici",hideModeSwitch:!0,toolbarItems:[["heading","italic","bold","ul","link","image"]]}),(0,a.jsx)("div",{id:"editor"}),(0,a.jsx)("div",{className:"editor-tags",children:(0,a.jsx)(Os,{value:this.state.selectedTags,onChange:e=>this.setState({selectedTags:e}),placeHolder:"Ajouter un tag"})}),(0,a.jsxs)("div",{className:"rich-card-editor-btns",children:[(0,a.jsxs)("button",{className:"btn ml-1 mr-1",onClick:()=>this.saveMD(),children:[(0,a.jsx)($o,{icon:vn})," Enregistrer "]}),!this.state.isDeleting&&(0,a.jsxs)("button",{className:"btn btn-error ml-1 mr-1",onClick:()=>this.setState({isDeleting:!0}),children:[" ",(0,a.jsx)($o,{icon:Nn})," Supprimer "]}),this.state.isDeleting&&(0,a.jsxs)("button",{className:"btn btn-success",onClick:()=>{this.setState({isDeleting:!1}),this.deleteAnnotation(),this.props.closeRichEditor()},children:[" ",(0,a.jsx)($o,{icon:an})," Confirmer "]})]})]})})}}var xk=wk,kk=(l=o("acw62"),l=o("acw62"),{});function Sk(e){return e&&"object"==typeof e?"position"in e||"type"in e?Ek(e.position):"start"in e||"end"in e?Ek(e):"line"in e||"column"in e?Ck(e):"":""}function Ck(e){return Tk(e&&e.line)+":"+Tk(e&&e.column)}function Ek(e){return Ck(e&&e.start)+"-"+Ck(e&&e.end)}function Tk(e){return e&&"number"==typeof e?e:1}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
kk=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)};class _k extends Error{constructor(e,t,n){const r=[null,null];let i={start:{line:null,column:null},end:{line:null,column:null}};if(super(),"string"==typeof t&&(n=t,t=void 0),"string"==typeof n){const e=n.indexOf(":");-1===e?r[1]=n:(r[0]=n.slice(0,e),r[1]=n.slice(e+1))}t&&("type"in t||"position"in t?t.position&&(i=t.position):"start"in t||"end"in t?i=t:("line"in t||"column"in t)&&(i.start=t)),this.name=Sk(t)||"1:1",this.message="object"==typeof e?e.message:e,this.stack="","object"==typeof e&&e.stack&&(this.stack=e.stack),this.reason=this.message,this.fatal,this.line=i.start.line,this.column=i.start.column,this.position=i,this.source=r[0],this.ruleId=r[1],this.file,this.actual,this.expected,this.url,this.note}}_k.prototype.file="",_k.prototype.name="",_k.prototype.reason="",_k.prototype.message="",_k.prototype.stack="",_k.prototype.fatal=null,_k.prototype.column=null,_k.prototype.line=null,_k.prototype.source=null,_k.prototype.ruleId=null,_k.prototype.position=null;const Ak={basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');Ok(e);let n,r=0,i=-1,o=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;o--;)if(47===e.charCodeAt(o)){if(n){r=o+1;break}}else i<0&&(n=!0,i=o+1);return i<0?"":e.slice(r,i)}if(t===e)return"";let a=-1,s=t.length-1;for(;o--;)if(47===e.charCodeAt(o)){if(n){r=o+1;break}}else a<0&&(n=!0,a=o+1),s>-1&&(e.charCodeAt(o)===t.charCodeAt(s--)?s<0&&(i=o):(s=-1,i=a));r===i?i=a:i<0&&(i=e.length);return e.slice(r,i)},dirname:function(e){if(Ok(e),0===e.length)return".";let t,n=-1,r=e.length;for(;--r;)if(47===e.charCodeAt(r)){if(t){n=r;break}}else t||(t=!0);return n<0?47===e.charCodeAt(0)?"/":".":1===n&&47===e.charCodeAt(0)?"//":e.slice(0,n)},extname:function(e){Ok(e);let t,n=e.length,r=-1,i=0,o=-1,a=0;for(;n--;){const s=e.charCodeAt(n);if(47!==s)r<0&&(t=!0,r=n+1),46===s?o<0?o=n:1!==a&&(a=1):o>-1&&(a=-1);else if(t){i=n+1;break}}return o<0||r<0||0===a||1===a&&o===r-1&&o===i+1?"":e.slice(o,r)},join:function(...e){let t,n=-1;for(;++n<e.length;)Ok(e[n]),e[n]&&(t=void 0===t?e[n]:t+"/"+e[n]);return void 0===t?".":function(e){Ok(e);const t=47===e.charCodeAt(0);let n=function(e,t){let n,r,i="",o=0,a=-1,s=0,l=-1;for(;++l<=e.length;){if(l<e.length)n=e.charCodeAt(l);else{if(47===n)break;n=47}if(47===n){if(a===l-1||1===s);else if(a!==l-1&&2===s){if(i.length<2||2!==o||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2))if(i.length>2){if(r=i.lastIndexOf("/"),r!==i.length-1){r<0?(i="",o=0):(i=i.slice(0,r),o=i.length-1-i.lastIndexOf("/")),a=l,s=0;continue}}else if(i.length>0){i="",o=0,a=l,s=0;continue}t&&(i=i.length>0?i+"/..":"..",o=2)}else i.length>0?i+="/"+e.slice(a+1,l):i=e.slice(a+1,l),o=l-a-1;a=l,s=0}else 46===n&&s>-1?s++:s=-1}return i}(e,!t);0!==n.length||t||(n=".");n.length>0&&47===e.charCodeAt(e.length-1)&&(n+="/");return t?"/"+n:n}(t)},sep:"/"};function Ok(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Nk={cwd:function(){return"/"}};function Mk(e){return null!==e&&"object"==typeof e&&e.href&&e.origin}function Pk(e){if("string"==typeof e)e=new URL(e);else if(!Mk(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.charCodeAt(n)&&50===t.charCodeAt(n+1)){const e=t.charCodeAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}const Dk=["history","path","basename","stem","extname","dirname"];class Lk{constructor(e){let n;n=e?"string"==typeof e||function(e){return t(kk)(e)}(e)?{value:e}:Mk(e)?{path:e}:e:{},this.data={},this.messages=[],this.history=[],this.cwd=Nk.cwd(),this.value,this.stored,this.result,this.map;let r,i=-1;for(;++i<Dk.length;){const e=Dk[i];e in n&&void 0!==n[e]&&null!==n[e]&&(this[e]="history"===e?[...n[e]]:n[e])}for(r in n)Dk.includes(r)||(this[r]=n[r])}get path(){return this.history[this.history.length-1]}set path(e){Mk(e)&&(e=Pk(e)),Ik(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return"string"==typeof this.path?Ak.dirname(this.path):void 0}set dirname(e){Bk(this.basename,"dirname"),this.path=Ak.join(e||"",this.basename)}get basename(){return"string"==typeof this.path?Ak.basename(this.path):void 0}set basename(e){Ik(e,"basename"),Rk(e,"basename"),this.path=Ak.join(this.dirname||"",e)}get extname(){return"string"==typeof this.path?Ak.extname(this.path):void 0}set extname(e){if(Rk(e,"extname"),Bk(this.dirname,"extname"),e){if(46!==e.charCodeAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ak.join(this.dirname,this.stem+(e||""))}get stem(){return"string"==typeof this.path?Ak.basename(this.path,this.extname):void 0}set stem(e){Ik(e,"stem"),Rk(e,"stem"),this.path=Ak.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e||void 0)}message(e,t,n){const r=new _k(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}info(e,t,n){const r=this.message(e,t,n);return r.fatal=null,r}fail(e,t,n){const r=this.message(e,t,n);throw r.fatal=!0,r}}function Rk(e,t){if(e&&e.includes(Ak.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ak.sep+"`")}function Ik(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Bk(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function jk(e){if(e)throw e}var Fk,zk=Object.prototype.hasOwnProperty,Hk=Object.prototype.toString,qk=Object.defineProperty,Vk=Object.getOwnPropertyDescriptor,Uk=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===Hk.call(e)},Wk=function(e){if(!e||"[object Object]"!==Hk.call(e))return!1;var t,n=zk.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&zk.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;for(t in e);return void 0===t||zk.call(e,t)},$k=function(e,t){qk&&"__proto__"===t.name?qk(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},Gk=function(e,t){if("__proto__"===t){if(!zk.call(e,t))return;if(Vk)return Vk(e,t).value}return e[t]};function Xk(e){if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)}function Yk(){const e=[],t={run:function(...t){let n=-1;const r=t.pop();if("function"!=typeof r)throw new TypeError("Expected function as last argument, not "+r);!function i(o,...a){const s=e[++n];let l=-1;if(o)r(o);else{for(;++l<t.length;)null!==a[l]&&void 0!==a[l]||(a[l]=t[l]);t=a,s?function(e,t){let n;return r;function r(...t){const r=e.length>t.length;let a;r&&t.push(i);try{a=e.apply(this,t)}catch(e){if(r&&n)throw e;return i(e)}r||(a instanceof Promise?a.then(o,i):a instanceof Error?i(a):o(a))}function i(e,...r){n||(n=!0,t(e,...r))}function o(e){i(null,e)}}(s,i)(...a):r(null,...a)}}(null,...t)},use:function(n){if("function"!=typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}Fk=function e(){var t,n,r,i,o,a,s=arguments[0],l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[1]||{},l=2),(null==s||"object"!=typeof s&&"function"!=typeof s)&&(s={});l<c;++l)if(null!=(t=arguments[l]))for(n in t)r=Gk(s,n),s!==(i=Gk(t,n))&&(u&&i&&(Wk(i)||(o=Uk(i)))?(o?(o=!1,a=r&&Uk(r)?r:[]):a=r&&Wk(r)?r:{},$k(s,{name:n,newValue:e(u,a,i)})):void 0!==i&&$k(s,{name:n,newValue:i}));return s};const Zk=function e(){const n=Yk(),r=[];let i,o={},a=-1;return s.data=function(e,t){if("string"==typeof e)return 2===arguments.length?(tS("data",i),o[e]=t,s):Kk.call(o,e)&&o[e]||null;if(e)return tS("data",i),o=e,s;return o},s.Parser=void 0,s.Compiler=void 0,s.freeze=function(){if(i)return s;for(;++a<r.length;){const[e,...t]=r[a];if(!1===t[0])continue;!0===t[0]&&(t[0]=void 0);const i=e.call(s,...t);"function"==typeof i&&n.use(i)}return i=!0,a=Number.POSITIVE_INFINITY,s},s.attachers=r,s.use=function(e,...n){let a;if(tS("use",i),null==e);else if("function"==typeof e)p(e,...n);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?u(e):c(e)}a&&(o.settings=Object.assign(o.settings||{},a));return s;function l(e){if("function"==typeof e)p(e);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;p(t,...n)}else c(e)}}function c(e){u(e.plugins),e.settings&&(a=Object.assign(a||{},e.settings))}function u(e){let t=-1;if(null==e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){l(e[t])}}}function p(e,n){let i,o=-1;for(;++o<r.length;)if(r[o][0]===e){i=r[o];break}i?(Xk(i[1])&&Xk(n)&&(n=t(Fk)(!0,i[1],n)),i[1]=n):r.push([...arguments])}},s.parse=function(e){s.freeze();const t=iS(e),n=s.Parser;return Qk("parse",n),Jk(n,"parse")?new n(String(t),t).parse():n(String(t),t)},s.stringify=function(e,t){s.freeze();const n=iS(t),r=s.Compiler;return eS("stringify",r),nS(e),Jk(r,"compile")?new r(e,n).compile():r(e,n)},s.run=function(e,t,r){nS(e),s.freeze(),r||"function"!=typeof t||(r=t,t=void 0);if(!r)return new Promise(i);function i(i,o){function a(t,n,a){n=n||e,t?o(t):i?i(n):r(null,n,a)}n.run(e,iS(t),a)}i(null,r)},s.runSync=function(e,t){let n,r;return s.run(e,t,i),rS("runSync","run",r),n;function i(e,t){jk(e),n=t,r=!0}},s.process=function(e,n){if(s.freeze(),Qk("process",s.Parser),eS("process",s.Compiler),!n)return new Promise(r);function r(r,i){const o=iS(e);function a(e,t){e||!t?i(e):r?r(t):n(null,t)}s.run(s.parse(o),o,((e,n,r)=>{if(!e&&n&&r){const o=s.stringify(n,r);null==o||("string"==typeof(i=o)||t(kk)(i)?r.value=o:r.result=o),a(e,r)}else a(e);var i}))}r(null,n)},s.processSync=function(e){let t;s.freeze(),Qk("processSync",s.Parser),eS("processSync",s.Compiler);const n=iS(e);return s.process(n,r),rS("processSync","process",t),n;function r(e){t=!0,jk(e)}},s;function s(){const n=e();let i=-1;for(;++i<r.length;)n.use(...r[i]);return n.data(t(Fk)(!0,{},o)),n}}().freeze(),Kk={}.hasOwnProperty;function Jk(e,t){return"function"==typeof e&&e.prototype&&(function(e){let t;for(t in e)if(Kk.call(e,t))return!0;return!1}(e.prototype)||t in e.prototype)}function Qk(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `Parser`")}function eS(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `Compiler`")}function tS(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function nS(e){if(!Xk(e)||"string"!=typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function rS(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function iS(e){return function(e){return Boolean(e&&"object"==typeof e&&"message"in e&&"messages"in e)}(e)?e:new Lk(e)}function oS(e,t){const n=(t||{}).includeImageAlt;return aS(e,"boolean"!=typeof n||n)}function aS(e,t){return function(e){return Boolean(e&&"object"==typeof e)}(e)&&("value"in e&&e.value||t&&"alt"in e&&e.alt||"children"in e&&sS(e.children,t))||Array.isArray(e)&&sS(e,t)||""}function sS(e,t){const n=[];let r=-1;for(;++r<e.length;)n[r]=aS(e[r],t);return n.join("")}function lS(e,t,n,r){const i=e.length;let o,a=0;if(t=t<0?-t>i?0:i+t:t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),[].splice.apply(e,o);else for(n&&[].splice.apply(e,[t,n]);a<r.length;)o=r.slice(a,a+1e4),o.unshift(t,0),[].splice.apply(e,o),a+=1e4,t+=1e4}function cS(e,t){return e.length>0?(lS(e,e.length,0,t),e):t}const uS={}.hasOwnProperty;function pS(e){const t={};let n=-1;for(;++n<e.length;)dS(t,e[n]);return t}function dS(e,t){let n;for(n in t){const r=(uS.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let o;for(o in i){uS.call(r,o)||(r[o]=[]);const e=i[o];hS(r[o],Array.isArray(e)?e:e?[e]:[])}}}function hS(e,t){let n=-1;const r=[];for(;++n<t.length;)("after"===t[n].add?e:r).push(t[n]);lS(e,0,0,r)}const fS=TS(/[A-Za-z]/),mS=TS(/\d/),gS=TS(/[\dA-Fa-f]/),vS=TS(/[\dA-Za-z]/),yS=TS(/[!-/:-@[-`{-~]/),bS=TS(/[#-'*+\--9=?A-Z^-~]/);function wS(e){return null!==e&&(e<32||127===e)}function xS(e){return null!==e&&(e<0||32===e)}function kS(e){return null!==e&&e<-2}function SS(e){return-2===e||-1===e||32===e}const CS=TS(/\s/),ES=TS(/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/);function TS(e){return function(t){return null!==t&&e.test(String.fromCharCode(t))}}function _S(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return function(r){if(SS(r))return e.enter(n),a(r);return t(r)};function a(r){return SS(r)&&o++<i?(e.consume(r),a):(e.exit(n),t(r))}}const AS={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,(function(n){if(null===n)return void e.consume(n);return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),_S(e,t,"linePrefix")}),(function(t){return e.enter("paragraph"),r(t)}));let n;return t;function r(t){const r=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=r),n=r,i(t)}function i(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):kS(t)?(e.consume(t),e.exit("chunkText"),r):(e.consume(t),i)}}};const OS={tokenize:function(e){const t=this,n=[];let r,i,o,a=0;return s;function s(r){if(a<n.length){const i=n[a];return t.containerState=i[1],e.attempt(i[0].continuation,l,c)(r)}return c(r)}function l(e){if(a++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&y();const n=t.events.length;let i,o=n;for(;o--;)if("exit"===t.events[o][0]&&"chunkFlow"===t.events[o][1].type){i=t.events[o][1].end;break}v(a);let s=n;for(;s<t.events.length;)t.events[s][1].end=Object.assign({},i),s++;return lS(t.events,o+1,0,t.events.slice(n)),t.events.length=s,c(e)}return s(e)}function c(i){if(a===n.length){if(!r)return d(i);if(r.currentConstruct&&r.currentConstruct.concrete)return f(i);t.interrupt=Boolean(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(NS,u,p)(i)}function u(e){return r&&y(),v(a),d(e)}function p(e){return t.parser.lazy[t.now().line]=a!==n.length,o=t.now().offset,f(e)}function d(n){return t.containerState={},e.attempt(NS,h,f)(n)}function h(e){return a++,n.push([t.currentConstruct,t.containerState]),d(e)}function f(n){return null===n?(r&&y(),v(0),void e.consume(n)):(r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:i,_tokenizer:r}),m(n))}function m(n){return null===n?(g(e.exit("chunkFlow"),!0),v(0),void e.consume(n)):kS(n)?(e.consume(n),g(e.exit("chunkFlow")),a=0,t.interrupt=void 0,s):(e.consume(n),m)}function g(e,n){const s=t.sliceStream(e);if(n&&s.push(null),e.previous=i,i&&(i.next=e),i=e,r.defineSkip(e.start),r.write(s),t.parser.lazy[e.start.line]){let e=r.events.length;for(;e--;)if(r.events[e][1].start.offset<o&&(!r.events[e][1].end||r.events[e][1].end.offset>o))return;const n=t.events.length;let i,s,l=n;for(;l--;)if("exit"===t.events[l][0]&&"chunkFlow"===t.events[l][1].type){if(i){s=t.events[l][1].end;break}i=!0}for(v(a),e=n;e<t.events.length;)t.events[e][1].end=Object.assign({},s),e++;lS(t.events,l+1,0,t.events.slice(n)),t.events.length=e}}function v(r){let i=n.length;for(;i-- >r;){const r=n[i];t.containerState=r[1],r[0].exit.call(t,e)}n.length=r}function y(){r.write([null]),i=void 0,r=void 0,t.containerState._closeFlow=void 0}}},NS={tokenize:function(e,t,n){return _S(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};const MS={tokenize:function(e,t,n){return _S(e,(function(e){return null===e||kS(e)?t(e):n(e)}),"linePrefix")},partial:!0};function PS(e){const t={};let n,r,i,o,a,s,l,c=-1;for(;++c<e.length;){for(;c in t;)c=t[c];if(n=e[c],c&&"chunkFlow"===n[1].type&&"listItemPrefix"===e[c-1][1].type&&(s=n[1]._tokenizer.events,i=0,i<s.length&&"lineEndingBlank"===s[i][1].type&&(i+=2),i<s.length&&"content"===s[i][1].type))for(;++i<s.length&&"content"!==s[i][1].type;)"chunkText"===s[i][1].type&&(s[i][1]._isInFirstContentOfListItem=!0,i++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,DS(e,c)),c=t[c],l=!0);else if(n[1]._container){for(i=c,r=void 0;i--&&(o=e[i],"lineEnding"===o[1].type||"lineEndingBlank"===o[1].type);)"enter"===o[0]&&(r&&(e[r][1].type="lineEndingBlank"),o[1].type="lineEnding",r=i);r&&(n[1].end=Object.assign({},e[r][1].start),a=e.slice(r,c),a.unshift(n),lS(e,r,c-r+1,a))}}return!l}function DS(e,t){const n=e[t][1],r=e[t][2];let i=t-1;const o=[],a=n._tokenizer||r.parser[n.contentType](n.start),s=a.events,l=[],c={};let u,p,d=-1,h=n,f=0,m=0;const g=[m];for(;h;){for(;e[++i][1]!==h;);o.push(i),h._tokenizer||(u=r.sliceStream(h),h.next||u.push(null),p&&a.defineSkip(h.start),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(u),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),p=h,h=h.next}for(h=n;++d<s.length;)"exit"===s[d][0]&&"enter"===s[d-1][0]&&s[d][1].type===s[d-1][1].type&&s[d][1].start.line!==s[d][1].end.line&&(m=d+1,g.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(a.events=[],h?(h._tokenizer=void 0,h.previous=void 0):g.pop(),d=g.length;d--;){const t=s.slice(g[d],g[d+1]),n=o.pop();l.unshift([n,n+t.length-1]),lS(e,n,2,t)}for(d=-1;++d<l.length;)c[f+l[d][0]]=f+l[d][1],f+=l[d][1]-l[d][0]-1;return c}const LS={tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?i(t):kS(t)?e.check(RS,o,i)(t):(e.consume(t),r)}function i(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function o(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}},resolve:function(e){return PS(e),e}},RS={tokenize:function(e,t,n){const r=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),_S(e,i,"linePrefix")};function i(i){if(null===i||kS(i))return n(i);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?t(i):e.interrupt(r.parser.constructs.flow,n,t)(i)}},partial:!0};const IS={tokenize:function(e){const t=this,n=e.attempt(MS,(function(r){if(null===r)return void e.consume(r);return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}),e.attempt(this.parser.constructs.flowInitial,r,_S(e,e.attempt(this.parser.constructs.flow,r,e.attempt(LS,r)),"linePrefix")));return n;function r(r){if(null!==r)return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(r)}}};const BS={resolveAll:HS()},jS=zS("string"),FS=zS("text");function zS(e){return{tokenize:function(t){const n=this,r=this.parser.constructs[e],i=t.attempt(r,o,a);return o;function o(e){return l(e)?i(e):a(e)}function a(e){if(null!==e)return t.enter("data"),t.consume(e),s;t.consume(e)}function s(e){return l(e)?(t.exit("data"),i(e)):(t.consume(e),s)}function l(e){if(null===e)return!0;const t=r[e];let i=-1;if(t)for(;++i<t.length;){const e=t[i];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}},resolveAll:HS("text"===e?qS:void 0)}}function HS(e){return function(t,n){let r,i=-1;for(;++i<=t.length;)void 0===r?t[i]&&"data"===t[i][1].type&&(r=i,i++):t[i]&&"data"===t[i][1].type||(i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),i=r+2),r=void 0);return e?e(t,n):t}}function qS(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const r=e[n-1][1],i=t.sliceStream(r);let o,a=i.length,s=-1,l=0;for(;a--;){const e=i[a];if("string"==typeof e){for(s=e.length;32===e.charCodeAt(s-1);)l++,s--;if(s)break;s=-1}else if(-2===e)o=!0,l++;else if(-1!==e){a++;break}}if(l){const i={type:n===e.length||o||l<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-l,offset:r.end.offset-l,_index:r.start._index+a,_bufferIndex:a?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},i.start),r.start.offset===r.end.offset?Object.assign(r,i):(e.splice(n,0,["enter",i,t],["exit",i,t]),n+=2)}n++}return e}function VS(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}function US(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},o=[];let a=[],s=[],l=!0;const c={consume:function(e){kS(e)?(r.line++,r.column=1,r.offset+=-3===e?2:1,w()):-1!==e&&(r.column++,r.offset++);r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++));u.previous=e,l=!0},enter:function(e,t){const n=t||{};return n.type=e,n.start=f(),u.events.push(["enter",n,u]),s.push(n),n},exit:function(e){const t=s.pop();return t.end=f(),u.events.push(["exit",t,u]),t},attempt:y((function(e,t){b(e,t.from)})),check:y(v),interrupt:y(v,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:function(e,t){return function(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let a;if("string"==typeof o)a=o;else switch(o){case-5:a="\r";break;case-4:a="\n";break;case-3:a="\r\n";break;case-2:a=t?" ":"\t";break;case-1:if(!t&&i)continue;a=" ";break;default:a=String.fromCharCode(o)}i=-2===o,r.push(a)}return r.join("")}(h(e),t)},now:f,defineSkip:function(e){i[e.line]=e.column,w()},write:function(e){return a=cS(a,e),m(),null!==a[a.length-1]?[]:(b(t,0),u.events=VS(o,u.events,u),u.events)}};let p,d=t.tokenize.call(u,c);return t.resolveAll&&o.push(t),u;function h(e){return function(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let a;n===i?a=[e[n].slice(r,o)]:(a=e.slice(n,i),r>-1&&(a[0]=a[0].slice(r)),o>0&&a.push(e[i].slice(0,o)));return a}(a,e)}function f(){return Object.assign({},r)}function m(){let e;for(;r._index<a.length;){const t=a[r._index];if("string"==typeof t)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<t.length;)g(t.charCodeAt(r._bufferIndex));else g(t)}}function g(e){l=void 0,p=e,d=d(e)}function v(e,t){t.restore()}function y(e,t){return function(n,i,o){let a,p,d,h;return Array.isArray(n)?m(n):"tokenize"in n?m([n]):function(e){return t;function t(t){const n=null!==t&&e[t],r=null!==t&&e.null;return m([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(r)?r:r?[r]:[]])(t)}}(n);function m(e){return a=e,p=0,0===e.length?o:g(e[p])}function g(e){return function(n){h=function(){const e=f(),t=u.previous,n=u.currentConstruct,i=u.events.length,o=Array.from(s);return{restore:a,from:i};function a(){r=e,u.previous=t,u.currentConstruct=n,u.events.length=i,s=o,w()}}(),d=e,e.partial||(u.currentConstruct=e);return e.name&&u.parser.constructs.disable.null.includes(e.name)?y(n):e.tokenize.call(t?Object.assign(Object.create(u),t):u,c,v,y)(n)}}function v(t){return l=!0,e(d,h),i}function y(e){return l=!0,h.restore(),++p<a.length?g(a[p]):o}}}function b(e,t){e.resolveAll&&!o.includes(e)&&o.push(e),e.resolve&&lS(u.events,t,u.events.length-t,e.resolve(u.events.slice(t),u)),e.resolveTo&&(u.events=e.resolveTo(u.events,u))}function w(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}var WS={};function $S(e){return null===e||xS(e)||CS(e)?1:ES(e)?2:void 0}e(WS,"document",(()=>EC)),e(WS,"contentInitial",(()=>TC)),e(WS,"flowInitial",(()=>_C)),e(WS,"flow",(()=>AC)),e(WS,"string",(()=>OC)),e(WS,"text",(()=>NC)),e(WS,"insideSpan",(()=>MC)),e(WS,"attentionMarkers",(()=>PC)),e(WS,"disable",(()=>DC));const GS={name:"attention",tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=$S(r);let o;return function(t){return e.enter("attentionSequence"),o=t,a(t)};function a(s){if(s===o)return e.consume(s),a;const l=e.exit("attentionSequence"),c=$S(s),u=!c||2===c&&i||n.includes(s),p=!i||2===i&&c||n.includes(r);return l._open=Boolean(42===o?u:u&&(i||!p)),l._close=Boolean(42===o?p:p&&(c||!u)),t(s)}},resolveAll:function(e,t){let n,r,i,o,a,s,l,c,u=-1;for(;++u<e.length;)if("enter"===e[u][0]&&"attentionSequence"===e[u][1].type&&e[u][1]._close)for(n=u;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[u][1]).charCodeAt(0)){if((e[n][1]._close||e[u][1]._open)&&(e[u][1].end.offset-e[u][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[u][1].end.offset-e[u][1].start.offset)%3))continue;s=e[n][1].end.offset-e[n][1].start.offset>1&&e[u][1].end.offset-e[u][1].start.offset>1?2:1;const p=Object.assign({},e[n][1].end),d=Object.assign({},e[u][1].start);XS(p,-s),XS(d,s),o={type:s>1?"strongSequence":"emphasisSequence",start:p,end:Object.assign({},e[n][1].end)},a={type:s>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[u][1].start),end:d},i={type:s>1?"strongText":"emphasisText",start:Object.assign({},e[n][1].end),end:Object.assign({},e[u][1].start)},r={type:s>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},e[n][1].end=Object.assign({},o.start),e[u][1].start=Object.assign({},a.end),l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=cS(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=cS(l,[["enter",r,t],["enter",o,t],["exit",o,t],["enter",i,t]]),l=cS(l,VS(t.parser.constructs.insideSpan.null,e.slice(n+1,u),t)),l=cS(l,[["exit",i,t],["enter",a,t],["exit",a,t],["exit",r,t]]),e[u][1].end.offset-e[u][1].start.offset?(c=2,l=cS(l,[["enter",e[u][1],t],["exit",e[u][1],t]])):c=0,lS(e,n-1,u-n+3,l),u=n+l.length-c-2;break}u=-1;for(;++u<e.length;)"attentionSequence"===e[u][1].type&&(e[u][1].type="data");return e}};function XS(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const YS={name:"blockQuote",tokenize:function(e,t,n){const r=this;return function(t){if(62===t){const n=r.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),i}return n(t)};function i(n){return SS(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}},continuation:{tokenize:function(e,t,n){return _S(e,e.attempt(YS,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}},exit:function(e){e.exit("blockQuote")}};const ZS={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r};function r(r){return yS(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}};const KS={AElig:"",AMP:"&",Aacute:"",Abreve:"",Acirc:"",Acy:"",Afr:"",Agrave:"",Alpha:"",Amacr:"",And:"",Aogon:"",Aopf:"",ApplyFunction:"",Aring:"",Ascr:"",Assign:"",Atilde:"",Auml:"",Backslash:"",Barv:"",Barwed:"",Bcy:"",Because:"",Bernoullis:"",Beta:"",Bfr:"",Bopf:"",Breve:"",Bscr:"",Bumpeq:"",CHcy:"",COPY:"",Cacute:"",Cap:"",CapitalDifferentialD:"",Cayleys:"",Ccaron:"",Ccedil:"",Ccirc:"",Cconint:"",Cdot:"",Cedilla:"",CenterDot:"",Cfr:"",Chi:"",CircleDot:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",Colon:"",Colone:"",Congruent:"",Conint:"",ContourIntegral:"",Copf:"",Coproduct:"",CounterClockwiseContourIntegral:"",Cross:"",Cscr:"",Cup:"",CupCap:"",DD:"",DDotrahd:"",DJcy:"",DScy:"",DZcy:"",Dagger:"",Darr:"",Dashv:"",Dcaron:"",Dcy:"",Del:"",Delta:"",Dfr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",Diamond:"",DifferentialD:"",Dopf:"",Dot:"",DotDot:"",DotEqual:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",Downarrow:"",Dscr:"",Dstrok:"",ENG:"",ETH:"",Eacute:"",Ecaron:"",Ecirc:"",Ecy:"",Edot:"",Efr:"",Egrave:"",Element:"",Emacr:"",EmptySmallSquare:"",EmptyVerySmallSquare:"",Eogon:"",Eopf:"",Epsilon:"",Equal:"",EqualTilde:"",Equilibrium:"",Escr:"",Esim:"",Eta:"",Euml:"",Exists:"",ExponentialE:"",Fcy:"",Ffr:"",FilledSmallSquare:"",FilledVerySmallSquare:"",Fopf:"",ForAll:"",Fouriertrf:"",Fscr:"",GJcy:"",GT:">",Gamma:"",Gammad:"",Gbreve:"",Gcedil:"",Gcirc:"",Gcy:"",Gdot:"",Gfr:"",Gg:"",Gopf:"",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",Gt:"",HARDcy:"",Hacek:"",Hat:"^",Hcirc:"",Hfr:"",HilbertSpace:"",Hopf:"",HorizontalLine:"",Hscr:"",Hstrok:"",HumpDownHump:"",HumpEqual:"",IEcy:"",IJlig:"",IOcy:"",Iacute:"",Icirc:"",Icy:"",Idot:"",Ifr:"",Igrave:"",Im:"",Imacr:"",ImaginaryI:"",Implies:"",Int:"",Integral:"",Intersection:"",InvisibleComma:"",InvisibleTimes:"",Iogon:"",Iopf:"",Iota:"",Iscr:"",Itilde:"",Iukcy:"",Iuml:"",Jcirc:"",Jcy:"",Jfr:"",Jopf:"",Jscr:"",Jsercy:"",Jukcy:"",KHcy:"",KJcy:"",Kappa:"",Kcedil:"",Kcy:"",Kfr:"",Kopf:"",Kscr:"",LJcy:"",LT:"<",Lacute:"",Lambda:"",Lang:"",Laplacetrf:"",Larr:"",Lcaron:"",Lcedil:"",Lcy:"",LeftAngleBracket:"",LeftArrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",LeftRightArrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",Leftarrow:"",Leftrightarrow:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",LessLess:"",LessSlantEqual:"",LessTilde:"",Lfr:"",Ll:"",Lleftarrow:"",Lmidot:"",LongLeftArrow:"",LongLeftRightArrow:"",LongRightArrow:"",Longleftarrow:"",Longleftrightarrow:"",Longrightarrow:"",Lopf:"",LowerLeftArrow:"",LowerRightArrow:"",Lscr:"",Lsh:"",Lstrok:"",Lt:"",Map:"",Mcy:"",MediumSpace:"",Mellintrf:"",Mfr:"",MinusPlus:"",Mopf:"",Mscr:"",Mu:"",NJcy:"",Nacute:"",Ncaron:"",Ncedil:"",Ncy:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",Nfr:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",Not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",Nscr:"",Ntilde:"",Nu:"",OElig:"",Oacute:"",Ocirc:"",Ocy:"",Odblac:"",Ofr:"",Ograve:"",Omacr:"",Omega:"",Omicron:"",Oopf:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",Or:"",Oscr:"",Oslash:"",Otilde:"",Otimes:"",Ouml:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",PartialD:"",Pcy:"",Pfr:"",Phi:"",Pi:"",PlusMinus:"",Poincareplane:"",Popf:"",Pr:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",Prime:"",Product:"",Proportion:"",Proportional:"",Pscr:"",Psi:"",QUOT:'"',Qfr:"",Qopf:"",Qscr:"",RBarr:"",REG:"",Racute:"",Rang:"",Rarr:"",Rarrtl:"",Rcaron:"",Rcedil:"",Rcy:"",Re:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",Rfr:"",Rho:"",RightAngleBracket:"",RightArrow:"",RightArrowBar:"",RightArrowLeftArrow:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",Rightarrow:"",Ropf:"",RoundImplies:"",Rrightarrow:"",Rscr:"",Rsh:"",RuleDelayed:"",SHCHcy:"",SHcy:"",SOFTcy:"",Sacute:"",Sc:"",Scaron:"",Scedil:"",Scirc:"",Scy:"",Sfr:"",ShortDownArrow:"",ShortLeftArrow:"",ShortRightArrow:"",ShortUpArrow:"",Sigma:"",SmallCircle:"",Sopf:"",Sqrt:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",Sscr:"",Star:"",Sub:"",Subset:"",SubsetEqual:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",SuchThat:"",Sum:"",Sup:"",Superset:"",SupersetEqual:"",Supset:"",THORN:"",TRADE:"",TSHcy:"",TScy:"",Tab:"\t",Tau:"",Tcaron:"",Tcedil:"",Tcy:"",Tfr:"",Therefore:"",Theta:"",ThickSpace:"",ThinSpace:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",Topf:"",TripleDot:"",Tscr:"",Tstrok:"",Uacute:"",Uarr:"",Uarrocir:"",Ubrcy:"",Ubreve:"",Ucirc:"",Ucy:"",Udblac:"",Ufr:"",Ugrave:"",Umacr:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",Uopf:"",UpArrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",UpEquilibrium:"",UpTee:"",UpTeeArrow:"",Uparrow:"",Updownarrow:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",Upsilon:"",Uring:"",Uscr:"",Utilde:"",Uuml:"",VDash:"",Vbar:"",Vcy:"",Vdash:"",Vdashl:"",Vee:"",Verbar:"",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",Vopf:"",Vscr:"",Vvdash:"",Wcirc:"",Wedge:"",Wfr:"",Wopf:"",Wscr:"",Xfr:"",Xi:"",Xopf:"",Xscr:"",YAcy:"",YIcy:"",YUcy:"",Yacute:"",Ycirc:"",Ycy:"",Yfr:"",Yopf:"",Yscr:"",Yuml:"",ZHcy:"",Zacute:"",Zcaron:"",Zcy:"",Zdot:"",ZeroWidthSpace:"",Zeta:"",Zfr:"",Zopf:"",Zscr:"",aacute:"",abreve:"",ac:"",acE:"",acd:"",acirc:"",acute:"",acy:"",aelig:"",af:"",afr:"",agrave:"",alefsym:"",aleph:"",alpha:"",amacr:"",amalg:"",amp:"&",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",aogon:"",aopf:"",ap:"",apE:"",apacir:"",ape:"",apid:"",apos:"'",approx:"",approxeq:"",aring:"",ascr:"",ast:"*",asymp:"",asympeq:"",atilde:"",auml:"",awconint:"",awint:"",bNot:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",barvee:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",bcy:"",bdquo:"",becaus:"",because:"",bemptyv:"",bepsi:"",bernou:"",beta:"",beth:"",between:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bnot:"",bopf:"",bot:"",bottom:"",bowtie:"",boxDL:"",boxDR:"",boxDl:"",boxDr:"",boxH:"",boxHD:"",boxHU:"",boxHd:"",boxHu:"",boxUL:"",boxUR:"",boxUl:"",boxUr:"",boxV:"",boxVH:"",boxVL:"",boxVR:"",boxVh:"",boxVl:"",boxVr:"",boxbox:"",boxdL:"",boxdR:"",boxdl:"",boxdr:"",boxh:"",boxhD:"",boxhU:"",boxhd:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxuL:"",boxuR:"",boxul:"",boxur:"",boxv:"",boxvH:"",boxvL:"",boxvR:"",boxvh:"",boxvl:"",boxvr:"",bprime:"",breve:"",brvbar:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",bumpeq:"",cacute:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",caps:"",caret:"",caron:"",ccaps:"",ccaron:"",ccedil:"",ccirc:"",ccups:"",ccupssm:"",cdot:"",cedil:"",cemptyv:"",cent:"",centerdot:"",cfr:"",chcy:"",check:"",checkmark:"",chi:"",cir:"",cirE:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledR:"",circledS:"",circledast:"",circledcirc:"",circleddash:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",clubs:"",clubsuit:"",colon:":",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",conint:"",copf:"",coprod:"",copy:"",copysr:"",crarr:"",cross:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cup:"",cupbrcap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dArr:"",dHar:"",dagger:"",daleth:"",darr:"",dash:"",dashv:"",dbkarow:"",dblac:"",dcaron:"",dcy:"",dd:"",ddagger:"",ddarr:"",ddotseq:"",deg:"",delta:"",demptyv:"",dfisht:"",dfr:"",dharl:"",dharr:"",diam:"",diamond:"",diamondsuit:"",diams:"",die:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",dopf:"",dot:"",doteq:"",doteqdot:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",downarrow:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",drbkarow:"",drcorn:"",drcrop:"",dscr:"",dscy:"",dsol:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",dzcy:"",dzigrarr:"",eDDot:"",eDot:"",eacute:"",easter:"",ecaron:"",ecir:"",ecirc:"",ecolon:"",ecy:"",edot:"",ee:"",efDot:"",efr:"",eg:"",egrave:"",egs:"",egsdot:"",el:"",elinters:"",ell:"",els:"",elsdot:"",emacr:"",empty:"",emptyset:"",emptyv:"",emsp13:"",emsp14:"",emsp:"",eng:"",ensp:"",eogon:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",equals:"=",equest:"",equiv:"",equivDD:"",eqvparsl:"",erDot:"",erarr:"",escr:"",esdot:"",esim:"",eta:"",eth:"",euml:"",euro:"",excl:"!",exist:"",expectation:"",exponentiale:"",fallingdotseq:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",ffr:"",filig:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",fopf:"",forall:"",fork:"",forkv:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",fscr:"",gE:"",gEl:"",gacute:"",gamma:"",gammad:"",gap:"",gbreve:"",gcirc:"",gcy:"",gdot:"",ge:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",gfr:"",gg:"",ggg:"",gimel:"",gjcy:"",gl:"",glE:"",gla:"",glj:"",gnE:"",gnap:"",gnapprox:"",gne:"",gneq:"",gneqq:"",gnsim:"",gopf:"",grave:"`",gscr:"",gsim:"",gsime:"",gsiml:"",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",hArr:"",hairsp:"",half:"",hamilt:"",hardcy:"",harr:"",harrcir:"",harrw:"",hbar:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"",horbar:"",hscr:"",hslash:"",hstrok:"",hybull:"",hyphen:"",iacute:"",ic:"",icirc:"",icy:"",iecy:"",iexcl:"",iff:"",ifr:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",ijlig:"",imacr:"",image:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",in:"",incare:"",infin:"",infintie:"",inodot:"",int:"",intcal:"",integers:"",intercal:"",intlarhk:"",intprod:"",iocy:"",iogon:"",iopf:"",iota:"",iprod:"",iquest:"",iscr:"",isin:"",isinE:"",isindot:"",isins:"",isinsv:"",isinv:"",it:"",itilde:"",iukcy:"",iuml:"",jcirc:"",jcy:"",jfr:"",jmath:"",jopf:"",jscr:"",jsercy:"",jukcy:"",kappa:"",kappav:"",kcedil:"",kcy:"",kfr:"",kgreen:"",khcy:"",kjcy:"",kopf:"",kscr:"",lAarr:"",lArr:"",lAtail:"",lBarr:"",lE:"",lEg:"",lHar:"",lacute:"",laemptyv:"",lagran:"",lambda:"",lang:"",langd:"",langle:"",lap:"",laquo:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",latail:"",late:"",lates:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",lcaron:"",lcedil:"",lceil:"",lcub:"{",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",leftarrow:"",leftarrowtail:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",leftthreetimes:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",lessgtr:"",lesssim:"",lfisht:"",lfloor:"",lfr:"",lg:"",lgE:"",lhard:"",lharu:"",lharul:"",lhblk:"",ljcy:"",ll:"",llarr:"",llcorner:"",llhard:"",lltri:"",lmidot:"",lmoust:"",lmoustache:"",lnE:"",lnap:"",lnapprox:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",longleftrightarrow:"",longmapsto:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",lstrok:"",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltrPar:"",ltri:"",ltrie:"",ltrif:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",mDDot:"",macr:"",male:"",malt:"",maltese:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",mcy:"",mdash:"",measuredangle:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",mlcp:"",mldr:"",mnplus:"",models:"",mopf:"",mp:"",mscr:"",mstpos:"",mu:"",multimap:"",mumap:"",nGg:"",nGt:"",nGtv:"",nLeftarrow:"",nLeftrightarrow:"",nLl:"",nLt:"",nLtv:"",nRightarrow:"",nVDash:"",nVdash:"",nabla:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",ncaron:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",ncy:"",ndash:"",ne:"",neArr:"",nearhk:"",nearr:"",nearrow:"",nedot:"",nequiv:"",nesear:"",nesim:"",nexist:"",nexists:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",ngsim:"",ngt:"",ngtr:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",njcy:"",nlArr:"",nlE:"",nlarr:"",nldr:"",nle:"",nleftarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nlsim:"",nlt:"",nltri:"",nltrie:"",nmid:"",nopf:"",not:"",notin:"",notinE:"",notindot:"",notinva:"",notinvb:"",notinvc:"",notni:"",notniva:"",notnivb:"",notnivc:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",nu:"",num:"#",numero:"",numsp:"",nvDash:"",nvHarr:"",nvap:"",nvdash:"",nvge:"",nvgt:">",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwArr:"",nwarhk:"",nwarr:"",nwarrow:"",nwnear:"",oS:"",oacute:"",oast:"",ocir:"",ocirc:"",ocy:"",odash:"",odblac:"",odiv:"",odot:"",odsold:"",oelig:"",ofcir:"",ofr:"",ogon:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",omacr:"",omega:"",omicron:"",omid:"",ominus:"",oopf:"",opar:"",operp:"",oplus:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oscr:"",oslash:"",osol:"",otilde:"",otimes:"",otimesas:"",ouml:"",ovbar:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",pfr:"",phi:"",phiv:"",phmmat:"",phone:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",plusmn:"",plussim:"",plustwo:"",pm:"",pointint:"",popf:"",pound:"",pr:"",prE:"",prap:"",prcue:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",prime:"",primes:"",prnE:"",prnap:"",prnsim:"",prod:"",profalar:"",profline:"",profsurf:"",prop:"",propto:"",prsim:"",prurel:"",pscr:"",psi:"",puncsp:"",qfr:"",qint:"",qopf:"",qprime:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",quot:'"',rAarr:"",rArr:"",rAtail:"",rBarr:"",rHar:"",race:"",racute:"",radic:"",raemptyv:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",rarrtl:"",rarrw:"",ratail:"",ratio:"",rationals:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",rcaron:"",rcedil:"",rceil:"",rcub:"}",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",real:"",realine:"",realpart:"",reals:"",rect:"",reg:"",rfisht:"",rfloor:"",rfr:"",rhard:"",rharu:"",rharul:"",rho:"",rhov:"",rightarrow:"",rightarrowtail:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",rightthreetimes:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"",roplus:"",rotimes:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",rsaquo:"",rscr:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",ruluhar:"",rx:"",sacute:"",sbquo:"",sc:"",scE:"",scap:"",scaron:"",sccue:"",sce:"",scedil:"",scirc:"",scnE:"",scnap:"",scnsim:"",scpolint:"",scsim:"",scy:"",sdot:"",sdotb:"",sdote:"",seArr:"",searhk:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",sfr:"",sfrown:"",sharp:"",shchcy:"",shcy:"",shortmid:"",shortparallel:"",shy:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",softcy:"",sol:"/",solb:"",solbar:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",square:"",squarf:"",squf:"",srarr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",subE:"",subdot:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",subset:"",subseteq:"",subseteqq:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",sum:"",sung:"",sup1:"",sup2:"",sup3:"",sup:"",supE:"",supdot:"",supdsub:"",supe:"",supedot:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swArr:"",swarhk:"",swarr:"",swarrow:"",swnwar:"",szlig:"",target:"",tau:"",tbrk:"",tcaron:"",tcedil:"",tcy:"",tdot:"",telrec:"",tfr:"",there4:"",therefore:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",thinsp:"",thkap:"",thksim:"",thorn:"",tilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",topf:"",topfork:"",tosa:"",tprime:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",triplus:"",trisb:"",tritime:"",trpezium:"",tscr:"",tscy:"",tshcy:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",uArr:"",uHar:"",uacute:"",uarr:"",ubrcy:"",ubreve:"",ucirc:"",ucy:"",udarr:"",udblac:"",udhar:"",ufisht:"",ufr:"",ugrave:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",umacr:"",uml:"",uogon:"",uopf:"",uparrow:"",updownarrow:"",upharpoonleft:"",upharpoonright:"",uplus:"",upsi:"",upsih:"",upsilon:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",uring:"",urtri:"",uscr:"",utdot:"",utilde:"",utri:"",utrif:"",uuarr:"",uuml:"",uwangle:"",vArr:"",vBar:"",vBarv:"",vDash:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vcy:"",vdash:"",vee:"",veebar:"",veeeq:"",vellip:"",verbar:"|",vert:"|",vfr:"",vltri:"",vnsub:"",vnsup:"",vopf:"",vprop:"",vrtri:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",vzigzag:"",wcirc:"",wedbar:"",wedge:"",wedgeq:"",weierp:"",wfr:"",wopf:"",wp:"",wr:"",wreath:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",xfr:"",xhArr:"",xharr:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",yacute:"",yacy:"",ycirc:"",ycy:"",yen:"",yfr:"",yicy:"",yopf:"",yscr:"",yucy:"",yuml:"",zacute:"",zcaron:"",zcy:"",zdot:"",zeetrf:"",zeta:"",zfr:"",zhcy:"",zigrarr:"",zopf:"",zscr:"",zwj:"",zwnj:""},JS={}.hasOwnProperty;function QS(e){return!!JS.call(KS,e)&&KS[e]}const eC={name:"characterReference",tokenize:function(e,t,n){const r=this;let i,o,a=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),s};function s(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),i=31,o=vS,c(t))}function l(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,o=gS,c):(e.enter("characterReferenceValue"),i=7,o=mS,c(t))}function c(s){let l;return 59===s&&a?(l=e.exit("characterReferenceValue"),o!==vS||QS(r.sliceSerialize(l))?(e.enter("characterReferenceMarker"),e.consume(s),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(s)):o(s)&&a++<i?(e.consume(s),c):n(s)}}};const tC={name:"codeFenced",tokenize:function(e,t,n){const r=this,i={tokenize:function(e,t,n){let r=0;return _S(e,i,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function i(t){return e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),o(t)}function o(t){return t===l?(e.consume(t),r++,o):r<c?n(t):(e.exit("codeFencedFenceSequence"),_S(e,a,"whitespace")(t))}function a(r){return null===r||kS(r)?(e.exit("codeFencedFence"),t(r)):n(r)}},partial:!0},o={tokenize:function(e,t,n){const r=this;return i;function i(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o}function o(e){return r.parser.lazy[r.now().line]?n(e):t(e)}},partial:!0},a=this.events[this.events.length-1],s=a&&"linePrefix"===a[1].type?a[2].sliceSerialize(a[1],!0).length:0;let l,c=0;return function(t){return e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l=t,u(t)};function u(t){return t===l?(e.consume(t),c++,u):(e.exit("codeFencedFenceSequence"),c<3?n(t):_S(e,p,"whitespace")(t))}function p(t){return null===t||kS(t)?m(t):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),d(t))}function d(t){return null===t||xS(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),_S(e,h,"whitespace")(t)):96===t&&t===l?n(t):(e.consume(t),d)}function h(t){return null===t||kS(t)?m(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),f(t))}function f(t){return null===t||kS(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),m(t)):96===t&&t===l?n(t):(e.consume(t),f)}function m(n){return e.exit("codeFencedFence"),r.interrupt?t(n):g(n)}function g(t){return null===t?y(t):kS(t)?e.attempt(o,e.attempt(i,y,s?_S(e,g,"linePrefix",s+1):g),y)(t):(e.enter("codeFlowValue"),v(t))}function v(t){return null===t||kS(t)?(e.exit("codeFlowValue"),g(t)):(e.consume(t),v)}function y(n){return e.exit("codeFenced"),t(n)}},concrete:!0};const nC={name:"codeIndented",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("codeIndented"),_S(e,i,"linePrefix",5)(t)};function i(e){const t=r.events[r.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?o(e):n(e)}function o(t){return null===t?s(t):kS(t)?e.attempt(rC,o,s)(t):(e.enter("codeFlowValue"),a(t))}function a(t){return null===t||kS(t)?(e.exit("codeFlowValue"),o(t)):(e.consume(t),a)}function s(n){return e.exit("codeIndented"),t(n)}}},rC={tokenize:function(e,t,n){const r=this;return i;function i(t){return r.parser.lazy[r.now().line]?n(t):kS(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i):_S(e,o,"linePrefix",5)(t)}function o(e){const o=r.events[r.events.length-1];return o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?t(e):kS(e)?i(e):n(e)}},partial:!0};function iC(e,t,n,r,i,o,a,s,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return function(t){if(60===t)return e.enter(r),e.enter(i),e.enter(o),e.consume(t),e.exit(o),p;return null===t||41===t||wS(t)?n(t):(e.enter(r),e.enter(a),e.enter(s),e.enter("chunkString",{contentType:"string"}),f(t))};function p(n){return 62===n?(e.enter(o),e.consume(n),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),d(n))}function d(t){return 62===t?(e.exit("chunkString"),e.exit(s),p(t)):null===t||60===t||kS(t)?n(t):(e.consume(t),92===t?h:d)}function h(t){return 60===t||62===t||92===t?(e.consume(t),d):d(t)}function f(i){return 40===i?++u>c?n(i):(e.consume(i),f):41===i?u--?(e.consume(i),f):(e.exit("chunkString"),e.exit(s),e.exit(a),e.exit(r),t(i)):null===i||xS(i)?u?n(i):(e.exit("chunkString"),e.exit(s),e.exit(a),e.exit(r),t(i)):wS(i)?n(i):(e.consume(i),92===i?m:f)}function m(t){return 40===t||41===t||92===t?(e.consume(t),f):f(t)}}function oC(e,t,n,r,i,o){const a=this;let s,l=0;return function(t){return e.enter(r),e.enter(i),e.consume(t),e.exit(i),e.enter(o),c};function c(p){return null===p||91===p||93===p&&!s||94===p&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs||l>999?n(p):93===p?(e.exit(o),e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):kS(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),u(p))}function u(t){return null===t||91===t||93===t||kS(t)||l++>999?(e.exit("chunkString"),c(t)):(e.consume(t),s=s||!SS(t),92===t?p:u)}function p(t){return 91===t||92===t||93===t?(e.consume(t),l++,u):u(t)}}function aC(e,t,n,r,i,o){let a;return function(t){return e.enter(r),e.enter(i),e.consume(t),e.exit(i),a=40===t?41:t,s};function s(n){return n===a?(e.enter(i),e.consume(n),e.exit(i),e.exit(r),t):(e.enter(o),l(n))}function l(t){return t===a?(e.exit(o),s(a)):null===t?n(t):kS(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),_S(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(t))}function c(t){return t===a||null===t||kS(t)?(e.exit("chunkString"),l(t)):(e.consume(t),92===t?u:c)}function u(t){return t===a||92===t?(e.consume(t),c):c(t)}}function sC(e,t){let n;return function r(i){if(kS(i))return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r;return SS(i)?_S(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}function lC(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const cC={name:"definition",tokenize:function(e,t,n){const r=this;let i;return function(t){return e.enter("definition"),oC.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)};function o(t){return i=lC(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),sC(e,iC(e,e.attempt(uC,_S(e,a,"whitespace"),_S(e,a,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(t)}function a(o){return null===o||kS(o)?(e.exit("definition"),r.parser.defined.includes(i)||r.parser.defined.push(i),t(o)):n(o)}}},uC={tokenize:function(e,t,n){return function(t){return xS(t)?sC(e,r)(t):n(t)};function r(t){return 34===t||39===t||40===t?aC(e,_S(e,i,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t):n(t)}function i(e){return null===e||kS(e)?t(e):n(e)}},partial:!0};const pC=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],dC=["pre","script","style","textarea"],hC={name:"htmlFlow",tokenize:function(e,t,n){const r=this;let i,o,a,s,l;return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),c};function c(s){return 33===s?(e.consume(s),u):47===s?(e.consume(s),h):63===s?(e.consume(s),i=3,r.interrupt?t:L):fS(s)?(e.consume(s),a=String.fromCharCode(s),o=!0,f):n(s)}function u(o){return 45===o?(e.consume(o),i=2,p):91===o?(e.consume(o),i=5,a="CDATA[",s=0,d):fS(o)?(e.consume(o),i=4,r.interrupt?t:L):n(o)}function p(i){return 45===i?(e.consume(i),r.interrupt?t:L):n(i)}function d(i){return i===a.charCodeAt(s++)?(e.consume(i),s===a.length?r.interrupt?t:T:d):n(i)}function h(t){return fS(t)?(e.consume(t),a=String.fromCharCode(t),f):n(t)}function f(s){return null===s||47===s||62===s||xS(s)?47!==s&&o&&dC.includes(a.toLowerCase())?(i=1,r.interrupt?t(s):T(s)):pC.includes(a.toLowerCase())?(i=6,47===s?(e.consume(s),m):r.interrupt?t(s):T(s)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(s):o?v(s):g(s)):45===s||vS(s)?(e.consume(s),a+=String.fromCharCode(s),f):n(s)}function m(i){return 62===i?(e.consume(i),r.interrupt?t:T):n(i)}function g(t){return SS(t)?(e.consume(t),g):C(t)}function v(t){return 47===t?(e.consume(t),C):58===t||95===t||fS(t)?(e.consume(t),y):SS(t)?(e.consume(t),v):C(t)}function y(t){return 45===t||46===t||58===t||95===t||vS(t)?(e.consume(t),y):b(t)}function b(t){return 61===t?(e.consume(t),w):SS(t)?(e.consume(t),b):v(t)}function w(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),l=t,x):SS(t)?(e.consume(t),w):(l=null,k(t))}function x(t){return null===t||kS(t)?n(t):t===l?(e.consume(t),S):(e.consume(t),x)}function k(t){return null===t||34===t||39===t||60===t||61===t||62===t||96===t||xS(t)?b(t):(e.consume(t),k)}function S(e){return 47===e||62===e||SS(e)?v(e):n(e)}function C(t){return 62===t?(e.consume(t),E):n(t)}function E(t){return SS(t)?(e.consume(t),E):null===t||kS(t)?T(t):n(t)}function T(t){return 45===t&&2===i?(e.consume(t),N):60===t&&1===i?(e.consume(t),M):62===t&&4===i?(e.consume(t),R):63===t&&3===i?(e.consume(t),L):93===t&&5===i?(e.consume(t),D):!kS(t)||6!==i&&7!==i?null===t||kS(t)?_(t):(e.consume(t),T):e.check(fC,R,_)(t)}function _(t){return e.exit("htmlFlowData"),A(t)}function A(t){return null===t?I(t):kS(t)?e.attempt({tokenize:O,partial:!0},A,I)(t):(e.enter("htmlFlowData"),T(t))}function O(e,t,n){return function(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}function N(t){return 45===t?(e.consume(t),L):T(t)}function M(t){return 47===t?(e.consume(t),a="",P):T(t)}function P(t){return 62===t&&dC.includes(a.toLowerCase())?(e.consume(t),R):fS(t)&&a.length<8?(e.consume(t),a+=String.fromCharCode(t),P):T(t)}function D(t){return 93===t?(e.consume(t),L):T(t)}function L(t){return 62===t?(e.consume(t),R):45===t&&2===i?(e.consume(t),L):T(t)}function R(t){return null===t||kS(t)?(e.exit("htmlFlowData"),I(t)):(e.consume(t),R)}function I(n){return e.exit("htmlFlow"),t(n)}},resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},concrete:!0},fC={tokenize:function(e,t,n){return function(r){return e.exit("htmlFlowData"),e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),e.attempt(MS,t,n)}},partial:!0};const mC={name:"labelEnd",tokenize:function(e,t,n){const r=this;let i,o,a=r.events.length;for(;a--;)if(("labelImage"===r.events[a][1].type||"labelLink"===r.events[a][1].type)&&!r.events[a][1]._balanced){i=r.events[a][1];break}return function(t){return i?i._inactive?l(t):(o=r.parser.defined.includes(lC(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),s):n(t)};function s(n){return 40===n?e.attempt(gC,t,o?t:l)(n):91===n?e.attempt(vC,t,o?e.attempt(yC,t,l):l)(n):o?t(n):l(n)}function l(e){return i._balanced=!0,n(e)}},resolveTo:function(e,t){let n,r,i,o,a=e.length,s=0;for(;a--;)if(n=e[a][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[a][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(i){if("enter"===e[a][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=a,"labelLink"!==n.type)){s=2;break}}else"labelEnd"===n.type&&(i=a);const l={type:"labelLink"===e[r][1].type?"link":"image",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)},c={type:"label",start:Object.assign({},e[r][1].start),end:Object.assign({},e[i][1].end)},u={type:"labelText",start:Object.assign({},e[r+s+2][1].end),end:Object.assign({},e[i-2][1].start)};return o=[["enter",l,t],["enter",c,t]],o=cS(o,e.slice(r+1,r+s+3)),o=cS(o,[["enter",u,t]]),o=cS(o,VS(t.parser.constructs.insideSpan.null,e.slice(r+s+4,i-3),t)),o=cS(o,[["exit",u,t],e[i-2],e[i-1],["exit",c,t]]),o=cS(o,e.slice(i+1)),o=cS(o,[["exit",l,t]]),lS(e,r,e.length,o),e},resolveAll:function(e){let t,n=-1;for(;++n<e.length;)t=e[n][1],"labelImage"!==t.type&&"labelLink"!==t.type&&"labelEnd"!==t.type||(e.splice(n+1,"labelImage"===t.type?4:2),t.type="data",n++);return e}},gC={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),sC(e,r)};function r(t){return 41===t?a(t):iC(e,i,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function i(t){return xS(t)?sC(e,o)(t):a(t)}function o(t){return 34===t||39===t||40===t?aC(e,sC(e,a),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):a(t)}function a(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},vC={tokenize:function(e,t,n){const r=this;return function(t){return oC.call(r,e,i,n,"reference","referenceMarker","referenceString")(t)};function i(e){return r.parser.defined.includes(lC(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}}},yC={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}};const bC={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),_S(e,t,"linePrefix")}}};const wC={name:"thematicBreak",tokenize:function(e,t,n){let r,i=0;return function(t){return e.enter("thematicBreak"),r=t,o(t)};function o(s){return s===r?(e.enter("thematicBreakSequence"),a(s)):SS(s)?_S(e,o,"whitespace")(s):i<3||null!==s&&!kS(s)?n(s):(e.exit("thematicBreak"),t(s))}function a(t){return t===r?(e.consume(t),i++,a):(e.exit("thematicBreakSequence"),o(t))}}};const xC={name:"list",tokenize:function(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&"linePrefix"===i[1].type?i[2].sliceSerialize(i[1],!0).length:0,a=0;return function(t){const i=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===i?!r.containerState.marker||t===r.containerState.marker:mS(t)){if(r.containerState.type||(r.containerState.type=i,e.enter(i,{_container:!0})),"listUnordered"===i)return e.enter("listItemPrefix"),42===t||45===t?e.check(wC,n,l)(t):l(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),s(t)}return n(t)};function s(t){return mS(t)&&++a<10?(e.consume(t),s):(!r.interrupt||a<2)&&(r.containerState.marker?t===r.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),l(t)):n(t)}function l(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(MS,r.interrupt?n:c,e.attempt(kC,p,u))}function c(e){return r.containerState.initialBlankLine=!0,o++,p(e)}function u(t){return SS(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),p):n(t)}function p(n){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}},continuation:{tokenize:function(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(MS,(function(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,_S(e,t,"listItemIndent",r.containerState.size+1)(n)}),(function(n){if(r.containerState.furtherBlankLines||!SS(n))return r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,i(n);return r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(SC,t,i)(n)}));function i(i){return r.containerState._closeFlow=!0,r.interrupt=void 0,_S(e,e.attempt(xC,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i)}}},exit:function(e){e.exit(this.containerState.type)}},kC={tokenize:function(e,t,n){const r=this;return _S(e,(function(e){const i=r.events[r.events.length-1];return!SS(e)&&i&&"listItemPrefixWhitespace"===i[1].type?t(e):n(e)}),"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:!0},SC={tokenize:function(e,t,n){const r=this;return _S(e,(function(e){const i=r.events[r.events.length-1];return i&&"listItemIndent"===i[1].type&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?t(e):n(e)}),"listItemIndent",r.containerState.size+1)},partial:!0};const CC={name:"setextUnderline",tokenize:function(e,t,n){const r=this;let i,o,a=r.events.length;for(;a--;)if("lineEnding"!==r.events[a][1].type&&"linePrefix"!==r.events[a][1].type&&"content"!==r.events[a][1].type){o="paragraph"===r.events[a][1].type;break}return function(t){if(!r.parser.lazy[r.now().line]&&(r.interrupt||o))return e.enter("setextHeadingLine"),e.enter("setextHeadingLineSequence"),i=t,s(t);return n(t)};function s(t){return t===i?(e.consume(t),s):(e.exit("setextHeadingLineSequence"),_S(e,l,"lineSuffix")(t))}function l(r){return null===r||kS(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}},resolveTo:function(e,t){let n,r,i,o=e.length;for(;o--;)if("enter"===e[o][0]){if("content"===e[o][1].type){n=o;break}"paragraph"===e[o][1].type&&(r=o)}else"content"===e[o][1].type&&e.splice(o,1),i||"definition"!==e[o][1].type||(i=o);const a={type:"setextHeading",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)};e[r][1].type="setextHeadingText",i?(e.splice(r,0,["enter",a,t]),e.splice(i+1,0,["exit",e[n][1],t]),e[n][1].end=Object.assign({},e[i][1].end)):e[n][1]=a;return e.push(["exit",a,t]),e}};const EC={42:xC,43:xC,45:xC,48:xC,49:xC,50:xC,51:xC,52:xC,53:xC,54:xC,55:xC,56:xC,57:xC,62:YS},TC={91:cC},_C={[-2]:nC,[-1]:nC,32:nC},AC={35:{name:"headingAtx",tokenize:function(e,t,n){const r=this;let i=0;return function(t){return e.enter("atxHeading"),e.enter("atxHeadingSequence"),o(t)};function o(s){return 35===s&&i++<6?(e.consume(s),o):null===s||xS(s)?(e.exit("atxHeadingSequence"),r.interrupt?t(s):a(s)):n(s)}function a(n){return 35===n?(e.enter("atxHeadingSequence"),s(n)):null===n||kS(n)?(e.exit("atxHeading"),t(n)):SS(n)?_S(e,a,"whitespace")(n):(e.enter("atxHeadingText"),l(n))}function s(t){return 35===t?(e.consume(t),s):(e.exit("atxHeadingSequence"),a(t))}function l(t){return null===t||35===t||xS(t)?(e.exit("atxHeadingText"),a(t)):(e.consume(t),l)}},resolve:function(e,t){let n,r,i=e.length-2,o=3;"whitespace"===e[o][1].type&&(o+=2);i-2>o&&"whitespace"===e[i][1].type&&(i-=2);"atxHeadingSequence"===e[i][1].type&&(o===i-1||i-4>o&&"whitespace"===e[i-2][1].type)&&(i-=o+1===i?2:4);i>o&&(n={type:"atxHeadingText",start:e[o][1].start,end:e[i][1].end},r={type:"chunkText",start:e[o][1].start,end:e[i][1].end,contentType:"text"},lS(e,o,i-o+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]]));return e}},42:wC,45:[CC,wC],60:hC,61:CC,95:wC,96:tC,126:tC},OC={38:eC,92:ZS},NC={[-5]:bC,[-4]:bC,[-3]:bC,33:{name:"labelStartImage",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),i};function i(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),o):n(t)}function o(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:mC.resolveAll},38:eC,42:GS,60:[{name:"autolink",tokenize:function(e,t,n){let r=1;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i};function i(t){return fS(t)?(e.consume(t),o):bS(t)?l(t):n(t)}function o(e){return 43===e||45===e||46===e||vS(e)?a(e):l(e)}function a(t){return 58===t?(e.consume(t),s):(43===t||45===t||46===t||vS(t))&&r++<32?(e.consume(t),a):l(t)}function s(t){return 62===t?(e.exit("autolinkProtocol"),d(t)):null===t||32===t||60===t||wS(t)?n(t):(e.consume(t),s)}function l(t){return 64===t?(e.consume(t),r=0,c):bS(t)?(e.consume(t),l):n(t)}function c(e){return vS(e)?u(e):n(e)}function u(t){return 46===t?(e.consume(t),r=0,c):62===t?(e.exit("autolinkProtocol").type="autolinkEmail",d(t)):p(t)}function p(t){return(45===t||vS(t))&&r++<63?(e.consume(t),45===t?p:u):n(t)}function d(n){return e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t}}},{name:"htmlText",tokenize:function(e,t,n){const r=this;let i,o,a,s;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),l};function l(t){return 33===t?(e.consume(t),c):47===t?(e.consume(t),k):63===t?(e.consume(t),w):fS(t)?(e.consume(t),E):n(t)}function c(t){return 45===t?(e.consume(t),u):91===t?(e.consume(t),o="CDATA[",a=0,m):fS(t)?(e.consume(t),b):n(t)}function u(t){return 45===t?(e.consume(t),p):n(t)}function p(t){return null===t||62===t?n(t):45===t?(e.consume(t),d):h(t)}function d(e){return null===e||62===e?n(e):h(e)}function h(t){return null===t?n(t):45===t?(e.consume(t),f):kS(t)?(s=h,D(t)):(e.consume(t),h)}function f(t){return 45===t?(e.consume(t),R):h(t)}function m(t){return t===o.charCodeAt(a++)?(e.consume(t),a===o.length?g:m):n(t)}function g(t){return null===t?n(t):93===t?(e.consume(t),v):kS(t)?(s=g,D(t)):(e.consume(t),g)}function v(t){return 93===t?(e.consume(t),y):g(t)}function y(t){return 62===t?R(t):93===t?(e.consume(t),y):g(t)}function b(t){return null===t||62===t?R(t):kS(t)?(s=b,D(t)):(e.consume(t),b)}function w(t){return null===t?n(t):63===t?(e.consume(t),x):kS(t)?(s=w,D(t)):(e.consume(t),w)}function x(e){return 62===e?R(e):w(e)}function k(t){return fS(t)?(e.consume(t),S):n(t)}function S(t){return 45===t||vS(t)?(e.consume(t),S):C(t)}function C(t){return kS(t)?(s=C,D(t)):SS(t)?(e.consume(t),C):R(t)}function E(t){return 45===t||vS(t)?(e.consume(t),E):47===t||62===t||xS(t)?T(t):n(t)}function T(t){return 47===t?(e.consume(t),R):58===t||95===t||fS(t)?(e.consume(t),_):kS(t)?(s=T,D(t)):SS(t)?(e.consume(t),T):R(t)}function _(t){return 45===t||46===t||58===t||95===t||vS(t)?(e.consume(t),_):A(t)}function A(t){return 61===t?(e.consume(t),O):kS(t)?(s=A,D(t)):SS(t)?(e.consume(t),A):T(t)}function O(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),i=t,N):kS(t)?(s=O,D(t)):SS(t)?(e.consume(t),O):(e.consume(t),i=void 0,P)}function N(t){return t===i?(e.consume(t),M):null===t?n(t):kS(t)?(s=N,D(t)):(e.consume(t),N)}function M(e){return 62===e||47===e||xS(e)?T(e):n(e)}function P(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):62===t||xS(t)?T(t):(e.consume(t),P)}function D(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),_S(e,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function L(t){return e.enter("htmlTextData"),s(t)}function R(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}}}],91:{name:"labelStartLink",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),i};function i(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:mC.resolveAll},92:[{name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.enter("escapeMarker"),e.consume(t),r};function r(r){return kS(r)?(e.exit("escapeMarker"),e.exit("hardBreakEscape"),t(r)):n(r)}}},ZS],93:mC,95:GS,96:{name:"codeText",tokenize:function(e,t,n){let r,i,o=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),a(t)};function a(t){return 96===t?(e.consume(t),o++,a):(e.exit("codeTextSequence"),s(t))}function s(t){return null===t?n(t):96===t?(i=e.enter("codeTextSequence"),r=0,c(t)):32===t?(e.enter("space"),e.consume(t),e.exit("space"),s):kS(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s):(e.enter("codeTextData"),l(t))}function l(t){return null===t||32===t||96===t||kS(t)?(e.exit("codeTextData"),s(t)):(e.consume(t),l)}function c(n){return 96===n?(e.consume(n),r++,c):r===o?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(i.type="codeTextData",l(n))}},resolve:function(e){let t,n,r=e.length-4,i=3;if(!("lineEnding"!==e[i][1].type&&"space"!==e[i][1].type||"lineEnding"!==e[r][1].type&&"space"!==e[r][1].type))for(t=i;++t<r;)if("codeTextData"===e[t][1].type){e[i][1].type="codeTextPadding",e[r][1].type="codeTextPadding",i+=2,r-=2;break}t=i-1,r++;for(;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):t!==r&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type}}},MC={null:[GS,BS]},PC={null:[42,95]},DC={null:[]};function LC(e={}){const t={defined:[],lazy:{},constructs:pS([WS].concat(e.extensions||[])),content:n(AS),document:n(OS),flow:n(IS),string:n(jS),text:n(FS)};return t;function n(e){return function(n){return US(t,e,n)}}}const RC=/[\0\t\n\r]/g;function IC(){let e,t=1,n="",r=!0;return function(i,o,a){const s=[];let l,c,u,p,d;i=n+i.toString(o),u=0,n="",r&&(65279===i.charCodeAt(0)&&u++,r=void 0);for(;u<i.length;){if(RC.lastIndex=u,l=RC.exec(i),p=l&&void 0!==l.index?l.index:i.length,d=i.charCodeAt(p),!l){n=i.slice(u);break}if(10===d&&u===p&&e)s.push(-3),e=void 0;else switch(e&&(s.push(-5),e=void 0),u<p&&(s.push(i.slice(u,p)),t+=p-u),d){case 0:s.push(65533),t++;break;case 9:for(c=4*Math.ceil(t/4),s.push(-2);t++<c;)s.push(-1);break;case 10:s.push(-4),t=1;break;default:e=!0,t=1}u=p+1}a&&(e&&s.push(-5),n&&s.push(n),s.push(null));return s}}function BC(e){for(;!PS(e););return e}function jC(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||65535==(65535&n)||65534==(65535&n)||n>1114111?"":String.fromCharCode(n)}const FC=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function zC(e){return e.replace(FC,HC)}function HC(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){const e=n.charCodeAt(1),t=120===e||88===e;return jC(n.slice(t?2:1),t?16:10)}return QS(n)||e}const qC={}.hasOwnProperty,VC=function(e,t,n){return"string"!=typeof t&&(n=t,t=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(ne),autolinkProtocol:_,autolinkEmail:_,atxHeading:s(J),blockQuote:s(G),characterEscape:_,characterReference:_,codeFenced:s(X),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:s(X,l),codeText:s(Y,l),codeTextData:_,data:_,codeFlowValue:_,definition:s(Z),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:s(K),hardBreakEscape:s(Q),hardBreakTrailing:s(Q),htmlFlow:s(ee,l),htmlFlowData:_,htmlText:s(ee,l),htmlTextData:_,image:s(te),label:l,link:s(ne),listItem:s(ie),listItemValue:f,listOrdered:s(re,h),listUnordered:s(re),paragraph:s(oe),reference:H,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:s(J),strong:s(ae),thematicBreak:s(le)},exit:{atxHeading:u(),atxHeadingSequence:S,autolink:u(),autolinkEmail:$,autolinkProtocol:W,blockQuote:u(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:V,characterReferenceMarkerNumeric:V,characterReferenceValue:U,codeFenced:u(y),codeFencedFence:v,codeFencedFenceInfo:m,codeFencedFenceMeta:g,codeFlowValue:A,codeIndented:u(b),codeText:u(D),codeTextData:A,data:A,definition:u(),definitionDestinationString:k,definitionLabelString:w,definitionTitleString:x,emphasis:u(),hardBreakEscape:u(N),hardBreakTrailing:u(N),htmlFlow:u(M),htmlFlowData:A,htmlText:u(P),htmlTextData:A,image:u(R),label:B,labelText:I,lineEnding:O,link:u(L),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:q,resourceDestinationString:j,resourceTitleString:F,resource:z,setextHeading:u(T),setextHeadingLineSequence:E,setextHeadingText:C,strong:u(),thematicBreak:u()}};WC(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(e){let n={type:"root",children:[]};const r={stack:[n],tokenStack:[],config:t,enter:c,exit:p,buffer:l,resume:d,setData:o,getData:a},s=[];let u=-1;for(;++u<e.length;)if("listOrdered"===e[u][1].type||"listUnordered"===e[u][1].type)if("enter"===e[u][0])s.push(u);else{u=i(e,s.pop(),u)}for(u=-1;++u<e.length;){const n=t[e[u][0]];qC.call(n,e[u][1].type)&&n[e[u][1].type].call(Object.assign({sliceSerialize:e[u][2].sliceSerialize},r),e[u][1])}if(r.tokenStack.length>0){const e=r.tokenStack[r.tokenStack.length-1];(e[1]||GC).call(r,void 0,e[0])}for(n.position={start:UC(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:UC(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},u=-1;++u<t.transforms.length;)n=t.transforms[u](n)||n;return n}function i(e,t,n){let r,i,o,a,s=t-1,l=-1,c=!1;for(;++s<=n;){const t=e[s];if("listUnordered"===t[1].type||"listOrdered"===t[1].type||"blockQuote"===t[1].type?("enter"===t[0]?l++:l--,a=void 0):"lineEndingBlank"===t[1].type?"enter"===t[0]&&(!r||a||l||o||(o=s),a=void 0):"linePrefix"===t[1].type||"listItemValue"===t[1].type||"listItemMarker"===t[1].type||"listItemPrefix"===t[1].type||"listItemPrefixWhitespace"===t[1].type||(a=void 0),!l&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===l&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(r){let a=s;for(i=void 0;a--;){const t=e[a];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;i&&(e[i][1].type="lineEndingBlank",c=!0),t[1].type="lineEnding",i=a}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}o&&(!i||o<i)&&(r._spread=!0),r.end=Object.assign({},i?e[i][1].start:t[1].end),e.splice(i||s,0,["exit",r,t[2]]),s++,n++}"listItemPrefix"===t[1].type&&(r={type:"listItem",_spread:!1,start:Object.assign({},t[1].start)},e.splice(s,0,["enter",r,t[2]]),s++,n++,o=void 0,a=!0)}}return e[t][1]._spread=c,n}function o(e,t){n[e]=t}function a(e){return n[e]}function s(e,t){return n;function n(n){c.call(this,e(n),n),t&&t.call(this,n)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(e,t,n){return this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n]),e.position={start:UC(t.start)},e}function u(e){return t;function t(t){e&&e.call(this,t),p.call(this,t)}}function p(e,t){const n=this.stack.pop(),r=this.tokenStack.pop();if(!r)throw new Error("Cannot close `"+e.type+"` ("+Sk({start:e.start,end:e.end})+"): its not open");if(r[0].type!==e.type)if(t)t.call(this,e,r[0]);else{(r[1]||GC).call(this,e,r[0])}return n.position.end=UC(e.end),n}function d(){return oS(this.stack.pop())}function h(){o("expectingFirstListItemValue",!0)}function f(e){if(a("expectingFirstListItemValue")){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),o("expectingFirstListItemValue")}}function m(){const e=this.resume();this.stack[this.stack.length-1].lang=e}function g(){const e=this.resume();this.stack[this.stack.length-1].meta=e}function v(){a("flowCodeInside")||(this.buffer(),o("flowCodeInside",!0))}function y(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),o("flowCodeInside")}function b(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function w(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=lC(this.sliceSerialize(e)).toLowerCase()}function x(){const e=this.resume();this.stack[this.stack.length-1].title=e}function k(){const e=this.resume();this.stack[this.stack.length-1].url=e}function S(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}}function C(){o("setextHeadingSlurpLineEnding",!0)}function E(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).charCodeAt(0)?1:2}function T(){o("setextHeadingSlurpLineEnding")}function _(e){const t=this.stack[this.stack.length-1];let n=t.children[t.children.length-1];n&&"text"===n.type||(n=se(),n.position={start:UC(e.start)},t.children.push(n)),this.stack.push(n)}function A(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=UC(e.end)}function O(e){const n=this.stack[this.stack.length-1];if(a("atHardBreak")){return n.children[n.children.length-1].position.end=UC(e.end),void o("atHardBreak")}!a("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(n.type)&&(_.call(this,e),A.call(this,e))}function N(){o("atHardBreak",!0)}function M(){const e=this.resume();this.stack[this.stack.length-1].value=e}function P(){const e=this.resume();this.stack[this.stack.length-1].value=e}function D(){const e=this.resume();this.stack[this.stack.length-1].value=e}function L(){const e=this.stack[this.stack.length-1];if(a("inReference")){const t=a("referenceType")||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;o("referenceType")}function R(){const e=this.stack[this.stack.length-1];if(a("inReference")){const t=a("referenceType")||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;o("referenceType")}function I(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=zC(t),n.identifier=lC(t).toLowerCase()}function B(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(o("inReference",!0),"link"===n.type){const t=e.children;n.children=t}else n.alt=t}function j(){const e=this.resume();this.stack[this.stack.length-1].url=e}function F(){const e=this.resume();this.stack[this.stack.length-1].title=e}function z(){o("inReference")}function H(){o("referenceType","collapsed")}function q(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=lC(this.sliceSerialize(e)).toLowerCase(),o("referenceType","full")}function V(e){o("characterReferenceType",e.type)}function U(e){const t=this.sliceSerialize(e),n=a("characterReferenceType");let r;if(n)r=jC(t,"characterReferenceMarkerNumeric"===n?10:16),o("characterReferenceType");else{r=QS(t)}const i=this.stack.pop();i.value+=r,i.position.end=UC(e.end)}function W(e){A.call(this,e);this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function $(e){A.call(this,e);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function G(){return{type:"blockquote",children:[]}}function X(){return{type:"code",lang:null,meta:null,value:""}}function Y(){return{type:"inlineCode",value:""}}function Z(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function K(){return{type:"emphasis",children:[]}}function J(){return{type:"heading",depth:void 0,children:[]}}function Q(){return{type:"break"}}function ee(){return{type:"html",value:""}}function te(){return{type:"image",title:null,url:"",alt:null}}function ne(){return{type:"link",title:null,url:"",children:[]}}function re(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function ie(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function oe(){return{type:"paragraph",children:[]}}function ae(){return{type:"strong",children:[]}}function se(){return{type:"text",value:""}}function le(){return{type:"thematicBreak"}}}(n)(BC(LC(n).document().write(IC()(e,t,!0))))};function UC(e){return{line:e.line,column:e.column,offset:e.offset}}function WC(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?WC(e,r):$C(e,r)}}function $C(e,t){let n;for(n in t)if(qC.call(t,n))if("canContainEols"===n){const r=t[n];r&&e[n].push(...r)}else if("transforms"===n){const r=t[n];r&&e[n].push(...r)}else if("enter"===n||"exit"===n){const r=t[n];r&&Object.assign(e[n],r)}}function GC(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Sk({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Sk({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Sk({start:t.start,end:t.end})+") is still open")}var XC=function(e){Object.assign(this,{Parser:t=>{const n=this.data("settings");return VC(t,Object.assign({},n,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})};function YC(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let a="";if(37===o&&vS(e.charCodeAt(n+1))&&vS(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const t=e.charCodeAt(n+1);o<56320&&t>56319&&t<57344?(a=String.fromCharCode(o,t),i=1):a=""}else a=String.fromCharCode(o);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function ZC(e){const t=[];let n=-1;for(;++n<e.footnoteOrder.length;){const r=e.footnoteById[e.footnoteOrder[n]];if(!r)continue;const i=e.all(r),o=String(r.identifier).toUpperCase(),a=YC(o.toLowerCase());let s=0;const l=[];for(;++s<=e.footnoteCounts[o];){const t={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+a+(s>1?"-"+s:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:""}]};s>1&&t.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(s)}]}),l.length>0&&l.push({type:"text",value:" "}),l.push(t)}const c=i[i.length-1];if(c&&"element"===c.type&&"p"===c.tagName){const e=c.children[c.children.length-1];e&&"text"===e.type?e.value+=" ":c.children.push({type:"text",value:" "}),c.children.push(...l)}else i.push(...l);const u={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+a},children:e.wrap(i,!0)};e.patch(r,u),t.push(u)}if(0!==t.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:e.footnoteLabel}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(t,!0)},{type:"text",value:"\n"}]}}const KC=function(e){if(null==e)return QC;if("string"==typeof e)return function(e){return JC(t);function t(t){return t&&t.type===e}}(e);if("object"==typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=KC(e[n]);return JC(r);function r(...e){let n=-1;for(;++n<t.length;)if(t[n].call(this,...e))return!0;return!1}}(e):function(e){return JC(t);function t(t){let n;for(n in e)if(t[n]!==e[n])return!1;return!0}}(e);if("function"==typeof e)return JC(e);throw new Error("Expected function, string, or object as test")};function JC(e){return function(t,...n){return Boolean(t&&"object"==typeof t&&"type"in t&&Boolean(e.call(this,t,...n)))}}function QC(){return!0}const eE=function(e,t,n,r){"function"==typeof t&&"function"!=typeof n&&(r=n,n=t,t=null);const i=KC(t),o=r?-1:1;!function e(a,s,l){const c=a&&"object"==typeof a?a:{};if("string"==typeof c.type){const e="string"==typeof c.tagName?c.tagName:"string"==typeof c.name?c.name:void 0;Object.defineProperty(u,"name",{value:"node ("+a.type+(e?"<"+e+">":"")+")"})}return u;function u(){let c,u,p,d=[];if((!t||i(a,s,l[l.length-1]||null))&&(d=function(e){return Array.isArray(e)?e:"number"==typeof e?[true,e]:[e]}(n(a,l)),false===d[0]))return d;if(a.children&&"skip"!==d[0])for(u=(r?a.children.length:-1)+o,p=l.concat(a);u>-1&&u<a.children.length;){if(c=e(a.children[u],u,p)(),false===c[0])return c;u="number"==typeof c[1]?c[1]:u+o}return d}}(e,void 0,[])()};const tE=function(e,t,n,r){"function"==typeof t&&"function"!=typeof n&&(r=n,n=t,t=null),eE(e,t,(function(e,t){const r=t[t.length-1];return n(e,r?r.children.indexOf(e):null,r)}),r)},nE=iE("start"),rE=iE("end");function iE(e){return function(t){const n=t&&t.position&&t.position[e]||{};return{line:n.line||null,column:n.column||null,offset:n.offset>-1?n.offset:null}}}const oE={}.hasOwnProperty;function aE(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return tE(e,"definition",(e=>{const n=sE(e.identifier);n&&!oE.call(t,n)&&(t[n]=e)})),function(e){const n=sE(e);return n&&oE.call(t,n)?t[n]:null}}function sE(e){return String(e||"").toUpperCase()}function lE(e,t){const n=String(t.identifier).toUpperCase(),r=YC(n.toLowerCase()),i=e.footnoteOrder.indexOf(n);let o;-1===i?(e.footnoteOrder.push(n),e.footnoteCounts[n]=1,o=e.footnoteOrder.length):(e.footnoteCounts[n]++,o=i+1);const a=e.footnoteCounts[n],s={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,s);const l={type:"element",tagName:"sup",properties:{},children:[s]};return e.patch(t,l),e.applyData(t,l)}function cE(e,t){const n=t.referenceType;let r="]";if("collapsed"===n?r+="[]":"full"===n&&(r+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return{type:"text",value:"!["+t.alt+r};const i=e.all(t),o=i[0];o&&"text"===o.type?o.value="["+o.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&"text"===a.type?a.value+=r:i.push({type:"text",value:r}),i}function uE(e){const t=e.spread;return null==t?e.children.length>1:t}const pE=9,dE=32;function hE(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(fE(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(fE(t.slice(i),i>0,!1)),o.join("")}function fE(e,t,n){let r=0,i=e.length;if(t){let t=e.codePointAt(r);for(;t===pE||t===dE;)r++,t=e.codePointAt(r)}if(n){let t=e.codePointAt(i-1);for(;t===pE||t===dE;)i--,t=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}const mE={blockquote:function(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]},code:function(e,t){const n=t.value?t.value+"\n":"",r=t.lang?t.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,i={};r&&(i.className=["language-"+r]);let o={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o},delete:function(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:lE,footnote:function(e,t){const n=e.footnoteById;let r=1;for(;r in n;)r++;const i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:t.children}],position:t.position},lE(e,{type:"footnoteReference",identifier:i,position:t.position})},heading:function(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.dangerous){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}return null},imageReference:function(e,t){const n=e.definition(t.identifier);if(!n)return cE(e,t);const r={src:YC(n.url||""),alt:t.alt};null!==n.title&&void 0!==n.title&&(r.title=n.title);const i={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,i),e.applyData(t,i)},image:function(e,t){const n={src:YC(t.url)};null!==t.alt&&void 0!==t.alt&&(n.alt=t.alt),null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)},inlineCode:function(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)},linkReference:function(e,t){const n=e.definition(t.identifier);if(!n)return cE(e,t);const r={href:YC(n.url||"")};null!==n.title&&void 0!==n.title&&(r.title=n.title);const i={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)},link:function(e,t){const n={href:YC(t.url)};null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},listItem:function(e,t,n){const r=e.all(t),i=n?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=uE(n[r])}return t}(n):uE(t),o={},a=[];if("boolean"==typeof t.checked){const e=r[0];let n;e&&"element"===e.type&&"p"===e.tagName?n=e:(n={type:"element",tagName:"p",properties:{},children:[]},r.unshift(n)),n.children.length>0&&n.children.unshift({type:"text",value:" "}),n.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const e=r[s];(i||0!==s||"element"!==e.type||"p"!==e.tagName)&&a.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||i?a.push(e):a.push(...e.children)}const l=r[r.length-1];l&&(i||"element"!==l.type||"p"!==l.tagName)&&a.push({type:"text",value:"\n"});const c={type:"element",tagName:"li",properties:o,children:a};return e.patch(t,c),e.applyData(t,c)},list:function(e,t){const n={},r=e.all(t);let i=-1;for("number"==typeof t.start&&1!==t.start&&(n.start=t.start);++i<r.length;){const e=r[i];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)},paragraph:function(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const n={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],n),i.push(n)}if(n.length>0){const r={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=nE(t.children[1]),a=rE(t.children[t.children.length-1]);o.line&&a.line&&(r.position={start:o,end:a}),i.push(r)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)},tableCell:function(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){const r=n?n.children:void 0,i=0===(r?r.indexOf(t):1)?"th":"td",o=n&&"table"===n.type?n.align:void 0,a=o?o.length:t.children.length;let s=-1;const l=[];for(;++s<a;){const n=t.children[s],r={},a=o?o[s]:void 0;a&&(r.align=a);let c={type:"element",tagName:i,properties:r,children:[]};n&&(c.children=e.all(n),e.patch(n,c),c=e.applyData(t,c)),l.push(c)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)},text:function(e,t){const n={type:"text",value:hE(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:gE,yaml:gE,definition:gE,footnoteDefinition:gE};function gE(){return null}const vE={}.hasOwnProperty;function yE(e,t){const n=t||{},r=n.allowDangerousHtml||!1,i={};return a.dangerous=r,a.clobberPrefix=void 0===n.clobberPrefix||null===n.clobberPrefix?"user-content-":n.clobberPrefix,a.footnoteLabel=n.footnoteLabel||"Footnotes",a.footnoteLabelTagName=n.footnoteLabelTagName||"h2",a.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},a.footnoteBackLabel=n.footnoteBackLabel||"Back to content",a.unknownHandler=n.unknownHandler,a.passThrough=n.passThrough,a.handlers={...mE,...n.handlers},a.definition=aE(e),a.footnoteById=i,a.footnoteOrder=[],a.footnoteCounts={},a.patch=bE,a.applyData=wE,a.one=function(e,t){return xE(a,e,t)},a.all=function(e){return kE(a,e)},a.wrap=SE,a.augment=o,tE(e,"footnoteDefinition",(e=>{const t=String(e.identifier).toUpperCase();vE.call(i,t)||(i[t]=e)})),a;function o(e,t){if(e&&"data"in e&&e.data){const n=e.data;n.hName&&("element"!==t.type&&(t={type:"element",tagName:"",properties:{},children:[]}),t.tagName=n.hName),"element"===t.type&&n.hProperties&&(t.properties={...t.properties,...n.hProperties}),"children"in t&&t.children&&n.hChildren&&(t.children=n.hChildren)}if(e){const r="type"in e?e:{position:e};(n=r)&&n.position&&n.position.start&&n.position.start.line&&n.position.start.column&&n.position.end&&n.position.end.line&&n.position.end.column&&(t.position={start:nE(r),end:rE(r)})}var n;return t}function a(e,t,n,r){return Array.isArray(n)&&(r=n,n={}),o(e,{type:"element",tagName:t,properties:n||{},children:r||[]})}}function bE(e,t){var n;e.position&&(t.position={start:nE(n=e),end:rE(n)})}function wE(e,t){let n=t;if(e&&e.data){const t=e.data.hName,r=e.data.hChildren,i=e.data.hProperties;"string"==typeof t&&("element"===n.type?n.tagName=t:n={type:"element",tagName:t,properties:{},children:[]}),"element"===n.type&&i&&(n.properties={...n.properties,...i}),"children"in n&&n.children&&null!=r&&(n.children=r)}return n}function xE(e,t,n){const r=t&&t.type;if(!r)throw new Error("Expected node, got `"+t+"`");return vE.call(e.handlers,r)?e.handlers[r](e,t,n):e.passThrough&&e.passThrough.includes(r)?"children"in t?{...t,children:kE(e,t)}:t:e.unknownHandler?e.unknownHandler(e,t,n):function(e,t){const n=t.data||{},r=!("value"in t)||vE.call(n,"hProperties")||vE.call(n,"hChildren")?{type:"element",tagName:"div",properties:{},children:kE(e,t)}:{type:"text",value:t.value};return e.patch(t,r),e.applyData(t,r)}(e,t)}function kE(e,t){const n=[];if("children"in t){const r=t.children;let i=-1;for(;++i<r.length;){const o=xE(e,r[i],t);if(o){if(i&&"break"===r[i-1].type&&(Array.isArray(o)||"text"!==o.type||(o.value=o.value.replace(/^\s+/,"")),!Array.isArray(o)&&"element"===o.type)){const e=o.children[0];e&&"text"===e.type&&(e.value=e.value.replace(/^\s+/,""))}Array.isArray(o)?n.push(...o):n.push(o)}}}return n}function SE(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:"\n"});++r<e.length;)r&&n.push({type:"text",value:"\n"}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function CE(e,t){const n=yE(e,t),r=n.one(e,null),i=ZC(n);return i&&r.children.push({type:"text",value:"\n"},i),Array.isArray(r)?{type:"root",children:r}:r}var EE=function(e,t){return e&&"run"in e?function(e,t){return(n,r,i)=>{e.run(CE(n,t),r,(e=>{i(e)}))}}(e,t):function(e){return t=>CE(t,e)}(e||t)};class TE{constructor(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}}function _E(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new TE(n,r,t)}function AE(e){return e.toLowerCase()}TE.prototype.property={},TE.prototype.normal={},TE.prototype.space=null;class OE{constructor(e,t){this.property=e,this.attribute=t}}OE.prototype.space=null,OE.prototype.boolean=!1,OE.prototype.booleanish=!1,OE.prototype.overloadedBoolean=!1,OE.prototype.number=!1,OE.prototype.commaSeparated=!1,OE.prototype.spaceSeparated=!1,OE.prototype.commaOrSpaceSeparated=!1,OE.prototype.mustUseProperty=!1,OE.prototype.defined=!1;var NE={};e(NE,"boolean",(()=>PE)),e(NE,"booleanish",(()=>DE)),e(NE,"overloadedBoolean",(()=>LE)),e(NE,"number",(()=>RE)),e(NE,"spaceSeparated",(()=>IE)),e(NE,"commaSeparated",(()=>BE)),e(NE,"commaOrSpaceSeparated",(()=>jE));let ME=0;const PE=FE(),DE=FE(),LE=FE(),RE=FE(),IE=FE(),BE=FE(),jE=FE();function FE(){return 2**++ME}const zE=Object.keys(NE);class HE extends OE{constructor(e,t,n,r){let i=-1;if(super(e,t),qE(this,"space",r),"number"==typeof n)for(;++i<zE.length;){const e=zE[i];qE(this,zE[i],(n&NE[e])===NE[e])}}}function qE(e,t,n){n&&(e[t]=n)}HE.prototype.defined=!0;const VE={}.hasOwnProperty;function UE(e){const t={},n={};let r;for(r in e.properties)if(VE.call(e.properties,r)){const i=e.properties[r],o=new HE(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[AE(r)]=r,n[AE(o.attribute)]=r}return new TE(t,n,e.space)}const WE=UE({space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase(),properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),$E=UE({space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase(),properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function GE(e,t){return t in e?e[t]:t}function XE(e,t){return GE(e,t.toLowerCase())}const YE=UE({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:XE,properties:{xmlns:null,xmlnsXLink:null}}),ZE=UE({transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase(),properties:{ariaActiveDescendant:null,ariaAtomic:DE,ariaAutoComplete:null,ariaBusy:DE,ariaChecked:DE,ariaColCount:RE,ariaColIndex:RE,ariaColSpan:RE,ariaControls:IE,ariaCurrent:null,ariaDescribedBy:IE,ariaDetails:null,ariaDisabled:DE,ariaDropEffect:IE,ariaErrorMessage:null,ariaExpanded:DE,ariaFlowTo:IE,ariaGrabbed:DE,ariaHasPopup:null,ariaHidden:DE,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:IE,ariaLevel:RE,ariaLive:null,ariaModal:DE,ariaMultiLine:DE,ariaMultiSelectable:DE,ariaOrientation:null,ariaOwns:IE,ariaPlaceholder:null,ariaPosInSet:RE,ariaPressed:DE,ariaReadOnly:DE,ariaRelevant:null,ariaRequired:DE,ariaRoleDescription:IE,ariaRowCount:RE,ariaRowIndex:RE,ariaRowSpan:RE,ariaSelected:DE,ariaSetSize:RE,ariaSort:null,ariaValueMax:RE,ariaValueMin:RE,ariaValueNow:RE,ariaValueText:null,role:null}}),KE=UE({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:XE,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:BE,acceptCharset:IE,accessKey:IE,action:null,allow:null,allowFullScreen:PE,allowPaymentRequest:PE,allowUserMedia:PE,alt:null,as:null,async:PE,autoCapitalize:null,autoComplete:IE,autoFocus:PE,autoPlay:PE,capture:PE,charSet:null,checked:PE,cite:null,className:IE,cols:RE,colSpan:null,content:null,contentEditable:DE,controls:PE,controlsList:IE,coords:RE|BE,crossOrigin:null,data:null,dateTime:null,decoding:null,default:PE,defer:PE,dir:null,dirName:null,disabled:PE,download:LE,draggable:DE,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:PE,formTarget:null,headers:IE,height:RE,hidden:PE,high:RE,href:null,hrefLang:null,htmlFor:IE,httpEquiv:IE,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:PE,itemId:null,itemProp:IE,itemRef:IE,itemScope:PE,itemType:IE,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:PE,low:RE,manifest:null,max:null,maxLength:RE,media:null,method:null,min:null,minLength:RE,multiple:PE,muted:PE,name:null,nonce:null,noModule:PE,noValidate:PE,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:PE,optimum:RE,pattern:null,ping:IE,placeholder:null,playsInline:PE,poster:null,preload:null,readOnly:PE,referrerPolicy:null,rel:IE,required:PE,reversed:PE,rows:RE,rowSpan:RE,sandbox:IE,scope:null,scoped:PE,seamless:PE,selected:PE,shape:null,size:RE,sizes:null,slot:null,span:RE,spellCheck:DE,src:null,srcDoc:null,srcLang:null,srcSet:null,start:RE,step:null,style:null,tabIndex:RE,target:null,title:null,translate:null,type:null,typeMustMatch:PE,useMap:null,value:DE,width:RE,wrap:null,align:null,aLink:null,archive:IE,axis:null,background:null,bgColor:null,border:RE,borderColor:null,bottomMargin:RE,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:PE,declare:PE,event:null,face:null,frame:null,frameBorder:null,hSpace:RE,leftMargin:RE,link:null,longDesc:null,lowSrc:null,marginHeight:RE,marginWidth:RE,noResize:PE,noHref:PE,noShade:PE,noWrap:PE,object:null,profile:null,prompt:null,rev:null,rightMargin:RE,rules:null,scheme:null,scrolling:DE,standby:null,summary:null,text:null,topMargin:RE,valueType:null,version:null,vAlign:null,vLink:null,vSpace:RE,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:PE,disableRemotePlayback:PE,prefix:null,property:null,results:RE,security:null,unselectable:null}}),JE=UE({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:GE,properties:{about:jE,accentHeight:RE,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:RE,amplitude:RE,arabicForm:null,ascent:RE,attributeName:null,attributeType:null,azimuth:RE,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:RE,by:null,calcMode:null,capHeight:RE,className:IE,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:RE,diffuseConstant:RE,direction:null,display:null,dur:null,divisor:RE,dominantBaseline:null,download:PE,dx:null,dy:null,edgeMode:null,editable:null,elevation:RE,enableBackground:null,end:null,event:null,exponent:RE,externalResourcesRequired:null,fill:null,fillOpacity:RE,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:BE,g2:BE,glyphName:BE,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:RE,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:RE,horizOriginX:RE,horizOriginY:RE,id:null,ideographic:RE,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:RE,k:RE,k1:RE,k2:RE,k3:RE,k4:RE,kernelMatrix:jE,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:RE,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:RE,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:RE,overlineThickness:RE,paintOrder:null,panose1:null,path:null,pathLength:RE,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:IE,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:RE,pointsAtY:RE,pointsAtZ:RE,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:jE,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:jE,rev:jE,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:jE,requiredFeatures:jE,requiredFonts:jE,requiredFormats:jE,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:RE,specularExponent:RE,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:RE,strikethroughThickness:RE,string:null,stroke:null,strokeDashArray:jE,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:RE,strokeOpacity:RE,strokeWidth:null,style:null,surfaceScale:RE,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:jE,tabIndex:RE,tableValues:null,target:null,targetX:RE,targetY:RE,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:jE,to:null,transform:null,u1:null,u2:null,underlinePosition:RE,underlineThickness:RE,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:RE,values:null,vAlphabetic:RE,vMathematical:RE,vectorEffect:null,vHanging:RE,vIdeographic:RE,version:null,vertAdvY:RE,vertOriginX:RE,vertOriginY:RE,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:RE,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),QE=/^data[-\w.:]+$/i,eT=/-[a-z]/g,tT=/[A-Z]/g;function nT(e,t){const n=AE(t);let r=t,i=OE;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&QE.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(eT,iT);r="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!eT.test(e)){let n=e.replace(tT,rT);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}i=HE}return new i(r,t)}function rT(e){return"-"+e.toLowerCase()}function iT(e){return e.charAt(1).toUpperCase()}const oT={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},aT=_E([$E,WE,YE,ZE,KE],"html"),sT=_E([$E,WE,YE,ZE,JE],"svg");function lT(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{tE(t,"element",((t,n,r)=>{const i=r;let o;if(e.allowedElements?o=!e.allowedElements.includes(t.tagName):e.disallowedElements&&(o=e.disallowedElements.includes(t.tagName)),!o&&e.allowElement&&"number"==typeof n&&(o=!e.allowElement(t,n,i)),o&&"number"==typeof n)return e.unwrapDisallowed&&t.children?i.children.splice(n,1,...t.children):i.children.splice(n,1),n}))}}l=o("acw62");var cT={};function uT(e){const t=e&&"object"==typeof e&&"text"===e.type?e.value||"":e;return"string"==typeof t&&""===t.replace(/[ \t\n\f\r]/g,"")}function pT(e,t){const n=t||{};return(""===e[e.length-1]?[...e,""]:e).join((n.padRight?" ":"")+","+(!1===n.padLeft?"":" ")).trim()}cT=o("grs8m");var dT,hT={},fT=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,mT=/\n/g,gT=/^\s*/,vT=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,yT=/^:\s*/,bT=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,wT=/^[;\s]*/,xT=/^\s+|\s+$/g,kT="";function ST(e){return e?e.replace(xT,kT):kT}function CT(e,t){var n,r=null;if(!e||"string"!=typeof e)return r;for(var i,o,a=dT(e),s="function"==typeof t,l=0,c=a.length;l<c;l++)i=(n=a[l]).property,o=n.value,s?t(i,o,n):o&&(r||(r={}),r[i]=o);return r}dT=function(e,t){if("string"!=typeof e)throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(e){var t=e.match(mT);t&&(n+=t.length);var i=e.lastIndexOf("\n");r=~i?e.length-i:r+e.length}function o(){var e={line:n,column:r};return function(t){return t.position=new a(e),u(),t}}function a(e){this.start=e,this.end={line:n,column:r},this.source=t.source}a.prototype.content=e;var s=[];function l(i){var o=new Error(t.source+":"+n+":"+r+": "+i);if(o.reason=i,o.filename=t.source,o.line=n,o.column=r,o.source=e,!t.silent)throw o;s.push(o)}function c(t){var n=t.exec(e);if(n){var r=n[0];return i(r),e=e.slice(r.length),n}}function u(){c(gT)}function p(e){var t;for(e=e||[];t=d();)!1!==t&&e.push(t);return e}function d(){var t=o();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;kT!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,kT===e.charAt(n-1))return l("End of comment missing");var a=e.slice(2,n-2);return r+=2,i(a),e=e.slice(n),r+=2,t({type:"comment",comment:a})}}function h(){var e=o(),t=c(vT);if(t){if(d(),!c(yT))return l("property missing ':'");var n=c(bT),r=e({type:"declaration",property:ST(t[0].replace(fT,kT)),value:n?ST(n[0].replace(fT,kT)):kT});return c(wT),r}}return u(),function(){var e,t=[];for(p(t);e=h();)!1!==e&&(t.push(e),p(t));return t}()},(hT=CT).default=CT;var ET=t(hT);const TT=["http","https","mailto","tel"];function _T(e){const t=(e||"").trim(),n=t.charAt(0);if("#"===n||"/"===n)return t;const r=t.indexOf(":");if(-1===r)return t;let i=-1;for(;++i<TT.length;){const e=TT[i];if(r===e.length&&t.slice(0,e.length).toLowerCase()===e)return t}return i=t.indexOf("?"),-1!==i&&r>i?t:(i=t.indexOf("#"),-1!==i&&r>i?t:"javascript:void(0)")}const AT={}.hasOwnProperty,OT=new Set(["table","thead","tbody","tfoot","tr"]);function NT(e,t){const n=[];let r,i=-1;for(;++i<t.children.length;)r=t.children[i],"element"===r.type?n.push(MT(e,r,i,t)):"text"===r.type?"element"===t.type&&OT.has(t.tagName)&&uT(r)||n.push(r.value):"raw"!==r.type||e.options.skipHtml||n.push(r.value);return n}function MT(e,n,r,i){const o=e.options,a=void 0===o.transformLinkUri?_T:o.transformLinkUri,s=e.schema,c=n.tagName,u={};let p,d=s;if("html"===s.space&&"svg"===c&&(d=sT,e.schema=d),n.properties)for(p in n.properties)AT.call(n.properties,p)&&DT(u,p,n.properties[p],e);"ol"!==c&&"ul"!==c||e.listDepth++;const h=NT(e,n);"ol"!==c&&"ul"!==c||e.listDepth--,e.schema=s;const f=n.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},m=o.components&&AT.call(o.components,c)?o.components[c]:c,g="string"==typeof m||m===t(l).Fragment;if(!t(cT).isValidElementType(m))throw new TypeError(`Component for name \`${c}\` not defined or is not renderable`);if(u.key=[c,f.start.line,f.start.column,r].join("-"),"a"===c&&o.linkTarget&&(u.target="function"==typeof o.linkTarget?o.linkTarget(String(u.href||""),n.children,"string"==typeof u.title?u.title:null):o.linkTarget),"a"===c&&a&&(u.href=a(String(u.href||""),n.children,"string"==typeof u.title?u.title:null)),g||"code"!==c||"element"!==i.type||"pre"===i.tagName||(u.inline=!0),g||"h1"!==c&&"h2"!==c&&"h3"!==c&&"h4"!==c&&"h5"!==c&&"h6"!==c||(u.level=Number.parseInt(c.charAt(1),10)),"img"===c&&o.transformImageUri&&(u.src=o.transformImageUri(String(u.src||""),String(u.alt||""),"string"==typeof u.title?u.title:null)),!g&&"li"===c&&"element"===i.type){const e=function(e){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if("element"===n.type&&"input"===n.tagName)return n}return null}(n);u.checked=e&&e.properties?Boolean(e.properties.checked):null,u.index=PT(i,n),u.ordered="ol"===i.tagName}var v;return g||"ol"!==c&&"ul"!==c||(u.ordered="ol"===c,u.depth=e.listDepth),"td"!==c&&"th"!==c||(u.align&&(u.style||(u.style={}),u.style.textAlign=u.align,delete u.align),g||(u.isHeader="th"===c)),g||"tr"!==c||"element"!==i.type||(u.isHeader=Boolean("thead"===i.tagName)),o.sourcePos&&(u["data-sourcepos"]=[(v=f).start.line,":",v.start.column,"-",v.end.line,":",v.end.column].map(String).join("")),!g&&o.rawSourcePos&&(u.sourcePosition=n.position),!g&&o.includeElementIndex&&(u.index=PT(i,n),u.siblingCount=PT(i)),g||(u.node=n),h.length>0?t(l).createElement(m,u,h):t(l).createElement(m,u)}function PT(e,t){let n=-1,r=0;for(;++n<e.children.length&&e.children[n]!==t;)"element"===e.children[n].type&&r++;return r}function DT(e,t,n,r){const i=nT(r.schema,t);let o=n;null!=o&&o==o&&(Array.isArray(o)&&(o=i.commaSeparated?pT(o):o.join(" ").trim()),"style"===i.property&&"string"==typeof o&&(o=function(e){const t={};try{ET(e,n)}catch{}return t;function n(e,n){const r="-ms-"===e.slice(0,4)?`ms-${e.slice(4)}`:e;t[r.replace(/-([a-z])/g,LT)]=n}}(o)),i.space&&i.property?e[AT.call(oT,i.property)?oT[i.property]:i.property]=o:i.attribute&&(e[i.attribute]=o))}function LT(e,t){return t.toUpperCase()}const RT={}.hasOwnProperty,IT={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function BT(e){for(const t in IT)if(RT.call(IT,t)&&RT.call(e,t)){const e=IT[t];console.warn(`[react-markdown] Warning: please ${e.to?`use \`${e.to}\` instead of`:"remove"} \`${t}\` (see <https://github.com/remarkjs/react-markdown/blob/main/changelog.md#${e.id}> for more info)`),delete IT[t]}const n=Zk().use(XC).use(e.remarkPlugins||[]).use(EE,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(lT,e),r=new Lk;"string"==typeof e.children?r.value=e.children:void 0!==e.children&&null!==e.children&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const i=n.runSync(n.parse(r),r);if("root"!==i.type)throw new TypeError("Expected a `root` node");let o=t(l).createElement(t(l).Fragment,{},NT({options:e,schema:aT,listDepth:0},i));return e.className&&(o=t(l).createElement("div",{className:e.className},o)),o}BT.propTypes={children:t(S).string,className:t(S).string,allowElement:t(S).func,allowedElements:t(S).arrayOf(t(S).string),disallowedElements:t(S).arrayOf(t(S).string),unwrapDisallowed:t(S).bool,remarkPlugins:t(S).arrayOf(t(S).oneOfType([t(S).object,t(S).func,t(S).arrayOf(t(S).oneOfType([t(S).bool,t(S).string,t(S).object,t(S).func,t(S).arrayOf(t(S).any)]))])),rehypePlugins:t(S).arrayOf(t(S).oneOfType([t(S).object,t(S).func,t(S).arrayOf(t(S).oneOfType([t(S).bool,t(S).string,t(S).object,t(S).func,t(S).arrayOf(t(S).any)]))])),sourcePos:t(S).bool,rawSourcePos:t(S).bool,skipHtml:t(S).bool,includeElementIndex:t(S).bool,transformLinkUri:t(S).oneOfType([t(S).func,t(S).bool]),linkTarget:t(S).oneOfType([t(S).func,t(S).string]),transformImageUri:t(S).func,components:t(S).object};class jT extends l.Component{constructor(e){super(e),this.state={}}getAnnoBody=()=>Array.isArray(this.props.selectedAnnotation.body)&&this.props.selectedAnnotation.body.length>0&&this.props.selectedAnnotation.body.filter((e=>"TextualBody"===e.type&&"commenting"===e.purpose))[0]?this.props.selectedAnnotation.body.filter((e=>"TextualBody"===e.type&&"commenting"===e.purpose))[0].value:"";render(){return(0,a.jsx)("div",{className:"anno-full-view",children:(0,a.jsx)("div",{className:"text-rich",children:(0,a.jsx)("div",{className:"card w-96 bg-base-100 shadow-xl rich-card-editor",children:(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsx)("div",{className:"card-actions justify-end",children:(0,a.jsx)("button",{className:"btn btn-square btn-sm",onClick:()=>this.props.closeFullView(),children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})}),(0,a.jsx)("div",{className:"card-body over-hidden",children:(0,a.jsx)("div",{className:"markdown-body",children:(0,a.jsx)(BT,{children:this.getAnnoBody()})})})]})})})})}}var FT=jT;class zT extends l.Component{constructor(e){super(e),this.state={annotations:JSON.parse(localStorage.getItem(`${this.props.match.params.id}_annotations`))||[],selectedProject:JSON.parse(localStorage.getItem(this.props.match.params.id))||{},editingMode:!1,sidebarOpened:!0,updateAnnotation:!1,showProjectMetadatas:!1,showSettings:!1,settings:Xt(this.props.match.params.id)}}componentDidMount(){Bt(this.props.match.params.id)||this.props.history.push("/")}updateSettings=e=>{this.setState({settings:e});let t={...this.state.selectedProject};t.settings={...e},localStorage.setItem(this.state.selectedProject.id,JSON.stringify(t))};render(){return(0,a.jsxs)("div",{className:"project",children:[(0,a.jsx)(da,{settings:this.state.settings,selectedProject:this.state.selectedProject,showProjectMetadatas:()=>this.setState({showProjectMetadatas:!0}),editMode:this.props.editMode,changeSelectedAnno:e=>this.setState({selectedAnnotation:e}),showEditorSettings:()=>this.setState({showSettings:!0})}),this.state.showProjectMetadatas&&this.props.editMode?(0,a.jsx)(ua,{updateProject:e=>this.setState({selectedProject:e}),selectedProject:this.state.selectedProject,closeProjectMetadatas:()=>this.setState({showProjectMetadatas:!1})}):this.state.showProjectMetadatas&&!this.props.editMode&&(0,a.jsx)(la,{selectedProject:this.state.selectedProject,closeProjectMetadatas:()=>this.setState({showProjectMetadatas:!1})}),this.state.showSettings&&!this.props.editMode&&(0,a.jsx)(Cs,{settings:this.state.settings,updateSettings:e=>this.updateSettings(e),closeSettings:()=>this.setState({showSettings:!1})}),this.state.updateAnnotation&&(0,a.jsx)("div",{className:"text-rich",children:(0,a.jsx)(xk,{updateAnnos:e=>this.setState({annotations:e}),closeMdEditor:()=>this.setState({updateAnnotation:!1}),selectedAnnotation:this.state.selectedAnnotation,annoBody:this.state.selectedAnnotation.body,selectedProjectId:this.props.match.params.id,annotations:this.state.annotations,changeSelectedAnno:e=>this.setState({selectedAnnotation:e})})}),this.state.showFullAnnotationView&&(0,a.jsx)("div",{className:"text-rich",children:(0,a.jsx)(FT,{selectedAnnotation:this.state.selectedAnnotation,closeFullView:()=>this.setState({showFullAnnotationView:!1})})}),this.state.annotations.length>0&&this.props.editMode?(0,a.jsx)("div",{className:"sidebar-opened-w-modal",children:(0,a.jsx)(ys,{updateProject:e=>this.setState({selectedProject:e}),selectedProject:this.state.selectedProject,openRichEditor:e=>this.setState({updateAnnotation:!0,selectedAnnotation:e}),annotations:this.state.annotations,updateAnnos:e=>this.setState({annotations:e}),selectedAnno:this.state.selectedAnnotation,changeSelectedAnno:e=>this.setState({selectedAnnotation:e})})}):this.state.annotations.length>0&&!this.props.editMode&&this.state.settings.sidebarEnabled&&(0,a.jsx)("div",{className:"sidebar-opened-w-modal",children:this.props.editMode?(0,a.jsx)(ys,{updateProject:e=>this.setState({selectedProject:e}),selectedProject:this.state.selectedProject,openRichEditor:e=>this.setState({updateAnnotation:!0,selectedAnnotation:e}),annotations:this.state.annotations,updateAnnos:e=>this.setState({annotations:e}),selectedAnno:this.state.selectedAnnotation,changeSelectedAnno:e=>this.setState({selectedAnnotation:e})}):(0,a.jsx)(ks,{selectedAnno:this.state.selectedAnnotation,changeSelectedAnno:e=>this.setState({selectedAnnotation:e}),editingMode:this.props.editMode,annotations:this.state.annotations,selectedProject:this.state.selectedProject,openFullAnnotationView:e=>this.setState({showFullAnnotationView:!0,selectedAnnotation:e})})}),(0,a.jsx)("div",{className:this.state.annotations.length>0&&this.state.settings.sidebarEnabled?"adno-viewer-rightbar-with-annos":"",children:(0,a.jsx)("div",{className:"col",children:(0,a.jsx)("div",{className:"card",children:this.props.editMode?(0,a.jsx)(aa,{annotations:this.state.annotations,updateAnnos:e=>this.setState({annotations:e}),selectedAnno:this.state.selectedAnnotation,openRichEditor:e=>this.setState({updateAnnotation:!0,selectedAnnotation:e}),changeSelectedAnno:e=>this.setState({selectedAnnotation:e})}):(0,a.jsx)(gs,{startbyfirstanno:this.state.settings.startbyfirstanno,showNavigator:this.state.settings.showNavigator,toolsbarOnFs:this.state.settings.toolsbarOnFs,showToolbar:this.state.settings.displayToolbar,rotation:this.state.settings.rotation,timerDelay:this.state.settings.delay,annos:this.state.annotations,selectedAnno:this.state.selectedAnnotation,selected_project:this.state.selectedProject,changeSelectedAnno:e=>this.setState({selectedAnnotation:e})})})})})]})}}var HT=fe(zT);class qT extends l.Component{constructor(e){super(e),this.state={isProjects:!1}}componentDidMount(){localStorage.getItem("adno_projects")||Rt("adno_projects",JSON.stringify([]))}loadMatomo=()=>{var e=document.createElement("script");e.innerHTML="\n            var _paq = window._paq = window._paq || [];\n            _paq.push(['trackPageView']);\n            _paq.push(['enableLinkTracking']);\n            (function () {\n                var u = 'https://stats.emf.fr/'\n                _paq.push(['setTrackerUrl', u + 'matomo.php'])\n                _paq.push(['setSiteId', '6'])\n                var d = document, g = d.createElement('script'), s = d.getElementsByTagName('script')[0];\n                g.async = true; \n                g.src = u + 'matomo.js';\n                s.parentNode.insertBefore(g, s)\n            })()\n            ",document.body.appendChild(e)};render(){return(0,a.jsx)(Le,{history:Je,children:(0,a.jsxs)(he,{children:[this.loadMatomo(),(0,a.jsx)(se,{exact:!0,path:"/new",children:(0,a.jsx)(na,{})}),(0,a.jsx)(se,{exact:!0,path:"/project/:id/edit",children:(0,a.jsx)(HT,{editMode:!0})}),(0,a.jsx)(se,{exact:!0,path:"/project/:id/view",children:(0,a.jsx)(HT,{editMode:!1})}),(0,a.jsx)(se,{exact:!0,path:"/search",children:(0,a.jsx)(Jt,{})}),(0,a.jsx)(se,{exact:!0,path:"/",children:(0,a.jsx)(ea,{})}),(0,a.jsx)(se,{children:(0,a.jsx)(ia,{})})]})})}}const VT=document.getElementById("app");t(s).render((0,a.jsx)(qT,{}),VT);
//# sourceMappingURL=index.f0a38212.js.map
